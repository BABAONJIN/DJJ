!function(){"use strict";var n=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")};function e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var t=function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n};var r=function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n};function o(n,e){return n(e={exports:{}},e.exports),e.exports}var i=o((function(n){function e(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?n.exports=e=function(n){return typeof n}:n.exports=e=function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e(t)}n.exports=e}));var a=function(n,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(n):e},c=o((function(n){function e(t){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},e(t)}n.exports=e})),u=o((function(n){function e(t,r){return n.exports=e=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},e(t,r)}n.exports=e}));var s=function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&u(n,e)};var f=function(n){if(Array.isArray(n))return n};var d=function(n,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var t=[],r=!0,o=!1,i=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(n){o=!0,i=n}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return t}};var l=function(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r};var p=function(n,e){if(n){if("string"==typeof n)return l(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(n,e):void 0}};var h=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var m=function(n,e){return f(n)||d(n,e)||p(n,e)||h()};var g=function(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=c(n)););return n},v=o((function(n){function e(t,r,o){return"undefined"!=typeof Reflect&&Reflect.get?n.exports=e=Reflect.get:n.exports=e=function(n,e,t){var r=g(n,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(t):o.value}},e(t,r,o||t)}n.exports=e}));var $=function(n){return-1!==Function.toString.call(n).indexOf("[native code]")};var y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}},b=o((function(n){function e(t,r,o){return y()?n.exports=e=Reflect.construct:n.exports=e=function(n,e,t){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(n,r));return t&&u(o,t.prototype),o},e.apply(null,arguments)}n.exports=e})),w=o((function(n){function e(t){var r="function"==typeof Map?new Map:void 0;return n.exports=e=function(n){if(null===n||!$(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(n))return r.get(n);r.set(n,e)}function e(){return b(n,arguments,c(this).constructor)}return e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),u(e,n)},e(t)}n.exports=e}));var _=function(n){if(Array.isArray(n))return l(n)};var x=function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)};var k=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var E=function(n){return _(n)||x(n)||p(n)||k()};function O(){}var C=function(n){return n};function R(n){return n()}function S(){return Object.create(null)}function N(n){n.forEach(R)}function D(n){return"function"==typeof n}function M(n,e){return n!=n?e==e:n!==e||n&&"object"===i(n)||"function"==typeof n}function P(n){if(null==n)return O;for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o=n.subscribe.apply(n,t);return o.unsubscribe?function(){return o.unsubscribe()}:o}function A(n){var e;return P(n,(function(n){return e=n}))(),e}function j(n,e,t){n.$$.on_destroy.push(P(e,t))}function T(n,e,t,r){if(n){var o=L(n,e,t,r);return n[0](o)}}function L(n,e,t,r){return n[1]&&r?function(n,e){for(var t in e)n[t]=e[t];return n}(t.ctx.slice(),n[1](r(e))):t.ctx}function I(n,e,t,r){if(n[2]&&r){var o=n[2](r(t));if(void 0===e.dirty)return o;if("object"===i(o)){for(var a=[],c=Math.max(e.dirty.length,o.length),u=0;u<c;u+=1)a[u]=e.dirty[u]|o[u];return a}return e.dirty|o}return e.dirty}function U(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return n.set(t),e}var z="undefined"!=typeof window,B=z?function(){return window.performance.now()}:function(){return Date.now()},H=z?function(n){return requestAnimationFrame(n)}:O,q=new Set;function K(n){q.forEach((function(e){e.c(n)||(q.delete(e),e.f())})),0!==q.size&&H(K)}function G(n,e){n.appendChild(e)}function F(n,e,t){n.insertBefore(e,t||null)}function W(n){n.parentNode.removeChild(n)}function Y(n,e){for(var t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function V(n){return document.createElement(n)}function Z(n){return document.createTextNode(n)}function J(){return Z(" ")}function Q(){return Z("")}function X(n,e,t,r){return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}}function nn(n){return function(e){return e.preventDefault(),n.call(this,e)}}function en(n,e,t){null==t?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function tn(n){return Array.from(n.childNodes)}function rn(n,e){e=""+e,n.data!==e&&(n.data=e)}function on(n,e){(null!=e||n.value)&&(n.value=e)}function an(n,e,t,r){n.style.setProperty(e,t,r?"important":"")}function cn(n,e,t){n.classList[t?"add":"remove"](e)}var un,sn=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n(this,e),this.e=V("div"),this.a=r,this.u(t)}return t(e,[{key:"m",value:function(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=0;t<this.n.length;t+=1)F(n,this.n[t],e);this.t=n}},{key:"u",value:function(n){this.e.innerHTML=n,this.n=Array.from(this.e.childNodes)}},{key:"p",value:function(n){this.d(),this.u(n),this.m(this.t,this.a)}},{key:"d",value:function(){this.n.forEach(W)}}]),e}(),fn=new Set,dn=0;function ln(n){for(var e=5381,t=n.length;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function pn(n,e,t,r,o,i,a){for(var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=16.666/r,s="{\n",f=0;f<=1;f+=u){var d=e+(t-e)*i(f);s+=100*f+"%{".concat(a(d,1-d),"}\n")}var l=s+"100% {".concat(a(t,1-t),"}\n}"),p="__svelte_".concat(ln(l),"_").concat(c),h=n.ownerDocument;fn.add(h);var m=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(V("style")).sheet),g=h.__svelte_rules||(h.__svelte_rules={});g[p]||(g[p]=!0,m.insertRule("@keyframes ".concat(p," ").concat(l),m.cssRules.length));var v=n.style.animation||"";return n.style.animation="".concat(v?"".concat(v,", "):"").concat(p," ").concat(r,"ms linear ").concat(o,"ms 1 both"),dn+=1,p}function hn(n,e){var t=(n.style.animation||"").split(", "),r=t.filter(e?function(n){return n.indexOf(e)<0}:function(n){return-1===n.indexOf("__svelte")}),o=t.length-r.length;o&&(n.style.animation=r.join(", "),(dn-=o)||H((function(){dn||(fn.forEach((function(n){for(var e=n.__svelte_stylesheet,t=e.cssRules.length;t--;)e.deleteRule(t);n.__svelte_rules={}})),fn.clear())})))}function mn(n){un=n}function gn(){if(!un)throw new Error("Function called outside component initialization");return un}function vn(n){gn().$$.on_mount.push(n)}function $n(n,e){gn().$$.context.set(n,e)}function yn(n){return gn().$$.context.get(n)}function bn(n,e){var t=n.$$.callbacks[e.type];t&&t.slice().forEach((function(n){return n(e)}))}var wn=[],_n=[],xn=[],kn=[],En=Promise.resolve(),On=!1;function Cn(){On||(On=!0,En.then(An))}function Rn(){return Cn(),En}function Sn(n){xn.push(n)}function Nn(n){kn.push(n)}var Dn,Mn=!1,Pn=new Set;function An(){if(!Mn){Mn=!0;do{for(var n=0;n<wn.length;n+=1){var e=wn[n];mn(e),jn(e.$$)}for(wn.length=0;_n.length;)_n.pop()();for(var t=0;t<xn.length;t+=1){var r=xn[t];Pn.has(r)||(Pn.add(r),r())}xn.length=0}while(wn.length);for(;kn.length;)kn.pop()();On=!1,Mn=!1,Pn.clear()}}function jn(n){if(null!==n.fragment){n.update(),N(n.before_update);var e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Sn)}}function Tn(n,e,t){var r,o,i;n.dispatchEvent((r="".concat(e?"intro":"outro").concat(t),(i=document.createEvent("CustomEvent")).initCustomEvent(r,!1,!1,o),i))}var Ln,In=new Set;function Un(){Ln={r:0,c:[],p:Ln}}function zn(){Ln.r||N(Ln.c),Ln=Ln.p}function Bn(n,e){n&&n.i&&(In.delete(n),n.i(e))}function Hn(n,e,t,r){if(n&&n.o){if(In.has(n))return;In.add(n),Ln.c.push((function(){In.delete(n),r&&(t&&n.d(1),r())})),n.o(e)}}var qn={duration:0};function Kn(n,e,t,r){var o=e(n,t),i=r?0:1,a=null,c=null,u=null;function s(){u&&hn(n,u)}function f(n,e){var t=n.b-i;return e*=Math.abs(t),{a:i,b:n.b,d:t,duration:e,start:n.start,end:n.start+e,group:n.group}}function d(e){var t,r=o||qn,d=r.delay,l=void 0===d?0:d,p=r.duration,h=void 0===p?300:p,m=r.easing,g=void 0===m?C:m,v=r.tick,$=void 0===v?O:v,y=r.css,b={start:B()+l,b:e};e||(b.group=Ln,Ln.r+=1),a?c=b:(y&&(s(),u=pn(n,i,e,h,l,g,y)),e&&$(0,1),a=f(b,h),Sn((function(){return Tn(n,e,"start")})),t=function(e){if(c&&e>c.start&&(a=f(c,h),c=null,Tn(n,a.b,"start"),y&&(s(),u=pn(n,i,a.b,a.duration,0,g,o.css))),a)if(e>=a.end)$(i=a.b,1-i),Tn(n,a.b,"end"),c||(a.b?s():--a.group.r||N(a.group.c)),a=null;else if(e>=a.start){var t=e-a.start;i=a.a+a.d*g(t/a.duration),$(i,1-i)}return!(!a&&!c)},0===q.size&&H(K),new Promise((function(n){q.add({c:t,f:n})})))}return{run:function(n){D(o)?(Dn||(Dn=Promise.resolve()).then((function(){Dn=null})),Dn).then((function(){o=o(),d(n)})):d(n)},end:function(){s(),a=c=null}}}var Gn="undefined"!=typeof window?window:global;function Fn(n,e,t){var r=n.$$.props[e];void 0!==r&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function Wn(n){n&&n.c()}function Yn(n,e,t){var r=n.$$,o=r.fragment,i=r.on_mount,a=r.on_destroy,c=r.after_update;o&&o.m(e,t),Sn((function(){var e=i.map(R).filter(D);a?a.push.apply(a,E(e)):N(e),n.$$.on_mount=[]})),c.forEach(Sn)}function Vn(n,e){var t=n.$$;null!==t.fragment&&(N(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Zn(n,e){-1===n.$$.dirty[0]&&(wn.push(n),Cn(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Jn(n,e,t,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[-1],c=un;mn(n);var u=e.props||{},s=n.$$={fragment:null,ctx:null,props:i,update:O,not_equal:o,bound:S(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:S(),dirty:a},f=!1;if(s.ctx=t?t(n,u,(function(e,t){var r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:t;return s.ctx&&o(s.ctx[e],s.ctx[e]=r)&&(s.bound[e]&&s.bound[e](r),f&&Zn(n,e)),t})):[],s.update(),f=!0,N(s.before_update),s.fragment=!!r&&r(s.ctx),e.target){if(e.hydrate){var d=tn(e.target);s.fragment&&s.fragment.l(d),d.forEach(W)}else s.fragment&&s.fragment.c();e.intro&&Bn(n.$$.fragment),Yn(n,e.target,e.anchor),An()}mn(c)}var Qn=function(){function e(){n(this,e)}return t(e,[{key:"$destroy",value:function(){Vn(this,1),this.$destroy=O}},{key:"$on",value:function(n,e){var t=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},{key:"$set",value:function(){}}]),e}(),Xn=o((function(n){var e=function(n){var e=Object.prototype,t=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function u(n,e,t,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(n,e,t){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(t.method=o,t.arg=i;;){var a=t.delegate;if(a){var c=b(a,t);if(c){if(c===f)continue;return c}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var u=s(n,e,t);if("normal"===u.type){if(r=t.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:t.done}}"throw"===u.type&&(r="completed",t.method="throw",t.arg=u.arg)}}}(n,t,a),i}function s(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(n){return{type:"throw",arg:n}}}n.wrap=u;var f={};function d(){}function l(){}function p(){}var h={};h[o]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(k([])));g&&g!==e&&t.call(g,o)&&(h=g);var v=p.prototype=d.prototype=Object.create(h);function $(n){["next","throw","return"].forEach((function(e){n[e]=function(n){return this._invoke(e,n)}}))}function y(n,e){var r;this._invoke=function(o,a){function c(){return new e((function(r,c){!function r(o,a,c,u){var f=s(n[o],n,a);if("throw"!==f.type){var d=f.arg,l=d.value;return l&&"object"===i(l)&&t.call(l,"__await")?e.resolve(l.__await).then((function(n){r("next",n,c,u)}),(function(n){r("throw",n,c,u)})):e.resolve(l).then((function(n){d.value=n,c(d)}),(function(n){return r("throw",n,c,u)}))}u(f.arg)}(o,a,r,c)}))}return r=r?r.then(c,c):c()}}function b(n,e){var t=n.iterator[e.method];if(void 0===t){if(e.delegate=null,"throw"===e.method){if(n.iterator.return&&(e.method="return",e.arg=void 0,b(n,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(t,n.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[n.resultName]=o.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function w(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2],e.afterLoc=n[3]),this.tryEntries.push(e)}function _(n){var e=n.completion||{};e.type="normal",delete e.arg,n.completion=e}function x(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(w,this),this.reset(!0)}function k(n){if(n){var e=n[o];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,i=function e(){for(;++r<n.length;)if(t.call(n,r))return e.value=n[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return l.prototype=v.constructor=p,p.constructor=l,p[c]=l.displayName="GeneratorFunction",n.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,p):(n.__proto__=p,c in n||(n[c]="GeneratorFunction")),n.prototype=Object.create(v),n},n.awrap=function(n){return{__await:n}},$(y.prototype),y.prototype[a]=function(){return this},n.AsyncIterator=y,n.async=function(e,t,r,o,i){void 0===i&&(i=Promise);var a=new y(u(e,t,r,o),i);return n.isGeneratorFunction(t)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},$(v),v[c]="Generator",v[o]=function(){return this},v.toString=function(){return"[object Generator]"},n.keys=function(n){var e=[];for(var t in n)e.push(t);return e.reverse(),function t(){for(;e.length;){var r=e.pop();if(r in n)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=k,x.prototype={constructor:x,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!n)for(var e in this)"t"===e.charAt(0)&&t.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function r(t,r){return a.type="throw",a.arg=n,e.next=t,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=t.call(i,"catchLoc"),u=t.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(n,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&t.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===n||"continue"===n)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=n,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),f},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===n)return this.complete(t.completion,t.afterLoc),_(t),f}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===n){var r=t.completion;if("throw"===r.type){var o=r.arg;_(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,t){return this.delegate={iterator:k(n),resultName:e,nextLoc:t},"next"===this.method&&(this.arg=void 0),f}},n}(n.exports);try{regeneratorRuntime=e}catch(n){Function("r","regeneratorRuntime = r")(e)}}));function ne(n,e,t,r,o,i,a){try{var c=n[i](a),u=c.value}catch(n){return void t(n)}c.done?e(u):Promise.resolve(u).then(r,o)}var ee=function(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(n){ne(i,r,o,a,c,"next",n)}function c(n){ne(i,r,o,a,c,"throw",n)}a(void 0)}))}};function te(n,e){for(;n;){if(e.tagName?n==e:n.matches&&n.matches(e))return n;n=n.parentNode}return null}function re(n,e){var t;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=this;t&&clearTimeout(t),t=setTimeout((function(){n.apply(a,o)}),e)}}function oe(n,e,t){var r=n&&n.querySelector("."+e.split(" ").join("."));return r||((r=document.createElement("div")).className=e,n&&n.appendChild(r),t&&t(r),r)}function ie(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"message",t=n.errors||n;return t&&t[0]?t[0][e]||"Unknown error.":""}function ae(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.95,r=Math.floor(6*n),o=6*n-r,i=t*(1-e),a=t*(1-o*e),c=t*(1-(1-o)*e),u=255,s=255,f=255;switch(r){case 0:u=t,s=c,f=i;break;case 1:u=a,s=t,f=i;break;case 2:u=i,s=t,f=c;break;case 3:u=i,s=a,f=t;break;case 4:u=c,s=i,f=t;break;case 5:u=t,s=i,f=a}return[Math.floor(255*u),Math.floor(255*s),Math.floor(255*f)]}function ce(n,e){return"array"==e?Array.isArray(n):"object"==e?"object"==i(n)&&null!==n:"undef"==e?null==n:i(n)==e}function ue(n){var e=document,t=n.replace(/\W/g,"_");if(!e.getElementById(t)){var r=e.createElement("script"),o=[t,n];r.id=o[0],r.src=o[1],e.getElementsByTagName("head")[0].appendChild(r)}}function se(n){return Object.keys(n).filter((function(e){return n[e]})).sort().map((function(n){return"has-mode-"+n})).join(" ")}function fe(n,e,t){var r=n.querySelectorAll(e);if(!t)return[].slice.call(r,0);for(var o=[],i=0;i<r.length;i++)o.push(t(r[i],i));return o}function de(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function le(n,e,t){var r=document.querySelector(n);r.className=r.className.replace(e,(function(n,e){return e+t}))}function pe(n){var e=document.querySelector(".main")||document.querySelector("body");if(!e)return setTimeout((function(){return pe(n)}),10);if("number"==typeof n)return e.scrollTop=n;if("string"==typeof n){var t=document.querySelector(n);return t?pe(t):setTimeout((function(){return pe(n)}),100)}if(n.href&&-1!=n.href.indexOf("#"))return location.hash=n.href.replace(/.*#/,"#"),pe(location.hash);if(n.tagName)return pe(n.offsetTop-30);if(n.preventDefault&&n.preventDefault(),n.target&&n.target.tagName)return pe(n.target.closest("[href]"));throw"Cannot scroll to "+n}function he(n,e){return"is-visible"===e?!n.hasAttribute("hidden"):("toggle"===e&&(e=n.hasAttribute("hidden")),e?n.removeAttribute("hidden"):n.setAttribute("hidden",""))}function me(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(0==n.length)return"#000";for(var t=0,r=0;r<n.length;r++)t=n.charCodeAt(r)+((t<<5)-t),t&=t;return"#"+ae(((t=Math.abs(t%e/e))+.618033988749)%1,.4,.7).map((function(n){return n.toString(16)})).join("")}function ge(n,e){return n&&n.tagName&&n.tagName.toLowerCase()===e||!1}function ve(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var e=16*Math.random()|0;return("x"==n?e:3&e|8).toString(16)}))}var $e=function(){function e(){n(this,e),this._on={},this._props={},this._reactiveProp={}}return t(e,[{key:"emit",value:function(n,e){var t=this._on[n];if(!t)return this;for(var r=0;r<t.length;r++)t[r][0](e);return this}},{key:"on",value:function(n,e){var t=e?null:new Promise((function(n){e=n})),r=this._on[n]||(this._on[n]=[]),o=[e];r.push(o);var i=function(){var n=r.indexOf(o);-1!=n&&r.splice(n,1)};return t?t.finally(i):i}},{key:"prop",value:function(n,e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};switch(this._props[e]=r,n){case"persist":return this._localStorageProp(e,t);case"ro":return this._readOnlyProp(e,t);case"rw":return this._updateableProp(e,t)}throw'Unknown prop type "'+n+'" for prop "'+e+'".'}},{key:"subscribe",value:function(n){return n(this),this.on("update",n)}},{key:"update",value:function(n){for(var e=this,t=Object.keys(n),r=t.length,o=0;o<t.length;o++){var i=t[o],a=this._props[i];if(a){var c=!1;this._reactiveProp.hasOwnProperty(i)&&(this._reactiveProp[i]!==n[i]&&(c=!0),this._reactiveProp[i]=n[i]),a.localStorage&&c&&this._localStorage(i,this._reactiveProp[i]),c||r--}}return r&&!this._updatedTid&&(this._updatedTid=setTimeout((function(){delete e._updatedTid,e.emit("update",e)}),1)),this}},{key:"_localStorage",value:function(n,e){var t="convos:"+(this._props[n].key||n);return 2==arguments.length?localStorage.setItem(t,JSON.stringify(e)):localStorage.hasOwnProperty(t)?JSON.parse(localStorage.getItem(t)):void 0}},{key:"_localStorageProp",value:function(n,e){var t=this._localStorage(n);this._updateableProp(n,ce(t,"undef")?e:t),this._props[n].localStorage=!0,ce(t,"undef")&&!this._props[n].lazy&&this._localStorage(n,e)}},{key:"_readOnlyProp",value:function(n,e){if(void 0===e)throw'Read-only attribute "'+n+'" cannot be undefined for '+this.constructor.name;var t="function"==typeof e?{get:e}:{value:e,writable:!1};Object.defineProperty(this,n,t)}},{key:"_updateableProp",value:function(n,e){var t=this;this._reactiveProp[n]=e,Object.defineProperty(this,n,{get:function(){return t._reactiveProp[n]}})}}]),e}();function ye(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var be=function(e){s(i,e);var r,o=(r=i,function(){var n,e=c(r);if(ye()){var t=c(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),(t=o.call(this)).prop("ro","api",e.api),t.prop("ro","defaultParams",e.defaultParams||{}),t.prop("ro","id",e.id),t.prop("ro","req",{body:null,headers:{}}),t.prop("ro","res",{body:{},headers:{}}),t.prop("rw","err",null),t.prop("rw","status","pending"),t}return t(i,[{key:"error",value:function(n,e){if(n)return this.update({err:Array.isArray(n)?n:[{message:n,source:e}],status:"error"});if(!this.err||!this.err.length)return"";var t=this.err[0],r=t.path&&t.path.match(/\w$/)&&t.path.split("/").pop();return r?r+": "+t.message:t.message}},{key:"perform",value:function(n){var e=this;return this._promise||(this._promise=new Promise((function(t){e.api.spec(e.id).then((function(r){if(!r)return t(e.error('Invalid operationId "'+e.id+'".',"spec"));e.update({status:"loading"});var o=e._paramsToRequest(r,n||e.defaultParams),i=m(o,2),a=i[0],c=i[1];return e.emit("start",c),ce(c.body,"object")&&"function"!=typeof c.body.has&&(c.body=JSON.stringify(c.body)),fetch(a,c)})).then((function(n){return Promise.all([n,n.json()])})).then((function(n){var r=m(n,2),o=r[0],i=r[1];delete e._promise,t(e.parse(o,i))})).catch((function(n){delete e._promise,t(e.error('Failed fetching operationId "'+e.id+'": '+n,"fetch"))}))})))}},{key:"is",value:function(n){return this.status==n}},{key:"parse",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.body;this.res.body=e||n,this.res.status=n.status||"201",n.headers&&(this.res.headers=n.headers);var t=null;return String(this.res.status).match(/^[23]/)||(t=e&&e.errors?e.errors:[{message:n.statusText||"Unknown error."}]),this.update({err:t,status:t?"error":"success"})}},{key:"reset",value:function(){return this.res.body={},this.res.headers={},this.res.status=0,this.update({err:null,status:"pending"})}},{key:"_extractValue",value:function(n,e){if(e.schema&&"form"==(n.tagName||"").toLowerCase())return Object.keys(e.schema.properties).reduce((function(e,t){var r=n[t];return r&&("checkbox"!=r.type||r.checked)?(e[t]=r.value,e):e}),{});if(n[e.name]&&n[e.name].tagName)return n[e.name].value;if(e.schema){var t={};return Object.keys(e.schema.properties).forEach((function(e){t[e]=n[e]})),t}return n[e.name]}},{key:"_hasProperty",value:function(n,e){return"body"==e.in||("formData"==e.in?n.formData.has(e.name):"form"==(n.tagName||"").toLowerCase()?!!n[e.name]:n.hasOwnProperty(e.name))}},{key:"_paramsToRequest",value:function(n,e){var t=this,r={headers:this.req.headers,method:n.method},o=new URL(n.url);return(n.parameters||[]).forEach((function(n){if(t._hasProperty(e,n)||n.required)if("path"==n.in){var i=new RegExp("(%7B|\\{)"+de(n.name)+"(%7D|\\})","i");o.pathname=o.pathname.replace(i,encodeURIComponent(t._extractValue(e,n)))}else if("query"==n.in)o.searchParams.set(n.name,t._extractValue(e,n));else if("formData"==n.in)delete r.headers["Content-Type"],r.body=e.formData;else if("body"==n.in)r.body=t._extractValue(e,n);else{if("header"!=n.in)throw"[Api] Parameter in:"+n.in+" is not supported.";r.header[n.name]=t._extractValue(e,n.name)}})),[o,r]}}]),i}($e),we=function(){function e(t){n(this,e),this.protocol=location.protocol,this.url=t}var r;return t(e,[{key:"operation",value:function(n,e){var t=new be({api:this,id:n,defaultParams:e});return t.req.headers={"Content-Type":"application/json"},t}},{key:"spec",value:(r=ee(Xn.mark((function n(e){var t,r,o=this;return Xn.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this._ops||!e){n.next=2;break}return n.abrupt("return",this._ops[e]);case 2:if(!this._spec){n.next=4;break}return n.abrupt("return",this._spec);case 4:return n.next=6,fetch(this.url);case 6:return t=n.sent,n.next=9,t.json();case 9:if(r=n.sent,this._ops={},this._spec=r,Object.keys(r.paths).forEach((function(n){Object.keys(r.paths[n]).forEach((function(e){var t=r.paths[n][e],i=t.operationId;i&&(t.method=e.toUpperCase(),t.url=o.protocol+"//"+r.host+r.basePath+n+".json",t.parameters=(t.parameters||[]).map((function(n){return o._resolveRef(n)})),o._ops[i]=t)}))})),!this._ops||!e){n.next=15;break}return n.abrupt("return",this._ops[e]);case 15:if(!this._spec){n.next=17;break}return n.abrupt("return",this._spec);case 17:case"end":return n.stop()}}),n,this)}))),function(n){return r.apply(this,arguments)})},{key:"_resolveRef",value:function(n){var e=this,t=n;if(n.$ref){var r=n.$ref.replace(/^#\//,"").split("/");for(t=this._spec;r.length;)t=t[r.shift()]}return ce(t,"object")&&Object.keys(t).forEach((function(n){t[n]=e._resolveRef(t[n])})),t}}]),e}(),_e=o((function(n,e){var t,r;t=function(n){var e=[],t=Object.keys,r={},o={},a=!0,c=/^(no-?highlight|plain|text)$/i,u=/\blang(?:uage)?-([\w-]+)\b/i,s=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,f="Could not find the language '{}', did you forget to load/include a language module?",d={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},l="of and for in not or if then".split(" ");function p(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(n){return n.nodeName.toLowerCase()}function m(n){return c.test(n)}function g(n){var e,t={},r=Array.prototype.slice.call(arguments,1);for(e in n)t[e]=n[e];return r.forEach((function(n){for(e in n)t[e]=n[e]})),t}function v(n){var e=[];return function n(t,r){for(var o=t.firstChild;o;o=o.nextSibling)3===o.nodeType?r+=o.nodeValue.length:1===o.nodeType&&(e.push({event:"start",offset:r,node:o}),r=n(o,r),h(o).match(/br|hr|img|input/)||e.push({event:"stop",offset:r,node:o}));return r}(n,0),e}function $(n){return n.variants&&!n.cached_variants&&(n.cached_variants=n.variants.map((function(e){return g(n,{variants:null},e)}))),n.cached_variants?n.cached_variants:function n(e){return!!e&&(e.endsWithParent||n(e.starts))}(n)?[g(n,{starts:n.starts?g(n.starts):null})]:Object.isFrozen(n)?[g(n)]:[n]}function y(n,e){return e?Number(e):(t=n,-1!=l.indexOf(t.toLowerCase())?0:1);var t}function b(n){function e(n){return n&&n.source||n}function r(t,r){return new RegExp(e(t),"m"+(n.case_insensitive?"i":"")+(r?"g":""))}function o(n){var t,o,i={},a=[],c={},u=1;function s(n,e){i[u]=n,a.push([n,e]),u+=function(n){return new RegExp(n.toString()+"|").exec("").length-1}(e)+1}for(var f=0;f<n.contains.length;f++)s(o=n.contains[f],o.beginKeywords?"\\.?(?:"+o.begin+")\\.?":o.begin);n.terminator_end&&s("end",n.terminator_end),n.illegal&&s("illegal",n.illegal);var d=a.map((function(n){return n[1]}));return t=r(function(n,t){for(var r=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,o=0,i="",a=0;a<n.length;a++){var c=o+=1,u=e(n[a]);for(a>0&&(i+=t),i+="(";u.length>0;){var s=r.exec(u);if(null==s){i+=u;break}i+=u.substring(0,s.index),u=u.substring(s.index+s[0].length),"\\"==s[0][0]&&s[1]?i+="\\"+String(Number(s[1])+c):(i+=s[0],"("==s[0]&&o++)}i+=")"}return i}(d,"|"),!0),c.lastIndex=0,c.exec=function(e){var r;if(0===a.length)return null;t.lastIndex=c.lastIndex;var o=t.exec(e);if(!o)return null;for(var u=0;u<o.length;u++)if(null!=o[u]&&null!=i[""+u]){r=i[""+u];break}return"string"==typeof r?(o.type=r,o.extra=[n.illegal,n.terminator_end]):(o.type="begin",o.rule=r),o},c}if(n.contains&&-1!=n.contains.indexOf("self")){if(!a)throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");n.contains=n.contains.filter((function(n){return"self"!=n}))}!function i(a,c){a.compiled||(a.compiled=!0,a.keywords=a.keywords||a.beginKeywords,a.keywords&&(a.keywords=function(n,e){var r={};return"string"==typeof n?o("keyword",n):t(n).forEach((function(e){o(e,n[e])})),r;function o(n,t){e&&(t=t.toLowerCase()),t.split(" ").forEach((function(e){var t=e.split("|");r[t[0]]=[n,y(t[0],t[1])]}))}}(a.keywords,n.case_insensitive)),a.lexemesRe=r(a.lexemes||/\w+/,!0),c&&(a.beginKeywords&&(a.begin="\\b("+a.beginKeywords.split(" ").join("|")+")\\b"),a.begin||(a.begin=/\B|\b/),a.beginRe=r(a.begin),a.endSameAsBegin&&(a.end=a.begin),a.end||a.endsWithParent||(a.end=/\B|\b/),a.end&&(a.endRe=r(a.end)),a.terminator_end=e(a.end)||"",a.endsWithParent&&c.terminator_end&&(a.terminator_end+=(a.end?"|":"")+c.terminator_end)),a.illegal&&(a.illegalRe=r(a.illegal)),null==a.relevance&&(a.relevance=1),a.contains||(a.contains=[]),a.contains=Array.prototype.concat.apply([],a.contains.map((function(n){return $("self"===n?a:n)}))),a.contains.forEach((function(n){i(n,a)})),a.starts&&i(a.starts,c),a.terminators=o(a))}(n)}function w(n,e,t,o){var i=e;function c(n,e){var t=$.case_insensitive?e[0].toLowerCase():e[0];return n.keywords.hasOwnProperty(t)&&n.keywords[t]}function u(n,e,t,r){if(!t&&""===e)return"";if(!n)return e;var o='<span class="'+(r?"":d.classPrefix);return(o+=n+'">')+e+(t?"":"</span>")}function s(){E+=null!=x.subLanguage?function(){var n="string"==typeof x.subLanguage;if(n&&!r[x.subLanguage])return p(O);var e=n?w(x.subLanguage,O,!0,k[x.subLanguage]):_(O,x.subLanguage.length?x.subLanguage:void 0);return x.relevance>0&&(R+=e.relevance),n&&(k[x.subLanguage]=e.top),u(e.language,e.value,!1,!0)}():function(){var n,e,t,r;if(!x.keywords)return p(O);for(r="",e=0,x.lexemesRe.lastIndex=0,t=x.lexemesRe.exec(O);t;)r+=p(O.substring(e,t.index)),(n=c(x,t))?(R+=n[1],r+=u(n[0],p(t[0]))):r+=p(t[0]),e=x.lexemesRe.lastIndex,t=x.lexemesRe.exec(O);return r+p(O.substr(e))}(),O=""}function l(n){E+=n.className?u(n.className,"",!0):"",x=Object.create(n,{parent:{value:x}})}function h(n){var e=n[0],t=n.rule;return t&&t.endSameAsBegin&&(t.endRe=new RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),t.skip?O+=e:(t.excludeBegin&&(O+=e),s(),t.returnBegin||t.excludeBegin||(O=e)),l(t),t.returnBegin?0:e.length}function m(n){var e=n[0],t=i.substr(n.index),r=function n(e,t){if(function(n,e){var t=n&&n.exec(e);return t&&0===t.index}(e.endRe,t)){for(;e.endsParent&&e.parent;)e=e.parent;return e}if(e.endsWithParent)return n(e.parent,t)}(x,t);if(r){var o=x;o.skip?O+=e:(o.returnEnd||o.excludeEnd||(O+=e),s(),o.excludeEnd&&(O=e));do{x.className&&(E+="</span>"),x.skip||x.subLanguage||(R+=x.relevance),x=x.parent}while(x!==r.parent);return r.starts&&(r.endSameAsBegin&&(r.starts.endRe=r.endRe),l(r.starts)),o.returnEnd?0:e.length}}var g={};function v(n,e){var r=e&&e[0];if(O+=n,null==r)return s(),0;if("begin"==g.type&&"end"==e.type&&g.index==e.index&&""===r)return O+=i.slice(e.index,e.index+1),1;if(g=e,"begin"===e.type)return h(e);if("illegal"===e.type&&!t)throw new Error('Illegal lexeme "'+r+'" for mode "'+(x.className||"<unnamed>")+'"');if("end"===e.type){var o=m(e);if(null!=o)return o}return O+=r,r.length}var $=C(n);if(!$)throw console.error(f.replace("{}",n)),new Error('Unknown language: "'+n+'"');b($);var y,x=o||$,k={},E="";for(y=x;y!==$;y=y.parent)y.className&&(E=u(y.className,"",!0)+E);var O="",R=0;try{for(var S,N,D=0;x.terminators.lastIndex=D,S=x.terminators.exec(i);)N=v(i.substring(D,S.index),S),D=S.index+N;for(v(i.substr(D)),y=x;y.parent;y=y.parent)y.className&&(E+="</span>");return{relevance:R,value:E,illegal:!1,language:n,top:x}}catch(e){if(e.message&&-1!==e.message.indexOf("Illegal"))return{illegal:!0,relevance:0,value:p(i)};if(a)return{relevance:0,value:p(i),language:n,top:x,errorRaised:e};throw e}}function _(n,e){e=e||d.languages||t(r);var o={relevance:0,value:p(n)},i=o;return e.filter(C).filter(R).forEach((function(e){var t=w(e,n,!1);t.language=e,t.relevance>i.relevance&&(i=t),t.relevance>o.relevance&&(i=o,o=t)})),i.language&&(o.second_best=i),o}function x(n){return d.tabReplace||d.useBR?n.replace(s,(function(n,e){return d.useBR&&"\n"===n?"<br>":d.tabReplace?e.replace(/\t/g,d.tabReplace):""})):n}function k(n){var t,r,i,a,c,s=function(n){var e,t,r,o,i=n.className+" ";if(i+=n.parentNode?n.parentNode.className:"",t=u.exec(i)){var a=C(t[1]);return a||(console.warn(f.replace("{}",t[1])),console.warn("Falling back to no-highlight mode for this block.",n)),a?t[1]:"no-highlight"}for(e=0,r=(i=i.split(/\s+/)).length;e<r;e++)if(m(o=i[e])||C(o))return o}(n);m(s)||(d.useBR?(t=document.createElement("div")).innerHTML=n.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):t=n,c=t.textContent,i=s?w(s,c,!0):_(c),(r=v(t)).length&&((a=document.createElement("div")).innerHTML=i.value,i.value=function(n,t,r){var o=0,i="",a=[];function c(){return n.length&&t.length?n[0].offset!==t[0].offset?n[0].offset<t[0].offset?n:t:"start"===t[0].event?n:t:n.length?n:t}function u(n){i+="<"+h(n)+e.map.call(n.attributes,(function(n){return" "+n.nodeName+'="'+p(n.value).replace(/"/g,"&quot;")+'"'})).join("")+">"}function s(n){i+="</"+h(n)+">"}function f(n){("start"===n.event?u:s)(n.node)}for(;n.length||t.length;){var d=c();if(i+=p(r.substring(o,d[0].offset)),o=d[0].offset,d===n){a.reverse().forEach(s);do{f(d.splice(0,1)[0]),d=c()}while(d===n&&d.length&&d[0].offset===o);a.reverse().forEach(u)}else"start"===d[0].event?a.push(d[0].node):a.pop(),f(d.splice(0,1)[0])}return i+p(r.substr(o))}(r,v(a),c)),i.value=x(i.value),n.innerHTML=i.value,n.className=function(n,e,t){var r=e?o[e]:t,i=[n.trim()];return n.match(/\bhljs\b/)||i.push("hljs"),-1===n.indexOf(r)&&i.push(r),i.join(" ").trim()}(n.className,s,i.language),n.result={language:i.language,re:i.relevance},i.second_best&&(n.second_best={language:i.second_best.language,re:i.second_best.relevance}))}function E(){if(!E.called){E.called=!0;var n=document.querySelectorAll("pre code");e.forEach.call(n,k)}}var O={disableAutodetect:!0};function C(n){return n=(n||"").toLowerCase(),r[n]||r[o[n]]}function R(n){var e=C(n);return e&&!e.disableAutodetect}return n.highlight=w,n.highlightAuto=_,n.fixMarkup=x,n.highlightBlock=k,n.configure=function(n){d=g(d,n)},n.initHighlighting=E,n.initHighlightingOnLoad=function(){window.addEventListener("DOMContentLoaded",E,!1),window.addEventListener("load",E,!1)},n.registerLanguage=function(e,t){var i;try{i=t(n)}catch(n){if(console.error("Language definition for '{}' could not be registered.".replace("{}",e)),!a)throw n;console.error(n),i=O}r[e]=i,i.rawDefinition=t.bind(null,n),i.aliases&&i.aliases.forEach((function(n){o[n]=e}))},n.listLanguages=function(){return t(r)},n.getLanguage=C,n.requireLanguage=function(n){var e=C(n);if(e)return e;throw new Error("The '{}' language is required, but not loaded.".replace("{}",n))},n.autoDetection=R,n.inherit=g,n.debugMode=function(){a=!1},n.IDENT_RE="[a-zA-Z]\\w*",n.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",n.NUMBER_RE="\\b\\d+(\\.\\d+)?",n.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",n.BINARY_NUMBER_RE="\\b(0b[01]+)",n.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",n.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},n.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]},n.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]},n.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},n.COMMENT=function(e,t,r){var o=n.inherit({className:"comment",begin:e,end:t,contains:[]},r||{});return o.contains.push(n.PHRASAL_WORDS_MODE),o.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),o},n.C_LINE_COMMENT_MODE=n.COMMENT("//","$"),n.C_BLOCK_COMMENT_MODE=n.COMMENT("/\\*","\\*/"),n.HASH_COMMENT_MODE=n.COMMENT("#","$"),n.NUMBER_MODE={className:"number",begin:n.NUMBER_RE,relevance:0},n.C_NUMBER_MODE={className:"number",begin:n.C_NUMBER_RE,relevance:0},n.BINARY_NUMBER_MODE={className:"number",begin:n.BINARY_NUMBER_RE,relevance:0},n.CSS_NUMBER_MODE={className:"number",begin:n.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},n.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[n.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[n.BACKSLASH_ESCAPE]}]},n.TITLE_MODE={className:"title",begin:n.IDENT_RE,relevance:0},n.UNDERSCORE_TITLE_MODE={className:"title",begin:n.UNDERSCORE_IDENT_RE,relevance:0},n.METHOD_GUARD={begin:"\\.\\s*"+n.UNDERSCORE_IDENT_RE,relevance:0},[n.BACKSLASH_ESCAPE,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,n.PHRASAL_WORDS_MODE,n.COMMENT,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,n.HASH_COMMENT_MODE,n.NUMBER_MODE,n.C_NUMBER_MODE,n.BINARY_NUMBER_MODE,n.CSS_NUMBER_MODE,n.REGEXP_MODE,n.TITLE_MODE,n.UNDERSCORE_TITLE_MODE,n.METHOD_GUARD].forEach((function(n){!function n(e){Object.freeze(e);var t="function"==typeof e;return Object.getOwnPropertyNames(e).forEach((function(r){!e.hasOwnProperty(r)||null===e[r]||"object"!==i(e[r])&&"function"!=typeof e[r]||t&&("caller"===r||"callee"===r||"arguments"===r)||Object.isFrozen(e[r])||n(e[r])})),e}(n)})),n},r="object"===("undefined"==typeof window?"undefined":i(window))&&window||"object"===("undefined"==typeof self?"undefined":i(self))&&self,e.nodeType?r&&(r.hljs=t({})):t(e)}));function xe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function ke(n){var e,t,r,o,i;return{c:function(){en(e=V("i"),"class",t=n[4](n[2],n[1],n[3])),en(e,"style",r=Re(n[2],n[1],n[0],n[3])),e.hidden=o=!n[2]},m:function(t,r,o){F(t,e,r),o&&i(),i=X(e,"click",n[7])},p:function(n,i){var a=m(i,1)[0];14&a&&t!==(t=n[4](n[2],n[1],n[3]))&&en(e,"class",t),15&a&&r!==(r=Re(n[2],n[1],n[0],n[3]))&&en(e,"style",r),4&a&&o!==(o=!n[2])&&(e.hidden=o)},i:O,o:O,d:function(n){n&&W(e),i()}}}_e.registerLanguage("css",(function(n){var e={begin:/(?:[A-Z\_\.\-]+|--[a-zA-Z0-9_-]+)\s*:/,returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:/\S/,end:":",excludeEnd:!0,starts:{endsWithParent:!0,excludeEnd:!0,contains:[{begin:/[\w-]+\(/,returnBegin:!0,contains:[{className:"built_in",begin:/[\w-]+/},{begin:/\(/,end:/\)/,contains:[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,n.CSS_NUMBER_MODE]}]},n.CSS_NUMBER_MODE,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,n.C_BLOCK_COMMENT_MODE,{className:"number",begin:"#[0-9A-Fa-f]+"},{className:"meta",begin:"!important"}]}}]};return{case_insensitive:!0,illegal:/[=\/|'\$]/,contains:[n.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/},{className:"selector-class",begin:/\.[A-Za-z0-9_-]+/},{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{begin:"@(page|font-face)",lexemes:"@[a-z-]+",keywords:"@page @font-face"},{begin:"@",end:"[{;]",illegal:/:/,returnBegin:!0,contains:[{className:"keyword",begin:/@\-?\w[\w]*(\-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:"and or not only",contains:[{begin:/[a-z-]+:/,className:"attribute"},n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},{begin:"{",end:"}",illegal:/\S/,contains:[n.C_BLOCK_COMMENT_MODE,e]}]}})),_e.registerLanguage("diff",(function(n){return{aliases:["patch"],contains:[{className:"meta",relevance:10,variants:[{begin:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{begin:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{begin:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{className:"comment",variants:[{begin:/Index: /,end:/$/},{begin:/={3,}/,end:/$/},{begin:/^\-{3}/,end:/$/},{begin:/^\*{3} /,end:/$/},{begin:/^\+{3}/,end:/$/},{begin:/^\*{15}$/}]},{className:"addition",begin:"^\\+",end:"$"},{className:"deletion",begin:"^\\-",end:"$"},{className:"addition",begin:"^\\!",end:"$"}]}})),_e.registerLanguage("dockerfile",(function(n){return{aliases:["docker"],case_insensitive:!0,keywords:"from maintainer expose env arg user onbuild stopsignal",contains:[n.HASH_COMMENT_MODE,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,n.NUMBER_MODE,{beginKeywords:"run cmd entrypoint volume add copy workdir label healthcheck shell",starts:{end:/[^\\]$/,subLanguage:"bash"}}],illegal:"</"}})),_e.registerLanguage("go",(function(n){var e={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",literal:"true false iota nil",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{aliases:["golang"],keywords:e,illegal:"</",contains:[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{className:"string",variants:[n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:n.C_NUMBER_RE+"[i]",relevance:1},n.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[n.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,keywords:e,illegal:/["']/}]}]}})),_e.registerLanguage("http",(function(n){return{aliases:["https"],illegal:"\\S",contains:[{begin:"^HTTP/[0-9\\.]+",end:"$",contains:[{className:"number",begin:"\\b\\d{3}\\b"}]},{begin:"^[A-Z]+ (.*?) HTTP/[0-9\\.]+$",returnBegin:!0,end:"$",contains:[{className:"string",begin:" ",end:" ",excludeBegin:!0,excludeEnd:!0},{begin:"HTTP/[0-9\\.]+"},{className:"keyword",begin:"[A-Z]+"}]},{className:"attribute",begin:"^\\w",end:": ",excludeEnd:!0,illegal:"\\n|\\s|=",starts:{end:"$",relevance:0}},{begin:"\\n\\n",starts:{subLanguage:[],endsWithParent:!0}}]}})),_e.registerLanguage("javascript",(function(n){var e="<>",t="</>",r={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/},o="[A-Za-z$_][0-9A-Za-z$_]*",i={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},a={className:"number",variants:[{begin:"\\b(0[bB][01]+)n?"},{begin:"\\b(0[oO][0-7]+)n?"},{begin:n.C_NUMBER_RE+"n?"}],relevance:0},c={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},u={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,c],subLanguage:"xml"}},s={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,c],subLanguage:"css"}},f={className:"string",begin:"`",end:"`",contains:[n.BACKSLASH_ESCAPE,c]};c.contains=[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,u,s,f,a,n.REGEXP_MODE];var d=c.contains.concat([n.C_BLOCK_COMMENT_MODE,n.C_LINE_COMMENT_MODE]);return{aliases:["js","jsx","mjs","cjs"],keywords:i,contains:[{className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},{className:"meta",begin:/^#!/,end:/$/},n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,u,s,f,n.C_LINE_COMMENT_MODE,n.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:o+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),n.C_BLOCK_COMMENT_MODE,a,{begin:/[{,\n]\s*/,relevance:0,contains:[{begin:o+"\\s*:",returnBegin:!0,relevance:0,contains:[{className:"attr",begin:o,relevance:0}]}]},{begin:"("+n.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,n.REGEXP_MODE,{className:"function",begin:"(\\(.*?\\)|"+o+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:o},{begin:/\(\s*\)/},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:d}]}]},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:e,end:t},{begin:r.begin,end:r.end}],subLanguage:"xml",contains:[{begin:r.begin,end:r.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/\{/,excludeEnd:!0,contains:[n.inherit(n.TITLE_MODE,{begin:o}),{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,contains:d}],illegal:/\[|%/},{begin:/\$[(.]/},n.METHOD_GUARD,{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends"},n.UNDERSCORE_TITLE_MODE]},{beginKeywords:"constructor get set",end:/\{/,excludeEnd:!0}],illegal:/#(?!!)/}})),_e.registerLanguage("markdown",(function(n){return{aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$"},{begin:"^.+?\\n[=-]{2,}$"}]},{begin:"<",end:">",subLanguage:"xml",relevance:0},{className:"bullet",begin:"^\\s*([*+-]|(\\d+\\.))\\s+"},{className:"strong",begin:"[*_]{2}.+?[*_]{2}"},{className:"emphasis",variants:[{begin:"\\*.+?\\*"},{begin:"_.+?_",relevance:0}]},{className:"quote",begin:"^>\\s+",end:"$"},{className:"code",variants:[{begin:"^```\\w*\\s*$",end:"^```[ ]*$"},{begin:"`.+?`"},{begin:"^( {4}|\\t)",end:"$",relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},{begin:"\\[.+?\\][\\(\\[].*?[\\)\\]]",returnBegin:!0,contains:[{className:"string",begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0,relevance:0},{className:"link",begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}],relevance:10},{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}})),_e.registerLanguage("mojolicious",(function(n){return{subLanguage:"xml",contains:[{className:"meta",begin:"^__(END|DATA)__$"},{begin:"^\\s*%{1,2}={0,2}",end:"$",subLanguage:"perl"},{begin:"<%{1,2}={0,2}",end:"={0,1}%>",subLanguage:"perl",excludeBegin:!0,excludeEnd:!0}]}})),_e.registerLanguage("nginx",(function(n){var e={className:"variable",variants:[{begin:/\$\d+/},{begin:/\$\{/,end:/}/},{begin:"[\\$\\@]"+n.UNDERSCORE_IDENT_RE}]},t={endsWithParent:!0,lexemes:"[a-z/_]+",keywords:{literal:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},relevance:0,illegal:"=>",contains:[n.HASH_COMMENT_MODE,{className:"string",contains:[n.BACKSLASH_ESCAPE,e],variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/}]},{begin:"([a-z]+):/",end:"\\s",endsWithParent:!0,excludeEnd:!0,contains:[e]},{className:"regexp",contains:[n.BACKSLASH_ESCAPE,e],variants:[{begin:"\\s\\^",end:"\\s|{|;",returnEnd:!0},{begin:"~\\*?\\s+",end:"\\s|{|;",returnEnd:!0},{begin:"\\*(\\.[a-z\\-]+)+"},{begin:"([a-z\\-]+\\.)+\\*"}]},{className:"number",begin:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{className:"number",begin:"\\b\\d+[kKmMgGdshdwy]*\\b",relevance:0},e]};return{aliases:["nginxconf"],contains:[n.HASH_COMMENT_MODE,{begin:n.UNDERSCORE_IDENT_RE+"\\s+{",returnBegin:!0,end:"{",contains:[{className:"section",begin:n.UNDERSCORE_IDENT_RE}],relevance:0},{begin:n.UNDERSCORE_IDENT_RE+"\\s",end:";|{",returnBegin:!0,contains:[{className:"attribute",begin:n.UNDERSCORE_IDENT_RE,starts:t}],relevance:0}],illegal:"[^\\s\\}]"}})),_e.registerLanguage("perl",(function(n){var e="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",t={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:e},r={begin:"->{",end:"}"},o={variants:[{begin:/\$\d/},{begin:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{begin:/[\$%@][^\s\w{]/,relevance:0}]},i=[n.BACKSLASH_ESCAPE,t,o],a=[o,n.HASH_COMMENT_MODE,n.COMMENT("^\\=\\w","\\=cut",{endsWithParent:!0}),r,{className:"string",contains:i,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*\\<",end:"\\>",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[n.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[n.BACKSLASH_ESCAPE]},{begin:"{\\w+}",contains:[],relevance:0},{begin:"-?\\w+\\s*\\=\\>",contains:[],relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+n.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[n.HASH_COMMENT_MODE,{className:"regexp",begin:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",relevance:10},{className:"regexp",begin:"(m|qr)?/",end:"/[a-z]*",contains:[n.BACKSLASH_ESCAPE],relevance:0}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[n.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return t.contains=a,r.contains=a,{aliases:["pl","pm"],lexemes:/[\w\.]+/,keywords:e,contains:a}})),_e.registerLanguage("python",(function(n){var e={keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10",built_in:"Ellipsis NotImplemented",literal:"False None True"},t={className:"meta",begin:/^(>>>|\.\.\.) /},r={className:"subst",begin:/\{/,end:/\}/,keywords:e,illegal:/#/},o={begin:/\{\{/,relevance:0},i={className:"string",contains:[n.BACKSLASH_ESCAPE],variants:[{begin:/(u|b)?r?'''/,end:/'''/,contains:[n.BACKSLASH_ESCAPE,t],relevance:10},{begin:/(u|b)?r?"""/,end:/"""/,contains:[n.BACKSLASH_ESCAPE,t],relevance:10},{begin:/(fr|rf|f)'''/,end:/'''/,contains:[n.BACKSLASH_ESCAPE,t,o,r]},{begin:/(fr|rf|f)"""/,end:/"""/,contains:[n.BACKSLASH_ESCAPE,t,o,r]},{begin:/(u|r|ur)'/,end:/'/,relevance:10},{begin:/(u|r|ur)"/,end:/"/,relevance:10},{begin:/(b|br)'/,end:/'/},{begin:/(b|br)"/,end:/"/},{begin:/(fr|rf|f)'/,end:/'/,contains:[n.BACKSLASH_ESCAPE,o,r]},{begin:/(fr|rf|f)"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,o,r]},n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},a={className:"number",relevance:0,variants:[{begin:n.BINARY_NUMBER_RE+"[lLjJ]?"},{begin:"\\b(0o[0-7]+)[lLjJ]?"},{begin:n.C_NUMBER_RE+"[lLjJ]?"}]},c={className:"params",begin:/\(/,end:/\)/,contains:["self",t,a,i,n.HASH_COMMENT_MODE]};return r.contains=[i,a,t],{aliases:["py","gyp","ipython"],keywords:e,illegal:/(<\/|->|\?)|=>/,contains:[t,a,{beginKeywords:"if",relevance:0},i,n.HASH_COMMENT_MODE,{variants:[{className:"function",beginKeywords:"def"},{className:"class",beginKeywords:"class"}],end:/:/,illegal:/[${=;\n,]/,contains:[n.UNDERSCORE_TITLE_MODE,c,{begin:/->/,endsWithParent:!0,keywords:"None"}]},{className:"meta",begin:/^[\t ]*@/,end:/$/},{begin:/\b(print|exec)\(/}]}})),_e.registerLanguage("scss",(function(n){var e={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b"},t={className:"number",begin:"#[0-9A-Fa-f]+"};n.CSS_NUMBER_MODE,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,n.C_BLOCK_COMMENT_MODE;return{case_insensitive:!0,illegal:"[=/|']",contains:[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:"\\#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},{className:"selector-attr",begin:"\\[",end:"\\]",illegal:"$"},{className:"selector-tag",begin:"\\b(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|frame|frameset|(h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)\\b",relevance:0},{className:"selector-pseudo",begin:":(visited|valid|root|right|required|read-write|read-only|out-range|optional|only-of-type|only-child|nth-of-type|nth-last-of-type|nth-last-child|nth-child|not|link|left|last-of-type|last-child|lang|invalid|indeterminate|in-range|hover|focus|first-of-type|first-line|first-letter|first-child|first|enabled|empty|disabled|default|checked|before|after|active)"},{className:"selector-pseudo",begin:"::(after|before|choices|first-letter|first-line|repeat-index|repeat-item|selection|value)"},e,{className:"attribute",begin:"\\b(src|z-index|word-wrap|word-spacing|word-break|width|widows|white-space|visibility|vertical-align|unicode-bidi|transition-timing-function|transition-property|transition-duration|transition-delay|transition|transform-style|transform-origin|transform|top|text-underline-position|text-transform|text-shadow|text-rendering|text-overflow|text-indent|text-decoration-style|text-decoration-line|text-decoration-color|text-decoration|text-align-last|text-align|tab-size|table-layout|right|resize|quotes|position|pointer-events|perspective-origin|perspective|page-break-inside|page-break-before|page-break-after|padding-top|padding-right|padding-left|padding-bottom|padding|overflow-y|overflow-x|overflow-wrap|overflow|outline-width|outline-style|outline-offset|outline-color|outline|orphans|order|opacity|object-position|object-fit|normal|none|nav-up|nav-right|nav-left|nav-index|nav-down|min-width|min-height|max-width|max-height|mask|marks|margin-top|margin-right|margin-left|margin-bottom|margin|list-style-type|list-style-position|list-style-image|list-style|line-height|letter-spacing|left|justify-content|initial|inherit|ime-mode|image-orientation|image-resolution|image-rendering|icon|hyphens|height|font-weight|font-variant-ligatures|font-variant|font-style|font-stretch|font-size-adjust|font-size|font-language-override|font-kerning|font-feature-settings|font-family|font|float|flex-wrap|flex-shrink|flex-grow|flex-flow|flex-direction|flex-basis|flex|filter|empty-cells|display|direction|cursor|counter-reset|counter-increment|content|column-width|column-span|column-rule-width|column-rule-style|column-rule-color|column-rule|column-gap|column-fill|column-count|columns|color|clip-path|clip|clear|caption-side|break-inside|break-before|break-after|box-sizing|box-shadow|box-decoration-break|bottom|border-width|border-top-width|border-top-style|border-top-right-radius|border-top-left-radius|border-top-color|border-top|border-style|border-spacing|border-right-width|border-right-style|border-right-color|border-right|border-radius|border-left-width|border-left-style|border-left-color|border-left|border-image-width|border-image-source|border-image-slice|border-image-repeat|border-image-outset|border-image|border-color|border-collapse|border-bottom-width|border-bottom-style|border-bottom-right-radius|border-bottom-left-radius|border-bottom-color|border-bottom|border|background-size|background-repeat|background-position|background-origin|background-image|background-color|background-clip|background-attachment|background-blend-mode|background|backface-visibility|auto|animation-timing-function|animation-play-state|animation-name|animation-iteration-count|animation-fill-mode|animation-duration|animation-direction|animation-delay|animation|align-self|align-items|align-content)\\b",illegal:"[^\\s]"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:":",end:";",contains:[e,t,n.CSS_NUMBER_MODE,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,{className:"meta",begin:"!important"}]},{begin:"@(page|font-face)",lexemes:"@[a-z-]+",keywords:"@page @font-face"},{begin:"@",end:"[{;]",returnBegin:!0,keywords:"and or not only",contains:[{begin:"@[a-z-]+",className:"keyword"},e,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,t,n.CSS_NUMBER_MODE]}]}})),_e.registerLanguage("shell",(function(n){return{aliases:["console"],contains:[{className:"meta",begin:"^\\s{0,3}[/\\w\\d\\[\\]()@-]*[>%$#]",starts:{end:"$",subLanguage:"bash"}}]}})),_e.registerLanguage("xml",(function(n){var e={className:"symbol",begin:"&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;"},t={begin:"\\s",contains:[{className:"meta-keyword",begin:"#?[a-z_][a-z1-9_-]+",illegal:"\\n"}]},r=n.inherit(t,{begin:"\\(",end:"\\)"}),o=n.inherit(n.APOS_STRING_MODE,{className:"meta-string"}),i=n.inherit(n.QUOTE_STRING_MODE,{className:"meta-string"}),a={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:"[A-Za-z0-9\\._:-]+",relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[e]},{begin:/'/,end:/'/,contains:[e]},{begin:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:"<![a-z]",end:">",relevance:10,contains:[t,i,o,r,{begin:"\\[",end:"\\]",contains:[{className:"meta",begin:"<![a-z]",end:">",contains:[t,r,i,o]}]}]},n.COMMENT("\x3c!--","--\x3e",{relevance:10}),{begin:"<\\!\\[CDATA\\[",end:"\\]\\]>",relevance:10},e,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{begin:/<\?(php)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},n.inherit(n.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),n.inherit(n.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]},{className:"tag",begin:"<style(?=\\s|>)",end:">",keywords:{name:"style"},contains:[a],starts:{end:"</style>",returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:"<script(?=\\s|>)",end:">",keywords:{name:"script"},contains:[a],starts:{end:"<\/script>",returnEnd:!0,subLanguage:["actionscript","javascript","handlebars","xml"]}},{className:"tag",begin:"</?",end:"/?>",contains:[{className:"name",begin:/[^\/><\s]+/,relevance:0},a]}]}})),_e.registerLanguage("yaml",(function(n){var e={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[n.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:"{{",end:"}}"},{begin:"%{",end:"}"}]}]};return{case_insensitive:!0,aliases:["yml","YAML","yaml"],contains:[{className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},{className:"meta",begin:"^---s*$",relevance:10},{className:"string",begin:"[\\|>]([0-9]?[+-])?[ ]*\\n( *)[\\S ]+\\n(\\2[\\S ]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!"+n.UNDERSCORE_IDENT_RE},{className:"type",begin:"!!"+n.UNDERSCORE_IDENT_RE},{className:"meta",begin:"&"+n.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+n.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"\\-(?=[ ]|$)",relevance:0},n.HASH_COMMENT_MODE,{beginKeywords:"true false yes no null",keywords:{literal:"true false yes no null"}},{className:"number",begin:n.C_NUMBER_RE+"\\b"},e]}}));var Ee={regular:"far",solid:"fas"},Oe={Convos:"",batman:"https://www.gravatar.com/avatar/ab1839667863f31e359d98364cfdef61",marcusr:"https://www.gravatar.com/avatar/6c056546d802b1a9ac186ab63f9fb632"},Ce=["fas fa-anchor","fas fa-atom","fas fa-award","fas fa-balance-scale","fas fa-baseball-ball","fas fa-basketball-ball","fas fa-bicycle","fas fa-bolt","fas fa-book-reader","fas fa-candy-cane","fas fa-carrot","fas fa-cat","fas fa-chess-knight","fas fa-child","fas fa-coffee","fas fa-cookie-bite","fas fa-crow","fas fa-dice","fas fa-dog","fas fa-dove","fas fa-feather","fas fa-fish","fas fa-gem","fas fa-ghost","fas fa-hard-hat","fas fa-hat-cowboy","fas fa-hat-wizard","fas fa-hiking","fas fa-horse-head","fas fa-horse","fas fa-id-badge","fas fa-igloo","fas fa-mask","fas fa-meteor","fas fa-paint-brush","fas fa-paw","fas fa-pepper-hot","fas fa-pizza-slice","fas fa-portrait","fas fa-puzzle-piece","fas fa-rainbow","fas fa-robot","fas fa-rocket","fas fa-running","fas fa-seedling","fas fa-skating","fas fa-skiing","fas fa-smile","fas fa-snowboarding","fas fa-snowflake","fas fa-snowman","fas fa-swimmer","fas fa-umbrella","fas fa-user-astronaut","fas fa-user-graduate","fas fa-user-ninja","fas fa-user-secret","fas fa-walking","fas fa-yin-yang"];function Re(n,e,t,r){var o=[],i="color:",a=n.match(/^pick:(.+)$/);return a&&Oe[a[1]]&&(i="background-color:",o.push('background-image:url("'+Oe[a[1]]+'")')),t&&o.push(i+t),o.join(";")}function Se(n,e,t){var r=!1,o=e.class,i=void 0===o?"":o,a=e.animation,c=void 0===a?"":a,u=e.color,s=void 0===u?"":u,f=e.family,d=void 0===f?"":f,l=e.name;return vn((function(){if(t(3,r=!!Oe.Convos),!r){var n=document.querySelector('[rel=icon][type="image/png"][sizes="32x32"]')||document.querySelector('[rel=icon][type="image/png"]');n&&(Oe.Convos=n.href)}})),n.$set=function(n){"class"in n&&t(5,i=n.class),"animation"in n&&t(6,c=n.animation),"color"in n&&t(0,s=n.color),"family"in n&&t(1,d=n.family),"name"in n&&t(2,l=n.name)},[s,d,l,r,function(n,e,t){var r=[],o=n.match(/^pick:(.+)$/);if(o){if(Oe[o[1]])return"fas fa-contributor for-"+o[1].toLowerCase();r.push(function(n){if(n.match(/^\d+$/)&&console.log(Ce[n]),n.match(/^\d+$/))return Ce[n];for(var e=0,t=0;t<n.length;t++)e=n.charCodeAt(t)+((e<<5)-e),e&=e;return e=Math.abs(e),Ce[e%Ce.length]}(o[1]))}else r.push(Ee[e]||"fas"),r.push("fa-"+n);return c&&r.push(c.split(" ").map((function(n){return"fa-"+n}))),i&&r.push(i.split(" ")),r.join(" ")},i,c,function(e){bn(n,e)}]}var Ne=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(xe()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Se,ke,M,{class:5,animation:6,color:0,family:1,name:2}),t}return i}(Qn),De=[];function Me(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,r=[];function o(t){if(M(n,t)&&(n=t,e)){for(var o=!De.length,i=0;i<r.length;i+=1){var a=r[i];a[1](),De.push(a,n)}if(o){for(var c=0;c<De.length;c+=2)De[c][0](De[c+1]);De.length=0}}}function i(e){o(e(n))}function a(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,c=[i,a];return r.push(c),1===r.length&&(e=t(o)||O),i(n),function(){var n=r.indexOf(c);-1!==n&&r.splice(n,1),0===r.length&&(e(),e=null)}}return{set:o,update:i,subscribe:a}}var Pe=location.href.replace(/\/+$/,""),Ae="",je=Me(""),Te=Me({wideScreen:!1,width:0}),Le=Me(He(location.href)),Ie=Me(document.title),Ue=Me(null);function ze(n,e){var t=n.indexOf(e);return-1==t?null:t}function Be(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==n){var t=He(n);if(!t)return location.href=n;e.event&&e.event.preventDefault(),history[e.replace?"replaceState":"pushState"]({},document.title,t.toString()),setTimeout((function(){return Le.set(t)}),0)}}function He(n){if(-1==(n="/"==n.slice(0,1)?Pe+n:n).indexOf(Pe))return!1;var e=new URL(n),t=n.substring(Pe.length,ze(n,"?")||ze(n,"#")||n.length);Object.defineProperty(e,"path",{value:t,writable:!1});var r=t.split("/").filter((function(n){return n.length})).map(decodeURIComponent);return Object.defineProperty(e,"pathParts",{value:r,writable:!1}),e}function qe(n){var e=A(Ue);if(n&&n!=e){if(!e)for(var t=document.querySelectorAll(".js-remove"),r=0;r<t.length;r++)t[r].remove();Ue.set(n)}}function Ke(n){return Le.base+n}function Ge(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A(Le);e.searchParams.forEach((function(e,t){var r=n[t];r&&r.tagName&&("checkbox"==r.type?r.checked=!!e:r.value=e,r.syncValue&&r.syncValue())}))}var Fe=Le.set;function We(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function Ye(n){var e,t,r,o=n[13].default,i=T(o,n,n[12],null);return{c:function(){e=V("a"),i&&i.c(),en(e,"href",n[3]),en(e,"class",n[0]),en(e,"style",n[1]),cn(e,"has-path",n[4])},m:function(o,a,c){F(o,e,a),i&&i.m(e,null),n[14](e),t=!0,c&&r(),r=X(e,"click",n[5])},p:function(n,r){var a=m(r,1)[0];i&&i.p&&4096&a&&i.p(L(o,n,n[12],null),I(o,n[12],a,null)),(!t||8&a)&&en(e,"href",n[3]),(!t||1&a)&&en(e,"class",n[0]),(!t||2&a)&&en(e,"style",n[1]),17&a&&cn(e,"has-path",n[4])},i:function(n){t||(Bn(i,n),t=!0)},o:function(n){Hn(i,n),t=!1},d:function(t){t&&W(e),i&&i.d(t),n[14](null),r()}}}function Ve(n,e,t){var r;j(n,Le,(function(n){return t(10,r=n)}));var o,i=e.class,a=void 0===i?"":i,c=e.href,u=void 0===c?"/":c,s=e.native,f=void 0!==s&&s,d=e.replace,l=void 0!==d&&d,p=e.style,h=void 0===p?"":p;var m,g,v=e.$$slots,$=void 0===v?{}:v,y=e.$$scope;return n.$set=function(n){"class"in n&&t(0,a=n.class),"href"in n&&t(6,u=n.href),"native"in n&&t(7,f=n.native),"replace"in n&&t(8,l=n.replace),"style"in n&&t(1,h=n.style),"$$scope"in n&&t(12,y=n.$$scope)},n.$$.update=function(){64&n.$$.dirty&&t(3,m="/"==u.slice(0,1)?Le.base+u:u),1032&n.$$.dirty&&t(4,g=r==m.replace(/(#|\?).*/,""))},[a,h,o,m,g,function(n){var e=n.target.closest("a").href;return f?location.href=e:Be(e,{event:n,replace:l})},u,f,l,function(){return o.focus()},r,[],y,$,function(n){_n[n?"unshift":"push"]((function(){t(2,o=n)}))}]}Le.set=function(n,e){if(A(this).toString()!=n.toString()||e)return je.set(""),Fe.call(this,n)},Object.defineProperty(Le,"base",{get:function(){return Pe},set:function(n){Pe=n.replace(/\/+$/,""),Le.set(He(A(Le).toString()),!0)}});var Ze=function(e){s(u,e);var o,i=(o=u,function(){var n,e=c(o);if(We()){var t=c(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return a(this,n)});function u(e){var t;return n(this,u),t=i.call(this),Jn(r(t),e,Ve,Ye,M,{class:0,href:6,native:7,replace:8,style:1,focus:9}),t}return t(u,[{key:"focus",get:function(){return this.$$.ctx[9]}}]),u}(Qn);function Je(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var Qe=function(n){return{}},Xe=function(n){return{}},nt=function(n){return{}},et=function(n){return{}};function tt(n){var e,t,r,o,i,a,c,u,s=n[11].label,f=T(s,n,n[10],et),d=f||{c:function(){u=Z("Label")},m:function(n,e){F(n,u,e)},d:function(n){n&&W(u)}},l=n[11].help,p=T(l,n,n[10],Xe);return{c:function(){e=V("div"),t=V("label"),d&&d.c(),r=J(),o=V("input"),i=J(),p&&p.c(),en(t,"for",n[4]),en(o,"type",n[7]),en(o,"name",n[3]),en(o,"id",n[4]),en(o,"autocomplete",n[1]),en(o,"placeholder",n[5]),o.readOnly=n[6],o.value=n[0],en(e,"class","text-field"),e.hidden=n[2],cn(e,"has-password","password"==n[7])},m:function(u,s,f){F(u,e,s),G(e,t),d&&d.m(t,null),G(e,r),G(e,o),n[13](o),G(e,i),p&&p.m(e,null),a=!0,f&&N(c),c=[X(o,"input",n[9]),X(o,"keyup",n[12])]},p:function(n,r){var i=m(r,1)[0];f&&f.p&&1024&i&&f.p(L(s,n,n[10],et),I(s,n[10],i,nt)),(!a||16&i)&&en(t,"for",n[4]),(!a||128&i)&&en(o,"type",n[7]),(!a||8&i)&&en(o,"name",n[3]),(!a||16&i)&&en(o,"id",n[4]),(!a||2&i)&&en(o,"autocomplete",n[1]),(!a||32&i)&&en(o,"placeholder",n[5]),(!a||64&i)&&(o.readOnly=n[6]),(!a||1&i&&o.value!==n[0])&&(o.value=n[0]),p&&p.p&&1024&i&&p.p(L(l,n,n[10],Xe),I(l,n[10],i,Qe)),(!a||4&i)&&(e.hidden=n[2]),128&i&&cn(e,"has-password","password"==n[7])},i:function(n){a||(Bn(d,n),Bn(p,n),a=!0)},o:function(n){Hn(d,n),Hn(p,n),a=!1},d:function(t){t&&W(e),d&&d.d(t),n[13](null),p&&p.d(t),N(c)}}}function rt(n,e,t){var r,o=e.autocomplete,i=void 0===o?null:o,a=e.hidden,c=void 0!==a&&a,u=e.name,s=void 0===u?"":u,f=e.id,d=void 0===f?s?"form_"+s:ve():f,l=e.placeholder,p=void 0===l?"":l,h=e.readonly,m=void 0!==h&&h,g=e.type,v=void 0===g?"text":g,$=e.value,y=void 0===$?"":$,b=e.$$slots,w=void 0===b?{}:b,_=e.$$scope;return n.$set=function(n){"autocomplete"in n&&t(1,i=n.autocomplete),"hidden"in n&&t(2,c=n.hidden),"name"in n&&t(3,s=n.name),"id"in n&&t(4,d=n.id),"placeholder"in n&&t(5,p=n.placeholder),"readonly"in n&&t(6,m=n.readonly),"type"in n&&t(7,v=n.type),"value"in n&&t(0,y=n.value),"$$scope"in n&&t(10,_=n.$$scope)},n.$$.update=function(){256&n.$$.dirty&&r&&!r.syncValue&&(t(8,r.syncValue=function(){t(0,y=this.value)},r),r.syncValue())},[y,i,c,s,d,p,m,v,r,function(n){t(0,y=v.match(/^(number|range)$/)?parseInt(n.target.value,10):n.target.value)},_,w,function(e){bn(n,e)},function(n){_n[n?"unshift":"push"]((function(){t(8,r=n)}))}]}var ot=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(Je()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,rt,tt,M,{autocomplete:1,hidden:2,name:3,id:4,placeholder:5,readonly:6,type:7,value:0}),t}return i}(Qn);function it(n){var e=n-1;return e*e*e+1}function at(n,e){var t=e.delay,r=void 0===t?0:t,o=e.duration,i=void 0===o?400:o,a=e.easing,c=void 0===a?C:a,u=+getComputedStyle(n).opacity;return{delay:r,duration:i,easing:c,css:function(n){return"opacity: ".concat(n*u)}}}function ct(n,e){var t=e.delay,r=void 0===t?0:t,o=e.duration,i=void 0===o?400:o,a=e.easing,c=void 0===a?it:a,u=e.x,s=void 0===u?0:u,f=e.y,d=void 0===f?0:f,l=e.opacity,p=void 0===l?0:l,h=getComputedStyle(n),m=+h.opacity,g="none"===h.transform?"":h.transform,v=m*(1-p);return{delay:r,duration:i,easing:c,css:function(n,e){return"\n\t\t\ttransform: ".concat(g," translate(").concat((1-n)*s,"px, ").concat((1-n)*d,"px);\n\t\t\topacity: ").concat(m-v*e)}}}
/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var ut=function(){var n={base:"https://twemoji.maxcdn.com/v/12.1.5/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(n){var e="string"==typeof n?parseInt(n,16):n;if(e<65536)return c(e);return c(55296+((e-=65536)>>10),56320+(1023&e))},toCodePoint:g},onerror:function(){this.parentNode&&this.parentNode.replaceChild(u(this.alt,!1),this)},parse:function(e,t){t&&"function"!=typeof t||(t={callback:t});return("string"==typeof e?l:d)(e,{callback:t.callback||s,attributes:"function"==typeof t.attributes?t.attributes:h,base:"string"==typeof t.base?t.base:n.base,ext:t.ext||n.ext,size:t.folder||(r=t.size||n.size,"number"==typeof r?r+"x"+r:r),className:t.className||n.className,onerror:t.onerror||n.onerror});var r},replace:m,test:function(n){t.lastIndex=0;var e=t.test(n);return t.lastIndex=0,e}},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},t=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5\udeeb\udeec\udef4-\udefa\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddb4\uddb7\uddba\uddbc-\uddca\uddd0\uddde-\uddff\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,r=/\uFE0F/g,o=String.fromCharCode(8205),i=/[&<>'"]/g,a=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,c=String.fromCharCode;return n;function u(n,e){return document.createTextNode(e?n.replace(r,""):n)}function s(n,e){return"".concat(e.base,e.size,"/",n,e.ext)}function f(n){return g(n.indexOf(o)<0?n.replace(r,""):n)}function d(n,e){for(var r,o,i,c,s,d,l,p,h,m,g,v,$,y=function n(e,t){for(var r,o,i=e.childNodes,c=i.length;c--;)3===(o=(r=i[c]).nodeType)?t.push(r):1!==o||"ownerSVGElement"in r||a.test(r.nodeName.toLowerCase())||n(r,t);return t}(n,[]),b=y.length;b--;){for(i=!1,c=document.createDocumentFragment(),d=(s=y[b]).nodeValue,p=0;l=t.exec(d);){if((h=l.index)!==p&&c.appendChild(u(d.slice(p,h),!0)),v=f(g=l[0]),p=h+g.length,$=e.callback(v,e),v&&$){for(o in(m=new Image).onerror=e.onerror,m.setAttribute("draggable","false"),r=e.attributes(g,v))r.hasOwnProperty(o)&&0!==o.indexOf("on")&&!m.hasAttribute(o)&&m.setAttribute(o,r[o]);m.className=e.className,m.alt=g,m.src=$,i=!0,c.appendChild(m)}m||c.appendChild(u(g,!1)),m=null}i&&(p<d.length&&c.appendChild(u(d.slice(p),!0)),s.parentNode.replaceChild(c,s))}return n}function l(n,e){return m(n,(function(n){var t,r,o=n,a=f(n),c=e.callback(a,e);if(a&&c){for(r in o="<img ".concat('class="',e.className,'" ','draggable="false" ','alt="',n,'"',' src="',c,'"'),t=e.attributes(n,a))t.hasOwnProperty(r)&&0!==r.indexOf("on")&&-1===o.indexOf(" "+r+"=")&&(o=o.concat(" ",r,'="',t[r].replace(i,p),'"'));o=o.concat("/>")}return o}))}function p(n){return e[n]}function h(){return null}function m(n,e){return String(n).replace(t,e)}function g(n,e){for(var t=[],r=0,o=0,i=0;i<n.length;)r=n.charCodeAt(i++),o?(t.push((65536+(o-55296<<10)+(r-56320)).toString(16)),o=0):55296<=r&&r<=56319?o=r:t.push(r.toString(16));return t.join(e||"-")}}(),st=new RegExp("(\\\\?)`([^`]+)`","g"),ft={},dt={},lt=new RegExp("\\b[a-z]{2,5}://\\S+","g"),pt=new RegExp("\\[([^\\]]+)\\]\\(([^)]+)\\)","g"),ht=new RegExp("(^|\\s)(\\\\?)(\\*+)(\\w[^<]*?)\\3","g"),mt={":confused:":":/",":disappointed:":":(",":grin:":";D",":heart:":"&lt;3",":slight_smile:":":)",":smiley:":":D",":stuck_out_tongue:":":P",":wink:":";)"},gt=new RegExp("(^|\\s)(:\\w+:|"+Object.keys(mt).map((function(n){return de(mt[n])})).join("|")+")(?=\\W|$)","gi"),vt={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"};function $t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single";return window.__emojiList&&(window.__emojiList.forEach((function(n){if(":"==(n.shortname||"")[0]){if(mt[n.shortname]&&(dt[mt[n.shortname]]=n),dt[n.shortname]=n,n.category){var e=":"+n.category;ft[e]||(ft[e]=[]),ft[e].push(n)}n.shortname.match(/(_|:)\w/g).forEach((function(e){ft[e]||(ft[e]=[]),ft[e].push(n)})),delete n.category,delete n.html,delete n.order,delete n.unicode}})),delete window.__emojiList),"group"==e?ft[n]||[]:dt[n]||{}}function yt(n){n=n.replace(/[&<>"']/g,(function(n){return vt[n]}));var e=0;return n=n.replace(/^&gt;\s(.*)/,(function(n,e){return"<blockquote>"+e+"</blockquote>"})).replace(ht,(function(n,e,t,r,o){return 1==r.length?t?n.replace(/^\\/,""):e+"<em>"+o+"</em>":2==r.length?t?n.replace(/^\\/,""):e+"<strong>"+o+"</strong>":3==r.length?t?n.replace(/^\\/,""):e+"<em><strong>"+o+"</strong></em>":n})).replace(pt,(function(n,t,r){e++;var o=r.substring(0,1),i=-1!=["/","#"].indexOf(o)?"_self":"_blank";return"_self"==i&&"#"!=o&&(r=Ke(r)),'<a href="'+r+'" target="'+i+'">'+t+"</a>"})).replace(st,(function(n,e,t){return e?n.replace(/^\\/,""):"<code>"+t+"</code>"})),e||(n=n.replace(lt,(function(n){var e=n.match(/^(.*?)(&\w+;|\W)?$/);return'<a href="'+e[1]+'" target="_blank">'+e[1].replace(/^https:\/\//,"")+"</a>"+(e[2]||"")})).replace(/mailto:(\S+)/,(function(n,e){return-1!=n.indexOf('">')?n:'<a href="'+n+'" target="_blank">'+e+"</a>"}))),n=ut.parse(n.replace(gt,(function(n,e,t){return e+($t(t).emoji||t)})))}var bt={en:{"Test %1":"Test %1"}};function wt(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o=String(bt.en[n]||n);return o.replace(/(%?)%(\d+)/g,(function(n,e,r){return"%"==e?e+r:t[r-1]}))}function _t(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return yt(wt.apply(void 0,[n].concat(t)))}function xt(n,e){return n.frozen?wt(n.frozen):n==e?wt("Connection messages."):(e.frozen?wt(e.frozen):e.topic)||e.is_private&&wt("Private conversation.")||wt("No topic is set.")}function kt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function Et(n,e,t){var r=n.slice();return r[21]=e[t],r}function Ot(n,e,t){var r=n.slice();return r[18]=e[t],r}function Ct(n){var e,t,r,o,i,a,c,u,s=(n[18].name||n[18].connection_id)+"",f=Ht(n[18])+"",d=new Ne({props:{name:"network-wired"}});return{c:function(){Wn(d.$$.fragment),e=J(),t=V("span"),r=Z(s),o=J(),i=V("b"),a=Z(f),en(i,"class","unread"),i.hidden=c=!n[18].unread},m:function(n,c){Yn(d,n,c),F(n,e,c),F(n,t,c),G(t,r),F(n,o,c),F(n,i,c),G(i,a),u=!0},p:function(n,e){(!u||16&e)&&s!==(s=(n[18].name||n[18].connection_id)+"")&&rn(r,s),(!u||16&e)&&f!==(f=Ht(n[18])+"")&&rn(a,f),(!u||16&e&&c!==(c=!n[18].unread))&&(i.hidden=c)},i:function(n){u||(Bn(d.$$.fragment,n),u=!0)},o:function(n){Hn(d.$$.fragment,n),u=!1},d:function(n){Vn(d,n),n&&W(e),n&&W(t),n&&W(o),n&&W(i)}}}function Rt(n){var e,t,r,o,i,a,c,u,s=n[21].name+"",f=Ht(n[21])+"",d=new Ne({props:{name:n[21].is_private?"user":"user-friends"}});return{c:function(){Wn(d.$$.fragment),e=J(),t=V("span"),r=Z(s),o=J(),i=V("b"),a=Z(f),en(i,"class","unread"),i.hidden=c=!n[21].unread},m:function(n,c){Yn(d,n,c),F(n,e,c),F(n,t,c),G(t,r),F(n,o,c),F(n,i,c),G(i,a),u=!0},p:function(n,e){var t={};16&e&&(t.name=n[21].is_private?"user":"user-friends"),d.$set(t),(!u||16&e)&&s!==(s=n[21].name+"")&&rn(r,s),(!u||16&e)&&f!==(f=Ht(n[21])+"")&&rn(a,f),(!u||16&e&&c!==(c=!n[21].unread))&&(i.hidden=c)},i:function(n){u||(Bn(d.$$.fragment,n),u=!0)},o:function(n){Hn(d.$$.fragment,n),u=!1},d:function(n){Vn(d,n),n&&W(e),n&&W(t),n&&W(o),n&&W(i)}}}function St(n){var e,t=new Ze({props:{href:n[21].path,class:Bt(n[18],n[21]),$$slots:{default:[Rt]},$$scope:{ctx:n}}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};16&e&&(r.href=n[21].path),16&e&&(r.class=Bt(n[18],n[21])),16777232&e&&(r.$$scope={dirty:e,ctx:n}),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function Nt(n){for(var e,t,r,o=new Ze({props:{href:n[18].path,class:Bt(n[18],n[18]),$$slots:{default:[Ct]},$$scope:{ctx:n}}}),i=n[18].dialogs.toArray(),a=[],c=0;c<i.length;c+=1)a[c]=St(Et(n,i,c));var u=function(n){return Hn(a[n],1,1,(function(){a[n]=null}))};return{c:function(){Wn(o.$$.fragment),e=J();for(var n=0;n<a.length;n+=1)a[n].c();t=Q()},m:function(n,i){Yn(o,n,i),F(n,e,i);for(var c=0;c<a.length;c+=1)a[c].m(n,i);F(n,t,i),r=!0},p:function(n,e){var r={};if(16&e&&(r.href=n[18].path),16&e&&(r.class=Bt(n[18],n[18])),16777232&e&&(r.$$scope={dirty:e,ctx:n}),o.$set(r),16&e){var c;for(i=n[18].dialogs.toArray(),c=0;c<i.length;c+=1){var s=Et(n,i,c);a[c]?(a[c].p(s,e),Bn(a[c],1)):(a[c]=St(s),a[c].c(),Bn(a[c],1),a[c].m(t.parentNode,t))}for(Un(),c=i.length;c<a.length;c+=1)u(c);zn()}},i:function(n){if(!r){Bn(o.$$.fragment,n);for(var e=0;e<i.length;e+=1)Bn(a[e]);r=!0}},o:function(n){Hn(o.$$.fragment,n),a=a.filter(Boolean);for(var e=0;e<a.length;e+=1)Hn(a[e]);r=!1},d:function(n){Vn(o,n),n&&W(e),Y(a,n),n&&W(t)}}}function Dt(n){var e,t,r,o,i,a,c,u=Ht(n[5])+"",s=new Ne({props:{name:n[5].unread?"bell":"bell-slash"}});return{c:function(){Wn(s.$$.fragment),e=J(),(t=V("span")).textContent="".concat(wt("Notifications")),r=J(),o=V("b"),i=Z(u),en(o,"class","unread"),o.hidden=a=!n[5].unread},m:function(n,a){Yn(s,n,a),F(n,e,a),F(n,t,a),F(n,r,a),F(n,o,a),G(o,i),c=!0},p:function(n,e){var t={};32&e&&(t.name=n[5].unread?"bell":"bell-slash"),s.$set(t),(!c||32&e)&&u!==(u=Ht(n[5])+"")&&rn(i,u),(!c||32&e&&a!==(a=!n[5].unread))&&(o.hidden=a)},i:function(n){c||(Bn(s.$$.fragment,n),c=!0)},o:function(n){Hn(s.$$.fragment,n),c=!1},d:function(n){Vn(s,n),n&&W(e),n&&W(t),n&&W(r),n&&W(o)}}}function Mt(n){var e,t,r,o=new Ne({props:{name:"search"}});return{c:function(){Wn(o.$$.fragment),e=J(),(t=V("span")).textContent="".concat(wt("Search"))},m:function(n,i){Yn(o,n,i),F(n,e,i),F(n,t,i),r=!0},p:O,i:function(n){r||(Bn(o.$$.fragment,n),r=!0)},o:function(n){Hn(o.$$.fragment,n),r=!1},d:function(n){Vn(o,n),n&&W(e),n&&W(t)}}}function Pt(n){var e,t,r,o=new Ne({props:{name:"comment"}});return{c:function(){Wn(o.$$.fragment),e=J(),(t=V("span")).textContent="".concat(wt("Add conversation"))},m:function(n,i){Yn(o,n,i),F(n,e,i),F(n,t,i),r=!0},p:O,i:function(n){r||(Bn(o.$$.fragment,n),r=!0)},o:function(n){Hn(o.$$.fragment,n),r=!1},d:function(n){Vn(o,n),n&&W(e),n&&W(t)}}}function At(n){var e,t,r,o=new Ne({props:{name:"network-wired"}});return{c:function(){Wn(o.$$.fragment),e=J(),(t=V("span")).textContent="".concat(wt("Add connection"))},m:function(n,i){Yn(o,n,i),F(n,e,i),F(n,t,i),r=!0},p:O,i:function(n){r||(Bn(o.$$.fragment,n),r=!0)},o:function(n){Hn(o.$$.fragment,n),r=!1},d:function(n){Vn(o,n),n&&W(e),n&&W(t)}}}function jt(n){var e,t,r,o=new Ne({props:{name:"user-cog"}});return{c:function(){Wn(o.$$.fragment),e=J(),(t=V("span")).textContent="".concat(wt("Account"))},m:function(n,i){Yn(o,n,i),F(n,e,i),F(n,t,i),r=!0},p:O,i:function(n){r||(Bn(o.$$.fragment,n),r=!0)},o:function(n){Hn(o.$$.fragment,n),r=!1},d:function(n){Vn(o,n),n&&W(e),n&&W(t)}}}function Tt(n){var e,t,r,o=new Ne({props:{name:"question-circle"}});return{c:function(){Wn(o.$$.fragment),e=J(),(t=V("span")).textContent="".concat(wt("Help"))},m:function(n,i){Yn(o,n,i),F(n,e,i),F(n,t,i),r=!0},p:O,i:function(n){r||(Bn(o.$$.fragment,n),r=!0)},o:function(n){Hn(o.$$.fragment,n),r=!1},d:function(n){Vn(o,n),n&&W(e),n&&W(t)}}}function Lt(n){var e,t=new Ze({props:{href:"/settings",$$slots:{default:[It]},$$scope:{ctx:n}}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};16777216&e&&(r.$$scope={dirty:e,ctx:n}),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function It(n){var e,t,r,o=new Ne({props:{name:"tools"}});return{c:function(){Wn(o.$$.fragment),e=J(),(t=V("span")).textContent="".concat(wt("Settings"))},m:function(n,i){Yn(o,n,i),F(n,e,i),F(n,t,i),r=!0},p:O,i:function(n){r||(Bn(o.$$.fragment,n),r=!0)},o:function(n){Hn(o.$$.fragment,n),r=!1},d:function(n){Vn(o,n),n&&W(e),n&&W(t)}}}function Ut(n){var e,t,r,o=new Ne({props:{name:"power-off"}});return{c:function(){Wn(o.$$.fragment),e=J(),(t=V("span")).textContent="".concat(wt("Log out"))},m:function(n,i){Yn(o,n,i),F(n,e,i),F(n,t,i),r=!0},p:O,i:function(n){r||(Bn(o.$$.fragment,n),r=!0)},o:function(n){Hn(o.$$.fragment,n),r=!1},d:function(n){Vn(o,n),n&&W(e),n&&W(t)}}}function zt(n){for(var e,t,r,o,i,a,c,u,s,f,d,l,p,h,g,v,$,y,b,w,_,x,k,E,O=(n[4].email||wt("Account"))+"",C=n[4].roles.has("admin"),R=new Ne({props:{name:"search"}}),S=n[4].connections.toArray(),D=[],M=0;M<S.length;M+=1)D[M]=Nt(Ot(n,S,M));var P=function(n){return Hn(D[n],1,1,(function(){D[n]=null}))},A=new Ze({props:{href:"/chat",$$slots:{default:[Dt]},$$scope:{ctx:n}}}),j=new Ze({props:{href:"/search",$$slots:{default:[Mt]},$$scope:{ctx:n}}}),T=new Ze({props:{href:"/settings/conversation",$$slots:{default:[Pt]},$$scope:{ctx:n}}}),L=new Ze({props:{href:"/settings/connection",$$slots:{default:[At]},$$scope:{ctx:n}}}),I=new Ze({props:{href:"/settings/account",$$slots:{default:[jt]},$$scope:{ctx:n}}}),U=new Ze({props:{href:"/help",$$slots:{default:[Tt]},$$scope:{ctx:n}}}),z=C&&Lt(n),B=new Ze({props:{href:"/api/user/logout.html",native:!0,$$slots:{default:[Ut]},$$scope:{ctx:n}}});return{c:function(){e=V("div"),t=V("form"),r=V("input"),i=J(),a=V("label"),Wn(R.$$.fragment),c=J(),u=V("nav"),(s=V("h3")).textContent="".concat(wt("Conversations")),f=J();for(var m=0;m<D.length;m+=1)D[m].c();d=J(),l=V("h3"),p=Z(O),h=J(),Wn(A.$$.fragment),g=J(),Wn(j.$$.fragment),v=J(),Wn(T.$$.fragment),$=J(),Wn(L.$$.fragment),y=J(),Wn(I.$$.fragment),b=J(),Wn(U.$$.fragment),w=J(),z&&z.c(),_=J(),Wn(B.$$.fragment),en(r,"type","text"),en(r,"id","search_input"),en(r,"placeholder",o=n[3]?wt("Search..."):wt("Convos")),en(a,"for","search_input"),en(t,"class","sidebar__header"),en(u,"class","sidebar-left__nav"),cn(u,"is-filtering",n[1].length>0),en(e,"class","sidebar-left")},m:function(o,m,x){F(o,e,m),G(e,t),G(t,r),on(r,n[1]),G(t,i),G(t,a),Yn(R,a,null),G(e,c),G(e,u),G(u,s),G(u,f);for(var O=0;O<D.length;O+=1)D[O].m(u,null);G(u,d),G(u,l),G(l,p),G(u,h),Yn(A,u,null),G(u,g),Yn(j,u,null),G(u,v),Yn(T,u,null),G(u,$),Yn(L,u,null),G(u,y),Yn(I,u,null),G(u,b),Yn(U,u,null),G(u,w),z&&z.m(u,null),G(u,_),Yn(B,u,null),n[17](u),k=!0,x&&N(E),E=[X(r,"input",n[16]),X(r,"blur",n[8]),X(r,"focus",n[9]),X(r,"keydown",n[11]),X(t,"submit",qt),X(u,"click",n[10])]},p:function(n,e){var t=m(e,1)[0];if((!k||8&t&&o!==(o=n[3]?wt("Search..."):wt("Convos")))&&en(r,"placeholder",o),2&t&&r.value!==n[1]&&on(r,n[1]),16&t){var i;for(S=n[4].connections.toArray(),i=0;i<S.length;i+=1){var a=Ot(n,S,i);D[i]?(D[i].p(a,t),Bn(D[i],1)):(D[i]=Nt(a),D[i].c(),Bn(D[i],1),D[i].m(u,d))}for(Un(),i=S.length;i<D.length;i+=1)P(i);zn()}(!k||16&t)&&O!==(O=(n[4].email||wt("Account"))+"")&&rn(p,O);var c={};16777248&t&&(c.$$scope={dirty:t,ctx:n}),A.$set(c);var s={};16777216&t&&(s.$$scope={dirty:t,ctx:n}),j.$set(s);var f={};16777216&t&&(f.$$scope={dirty:t,ctx:n}),T.$set(f);var l={};16777216&t&&(l.$$scope={dirty:t,ctx:n}),L.$set(l);var h={};16777216&t&&(h.$$scope={dirty:t,ctx:n}),I.$set(h);var g={};16777216&t&&(g.$$scope={dirty:t,ctx:n}),U.$set(g),16&t&&(C=n[4].roles.has("admin")),C?z?(z.p(n,t),Bn(z,1)):((z=Lt(n)).c(),Bn(z,1),z.m(u,_)):z&&(Un(),Hn(z,1,1,(function(){z=null})),zn());var v={};16777216&t&&(v.$$scope={dirty:t,ctx:n}),B.$set(v),2&t&&cn(u,"is-filtering",n[1].length>0)},i:function(t){if(!k){Bn(R.$$.fragment,t);for(var r=0;r<S.length;r+=1)Bn(D[r]);Bn(A.$$.fragment,t),Bn(j.$$.fragment,t),Bn(T.$$.fragment,t),Bn(L.$$.fragment,t),Bn(I.$$.fragment,t),Bn(U.$$.fragment,t),Bn(z),Bn(B.$$.fragment,t),Sn((function(){x||(x=Kn(e,ct,n[0],!0)),x.run(1)})),k=!0}},o:function(t){Hn(R.$$.fragment,t),D=D.filter(Boolean);for(var r=0;r<D.length;r+=1)Hn(D[r]);Hn(A.$$.fragment,t),Hn(j.$$.fragment,t),Hn(T.$$.fragment,t),Hn(L.$$.fragment,t),Hn(I.$$.fragment,t),Hn(U.$$.fragment,t),Hn(z),Hn(B.$$.fragment,t),x||(x=Kn(e,ct,n[0],!1)),x.run(0),k=!1},d:function(t){t&&W(e),Vn(R),Y(D,t),Vn(A),Vn(j),Vn(T),Vn(L),Vn(I),Vn(U),z&&z.d(),Vn(B),n[17](null),t&&x&&x.end(),N(E)}}}function Bt(n,e){var t=[e.dialog_id?"for-dialog":"for-connection"];return(e.frozen||"connected"!=n.state)&&t.push("is-frozen"),e.errors&&t.push("has-errors"),t.join(" ")}function Ht(n){return n.unread>60?"60+":n.unread||0}var qt=function(n){return n.preventDefault()};function Kt(n,e,t){var r,o,i,a;j(n,Le,(function(n){return t(14,o=n)})),j(n,je,(function(n){return t(15,i=n)}));var c=e.transition,u=yn("user");j(n,u,(function(n){return t(4,r=n)}));var s=r.notifications;j(n,s,(function(n){return t(5,a=n)}));var f,d=0,l="",p=!1,h=[];function m(){t(3,p=!1),fe(f,"a",(function(n){return n.classList.remove("has-focus")})),setTimeout((function(){t(1,l="");var n=document.activeElement;n&&te(n,f)&&fe(f,"a.has-path",(function(n){return n.focus()}))}),100)}function g(){if(f){var n=l.match(/^\W+/)?"":"\\b\\W*",e=new RegExp(n+de(l),"i"),r={};t(12,d=0),t(3,p=!0),t(13,h=[]),fe(f,"a",(function(n,o){var i=n.classList;!l.length&&i.contains("has-path")&&t(12,d=o),i.remove("has-focus");var a=!l.length||!r[n.href]&&n.textContent.match(e);a&&h.push(n),he(n,a),r[n.href]=!0})),fe(f,".for-connection",(function(n){for(var e=n;(e=e.nextElementSibling)&&e.classList.contains("for-dialog");)if(he(e,"is-visible"))return he(n,!0)})),fe(f,"h3",(function(n){for(var e=n;(e=e.nextElementSibling)&&!ge(e,"h3");)if(he(e,"is-visible"))return he(n,!0);he(n,!1)}))}}return n.$set=function(n){"transition"in n&&t(0,c=n.transition)},n.$$.update=function(){2&n.$$.dirty&&g(),16388&n.$$.dirty&&f&&m(),12288&n.$$.dirty&&h[d]&&h[d].classList.add("has-focus")},[c,l,f,p,r,a,u,s,m,g,function(n){(n.target.className||"").match(/network|user/)&&setTimeout((function(){U(je,i="settings")}),50)},function(n){if(13==n.keyCode)return n.preventDefault(),m(),void(h[d]&&Be(h[d].href));var e=38==n.keyCode?-1:40==n.keyCode?1:0;e&&(n.preventDefault(),h[d]&&h[d].classList.remove("has-focus"),t(12,d+=n.ctrlKey?4*e:e)),d<0&&t(12,d=h.length-1),d>=h.length&&t(12,d=0)},d,h,o,i,function(){l=this.value,t(1,l)},function(n){_n[n?"unshift":"push"]((function(){t(2,f=n)}))}]}var Gt=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(kt()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Kt,zt,M,{transition:0}),t}return i}(Qn);var Ft=function(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n},Wt=function(){function e(t){var r=this;n(this,e),this._url=new URL("http://localhost"),Object.defineProperty(this,"href",{get:function(){return r._url.href.replace(/^http:/,r.protocol)},set:function(n){r._url.href=n.replace(/^\w+:/,"http:"),r.protocol=n.match(/^\w+:/)[0]}}),["host","pathname","password","searchParams","username"].forEach((function(n){Object.defineProperty(r,n,{get:function(){return r._url[n]},set:function(e){r._url[n]=e}})})),this.href=t}return t(e,[{key:"fromForm",value:function(n){var e=n.server.value;return n.nick.value.length&&this.searchParams.append("nick",n.nick.value),this.searchParams.append("tls",n.tls.checked?"1":"0"),this.searchParams.append("tls_verify",n.tls_verify&&n.tls_verify.checked?"1":"0"),this.host=e.match(/:\d+$/)?e:e+":6667",this.password=n.password.value,this.username=n.username.value,this}},{key:"toString",value:function(){return this.href.replace(/^http:/,this.protocol)}}]),e}();function Yt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var Vt=function(n,e){return n.name.localeCompare(e.name)},Zt=function(e){s(i,e);var r,o=(r=i,function(){var n,e=c(r);if(Yt()){var t=c(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return a(this,n)});function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,i),(e=o.call(this,t)).sorter=r.sorter||Vt,e._sort(),e}return t(i,[{key:"filter",value:function(n){return Array.from(this.values()).filter(n)}},{key:"set",value:function(n,e){v(c(i.prototype),"set",this).call(this,n,e),this._sort()}},{key:"toArray",value:function(){return Array.from(this.values())}},{key:"_sort",value:function(){var n=this,e=Array.from(this.entries()),t=this.sorter;return this.clear(),e.sort((function(n,e){return t(n[1],e[1])})).forEach((function(e){var t=m(e,2),r=t[0],o=t[1];return v(c(i.prototype),"set",n).call(n,r,o)})),e}}]),i}(w(Map));function Jt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var Qt={0:"Jan",1:"Feb",2:"March",3:"Apr",4:"May",5:"Jun",6:"July",7:"Aug",8:"Sept",9:"Oct",10:"Nov",11:"Dec"},Xt=function(e){s(i,e);var r,o=(r=i,function(){var n,e=c(r);if(Jt()){var t=c(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return a(this,n)});function i(e){return n(this,i),"string"!=typeof e||e.match(/Z$/)||(e+="Z"),o.call(this,e||new Date)}return t(i,[{key:"getHumanDate",value:function(){var n=this.getMonthAbbr()+" "+this.getDate(),e=new i;return this.getYear()==e.getYear()||(n+=", "+this.getFullYear()),n}},{key:"getHM",value:function(){return[this.getHours(),this.getMinutes()].map((function(n){return n<10?"0"+n:n})).join(":")}},{key:"getMonthAbbr",value:function(){return Qt[this.getMonth()]||""}},{key:"toEpoch",value:function(){return this.getTime()/1e3}}]),i}(w(Date)),nr={b:"channel_ban",C:"ctcp_block",c:"colour_filter",e:"ban_exemption",F:"enable_forwarding",f:"forward",g:"free_invite",I:"invite_exemption",j:"join_throttle",k:"password",l:"join_limit",L:"large_ban_list",m:"moderated",n:"prevent_external_send",P:"permanent",p:"privat",Q:"block_forwarded_users",q:"quiet",r:"block_unidentified",s:"secret",S:"secure_connection_only",t:"ops_topic"},er={o:"@",v:"+"},tr={a:"admin",B:"bot",h:"half_operator",i:"invisible",I:"whois_hide_online",o:"operator",p:"whois_hide_channels",R:"privmsg_from_registered_only",r:"registered",S:"service_bot",T:"ctcp_block",t:"vhost",v:"voice",W:"whois_notifications",x:"cloaked_hostname",z:"secure_connection",Z:"secure_connection_only"};function rr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function or(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?rr(Object(t),!0).forEach((function(e){Ft(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rr(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function ir(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var ar=new RegExp("^[#&]"),cr=function(n,e){return e.modes.operator||!1-n.modes.operator||e.modes.voice||!1-n.modes.voice||n.name.localeCompare(e.name)},ur=0,sr=function(e){s(f,e);var r,o,i,u=(r=f,function(){var n,e=c(r);if(ir()){var t=c(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return a(this,n)});function f(e){var t;n(this,f),t=u.call(this);var r=["","chat"];return e.connection_id&&r.push(e.connection_id),e.dialog_id&&r.push(e.dialog_id),t.prop("ro","_participants",new Zt([],{sorter:cr})),t.prop("ro","api",e.api),t.prop("ro","color",me(e.dialog_id||e.connection_id||"")),t.prop("ro","connection_id",e.connection_id||""),t.prop("ro","events",e.events),t.prop("ro","is_private",(function(){return t.dialog_id&&!ar.test(t.name)})),t.prop("ro","path",r.map((function(n){return encodeURIComponent(n)})).join("/")),t.prop("rw","endOfHistory",!1),t.prop("rw","errors",0),t.prop("rw","first_time",!1),t.prop("rw","last_active",new Xt(e.last_active)),t.prop("rw","last_read",new Xt(e.last_read)),t.prop("rw","messages",[]),t.prop("rw","modes",{}),t.prop("rw","name",e.name||e.dialog_id||e.connection_id||"ERR"),t.prop("rw","status","pending"),t.prop("rw","topic",e.topic||""),t.prop("rw","unread",e.unread||0),e.hasOwnProperty("dialog_id")?(t.prop("ro","dialog_id",e.dialog_id),t.prop("rw","frozen",e.frozen||"")):t.prop("ro","frozen",(function(){return t._calculateFrozen()})),e.dialog_id&&t.prop("persist","wantNotifications",!1,{key:e.dialog_id+":wantNotifications",lazy:!0}),t._addOperations(),t}return t(f,[{key:"addMessage",value:function(n){if(n.from&&-1!=["action","error","private"].indexOf(n.type)){if(n.highlight||this.is_private||this.wantNotifications){var e=n.from==this.name?n.from:wt("%1 in %2",n.from,this.name);this.events.notifyUser(e,n.message)}this.update({unread:this.unread+1})}return this.addMessages("push",[n])}},{key:"addMessages",value:function(n,e){var t=0,r=e.length;switch(n){case"push":t=this.messages.length,r=(e=this.messages.concat(e)).length;break;case"unshift":e=e.concat(this.messages)}for(var o=t;o<r;o++){var i=e[o];if(!i.hasOwnProperty("markdown")){if(!i.from){var a=[!0,this.connection_id||"Convos","Convos"];i.internal=a[0],i.from=a[1],i.fromId=a[2]}i.fromId||(i.fromId=i.from.toLowerCase()),i.type||(i.type="notice"),i.vars&&(i.message=wt.apply(void 0,[i.message].concat(E(i.vars)))),i.id="msg_"+ ++ur,i.color="Convos"==i.fromId?"inherit":me(i.from.toLowerCase()),i.ts=new Xt(i.ts),i.embeds=(i.message.match(/https?:\/\/(\S+)/g)||[]).map((function(n){return n.replace(/(\W)?$/,"")})),i.markdown=yt(i.message)}}return this.update({messages:e}),this}},{key:"is",value:function(n){return"connection"==n?!this.dialog_id:"conversation"==n?this.dialog_id&&!this.is("notifications"):"frozen"==n?this.frozen&&!0:"locked"==n?"Invalid password."==this.frozen:"notifications"!=n&&("private"==n?this.is_private:"search"!=n&&("unread"==n?this.unread&&!0:this.status==n))}},{key:"load",value:(i=ee(Xn.mark((function n(){var e,t,r,o,i,a=this,c=arguments;return Xn.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=c.length>0&&void 0!==c[0]?c[0]:{},this.messagesOp&&!this.is("loading")){n.next=3;break}return n.abrupt("return",this);case 3:if(!(t="maybe"==e.after?"after":"maybe"==e.before?"before":"")||!this.is("success")){n.next=6;break}return n.abrupt("return",this);case 6:if("after"==t&&delete this.participantsLoaded,"maybe"!=(r=or({},e,{connection_id:this.connection_id,dialog_id:this.dialog_id})).after||r.limit||(r.limit=200),["after","before"].forEach((function(n){if("maybe"==r[n]&&(r[n]=a._realMessage("before"==n?0:-1)),"number"==typeof r[n]&&(r[n]=a._realMessage(r[n])),ce(r[n],"object")&&(r[n]=r[n].ts.toISOString()),ce(r[n],"undef"))return delete r[n]})),!((o=this.messages.length)&&r.before&&this.endOfHistory)){n.next=13;break}return n.abrupt("return");case 13:return this.update({status:"loading"}),n.next=16,this.messagesOp.perform(r);case 16:if(i=this.messagesOp.res.body,this.addMessages(r.before?"unshift":"push",i.messages||[]),this.update({status:this.messagesOp.status}),this.messages.length<=10&&this.update({first_time:!0}),o&&r.before&&i.end&&this.update({endOfHistory:!0}),"after"!=t||i.end){n.next=25;break}return this.update({messages:[]}),n.next=25,this.load({});case 25:return n.abrupt("return",this);case 26:case"end":return n.stop()}}),n,this)}))),function(){return i.apply(this,arguments)})},{key:"findParticipant",value:function(n){return this._participants.get(this._participantId(ce(n,"undef")?"":n))}},{key:"participants",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.forEach((function(e){e.nick||(e.nick=e.name||"");var t=n._participantId(e.nick),r=n._participants.get(t);r&&(Object.keys(e).forEach((function(n){r[n]=e[n]})),e=r),e.modes||(e.modes={}),n._calculateModes(tr,e.mode,e.modes),n._participants.set(t,or({name:e.nick},e,{color:me(t),id:t,ts:new Xt}))})),e.length&&this.update({force:!0}),this._participants.toArray()}},{key:"send",value:function(n,e){this.events.send({connection_id:this.connection_id,dialog_id:this.dialog_id||"",message:n},e?this[e].bind(this):null)}},{key:"setLastRead",value:(o=ee(Xn.mark((function n(){return Xn.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.setLastReadOp){n.next=2;break}return n.abrupt("return");case 2:return this.update({errors:0,unread:0}),n.next=5,this.setLastReadOp.perform({connection_id:this.connection_id,dialog_id:this.dialog_id});case 5:this.update(this.setLastReadOp.res.body||{});case 6:case"end":return n.stop()}}),n,this)}))),function(){return o.apply(this,arguments)})},{key:"update",value:function(n){return this._loadParticipants(),v(c(f.prototype),"update",this).call(this,n)}},{key:"wsEventMode",value:function(n){n.nick?(this.participants([{nick:n.nick,mode:n.mode}]),this.addMessage({message:"%1 got mode %2 from %3.",vars:[n.nick,n.mode,n.from]})):this.update({modes:this._calculateModes(nr,n.mode,this.modes)})}},{key:"wsEventNickChange",value:function(n){var e=this._participantId(n.old_nick);if(this._participants.has(e)&&n.old_nick!=n.new_nick){this._participants.delete(e),this.participants([{nick:n.new_nick}]);var t="me"==n.type?"You (%1) changed nick to %2.":"%1 changed nick to %2.";this.addMessage({message:t,vars:[n.old_nick,n.new_nick]})}}},{key:"wsEventPart",value:function(n){var e=this.findParticipant(n.nick);e&&!e.me&&(this._participants.delete(this._participantId(n.nick)),this.update({force:!0}),this.addMessage(this._partMessage(n)))}},{key:"wsEventSentClear",value:function(n){n.errors||(this.update({messages:[]}),this.addMessage({message:"History was cleared for %1.",vars:[this.name]}))}},{key:"wsEventSentNames",value:function(n){this._updateParticipants(n);var e={message:"Participants (%1): %2",vars:[]},t=this._participants.toArray().map((function(n){return(er[n.mode]||n.mode||"")+n.name}));t.length>1&&(e.message+=" and %3.",e.vars[2]=t.pop()),e.vars[0]=t.length,e.vars[1]=t.join(", "),this.addMessage(e)}},{key:"wsEventSentTopic",value:function(n){var e=n.topic?"Topic for %1 is: %2":"No topic is set for %1.";this.addMessage({message:e,vars:[this.name,n.topic]}),this.update({topic:n.topic})}},{key:"_addOperations",value:function(){this.prop("ro","messagesOp",this.api.operation("dialogMessages")),this.prop("ro","setLastReadOp",this.api.operation("setDialogLastRead"))}},{key:"_calculateModes",value:function(n,e,t){var r=(e||"").match(/^(\+|-)?(.*)/)||["","+",""],o=m(r,3),i=(o[0],o[1]);o[2].split("").forEach((function(e){t[n[e]||e]="-"!=i}))}},{key:"_calculateFrozen",value:function(){return""}},{key:"_loadParticipants",value:function(){if(!this.participantsLoaded&&this.dialog_id&&this.messagesOp&&!this.is("frozen")&&this.messagesOp.is("success"))return this.participantsLoaded=!0,this.is_private?this.send("/ison","_noop"):this.send("/names","_updateParticipants")}},{key:"_noop",value:function(){}},{key:"_participantId",value:function(n){return n.toLowerCase()}},{key:"_partMessage",value:function(n){var e={message:"%1 parted.",vars:[n.nick]};return n.kicker?(e.message="%1 was kicked by %2"+(n.message?": %3":""),e.vars.push(n.kicker),e.vars.push(n.message)):n.message&&(e.message+=" Reason: %2",e.vars.push(n.message)),e}},{key:"_realMessage",value:function(n){for(var e=-1==n?-1:1,t=this.messages,r=-1==n?this.messages.length-1:0;t[r];){if(!t[r].internal)return t[r];r+=e}return null}},{key:"_updateParticipants",value:function(n){this._participants.clear(),this.participants(n.participants),n.stopPropagation()}}]),f}($e);function fr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function dr(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?fr(Object(t),!0).forEach((function(e){Ft(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fr(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function lr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var pr=function(n,e){return(n.is_private||0)-(e.is_private||0)||n.name.localeCompare(e.name)},hr=function(e){s(i,e);var r,o=(r=i,function(){var n,e=c(r);if(lr()){var t=c(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;n(this,i),(t=o.call(this,e)).prop("ro","dialogs",new Zt([],{sorter:pr})),t.prop("rw","on_connect_commands",e.on_connect_commands||""),t.prop("rw","state",e.state||"queued"),t.prop("rw","wanted_state",e.wanted_state||"connected"),t.prop("rw","url","string"==typeof e.url?new Wt(e.url):e.url);var r=e.me||{},a=r.nick||t.url.searchParams.get("nick")||"";return t.prop("rw","nick",a),t.prop("rw","real_host",r.real_host||t.url.hostname),t.participants([{nick:a}]),t}return t(i,[{key:"ensureDialog",value:function(n){var e=this,t=this.dialogs.get(n.dialog_id);return t?t.update(n):((t=new sr(dr({},n,{connection_id:this.connection_id,api:this.api,events:this.events}))).on("message",(function(n){return e.emit("message",n)})),t.on("update",(function(){return e.update({force:!0})})),this._addDefaultParticipants(t),this.dialogs.set(t.dialog_id,t),this.update({force:!0}),this.emit("channelListChange",t),t)}},{key:"findDialog",value:function(n){return this.dialogs.get(n.dialog_id)}},{key:"is",value:function(n){return this.state==n||v(c(i.prototype),"is",this).call(this,n)}},{key:"removeDialog",value:function(n){var e=this.findDialog(n)||n;return this.dialogs.delete(e.dialog_id),this.emit("channelListChange",e),this.update({force:!0})}},{key:"update",value:function(n){return n.url&&"string"==typeof n.url&&(n.url=new Wt(n.url)),v(c(i.prototype),"update",this).call(this,n)}},{key:"wsEventConnection",value:function(n){this.update({state:n.state}),this.addMessage(n.message?{message:"Connection state changed to %1: %2",vars:[n.state,n.message]}:{message:"Connection state changed to %1.",vars:[n.state]})}},{key:"wsEventFrozen",value:function(n){var e=this.findDialog(n),t=e&&e.frozen;this.ensureDialog(n).participants([{nick:this.nick,me:!0}]),n.frozen&&(e||this).addMessage({message:n.frozen,vars:[]}),t&&!n.frozen&&e.addMessage({message:"Connected.",vars:[]})}},{key:"wsEventMe",value:function(n){this.wsEventNickChange(n),this.update(n)}},{key:"wsEventMessage",value:function(n){return n.dialog_id?this.ensureDialog(n).addMessage(n):this.addMessage(n)}},{key:"wsEventNickChange",value:function(n){var e={old_nick:n.old_nick||this.nick,new_nick:n.new_nick||n.nick,type:n.type};n.old_nick==this.nick&&(e.me=!0),v(c(i.prototype),"wsEventNickChange",this).call(this,e),this.dialogs.forEach((function(n){return n.wsEventNickChange(e)}))}},{key:"wsEventError",value:function(n){var e={message:ie(n)||n.frozen||"Unknown error from %1.",sent:n,type:"error",vars:n.command||[n.message]},t=(n.message||"").match(/^\/j(oin)? (\S+)/);if(t)return this.ensureDialog(dr({},n,{dialog_id:t[2]}));var r=n.dialog_id&&n.frozen?this.ensureDialog(n):this.findDialog(n)||this;r.update({errors:this.errors+1}),r.addMessage(e)}},{key:"wsEventJoin",value:function(n){var e=this.ensureDialog(n),t=n.nick||this.nick;t!=this.nick&&e.addMessage({message:"%1 joined.",vars:[t]}),e.participants([{nick:t}])}},{key:"wsEventPart",value:function(n){if(n.nick==this.nick)return this.removeDialog(n);n.dialog_id||(this.dialogs.forEach((function(e){return e.wsEventPart(n)})),n.stopPropagation())}},{key:"wsEventQuit",value:function(n){this.wsEventPart(n)}},{key:"wsEventSentJoin",value:function(n){this.wsEventJoin(n)}},{key:"wsEventSentList",value:function(n){var e=n.args||"/*/";this.addMessage(n.done?{message:"Found %1 of %2 dialogs from %3.",vars:[n.dialogs.length,n.n_dialogs,e]}:{message:"Found %1 of %2 dialogs from %3, but dialogs are still loading.",vars:[n.dialogs.length,n.n_dialogs,e]})}},{key:"wsEventSentMode",value:function(n){var e=this.findDialog(n)||this,t=(n.command[1]||"").match(/(\W*)(\w)$/);if(!t)return console.log("[wsEventSentMode] Unable to handle message:",n);switch(t.shift(),t[1]){case"":return e.addMessage({message:"%s has mode %s",vars:[n.dialog_id,n.mode]});case"k":return e.addMessage({message:"+"==t[0]?"Key was set.":"Key was unset."});case"b":return this._wsEventSentModeB(n,t)}}},{key:"_wsEventSentModeB",value:function(n,e){var t=this.findDialog(n)||this;if(n.banlist)n.banlist.length||t.addMessage({message:"Ban list is empty."}),n.banlist.forEach((function(n){t.addMessage({message:"Ban mask %1 set by %2 at %3.",vars:[n.mask,n.by,new Date(1e3*n.ts).toLocaleString()]})}));else{var r="+"==e[0]?"set":"removed";t.addMessage({message:"Ban mask %1 ".concat(r,"."),vars:[n.command[2]]})}}},{key:"wsEventSentQuery",value:function(n){this.ensureDialog(n)}},{key:"wsEventSentWhois",value:function(n){var e="%1 (%2)",t=[n.nick,n.host],r=Object.keys(n.channels).sort().map((function(e){return(er[n.channels[e].mode]||"")+e}));n.channels=r,n.idle_for&&r.length?(e+=" has been idle for %3s in %4.",t.push(n.idle_for),t.push(r.join(", "))):n.idle_for&&!r.length?(e+="has been idle for %3s, and is not in any channels.",t.push(n.idle_for)):r.length?(e+=" is active in %3.",t.push(r.join(", "))):e+=" is not in any channels.",(this.findDialog(n)||this).addMessage({message:e,vars:t,sent:n})}},{key:"_addDefaultParticipants",value:function(n){var e=[{nick:this.nick,me:!0}];n.is_private&&e.push({nick:n.name}),n.participants(e)}},{key:"_addOperations",value:function(){this.prop("ro","setLastReadOp",this.api.operation("setConnectionLastRead")),this.prop("ro","messagesOp",this.api.operation("connectionMessages"))}},{key:"_calculateFrozen",value:function(){switch(this.state){case"connected":return"";case"disconnected":return"Disconnected.";case"unreachable":return"Unreachable.";default:return"Connecting..."}}}]),i}(sr),mr=o((function(n){function e(n){for(var e=document.createElement("div"),t=[[n,e]],r=[];t.length;){var o=t.shift(),a=m(o,2),c=a[0],u=a[1],s=void 0,f=void 0,d=i(c);if(null===c||"undefined"==d?d="null":Array.isArray(c)&&(d="array"),"array"==d?((f=function(n){return n}).len=c.length,(s=document.createElement("div")).className="json-array "+(f.len?"has-items":"is-empty")):"object"==d?function(){var n=Object.keys(c).sort();(f=function(e){return n[e]}).len=n.length,(s=document.createElement("div")).className="json-object "+(f.len?"has-items":"is-empty")}():((s=document.createElement("span")).className="json-"+d,s.textContent="null"==d?"null":"boolean"!=d?c:c?"true":"false"),f){var l=document.createElement("span");if(l.className="json-type",l.textContent=f.len?d+"["+f.len+"]":"{}",u.appendChild(l),-1!=r.indexOf(c))e.classList.add("has-recursive-items"),s.classList.add("is-seen");else{for(var p=0;p<f.len;p++){var h=f(p),g=document.createElement("div"),v=document.createElement("span");v.className="json-key",v.textContent=h,g.appendChild(v),s.appendChild(g),t.push([c[h],g])}r.push(c)}}u.className="json-item "+s.className.replace(/^json-/,"contains-"),u.appendChild(s)}return e}try{n.exports={jsonhtmlify:e}}catch(n){window.jsonhtmlify=e}})).jsonhtmlify;function gr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function vr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var $r=function(e){s(i,e);var r,o=(r=i,function(){var n,e=c(r);if(vr()){var t=c(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),(t=o.call(this)).name="EmbedMaker",t.prop("persist","disableInstagram",!1),t.prop("persist","disableTwitter",!1),t.prop("persist","expandUrlToMedia",!0),t.prop("ro","api",e.api),t.prop("ro","embeds",{}),t}return t(i,[{key:"render",value:function(n,e){var t=this;if(this.expandUrlToMedia){var r={};fe(n,".message__embed",(function(n){r[n.dataset.url]=n})),e.forEach((function(e){t.embeds[e]||t._loadAndRender(e),r[e]||n.appendChild(t._ensureEmbedEl(e)),delete r[e]})),Object.keys(r).forEach((function(n){return r[n].remove()}))}}},{key:"renderInstagram",value:function(n){if(!this.disableInstagram)return window.instgrm?window.instgrm.Embeds.process():void ue("//platform.instagram.com/en_US/embeds.js")}},{key:"renderPasteEl",value:function(n){_e.highlightBlock(n.querySelector("pre")),fe(n,".le-meta",(function(n){n.addEventListener("click",(function(){return n.parentNode.classList.toggle("is-expanded")}))}))}},{key:"renderPhoto",value:function(n){var e=this;fe(n,"img",(function(n){return n.addEventListener("click",(function(t){t.preventDefault(),e.showMedia(n)}))}))}},{key:"renderTwitter",value:function(n){this.disableTwitter||(window.twttr&&window.twttr.widgets.load(),ue("//platform.twitter.com/widgets.js"))}},{key:"showMedia",value:function(n){var e=oe(document.querySelector("body"),"fullscreen-media-wrapper",(function(n){n.addEventListener("click",(function(e){return he(n,e.target!=n)}))}));!function(n){for(;n.firstChild;)n.removeChild(n.firstChild)}(e),e.appendChild(n.cloneNode()),he(e,!0)}},{key:"toggleDetails",value:function(n,e){var t=n.querySelector(".has-message-details");if(t)return he(t,"toggle");var r=function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?gr(Object(t),!0).forEach((function(e){Ft(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gr(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({},e.sent||e);["bubbles","color","command","dispatchTo","embeds","event","fromId","id","markdown","method","stopPropagation"].forEach((function(n){return delete r[n]})),r.ts=e.ts.toLocaleString(),(t=mr(r.sent||r)).className=["message__embed","has-message-details",t.className].join(" "),n.appendChild(t)}},{key:"_bufAsBase64",value:function(n){var e=new Uint8Array(n).reduce((function(n,e){return n+String.fromCharCode(e)}),"");return window.btoa(e)}},{key:"_ensureEmbedEl",value:function(n){return this.embeds[n].el||(this.embeds[n].el=oe(null,"message__embed",(function(e){e.dataset.url=n})))}},{key:"_loadAndRender",value:function(n){var e=this;return this.embeds[n]={},this.api.operation("embed",{url:n}).perform().then((function(t){var r=t.res.body;if(r.html){var o=e._ensureEmbedEl(n);o.innerHTML=r.html,fe(o,"a",(function(n){n.target="_blank"})),fe(o,"img",(function(n){return e._processImage(n)}));var i=(r.provider_name||"").toLowerCase();if("instagram"==i)return e.renderInstagram(o);if("twitter"==i)return e.renderTwitter(o);if(-1!=(o.firstChild.className||"").split(/\s+/).indexOf("le-paste"))return e.renderPasteEl(o);fe(o,".le-photo, .le-thumbnail",(function(n){return e.renderPhoto(o)}))}}))}},{key:"_processImage",value:function(n){var e=this;if(!He(n.src))return n.addEventListener("error",(function(){return n.style.display="none"}));n.originalSource=n.src,n.src="",n.style.visibility="hidden",fetch(n.originalSource).then((function(t){var r=t.headers.get("Content-Type");return r?t.arrayBuffer().then((function(t){return e._renderImage(n,t,{contentType:r})})):e._renderImage(n,new ArrayBuffer(0),{})}))}},{key:"_renderImage",value:function(n,e,t){var r=t.contentType,o={1:0,3:180,6:90,8:270},i=new DataView(e);if(!r||e.length<2||65496!=i.getUint16(0))return n.src=n.originalSource,void(n.style.visibility="visible");for(var a=i.byteLength,c=2;c<a-2&&!n.orientation;){var u=i.getUint16(c);switch(c+=2,u){case 65505:a=i.getUint16(c)+c,c+=2;break;case 274:n.orientation=o[i.getUint16(c+6,!1)]}}void 0!==n.orientation&&(n.style.transform="rotate("+n.orientation+"deg)"),n.src="data:"+r+";base64,"+this._bufAsBase64(e),n.style.visibility="visible"}}]),i}($e);function yr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function br(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?yr(Object(t),!0).forEach((function(e){Ft(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yr(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function wr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var _r=window.Notification||{permission:"denied"},xr=0,kr=function(e){s(i,e);var r,o=(r=i,function(){var n,e=c(r);if(wr()){var t=c(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),(t=o.call(this)).keepaliveTid=setInterval((function(){return t._send({method:"ping"})}),1e4),t.notificationIcon="",t.queue=[],t.waiting={},t.prop("persist","debugEvents",-1!=navigator.userAgent.indexOf("Mozilla")?1:0),t.prop("persist","notificationCloseDelay",5e3),t.prop("persist","wantNotifications",null),t.prop("ro","browserNotifyPermission",(function(){return _r.permission})),t.prop("ro","wsUrl",e.wsUrl),t.prop("rw","ready",!1),t}return t(i,[{key:"dispatch",value:function(n){var e=("wsEvent_"+this._getEventNameFromParam(n)).replace(/_(\w)/g,(function(n,e){return e.toUpperCase()}));this.debugEvents&&this._debug(e,n),n.bubbles=!0,n.stopPropagation=function(){n.bubbles=!1};var t=this.waiting[n.id];t&&t(n),n.bubbles&&this.emit("message",br({},n,{dispatchTo:e}))}},{key:"listenToGlobalEvents",value:function(){var n=this;window.addEventListener("error",(function(e){var t=e.colno,r=e.error,o=e.filename,i=e.lineno,a=e.message,c=e.type,u=e.timeStamp;n.send({method:"debug",type:c,colno:t,error:r,filename:o,lineno:i,message:a,timeStamp:u})})),window.addEventListener("unhandledrejection",(function(e){var t=e.type,r=e.reason,o=e.returnValue,i=e.timeStamp;n.send({method:"debug",type:t,reason:r,returnValue:o,timeStamp:i})}))}},{key:"notifyUser",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.wantNotifications?"granted"!=_r.permission?_r.permission:!t.force&&document.hasFocus()?"document.hasFocus":"":"wantNotifications == false";if(r)return console.log("[Events:notifyUser] Rejected: "+r,[n,e,t]),this;var o=new _r(n,br({icon:this.notificationIcon},t,{body:e}));return o.onclick=function(n){window.focus(),o.close()},setTimeout((function(){return o.close()}),this.notificationCloseDelay),this}},{key:"rejectNotifications",value:function(){return this.update({wantNotifications:!1})}},{key:"requestPermissionToNotify",value:function(n){var e=this;return"granted"!=_r.permission&&_r.requestPermission?(_r.requestPermission((function(t){e.update({wantNotifications:"granted"==t}),n&&n(t)})),this):(this.update({wantNotifications:"granted"==_r.permission}),n&&n(_r.permission),this)}},{key:"send",value:function(n,e){n.id||"ping"==n.method||(n.id=++xr),!n.method&&n.message&&(n.method="send"),n.connection&&["connection_id"].forEach((function(e){n[e]=n.dialog[e]||""})),n.dialog&&["connection_id","dialog_id"].forEach((function(e){n[e]=n.dialog[e]||""})),delete n.dialog,this.debugEvents&&this._debug("send",n),e&&(this.waiting[n.id]=e),this.queue.push(n),this._ws("dequeue")}},{key:"update",value:function(n){return v(c(i.prototype),"update",this).call(this,n),n.wantNotifications&&!this.wantNotifications&&this.notifyUser("Convos",wt("You have enabled notifications!"),{force:!0}),this}},{key:"_debug",value:function(n,e){(1==this.debugEvents&&"wsEventPong"!=n&&"ping"!=e.method||this.debugEvents>=2)&&console.log("[Events:"+(n||"data")+"]",e)}},{key:"_getEventNameFromParam",value:function(n){return n.errors?"error":"state"==n.event?n.type:"sent"==n.event&&n.message.match(/\/\S+/)?(n.command=n.message.split(/\s+/).filter((function(n){return n.length})),n.command[0]=n.command[0].substring(1),"sent_"+n.command[0]):n.event}},{key:"_send",value:function(n){var e=this.ws&&1==this.ws.readyState&&this.ws;return e&&e.send(JSON.stringify(n)),!!e}},{key:"_ws",value:function(n){var e=this;"dequeue"==n&&this._wsReconnectTid&&(clearTimeout(this._wsReconnectTid),delete this._wsReconnectTid),"start"==n&&(this._wsReconnectDelay=0,this.update({ready:!0})),"stop"==n?(this._wsReconnectDelay=this._wsReconnectDelay>5e3?500:(this._wsReconnectDelay||0)+500,this._wsReconnectTid||(this._wsReconnectTid=setTimeout((function(){return e._ws("dequeue")}),this._wsReconnectDelay)),this.update({ready:!1}),delete this.ws):this.ws?this.queue=this.queue.filter((function(n){return!e._send(n)})):(this.ws=new WebSocket(this.wsUrl),this.ws.onopen=function(){return e._ws("start")},this.ws.onclose=function(){return e._ws("stop")},this.ws.onerror=function(){return e._ws("stop")},this.ws.onmessage=function(n){return e.dispatch(JSON.parse(n.data))})}}]),i}($e);function Er(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function Or(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var Cr=function(e){s(u,e);var r,o,i=(r=u,function(){var n,e=c(r);if(Or()){var t=c(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return a(this,n)});function u(e){return n(this,u),i.call(this,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Er(Object(t),!0).forEach((function(e){Ft(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Er(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({},e,{connection_id:"",dialog_id:"notifications",is_private:!0,name:"Notifications"}))}return t(u,[{key:"is",value:function(n){return"notifications"==n||v(c(u.prototype),"is",this).call(this,n)}},{key:"load",value:(o=ee(Xn.mark((function n(){var e,t=arguments;return Xn.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=t.length>0&&void 0!==t[0]?t[0]:{},this.messagesOp&&!this.is("loading")){n.next=3;break}return n.abrupt("return",this);case 3:if("after"!=("maybe"==e.after?"after":"maybe"==e.before?"before":"")||!this.is("success")){n.next=6;break}return n.abrupt("return",this);case 6:return this.messagesOp.update({status:"pending"}),this.update({messages:[]}),n.next=10,v(c(u.prototype),"load",this).call(this);case 10:case"end":return n.stop()}}),n,this)}))),function(){return o.apply(this,arguments)})},{key:"send",value:function(){}},{key:"_addOperations",value:function(){this.prop("ro","messagesOp",this.api.operation("notificationMessages")),this.prop("ro","setLastReadOp",this.api.operation("readNotifications"))}}]),u}(sr);function Rr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function Sr(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Rr(Object(t),!0).forEach((function(e){Ft(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rr(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function Nr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var Dr=function(e){s(u,e);var r,o,i=(r=u,function(){var n,e=c(r);if(Nr()){var t=c(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return a(this,n)});function u(e){var t;return n(this,u),(t=i.call(this,Sr({},e,{connection_id:"",dialog_id:"search",is_private:!0,name:"Search"}))).prop("rw","query",null),t.update({status:"success"}),t}return t(u,[{key:"is",value:function(n){return"conversation"!=n&&("search"==n||v(c(u.prototype),"is",this).call(this,n))}},{key:"load",value:(o=ee(Xn.mark((function n(e){var t,r;return Xn.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.is("loading")){n.next=2;break}return n.abrupt("return",this);case 2:if((t=Sr({},e)).match=e.match||e.message,null==t.match&&(t.match=""),t.match=t.match.replace(/\s*conversation:(\S+)\s*/,(function(n,e){return[" ",t.dialog_id=e][0]})).replace(/\s*([&#]\S+)\s*/,(function(n,e){return[" ",t.dialog_id=e][0]})),t.match=t.match.trim(),t.match.match(/\S/)){n.next=9;break}return n.abrupt("return",this);case 9:return this.update({messages:[],query:t.match,status:"loading"}),n.next=12,this.messagesOp.perform(t);case 12:return r=this.messagesOp.res.body,this.addMessages(t.before?"unshift":"push",r.messages||[]),n.abrupt("return",this.update({status:this.messagesOp.status}));case 15:case"end":return n.stop()}}),n,this)}))),function(n){return o.apply(this,arguments)})},{key:"send",value:function(n){return this.load(Sr({},n,{match:n.messages}))}},{key:"_addOperations",value:function(){this.prop("ro","messagesOp",this.api.operation("searchMessages")),this.prop("ro","setLastReadOp",null)}},{key:"_loadParticipants",value:function(){}}]),u}(sr);function Mr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function Pr(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Mr(Object(t),!0).forEach((function(e){Ft(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Mr(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function Ar(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var jr=function(e){s(u,e);var r,o,i=(r=u,function(){var n,e=c(r);if(Ar()){var t=c(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return a(this,n)});function u(e){var t;n(this,u),t=i.call(this);var r=e.api;t.prop("ro","api",(function(){return r})),t.prop("ro","connections",new Zt),t.prop("ro","email",(function(){return t.getUserOp.res.body.email||""})),t.prop("ro","embedMaker",new $r({api:r})),t.prop("ro","events",t._createEvents(e)),t.prop("ro","getUserOp",r.operation("getUser",{connections:!0,dialogs:!0})),t.prop("ro","notifications",new Cr({api:r,events:t.events})),t.prop("ro","search",new Dr({api:r,events:t.events})),t.prop("ro","roles",new Set),t.prop("ro","themes",e.themes||{}),t.prop("ro","unread",(function(){return t._calculateUnread()})),t.prop("rw","highlight_keywords",[]),t.prop("rw","status","pending"),t.prop("persist","colorScheme","auto"),t.prop("persist","experimentalLoad",!1),t.prop("persist","lastUrl",""),t.prop("persist","showGrid",!1),t.prop("persist","theme","convos"),t.prop("persist","version","0");var o=window.matchMedia("(prefers-color-scheme: dark)");return o.matches&&(t._osColorScheme="dark"),o.addListener((function(n){t._osColorScheme=n.matches?"dark":"light"})),t}return t(u,[{key:"activateTheme",value:function(){var n="auto"==this.colorScheme?this._osColorScheme:this.colorScheme,e=this.themes[this.theme];if(!e)return console.error("[Convos] Invalid theme: "+this.theme);var t=e.color_schemes[n]||e.color_schemes.default;document.getElementById("link_selected_theme").setAttribute("href",Ke("/themes/"+t));var r=document.documentElement;r.className=r.className.replace(/theme-\S+/,(function(){return"theme-"+e.id}))}},{key:"calculateLastUrl",value:function(){if(this.is("error"))return Ke("/login");if(!this.is("success"))return null;if(this.lastUrl)return this.lastUrl;var n=this.connections.toArray()[0];if(!n)return Ke("/settings/connection");var e=n.dialogs.toArray()[0];return Ke(e?e.path:n.path)}},{key:"dialogs",value:function(n){var e=[];return this.connections.toArray().forEach((function(t){t.dialogs.toArray().forEach((function(t){n&&!n(t)||e.push(t)}))})),e}},{key:"ensureConnected",value:function(){this.email&&this.send({method:"ping"})}},{key:"ensureDialog",value:function(n){var e=this;if(n.dialog_id)return this.ensureDialog({connection_id:n.connection_id}).ensureDialog(n);var t=this.findDialog(n);return t?t.update(n):((t=new hr(Pr({},n,{api:this.api,events:this.events}))).on("update",(function(){return e.update({force:!0})})),t.on("channelListChange",(function(n){return e.emit("channelListChange",n)})),this.connections.set(t.connection_id,t),this.update({force:!0}),t)}},{key:"findDialog",value:function(n){var e=this.connections.get(n.connection_id);return n.dialog_id?e&&e.findDialog(n):e}},{key:"is",value:function(n){var e=this;return Array.isArray(n)?!!n.filter((function(n){return e.is(n)})).length:"loggedIn"==n?this.email&&!0:"offline"==n?"fetch"==ie(this.getUserOp.err||[],"source"):this.status==n}},{key:"load",value:(o=ee(Xn.mark((function n(){var e,t,r=this;return Xn.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.is("loading")){n.next=2;break}return n.abrupt("return",this);case 2:return this.update({status:"loading"}),n.next=5,this.getUserOp.perform();case 5:return e=this.getUserOp.res.body,t={},this.experimentalLoad||this.connections.clear(),(e.connections||[]).forEach((function(n){return t[r.ensureDialog(Pr({},n,{status:"pending"})).path]=!0})),(e.dialogs||[]).forEach((function(n){return t[r.ensureDialog(Pr({},n,{status:"pending"})).path]=!0})),this.connections.forEach((function(n){if(!t[n.path])return r.connections.delete(n.connection_id);n.dialogs.forEach((function(e){t[e.path]||n.dialogs.delete(e.dialog_id)}))})),this.notifications.update({unread:e.unread||0}),this.roles.clear(),(e.roles||[]).forEach((function(n){return r.roles.add(n)})),this.update({highlight_keywords:e.highlight_keywords||[],status:this.getUserOp.status}),this.ensureConnected(),n.abrupt("return",this);case 17:case"end":return n.stop()}}),n,this)}))),function(){return o.apply(this,arguments)})},{key:"removeDialog",value:function(n){if(n.dialog_id){var e=this.findDialog({connection_id:n.connection_id});e&&e.removeDialog(n)}else this.connections.delete(n.connection_id),this.update({force:!0})}},{key:"send",value:function(n,e){return this.events.send(n,e)}},{key:"update",value:function(n){return v(c(u.prototype),"update",this).call(this,n),(n.colorScheme||n.theme)&&this.activateTheme(),this}},{key:"wsEventPong",value:function(n){this.wsPongTimestamp=n.ts}},{key:"_calculateUnread",value:function(){return this.notifications.unread+this.dialogs((function(n){return n.is_private})).reduce((function(n,e){return n+e.unread}),0)}},{key:"_createEvents",value:function(n){var e=this,t=new kr(n);return t.on("message",(function(n){e._dispatchMessageToDialog(n),e.emit(n.dispatchTo,n),e[n.dispatchTo]&&e[n.dispatchTo](n)})),t.on("update",(function(n){if(n.ready)return e.is("pending")&&e.load();e.update({status:"pending"}),e.connections.forEach((function(n){return n.update({state:"unreachable"})}))})),t}},{key:"_dispatchMessageToDialog",value:function(n){var e=this.findDialog({connection_id:n.connection_id});if(e&&(e[n.dispatchTo]&&e[n.dispatchTo](n),n.bubbles)){var t=e.findDialog(n);t&&t[n.dispatchTo]&&t[n.dispatchTo](n)}}}]),u}($e);function Tr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function Lr(n){var e,t,r,o,i,a=new Ne({props:{animation:n[3],name:n[0]}}),c=n[12].default,u=T(c,n,n[11],null);return{c:function(){e=V("button"),Wn(a.$$.fragment),t=J(),u&&u.c(),en(e,"class",r=n[4].join(" ")),e.disabled=n[5],en(e,"type",n[2])},m:function(r,c,s){F(r,e,c),Yn(a,e,null),G(e,t),u&&u.m(e,null),o=!0,s&&i(),i=X(e,"click",n[13])},p:function(n,t){var i=m(t,1)[0],s={};8&i&&(s.animation=n[3]),1&i&&(s.name=n[0]),a.$set(s),u&&u.p&&2048&i&&u.p(L(c,n,n[11],null),I(c,n[11],i,null)),(!o||16&i&&r!==(r=n[4].join(" ")))&&en(e,"class",r),(!o||32&i)&&(e.disabled=n[5]),(!o||4&i)&&en(e,"type",n[2])},i:function(n){o||(Bn(a.$$.fragment,n),Bn(u,n),o=!0)},o:function(n){Hn(a.$$.fragment,n),Hn(u,n),o=!1},d:function(n){n&&W(e),Vn(a),u&&u.d(n),i()}}}function Ir(n,e,t){var r,o=O,i=function(){return o(),o=P(m,(function(n){return t(9,r=n)})),m};n.$$.on_destroy.push((function(){return o()}));var a="",c=[],u=!1,s=0,f=e.disabled,d=void 0!==f&&f,l=e.icon,p=void 0===l?"":l,h=e.op,m=void 0===h?new be({api:!1,id:""}):h;i();var g=e.type,v=void 0===g?"":g;function $(n){n&&t(8,s=(new Xt).toEpoch()),t(3,a=n?"spin":""),t(7,u=n)}var y,b=e.$$slots,w=void 0===b?{}:b,_=e.$$scope;return n.$set=function(n){"disabled"in n&&t(6,d=n.disabled),"icon"in n&&t(0,p=n.icon),"op"in n&&i(t(1,m=n.op)),"type"in n&&t(2,v=n.type),"$$scope"in n&&t(11,_=n.$$scope)},n.$$.update=function(){512&n.$$.dirty&&r.is("loading")&&$(!0),768&n.$$.dirty&&(r.is("loading")||setTimeout((function(){return $(!1)}),700-((new Xt).toEpoch()-s))),1&n.$$.dirty&&t(4,c=["btn","for-"+(p||"default")]),192&n.$$.dirty&&t(5,y=d||u)},[p,m,v,a,c,y,d,u,s,r,$,_,w,function(e){bn(n,e)}]}var Ur=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(Tr()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Ir,Lr,M,{disabled:6,icon:0,op:1,type:2}),t}return i}(Qn);function zr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function Br(n){var e,t,r,o,i,a,c,u,s,f=n[5].default,d=T(f,n,n[4],null),l=new Ne({props:{name:n[1]?"times-circle":"bars"}});return{c:function(){e=V("header"),d&&d.c(),t=J(),r=V("a"),Wn(l.$$.fragment),o=J(),i=V("small"),a=Z(n[0]),en(i,"class","chat-header__unread"),i.hidden=c=!n[0],en(r,"href",u="#activeMenu:"+(n[1]?"":"nav")),en(r,"class","chat-header__hamburger"),en(e,"class","chat-header")},m:function(n,c){F(n,e,c),d&&d.m(e,null),G(e,t),G(e,r),Yn(l,r,null),G(r,o),G(r,i),G(i,a),s=!0},p:function(n,e){var t=m(e,1)[0];d&&d.p&&16&t&&d.p(L(f,n,n[4],null),I(f,n[4],t,null));var o={};2&t&&(o.name=n[1]?"times-circle":"bars"),l.$set(o),(!s||1&t)&&rn(a,n[0]),(!s||1&t&&c!==(c=!n[0]))&&(i.hidden=c),(!s||2&t&&u!==(u="#activeMenu:"+(n[1]?"":"nav")))&&en(r,"href",u)},i:function(n){s||(Bn(d,n),Bn(l.$$.fragment,n),s=!0)},o:function(n){Hn(d,n),Hn(l.$$.fragment,n),s=!1},d:function(n){n&&W(e),d&&d.d(n),Vn(l)}}}function Hr(n,e,t){var r,o;j(n,je,(function(n){return t(1,o=n)}));var i=yn("user");j(n,i,(function(n){return t(3,r=n)}));var a,c=e.$$slots,u=void 0===c?{}:c,s=e.$$scope;return n.$set=function(n){"$$scope"in n&&t(4,s=n.$$scope)},n.$$.update=function(){8&n.$$.dirty&&t(0,a=r.unread)},[a,o,i,r,s,u]}var qr=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(zr()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Hr,Br,M,{}),t}return i}(Qn);function Kr(n){if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(n=function(n,e){if(!n)return;if("string"==typeof n)return Gr(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gr(n,e)}(n))){var e=0,t=function(){};return{s:t,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return i=n.done,n},e:function(n){a=!0,o=n},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Gr(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Fr=[];function Wr(n,e){return Wr[n]?Wr[n](e):[]}function Yr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function Vr(n,e,t){var r=n.slice();return r[29]=e[t],r[31]=t,r}function Zr(n){var e,t,r=(n[29].text||n[29].val)+"";return{c:function(){en(e=V("a"),"href","#index:"+n[31]),en(e,"tabindex","-1"),cn(e,"has-focus",n[31]==n[2])},m:function(o,i,a){F(o,e,i),e.innerHTML=r,a&&t(),t=X(e,"click",nn(n[10]))},p:function(n,t){128&t[0]&&r!==(r=(n[29].text||n[29].val)+"")&&(e.innerHTML=r),4&t[0]&&cn(e,"has-focus",n[31]==n[2])},d:function(n){n&&W(e),t()}}}function Jr(n){for(var e,t,r,o,i,a,c,u,s,f,d,l,p,h,m,g,v=new Ne({props:{name:n[9]}}),$=n[7],y=[],b=0;b<$.length;b+=1)y[b]=Zr(Vr(n,$,b));return{c:function(){e=V("form"),t=V("textarea"),r=J(),o=V("div"),i=V("span"),a=J(),c=V("input"),s=J(),f=V("a"),Wn(v.$$.fragment),d=J(),l=V("div");for(var m=0;m<y.length;m+=1)y[m].c();en(t,"id","chat_input"),en(t,"placeholder",n[8]),en(c,"type","file"),en(o,"class","chat-input__upload-wrapper"),o.hidden=u=!n[0].is("conversation"),en(f,"href","#send"),en(f,"class","chat-input__send"),en(l,"class",p="chat-input_autocomplete chat-input_autocomplete_"+n[3]),l.hidden=h=!n[7].length,en(e,"class","chat-input")},m:function(u,p,h){F(u,e,p),G(e,t),n[24](t),G(e,r),G(e,o),G(o,i),G(o,a),G(o,c),n[28](c),G(e,s),G(e,f),Yn(v,f,null),G(e,d),G(e,l);for(var $=0;$<y.length;$+=1)y[$].m(l,null);m=!0,h&&N(g),g=[X(t,"change",n[25]),X(t,"keydown",n[26]),X(t,"keyup",n[27]),X(c,"change",n[11]),X(f,"click",n[1]),X(e,"submit",nn(n[23]))]},p:function(n,e){(!m||256&e[0])&&en(t,"placeholder",n[8]),(!m||1&e[0]&&u!==(u=!n[0].is("conversation")))&&(o.hidden=u);var r={};if(512&e[0]&&(r.name=n[9]),v.$set(r),1156&e[0]){var i;for($=n[7],i=0;i<$.length;i+=1){var a=Vr(n,$,i);y[i]?y[i].p(a,e):(y[i]=Zr(a),y[i].c(),y[i].m(l,null))}for(;i<y.length;i+=1)y[i].d(1);y.length=$.length}(!m||8&e[0]&&p!==(p="chat-input_autocomplete chat-input_autocomplete_"+n[3]))&&en(l,"class",p),(!m||128&e[0]&&h!==(h=!n[7].length))&&(l.hidden=h)},i:function(n){m||(Bn(v.$$.fragment,n),m=!0)},o:function(n){Hn(v.$$.fragment,n),m=!1},d:function(t){t&&W(e),n[24](null),n[28](null),Vn(v),Y(y,t),N(g)}}}function Qr(n,e,t){var r=e.dialog,o=void 0===r?{}:r;var i,a,c=0,u="none",s=0,f=yn("user");function d(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.space||"";t(4,i.value=_[0]+n+r+_[3],i),t(4,i.selectionStart=t(4,i.selectionEnd=(_[0]+n+r).length,i),i),r.length&&t(5,s=i.selectionStart)}function l(n){var e=m(n,4),r=e[0],i=e[1],a=e[2];e[3];t(3,u=":"==i&&a.length?"emojis":"/"!=i||r.length?"@"==i&&a.length?"nicks":"#"==i||"&"==i?"dialogs":"none":"commands"),t(2,c=0);var s=Wr(u,{dialog:o,query:i+a,user:f});return s.length&&s.unshift({val:i+a}),s}function p(n){if(!i)return["","","",""];var e="",t="";return[i.value.substring(0,n).replace(/(\S)(\S*)$/,(function(n,r,o){return e=r,t=o,""})),e,t,i.value.substring(n)]}function h(n){var e=b[c];e&&d(e.val,n)}function g(n,e){b.length&&(n.preventDefault(),t(2,c+=e),c<0&&t(2,c=b.length-1),c>=b.length&&t(2,c=0),h({space:""}))}function v(n){n.preventDefault&&n.preventDefault();var e={method:"send",dialog:o};e.message=n.preventDefault?i.value:n.message,e.message=e.message.replace(/^\/close/i,"/part"),e.message=e.message.replace(/^\/j\b/i,"/join");(e.message.match(/^\/(\w+)\s*(\S*)/)||["","message",""]).slice(1);e.message.length&&(o.is("search")?o:f).send(e,(function(n){n.errors&&o&&(n.stopPropagation(),n.vars=[n.message,ie(n.errors)],n.message='Could not send message "%1": %2',o.addMessage(n))}));o.is("conversation")&&t(4,i.value="",i),t(5,s=0)}function $(n){var e=n.target&&n.target.files||n.dataTransfer&&n.dataTransfer.files;if(e&&e.length){if(e.length>1)return console.log("Cannot upload more than one file.");var t=new FormData;t.append("file",e[0]),f.api.operation("uploadFile").perform({formData:t}).then((function(n){var e=n.res.body;if(e.files&&e.files.length)return d(e.files[0].url);e.errors&&o.addMessage({message:"Could not upload file: %1",vars:[wt(ie(e.errors))],type:"error"})}))}}vn((function(){t(6,a.uploader=$,a)}));var y={ArrowDown:function(n){return g(n,n.shiftKey?4:1)},ArrowUp:function(n){return g(n,n.shiftKey?-4:-1)},Tab:function(n){return g(n,n.shiftKey?-1:1)},Enter:function(n){b[c]?(n.preventDefault(),h({space:" "})):n.altKey||n.ctrlKey||n.metaKey||n.shiftKey||v(n)},Fallback:function(n){},Release:function(n){1!=n.key.length&&-1==["ArrowLeft","ArrowRight","Backspace"].indexOf(n.key)||t(5,s=i.selectionStart)}};var b,w,_,x,k,E;return n.$set=function(n){"dialog"in n&&t(0,o=n.dialog)},n.$$.update=function(){32&n.$$.dirty[0]&&t(15,_=p(s)),32768&n.$$.dirty[0]&&t(7,b=l(_)||[]),1&n.$$.dirty[0]&&t(16,w=f.findDialog({connection_id:o.connection_id})),65536&n.$$.dirty[0]&&t(17,x=w&&w.nick),196609&n.$$.dirty[0]&&t(8,k=o.is("search")?"What are you looking for?":w&&w.is("unreachable")?wt("Connecting..."):wt("What is on your mind %1?",x)),1&n.$$.dirty[0]&&t(9,E=o.is("search")?"search":"paper-plane")},[o,v,c,u,i,s,a,b,k,E,function(n){t(2,c=parseInt(n.target.closest("a").href.replace(/.*index:/,""),10)),h({space:" "}),i.focus()},$,y,function(){return a},d,_,w,x,f,l,p,h,g,function(e){bn(n,e)},function(n){_n[n?"unshift":"push"]((function(){t(4,i=n)}))},function(n){t(5,s=i.selectionStart)},function(n){return(y[n.key]||y.Fallback)(n)},function(n){return y.Release(n)},function(n){_n[n?"unshift":"push"]((function(){t(6,a=n)}))}]}Wr.commands=function(n){for(var e=n.query,t=[],r=0;r<Fr.length;r++)if(0==Fr[r].cmd.indexOf(e)){var o=Fr[r].alias||Fr[r].cmd,i=Fr[r].example.replace(/</g,"&lt;");t.push({text:i,val:o})}return t},Wr.dialogs=function(n){for(var e=n.dialog,t=n.query,r=n.user,o=r.findDialog({connection_id:e.connection_id}),i=o?o.dialogs.toArray():r.dialogs(),a=[],c=0;c<i.length&&!(-1!=i[c].name.toLowerCase().indexOf(t)&&(a.push({text:i[c].name,val:i[c].dialog_id}),a.length>=20));c++);return a},Wr.emojis=function(n){var e=n.query,t=[];return[":","_"].map((function(n){return n+e.slice(1,2)})).forEach((function(n){for(var r=$t(n,"group"),o=0;o<r.length&&(r[o].shortname.indexOf(e)>=0&&t.push({val:r[o].emoji,text:yt(r[o].emoji)}),!(t.length>=20));o++);})),t},Wr.nicks=function(n){var e,t=n.dialog,r=n.query,o=t.participants(),i=new RegExp("^"+de(r.slice(1)),"i"),a=[],c=Kr(o);try{for(c.s();!(e=c.n()).done;){var u=e.value;if(a.length>=20)break;u.nick.match(i)&&a.push({val:u.nick})}}catch(n){c.e(n)}finally{c.f()}return a},Fr.push({cmd:"/me",example:"/me <msg>",description:"Send message as an action."}),Fr.push({cmd:"/say",example:"/say <msg>",description:'Used when you want to send a message starting with "/".'}),Fr.push({cmd:"/topic",example:"/topic or /topic <new topic>",description:"Show current topic, or set a new one."}),Fr.push({cmd:"/whois",example:"/whois <nick>",description:"Show information about a user."}),Fr.push({cmd:"/query",example:"/query <nick>",description:"Open up a new chat window with nick."}),Fr.push({cmd:"/msg",example:"/msg <nick> <msg>",description:"Send a direct message to nick."}),Fr.push({cmd:"/names",example:"/names",description:"Show participants in the channel."}),Fr.push({cmd:"/join",example:"/join <#channel>",description:"Join channel and open up a chat window."}),Fr.push({cmd:"/nick",example:"/nick <nick>",description:"Change your wanted nick."}),Fr.push({cmd:"/part",example:"/part",description:"Leave channel, and close window."}),Fr.push({cmd:"/close",example:"/close <nick>",description:"Close conversation with nick, defaults to current active."}),Fr.push({cmd:"/kick",example:"/kick <nick>",description:"Kick a user from the current channel."}),Fr.push({cmd:"/mode",example:"/mode [+|-][b|o|v] <user>",description:"Change mode of yourself or a user"}),Fr.push({cmd:"/reconnect",example:"/reconnect",description:"Restart the current connection."}),Fr.push({cmd:"/clear",example:"/clear history <#channel> or /clear history <nick>",description:"Delete all history for the given conversation."}),Fr.push({cmd:"/raw",example:"/raw <msg>",description:"Allow you to send any RFC 2812 message."});var Xr=function(e){s(u,e);var o,i=(o=u,function(){var n,e=c(o);if(Yr()){var t=c(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return a(this,n)});function u(e){var t;return n(this,u),t=i.call(this),Jn(r(t),e,Qr,Jr,M,{dialog:0,getUploadEl:13,add:14,sendMessage:1},[-1,-1]),t}return t(u,[{key:"getUploadEl",get:function(){return this.$$.ctx[13]}},{key:"add",get:function(){return this.$$.ctx[14]}},{key:"sendMessage",get:function(){return this.$$.ctx[1]}}]),u}(Qn);function no(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function eo(n){var e,t,r,o,i,a=new Ne({props:{name:n[1],animation:n[2]}}),c=n[4].default,u=T(c,n,n[3],null);return{c:function(){e=V("div"),t=V("span"),Wn(a.$$.fragment),r=J(),u&&u.c(),en(e,"class",o="message-status-line "+n[0])},m:function(n,o){F(n,e,o),G(e,t),Yn(a,t,null),G(t,r),u&&u.m(t,null),i=!0},p:function(n,t){var r=m(t,1)[0],s={};2&r&&(s.name=n[1]),4&r&&(s.animation=n[2]),a.$set(s),u&&u.p&&8&r&&u.p(L(c,n,n[3],null),I(c,n[3],r,null)),(!i||1&r&&o!==(o="message-status-line "+n[0]))&&en(e,"class",o)},i:function(n){i||(Bn(a.$$.fragment,n),Bn(u,n),i=!0)},o:function(n){Hn(a.$$.fragment,n),Hn(u,n),i=!1},d:function(n){n&&W(e),Vn(a),u&&u.d(n)}}}function to(n,e,t){var r=e.class,o=void 0===r?"":r,i=e.icon,a=void 0===i?"":i,c=e.animation,u=void 0===c?"":c,s=e.$$slots,f=void 0===s?{}:s,d=e.$$scope;return n.$set=function(n){"class"in n&&t(0,o=n.class),"icon"in n&&t(1,a=n.icon),"animation"in n&&t(2,u=n.animation),"$$scope"in n&&t(3,d=n.$$scope)},[o,a,u,d,f]}var ro=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(no()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,to,eo,M,{class:0,icon:1,animation:2}),t}return i}(Qn);function oo(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function io(n){return function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?oo(Object(t),!0).forEach((function(e){Ft(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oo(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}({color:"inherit",from:"Convos",fromId:"Convos",markdown:_t.apply(void 0,[n.message].concat(E(n.vars))),ts:new Xt,type:"error"},n)}var ao={};function co(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function uo(n,e,t){var r=n.slice();return r[13]=e[t],r[15]=t,r}function so(n){var e;return{c:function(){(e=V("h2")).textContent="".concat(wt("No notifications."))},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function fo(n){var e,t=new ro({props:{class:"for-loading",icon:"spinner",animation:"spin",$$slots:{default:[lo]},$$scope:{ctx:n}}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};65536&e&&(r.$$scope={dirty:e,ctx:n}),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function lo(n){var e,t=wt("Loading...")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function po(n){var e,t=new ro({props:{class:"for-last-read",icon:"comments",$$slots:{default:[ho]},$$scope:{ctx:n}}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};65536&e&&(r.$$scope={dirty:e,ctx:n}),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function ho(n){var e,t=wt("New messages")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function mo(n){var e,t=new ro({props:{class:"for-day-changed",icon:"calendar-alt",$$slots:{default:[vo]},$$scope:{ctx:n}}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};65544&e&&(r.$$scope={dirty:e,ctx:n}),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function go(n){var e,t=new ro({props:{class:"for-start-of-history",icon:"calendar-alt",$$slots:{default:[$o]},$$scope:{ctx:n}}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};65544&e&&(r.$$scope={dirty:e,ctx:n}),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function vo(n){var e,t=n[13].ts.getHumanDate()+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:function(n,r){8&r&&t!==(t=n[13].ts.getHumanDate()+"")&&rn(e,t)},d:function(n){n&&W(e)}}}function $o(n){var e,t=wt("Started chatting on %1",n[13].ts.getHumanDate())+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:function(n,r){8&r&&t!==(t=wt("Started chatting on %1",n[13].ts.getHumanDate())+"")&&rn(e,t)},d:function(n){n&&W(e)}}}function yo(n){var e,t,r,o=wt("%1 in %2",n[13].from,n[13].dialog_id)+"";return{c:function(){e=V("a"),t=Z(o),en(e,"href",r=Oo(n[13])),en(e,"class","message__from"),an(e,"color",n[13].color)},m:function(n,r){F(n,e,r),G(e,t)},p:function(n,i){8&i&&o!==(o=wt("%1 in %2",n[13].from,n[13].dialog_id)+"")&&rn(t,o),8&i&&r!==(r=Oo(n[13]))&&en(e,"href",r),8&i&&an(e,"color",n[13].color)},d:function(n){n&&W(e)}}}function bo(n){var e,t,r,o,i=n[13].from+"";function a(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n)[12].apply(e,[n[13]].concat(r))}return{c:function(){e=V("a"),t=Z(i),en(e,"href",r="#input:"+n[13].from),en(e,"class","message__from"),an(e,"color",n[13].color),en(e,"tabindex","-1")},m:function(n,r,i){F(n,e,r),G(e,t),i&&o(),o=X(e,"click",nn(a))},p:function(o,a){n=o,8&a&&i!==(i=n[13].from+"")&&rn(t,i),8&a&&r!==(r="#input:"+n[13].from)&&en(e,"href",r),8&a&&an(e,"color",n[13].color)},d:function(n){n&&W(e),o()}}}function wo(n){var e,t=new Ne({props:{name:"error"==n[13].type?"exclamation-circle":"info-circle"}});return t.$on("click",n[9]),{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};8&e&&(r.name="error"==n[13].type?"exclamation-circle":"info-circle"),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function _o(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h,m,g,v,$,y,b,w,_=n[13].ts.getHM()+"",x=n[13].ts.toLocaleString()+"",k=n[13].markdown+"",E=n[15]&&n[15]==n[3].length-n[5]&&po(n),O=[go,mo],C=[];function R(n,e){return 0==n[15]&&n[4].endOfHistory?0:n[13].dayChanged?1:-1}~(t=R(n))&&(r=C[t]=O[t](n));var S=new Ne({props:{name:"pick:"+n[13].fromId,color:n[13].color}});function N(n,e){return n[1].connection_id||!n[13].dialog_id?bo:yo}var D=N(n),M=D(n),P=("error"==n[13].type||"notice"==n[13].type)&&wo(n);return{c:function(){E&&E.c(),e=J(),r&&r.c(),o=J(),i=V("div"),Wn(S.$$.fragment),a=J(),c=V("b"),u=Z(_),f=J(),d=V("div"),l=Z(x),h=J(),M.c(),m=J(),g=V("div"),P&&P.c(),v=J(),en(c,"class","message__ts"),en(c,"aria-labelledby",s=n[13].id+"_ts"),en(d,"role","tooltip"),en(d,"id",p=n[13].id+"_ts"),$=new sn(k,null),en(g,"class","message__text"),en(i,"class",y="message is-type-"+n[13].type),en(i,"data-index",n[15]),cn(i,"is-not-present",!n[8](n[13])),cn(i,"is-sent-by-you",n[13].from==n[0].nick),cn(i,"is-highlighted",n[13].highlight),cn(i,"has-not-same-from",!n[7](n[15])&&!n[13].dayChanged),cn(i,"has-same-from",n[7](n[15])&&!n[13].dayChanged)},m:function(r,s,p){E&&E.m(r,s),F(r,e,s),~t&&C[t].m(r,s),F(r,o,s),F(r,i,s),Yn(S,i,null),G(i,a),G(i,c),G(c,u),G(i,f),G(i,d),G(d,l),G(i,h),M.m(i,null),G(i,m),G(i,g),P&&P.m(g,null),G(g,v),$.m(g),b=!0,p&&w(),w=X(i,"click",n[6])},p:function(n,a){n[15]&&n[15]==n[3].length-n[5]?E?(E.p(n,a),Bn(E,1)):((E=po(n)).c(),Bn(E,1),E.m(e.parentNode,e)):E&&(Un(),Hn(E,1,1,(function(){E=null})),zn());var f=t;(t=R(n))===f?~t&&C[t].p(n,a):(r&&(Un(),Hn(C[f],1,1,(function(){C[f]=null})),zn()),~t?((r=C[t])||(r=C[t]=O[t](n)).c(),Bn(r,1),r.m(o.parentNode,o)):r=null);var h={};8&a&&(h.name="pick:"+n[13].fromId),8&a&&(h.color=n[13].color),S.$set(h),(!b||8&a)&&_!==(_=n[13].ts.getHM()+"")&&rn(u,_),(!b||8&a&&s!==(s=n[13].id+"_ts"))&&en(c,"aria-labelledby",s),(!b||8&a)&&x!==(x=n[13].ts.toLocaleString()+"")&&rn(l,x),(!b||8&a&&p!==(p=n[13].id+"_ts"))&&en(d,"id",p),D===(D=N(n))&&M?M.p(n,a):(M.d(1),(M=D(n))&&(M.c(),M.m(i,m))),"error"==n[13].type||"notice"==n[13].type?P?(P.p(n,a),Bn(P,1)):((P=wo(n)).c(),Bn(P,1),P.m(g,v)):P&&(Un(),Hn(P,1,1,(function(){P=null})),zn()),(!b||8&a)&&k!==(k=n[13].markdown+"")&&$.p(k),(!b||8&a&&y!==(y="message is-type-"+n[13].type))&&en(i,"class",y),264&a&&cn(i,"is-not-present",!n[8](n[13])),9&a&&cn(i,"is-sent-by-you",n[13].from==n[0].nick),8&a&&cn(i,"is-highlighted",n[13].highlight),136&a&&cn(i,"has-not-same-from",!n[7](n[15])&&!n[13].dayChanged),136&a&&cn(i,"has-same-from",n[7](n[15])&&!n[13].dayChanged)},i:function(n){b||(Bn(E),Bn(r),Bn(S.$$.fragment,n),Bn(P),b=!0)},o:function(n){Hn(E),Hn(r),Hn(S.$$.fragment,n),Hn(P),b=!1},d:function(n){E&&E.d(n),n&&W(e),~t&&C[t].d(n),n&&W(o),n&&W(i),Vn(S),M.d(),P&&P.d(),w()}}}function xo(n){var e,t=new ro({props:{class:"for-loading",icon:"spinner",animation:"spin",$$slots:{default:[ko]},$$scope:{ctx:n}}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};65536&e&&(r.$$scope={dirty:e,ctx:n}),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function ko(n){var e,t,r=wt("Loading...")+"";return{c:function(){e=V("a"),t=Z(r),en(e,"href",Ke("/"))},m:function(n,r){F(n,e,r),G(e,t)},p:O,d:function(n){n&&W(e)}}}function Eo(n){for(var e,t,r,o,i,a=0==n[4].messages.length&&n[1].is("notifications"),c=n[3].length>40&&n[1].is("loading"),u=n[0].is&&n[0].is("unreachable")||!n[4].is("success"),s=a&&so(),f=c&&fo(n),d=n[3],l=[],p=0;p<d.length;p+=1)l[p]=_o(uo(n,d,p));var h=function(n){return Hn(l[n],1,1,(function(){l[n]=null}))},g=u&&xo(n);return{c:function(){s&&s.c(),e=J(),f&&f.c(),t=J();for(var n=0;n<l.length;n+=1)l[n].c();r=J(),g&&g.c(),o=Q()},m:function(n,a){s&&s.m(n,a),F(n,e,a),f&&f.m(n,a),F(n,t,a);for(var c=0;c<l.length;c+=1)l[c].m(n,a);F(n,r,a),g&&g.m(n,a),F(n,o,a),i=!0},p:function(n,i){var p=m(i,1)[0];if(18&p&&(a=0==n[4].messages.length&&n[1].is("notifications")),a?s?s.p(n,p):((s=so()).c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),10&p&&(c=n[3].length>40&&n[1].is("loading")),c?f?(f.p(n,p),Bn(f,1)):((f=fo(n)).c(),Bn(f,1),f.m(t.parentNode,t)):f&&(Un(),Hn(f,1,1,(function(){f=null})),zn()),1023&p){var v;for(d=n[3],v=0;v<d.length;v+=1){var $=uo(n,d,v);l[v]?(l[v].p($,p),Bn(l[v],1)):(l[v]=_o($),l[v].c(),Bn(l[v],1),l[v].m(r.parentNode,r))}for(Un(),v=d.length;v<l.length;v+=1)h(v);zn()}17&p&&(u=n[0].is&&n[0].is("unreachable")||!n[4].is("success")),u?g?(g.p(n,p),Bn(g,1)):((g=xo(n)).c(),Bn(g,1),g.m(o.parentNode,o)):g&&(Un(),Hn(g,1,1,(function(){g=null})),zn())},i:function(n){if(!i){Bn(f);for(var e=0;e<d.length;e+=1)Bn(l[e]);Bn(g),i=!0}},o:function(n){Hn(f),l=l.filter(Boolean);for(var e=0;e<l.length;e+=1)Hn(l[e]);Hn(g),i=!1},d:function(n){s&&s.d(n),n&&W(e),f&&f.d(n),n&&W(t),Y(l,n),n&&W(r),g&&g.d(n),n&&W(o)}}}function Oo(n){return["","chat",n.connection_id,n.dialog_id].map(encodeURIComponent).join("/")+"#"+n.ts.toISOString()}function Co(n,e,t){var r,o=O,i=function(){return o(),o=P(c,(function(n){return t(4,r=n)})),c};n.$$.on_destroy.push((function(){return o()}));var a=e.connection,c=e.dialog;i();var u=e.input,s=yn("user");function f(n){return n.map((function(e,t){return e.dayChanged=!(0!=t||!c.is("search"))||0!=t&&e.ts.getDate()!=n[t-1].ts.getDate(),e}))}var d,l;return n.$set=function(n){"connection"in n&&t(0,a=n.connection),"dialog"in n&&i(t(1,c=n.dialog)),"input"in n&&t(2,u=n.input)},n.$$.update=function(){17&n.$$.dirty&&t(3,d=f(ao.mergeWithMessages(s,a,r))),2&n.$$.dirty&&t(5,l=c.unread)},[a,c,u,d,r,l,function(n){if(!c.is("conversation")){var e=n.target.closest(".message"),t=d[e.dataset.index];t&&t.dialog_id&&(n.preventDefault(),Be(Oo(t)))}},function(n){return 0!=n&&d[n].fromId==d[n-1].fromId},function(n){return"Convos"==n.fromId||n.fromId==c.connection_id||!c.dialog_id||c.findParticipant(n.fromId)},function(n){var e=n.target.closest(".message");s.embedMaker.toggleDetails(e,d[e.dataset.index])},s,f,function(n){return u&&u.add(n.from)}]}ao.askForNotifications=function(n){var e=[];return null!==n.events.wantNotifications||e.push(io({message:"Do you want notifications when someone sends you a private message? [Yes](%1) / [No](%2)",vars:["#call:events:requestPermissionToNotify","#call:events:rejectNotifications"]})),e},ao.fillIn=io,ao.firstTime=function(n,e){var t=[];if(!(e&&e.is&&e.is("conversation")&&e.first_time))return t;if(e.is_private||t.push(io({message:e.topic?"Topic for %1 is: %2":"No topic is set for %1.",type:"notice",vars:[e.name,e.topic]})),e.is_private)t.push(io({message:"This is a private conversation with [%1](%2).",type:"notice",vars:[e.name,Ke(e.path+"#send:"+encodeURIComponent("/whois "+e.name))]}));else{var r=e.participants().length;t.push(io({message:1==r?"You are the only participant in this conversation.":"There are %1 [participants](%2) in this conversation.",type:"notice",vars:[r,Ke(e.path+"#activeMenu:settings")]}))}return n.dialogs().length<=3&&t.push(io({message:"Start chatting by writing a message in the input field, or click on the conversation name ([%1](%2)) to get more information.",type:"notice",vars:[e.name,Ke(e.path+"#activeMenu:settings")]})),t},ao.connectionDialogStatus=function(n,e){var t=[];return!n.is||n.is("unreachable")||(n.frozen?t.push(io({message:"Disconnected. Your connection %1 can be edited in [settings](%2).",vars:[n.name,Ke(n.path+"#activeMenu:settings")]})):e.frozen&&!e.is("locked")&&t.push(io({message:xt(n,e).replace(/\.$/,""),vars:[]}))),t},ao.emptySearch=function(n,e){var t=[];return e.is("search")?(null===e.query?(t.push(io({message:"Search for messages sent by you or others the last %1 days by writing a message in the input field below.",type:"notice",vars:[90]})),t.push(io({message:'You can enter a channel name, or use `"conversation:#channel"` to narrow down the search.',type:"notice",vars:[e.name,Ke(e.path+"#activeMenu:settings")]}))):!e.messages.length&&e.is("success")&&t.push(io({message:'No search results for "%1".',type:"notice",vars:[e.query]})),t):t},ao.mergeWithMessages=function(n,e,t){return ao.emptySearch(n,t).concat(ao.firstTime(n,t)).concat(t.messages).concat(ao.connectionDialogStatus(e,t)).concat(ao.askForNotifications(n))};var Ro=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(co()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Co,Eo,M,{connection:0,dialog:1,input:2}),t}return i}(Qn);function So(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var No=function(n){return{}},Do=function(n){return{}};function Mo(n){var e,t,r,o,i,a,c,u=new Ne({props:{family:"regular",name:n[7]}});u.$on("click",n[14]);var s,f=n[9].label,d=T(f,n,n[8],Do),l=d||{c:function(){s=Z("Label")},m:function(n,e){F(n,s,e)},d:function(n){n&&W(s)}};return{c:function(){e=V("div"),t=V("input"),r=J(),Wn(u.$$.fragment),o=J(),i=V("label"),l&&l.c(),en(t,"type","checkbox"),en(t,"id",n[4]),en(t,"name",n[3]),t.__value=n[1],t.value=t.__value,t.disabled=n[2],en(i,"for",n[4]),en(e,"class","checkbox"),cn(e,"has-focus",n[6]),cn(e,"is-disabled",n[2])},m:function(s,f,d){F(s,e,f),G(e,t),t.checked=n[0],n[11](t),G(e,r),Yn(u,e,null),G(e,o),G(e,i),l&&l.m(i,null),a=!0,d&&N(c),c=[X(t,"change",n[10]),X(t,"blur",n[12]),X(t,"focus",n[13])]},p:function(n,r){var o=m(r,1)[0];(!a||16&o)&&en(t,"id",n[4]),(!a||8&o)&&en(t,"name",n[3]),(!a||2&o)&&(t.__value=n[1]),t.value=t.__value,(!a||4&o)&&(t.disabled=n[2]),1&o&&(t.checked=n[0]);var c={};128&o&&(c.name=n[7]),u.$set(c),d&&d.p&&256&o&&d.p(L(f,n,n[8],Do),I(f,n[8],o,No)),(!a||16&o)&&en(i,"for",n[4]),64&o&&cn(e,"has-focus",n[6]),4&o&&cn(e,"is-disabled",n[2])},i:function(n){a||(Bn(u.$$.fragment,n),Bn(l,n),a=!0)},o:function(n){Hn(u.$$.fragment,n),Hn(l,n),a=!1},d:function(t){t&&W(e),n[11](null),Vn(u),l&&l.d(t),N(c)}}}function Po(n,e,t){var r,o=e.checked,i=void 0!==o&&o,a=e.disabled,c=void 0!==a&&a,u=e.name,s=void 0===u?"":u,f=e.id,d=void 0===f?s?"form_"+s:ve():f,l=e.value,p=void 0===l?1:l,h=!1,m=e.$$slots,g=void 0===m?{}:m,v=e.$$scope;var $;return n.$set=function(n){"checked"in n&&t(0,i=n.checked),"disabled"in n&&t(2,c=n.disabled),"name"in n&&t(3,s=n.name),"id"in n&&t(4,d=n.id),"value"in n&&t(1,p=n.value),"$$scope"in n&&t(8,v=n.$$scope)},n.$$.update=function(){32&n.$$.dirty&&r&&!r.syncValue&&(t(5,r.syncValue=function(){var n;t(0,(n=[this.checked,this.value],i=n[0],p=n[1],n),i,(t(1,p),t(5,r)))},r),r.syncValue()),1&n.$$.dirty&&t(7,$=i?"check-square":"square")},[i,p,c,s,d,r,h,$,v,g,function(){i=this.checked,t(0,i),t(5,r)},function(n){_n[n?"unshift":"push"]((function(){t(5,r=n)}))},function(){t(6,h=!1)},function(){t(6,h=!0)},function(){c||t(0,i=!i)}]}var Ao=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(So()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Po,Mo,M,{checked:0,disabled:2,name:3,id:4,value:1}),t}return i}(Qn);function jo(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function To(n){var e,t,r=wt(n[1].error())+"";return{c:function(){e=V("div"),t=Z(r),en(e,"class","error")},m:function(n,r){F(n,e,r),G(e,t)},p:function(n,e){2&e&&r!==(r=wt(n[1].error())+"")&&rn(t,r)},d:function(n){n&&W(e)}}}function Lo(n){var e,t=n[1].is("error"),r=t&&To(n);return{c:function(){r&&r.c(),e=Q()},m:function(n,t){r&&r.m(n,t),F(n,e,t)},p:function(n,o){var i=m(o,1)[0];2&i&&(t=n[1].is("error")),t?r?r.p(n,i):((r=To(n)).c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:O,o:O,d:function(n){r&&r.d(n),n&&W(e)}}}function Io(n,e,t){var r,o=O,i=function(){return o(),o=P(c,(function(n){return t(1,r=n)})),c};n.$$.on_destroy.push((function(){return o()}));var a=e.op,c=void 0===a?new be({}):a;return i(),n.$set=function(n){"op"in n&&i(t(0,c=n.op))},[c,r]}var Uo=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(jo()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Io,Lo,M,{op:0}),t}return i}(Qn);function zo(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function Bo(n){var e,t,r,o,i=wt(n[0].dialog_id?"Conversation":"Connection")+"",a=new Ne({props:{name:"times-circle"}});return{c:function(){e=V("h2"),t=Z(i),r=J(),Wn(a.$$.fragment)},m:function(n,i){F(n,e,i),G(e,t),F(n,r,i),Yn(a,n,i),o=!0},p:function(n,e){(!o||1&e)&&i!==(i=wt(n[0].dialog_id?"Conversation":"Connection")+"")&&rn(t,i)},i:function(n){o||(Bn(a.$$.fragment,n),o=!0)},o:function(n){Hn(a.$$.fragment,n),o=!1},d:function(n){n&&W(e),n&&W(r),Vn(a,n)}}}function Ho(n){var e,t={href:n[0].path,class:"sidebar__header for-settings",$$slots:{default:[Bo]},$$scope:{ctx:n}},r=new Ze({props:t});return n[2](r),{c:function(){Wn(r.$$.fragment)},m:function(n,t){Yn(r,n,t),e=!0},p:function(n,e){var t=m(e,1)[0],o={};1&t&&(o.href=n[0].path),9&t&&(o.$$scope={dirty:t,ctx:n}),r.$set(o)},i:function(n){e||(Bn(r.$$.fragment,n),e=!0)},o:function(n){Hn(r.$$.fragment,n),e=!1},d:function(e){n[2](null),Vn(r,e)}}}function qo(n,e,t){var r,o=e.dialog,i=void 0===o?{}:o;return n.$set=function(n){"dialog"in n&&t(0,i=n.dialog)},n.$$.update=function(){2&n.$$.dirty&&r&&r.focus()},[i,r,function(n){_n[n?"unshift":"push"]((function(){t(1,r=n)}))}]}var Ko=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(zo()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,qo,Ho,M,{dialog:0}),t}return i}(Qn);function Go(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var Fo=function(n){return{}},Wo=function(n){return{}};function Yo(n){var e,t,r,o,i,a,c=n[8].label,u=T(c,n,n[7],Wo),s=u||function(n){var e;return{c:function(){e=Z("Label")},m:function(n,t){F(n,e,t)},d:function(n){n&&W(e)}}}();return{c:function(){e=V("div"),t=V("label"),s&&s.c(),r=J(),o=V("textarea"),en(t,"for",n[3]),en(o,"name",n[2]),en(o,"placeholder",n[4]),en(o,"id",n[3]),o.readOnly=n[5],en(e,"class","text-area"),e.hidden=n[1]},m:function(c,u,f){F(c,e,u),G(e,t),s&&s.m(t,null),G(e,r),G(e,o),n[9](o),on(o,n[0]),i=!0,f&&a(),a=X(o,"input",n[10])},p:function(n,r){var a=m(r,1)[0];u&&u.p&&128&a&&u.p(L(c,n,n[7],Wo),I(c,n[7],a,Fo)),(!i||8&a)&&en(t,"for",n[3]),(!i||4&a)&&en(o,"name",n[2]),(!i||16&a)&&en(o,"placeholder",n[4]),(!i||8&a)&&en(o,"id",n[3]),(!i||32&a)&&(o.readOnly=n[5]),1&a&&on(o,n[0]),(!i||2&a)&&(e.hidden=n[1])},i:function(n){i||(Bn(s,n),i=!0)},o:function(n){Hn(s,n),i=!1},d:function(t){t&&W(e),s&&s.d(t),n[9](null),a()}}}function Vo(n,e,t){var r,o=e.hidden,i=void 0!==o&&o,a=e.name,c=void 0===a?"":a,u=e.id,s=void 0===u?c?"form_"+c:ve():u,f=e.placeholder,d=void 0===f?"":f,l=e.readonly,p=void 0!==l&&l,h=e.value,m=void 0===h?"":h,g=e.$$slots,v=void 0===g?{}:g,$=e.$$scope;return n.$set=function(n){"hidden"in n&&t(1,i=n.hidden),"name"in n&&t(2,c=n.name),"id"in n&&t(3,s=n.id),"placeholder"in n&&t(4,d=n.placeholder),"readonly"in n&&t(5,p=n.readonly),"value"in n&&t(0,m=n.value),"$$scope"in n&&t(7,$=n.$$scope)},n.$$.update=function(){64&n.$$.dirty&&r&&!r.syncValue&&(t(6,r.syncValue=function(){t(0,m=this.value)},r),r.syncValue())},[m,i,c,s,d,p,r,$,v,function(n){_n[n?"unshift":"push"]((function(){t(6,r=n)}))},function(){m=this.value,t(0,m),t(6,r)}]}var Zo=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(Go()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Vo,Yo,M,{hidden:1,name:2,id:3,placeholder:4,readonly:5,value:0}),t}return i}(Qn);function Jo(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function Qo(n){var e,t;return{c:function(){en(e=V("input"),"type","hidden"),en(e,"name","connection_id"),e.value=t=n[0].connection_id},m:function(n,t){F(n,e,t)},p:function(n,r){1&r&&t!==(t=n[0].connection_id)&&(e.value=t)},d:function(n){n&&W(e)}}}function Xo(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Host and port")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function ni(n){var e,t=_t(n[6].forced_connection?"You cannot create custom connections.":"Example: %1","irc://chat.freenode.net:6697")+"";return{c:function(){en(e=V("p"),"class","help"),en(e,"slot","help")},m:function(n,r){F(n,e,r),e.innerHTML=t},p:O,d:function(n){n&&W(e)}}}function ei(n){var e;return{c:function(){e=J()},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function ti(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Nickname")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function ri(n){var e,t=new ot({props:{name:"dialog",placeholder:wt("Ex: #convos"),$$slots:{label:[ii]},$$scope:{ctx:n}}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};2097152&e&&(r.$$scope={dirty:e,ctx:n}),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function oi(n){var e,t;function r(e){n[16].call(null,e)}var o={$$slots:{label:[ai]},$$scope:{ctx:n}};void 0!==n[5]&&(o.checked=n[5]);var i=new Ao({props:o});return _n.push((function(){return Fn(i,"checked",r)})),{c:function(){Wn(i.$$.fragment)},m:function(n,e){Yn(i,n,e),t=!0},p:function(n,t){var r={};2097152&t&&(r.$$scope={dirty:t,ctx:n}),!e&&32&t&&(e=!0,r.checked=n[5],Nn((function(){return e=!1}))),i.$set(r)},i:function(n){t||(Bn(i.$$.fragment,n),t=!0)},o:function(n){Hn(i.$$.fragment,n),t=!1},d:function(n){Vn(i,n)}}}function ii(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Conversation name")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function ai(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Want to be connected")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function ci(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Secure connection (TLS)")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function ui(n){var e,t;function r(e){n[18].call(null,e)}var o={name:"tls_verify",$$slots:{label:[si]},$$scope:{ctx:n}};void 0!==n[4]&&(o.checked=n[4]);var i=new Ao({props:o});return _n.push((function(){return Fn(i,"checked",r)})),{c:function(){Wn(i.$$.fragment)},m:function(n,e){Yn(i,n,e),t=!0},p:function(n,t){var r={};2097152&t&&(r.$$scope={dirty:t,ctx:n}),!e&&16&t&&(e=!0,r.checked=n[4],Nn((function(){return e=!1}))),i.$set(r)},i:function(n){t||(Bn(i.$$.fragment,n),t=!0)},o:function(n){Hn(i.$$.fragment,n),t=!1},d:function(n){Vn(i,n)}}}function si(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Verify certificate (TLS)")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function fi(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Show advanced settings")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function di(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Username")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function li(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Password")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function pi(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("On-connect commands")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function hi(n){var e,t=new Ur({props:{icon:"save",op:n[7],$$slots:{default:[gi]},$$scope:{ctx:n}}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};2097152&e&&(r.$$scope={dirty:e,ctx:n}),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function mi(n){var e,t,r=new Ur({props:{icon:"save",op:n[9],$$slots:{default:[vi]},$$scope:{ctx:n}}}),o=new Ur({props:{icon:"trash",type:"button",op:n[8],$$slots:{default:[$i]},$$scope:{ctx:n}}});return o.$on("click",n[10]),{c:function(){Wn(r.$$.fragment),e=J(),Wn(o.$$.fragment)},m:function(n,i){Yn(r,n,i),F(n,e,i),Yn(o,n,i),t=!0},p:function(n,e){var t={};2097152&e&&(t.$$scope={dirty:e,ctx:n}),r.$set(t);var i={};2097152&e&&(i.$$scope={dirty:e,ctx:n}),o.$set(i)},i:function(n){t||(Bn(r.$$.fragment,n),Bn(o.$$.fragment,n),t=!0)},o:function(n){Hn(r.$$.fragment,n),Hn(o.$$.fragment,n),t=!1},d:function(n){Vn(r,n),n&&W(e),Vn(o,n)}}}function gi(n){var e,t=wt("Create")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function vi(n){var e,t=wt("Update")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function $i(n){var e,t=wt("Delete")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function yi(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h,g,v,$,y,b,w,_,x,k,E,O,C,R,S=n[0].connection_id&&Qo(n),N=new ot({props:{name:"server",placeholder:wt("Ex: chat.freenode.net:6697"),readonly:n[6].forced_connection,$$slots:{default:[ei],help:[ni],label:[Xo]},$$scope:{ctx:n}}}),D=new ot({props:{name:"nick",placeholder:wt("Ex: your-name"),$$slots:{label:[ti]},$$scope:{ctx:n}}}),M=[oi,ri],P=[];function A(n,e){return n[0].url?0:1}function j(e){n[17].call(null,e)}s=A(n),f=P[s]=M[s](n);var T={name:"tls",$$slots:{label:[ci]},$$scope:{ctx:n}};void 0!==n[3]&&(T.checked=n[3]);var L=new Ao({props:T});_n.push((function(){return Fn(L,"checked",j)}));var I=n[3]&&ui(n);function U(e){n[19].call(null,e)}var z={$$slots:{label:[fi]},$$scope:{ctx:n}};void 0!==n[2]&&(z.checked=n[2]);var B=new Ao({props:z});_n.push((function(){return Fn(B,"checked",U)}));var H=new ot({props:{name:"username",hidden:!n[2],$$slots:{label:[di]},$$scope:{ctx:n}}}),q=new ot({props:{type:"password",name:"password",hidden:!n[2],$$slots:{label:[li]},$$scope:{ctx:n}}}),K=new Zo({props:{name:"on_connect_commands",hidden:!n[2],$$slots:{label:[pi]},$$scope:{ctx:n}}}),Y=[mi,hi],Z=[];function Q(n,e){return n[0].url?0:1}_=Q(n),x=Z[_]=Y[_](n);var tn=new Uo({props:{op:n[7]}}),rn=new Uo({props:{op:n[8]}}),on=new Uo({props:{op:n[9]}});return{c:function(){e=V("form"),S&&S.c(),t=J(),r=V("input"),o=J(),i=V("input"),a=J(),Wn(N.$$.fragment),c=J(),Wn(D.$$.fragment),u=J(),f.c(),d=J(),Wn(L.$$.fragment),p=J(),I&&I.c(),h=J(),Wn(B.$$.fragment),v=J(),Wn(H.$$.fragment),$=J(),Wn(q.$$.fragment),y=J(),Wn(K.$$.fragment),b=J(),w=V("div"),x.c(),k=J(),Wn(tn.$$.fragment),E=J(),Wn(rn.$$.fragment),O=J(),Wn(on.$$.fragment),en(r,"type","hidden"),en(r,"name","url"),en(i,"type","hidden"),en(i,"name","wanted_state"),en(w,"class","form-actions"),en(e,"method","post")},m:function(f,l,m){F(f,e,l),S&&S.m(e,null),G(e,t),G(e,r),G(e,o),G(e,i),G(e,a),Yn(N,e,null),G(e,c),Yn(D,e,null),G(e,u),P[s].m(e,null),G(e,d),Yn(L,e,null),G(e,p),I&&I.m(e,null),G(e,h),Yn(B,e,null),G(e,v),Yn(H,e,null),G(e,$),Yn(q,e,null),G(e,y),Yn(K,e,null),G(e,b),G(e,w),Z[_].m(w,null),G(e,k),Yn(tn,e,null),G(e,E),Yn(rn,e,null),G(e,O),Yn(on,e,null),n[20](e),C=!0,m&&R(),R=X(e,"submit",nn(n[11]))},p:function(n,r){var o=m(r,1)[0];n[0].connection_id?S?S.p(n,o):((S=Qo(n)).c(),S.m(e,t)):S&&(S.d(1),S=null);var i={};2097152&o&&(i.$$scope={dirty:o,ctx:n}),N.$set(i);var a={};2097152&o&&(a.$$scope={dirty:o,ctx:n}),D.$set(a);var c=s;(s=A(n))===c?P[s].p(n,o):(Un(),Hn(P[c],1,1,(function(){P[c]=null})),zn(),(f=P[s])||(f=P[s]=M[s](n)).c(),Bn(f,1),f.m(e,d));var u={};2097152&o&&(u.$$scope={dirty:o,ctx:n}),!l&&8&o&&(l=!0,u.checked=n[3],Nn((function(){return l=!1}))),L.$set(u),n[3]?I?(I.p(n,o),Bn(I,1)):((I=ui(n)).c(),Bn(I,1),I.m(e,h)):I&&(Un(),Hn(I,1,1,(function(){I=null})),zn());var p={};2097152&o&&(p.$$scope={dirty:o,ctx:n}),!g&&4&o&&(g=!0,p.checked=n[2],Nn((function(){return g=!1}))),B.$set(p);var v={};4&o&&(v.hidden=!n[2]),2097152&o&&(v.$$scope={dirty:o,ctx:n}),H.$set(v);var $={};4&o&&($.hidden=!n[2]),2097152&o&&($.$$scope={dirty:o,ctx:n}),q.$set($);var y={};4&o&&(y.hidden=!n[2]),2097152&o&&(y.$$scope={dirty:o,ctx:n}),K.$set(y);var b=_;(_=Q(n))===b?Z[_].p(n,o):(Un(),Hn(Z[b],1,1,(function(){Z[b]=null})),zn(),(x=Z[_])||(x=Z[_]=Y[_](n)).c(),Bn(x,1),x.m(w,null))},i:function(n){C||(Bn(N.$$.fragment,n),Bn(D.$$.fragment,n),Bn(f),Bn(L.$$.fragment,n),Bn(I),Bn(B.$$.fragment,n),Bn(H.$$.fragment,n),Bn(q.$$.fragment,n),Bn(K.$$.fragment,n),Bn(x),Bn(tn.$$.fragment,n),Bn(rn.$$.fragment,n),Bn(on.$$.fragment,n),C=!0)},o:function(n){Hn(N.$$.fragment,n),Hn(D.$$.fragment,n),Hn(f),Hn(L.$$.fragment,n),Hn(I),Hn(B.$$.fragment,n),Hn(H.$$.fragment,n),Hn(q.$$.fragment,n),Hn(K.$$.fragment,n),Hn(x),Hn(tn.$$.fragment,n),Hn(rn.$$.fragment,n),Hn(on.$$.fragment,n),C=!1},d:function(t){t&&W(e),S&&S.d(),Vn(N),Vn(D),P[s].d(),Vn(L),I&&I.d(),Vn(B),Vn(H),Vn(q),Vn(K),Z[_].d(),Vn(tn),Vn(rn),Vn(on),n[20](null),R()}}}function bi(n,e,t){var r=e.dialog,o=void 0===r?{}:r,i=yn("settings"),a=yn("user"),c=a.api.operation("createConnection"),u=a.api.operation("removeConnection"),s=a.api.operation("updateConnection");[c,s].forEach((function(n){n.on("start",(function(n){n.body.on_connect_commands=n.body.on_connect_commands.split("\n").map((function(n){return n.trim()}))}))}));var f,d={},l=!1,p=!1,h=!1,m=!1;function g(){i.forced_connection&&t(1,f.server.value=i.default_connection,f),t(1,f.nick.value=a.email.replace(/@.*/,"").replace(/\W/g,"_"),f),t(3,p=!0),t(5,m=!0);var n=new URL(location.href);if(!n.searchParams.get("uri"))return Ge(f,n);var e=new Wt(n.searchParams.get("uri")),r=e.searchParams;e.host&&t(1,f.server.value=e.host,f),e.password&&t(1,f.password.value=e.password,f),e.username&&t(1,f.username.value=e.username,f),r.get("nick")&&t(1,f.nick.value=r.get("nick"),f),e.pathname&&f.dialog&&t(1,f.dialog.value=decodeURIComponent(e.pathname.split("/").filter((function(n){return n.length}))[0]||""),f),Number(r.get("tls")||0)&&t(3,p=!0),Number(r.get("tls_verify")||0)&&t(4,h=!0)}function v(){d.url&&(t(1,f.server.value=d.url.host,f),t(1,f.nick.value=d.url.searchParams.get("nick")||"",f),t(1,f.on_connect_commands.value=d.on_connect_commands.join("\n"),f),t(1,f.password.value=d.url.password,f),t(1,f.username.value=d.url.username,f),t(1,f.url.value=d.url.toString(),f),t(3,p="1"==d.url.searchParams.get("tls")),t(4,h="1"==d.url.searchParams.get("tls_verify")),t(5,m="connected"==d.wanted_state))}function $(){return($=ee(Xn.mark((function n(e){return Xn.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.perform(d);case 2:a.removeDialog(d),Be("/chat");case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function y(){return(y=ee(Xn.mark((function n(e){return Xn.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f.server.value){n.next=2;break}return n.abrupt("return");case 2:if(t(1,f.url.value=new Wt("irc://localhost:6667").fromForm(e.target).toString(),f),!d.connection_id){n.next=10;break}return n.next=6,s.perform(e.target);case 6:t(0,d=a.ensureDialog(s.res.body)),v(),n.next=14;break;case 10:return n.next=12,c.perform(e.target);case 12:Be(a.ensureDialog(c.res.body).path);case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return vn(ee(Xn.mark((function n(){return Xn.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f){n.next=2;break}return n.abrupt("return");case 2:return t(0,d=a.findDialog({connection_id:o.connection_id})||{}),n.abrupt("return",d.url?v():g());case 4:case"end":return n.stop()}}),n)})))),n.$set=function(n){"dialog"in n&&t(12,o=n.dialog)},n.$$.update=function(){34&n.$$.dirty&&f&&t(1,f.wanted_state.value=m?"connected":"disconnected",f)},[d,f,l,p,h,m,i,c,u,s,function(n){return $.apply(this,arguments)},function(n){return y.apply(this,arguments)},o,a,g,v,function(n){t(5,m=n)},function(n){t(3,p=n)},function(n){t(4,h=n)},function(n){t(2,l=n)},function(n){_n[n?"unshift":"push"]((function(){t(1,f=n)}))}]}var wi=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(Jo()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,bi,yi,M,{dialog:12}),t}return i}(Qn);function _i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function xi(n){var e,t,r=wt("Currently connecting to %1.",n[3])+"";return{c:function(){e=V("p"),t=Z(r)},m:function(n,r){F(n,e,r),G(e,t)},p:function(n,e){8&e&&r!==(r=wt("Currently connecting to %1.",n[3])+"")&&rn(t,r)},d:function(n){n&&W(e)}}}function ki(n){var e,t,r=wt("Currently connected to %1.",n[3])+"";return{c:function(){e=V("p"),t=Z(r)},m:function(n,r){F(n,e,r),G(e,t)},p:function(n,e){8&e&&r!==(r=wt("Currently connected to %1.",n[3])+"")&&rn(t,r)},d:function(n){n&&W(e)}}}function Ei(n){var e,t,r=wt("Currently disconnected from %1.",n[3])+"";return{c:function(){e=V("p"),t=Z(r)},m:function(n,r){F(n,e,r),G(e,t)},p:function(n,e){8&e&&r!==(r=wt("Currently disconnected from %1.",n[3])+"")&&rn(t,r)},d:function(n){n&&W(e)}}}function Oi(n){var e;return{c:function(){(e=V("p")).textContent="".concat(wt("Connection not found."))},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Ci(n){var e,t,r,o,i,a=new Ko({props:{dialog:n[0]}});function c(n,e){return n[2].url?"disconnected"==n[2].state?Ei:"connected"==n[2].state?ki:xi:Oi}var u=c(n),s=u(n),f=new wi({props:{dialog:n[0]}});return{c:function(){e=V("div"),Wn(a.$$.fragment),t=J(),s.c(),r=J(),Wn(f.$$.fragment),en(e,"class","sidebar-left")},m:function(n,o){F(n,e,o),Yn(a,e,null),G(e,t),s.m(e,null),G(e,r),Yn(f,e,null),i=!0},p:function(n,t){var o=m(t,1)[0],i={};1&o&&(i.dialog=n[0]),a.$set(i),u===(u=c(n))&&s?s.p(n,o):(s.d(1),(s=u(n))&&(s.c(),s.m(e,r)));var d={};1&o&&(d.dialog=n[0]),f.$set(d)},i:function(t){i||(Bn(a.$$.fragment,t),Bn(f.$$.fragment,t),Sn((function(){o||(o=Kn(e,ct,n[1],!0)),o.run(1)})),i=!0)},o:function(t){Hn(a.$$.fragment,t),Hn(f.$$.fragment,t),o||(o=Kn(e,ct,n[1],!1)),o.run(0),i=!1},d:function(n){n&&W(e),Vn(a),s.d(),Vn(f),n&&o&&o.end()}}}function Ri(n,e,t){var r,o=e.dialog,i=void 0===o?{}:o,a=e.transition,c=yn("user"),u={};return vn(ee(Xn.mark((function n(){return Xn.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t(2,u=c.findDialog({connection_id:i.connection_id})||{});case 1:case"end":return n.stop()}}),n)})))),n.$set=function(n){"dialog"in n&&t(0,i=n.dialog),"transition"in n&&t(1,a=n.transition)},n.$$.update=function(){4&n.$$.dirty&&t(3,r=u.real_host||u.url&&u.url.host)},[i,a,u,r]}var Si=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(_i()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Ri,Ci,M,{dialog:0,transition:1}),t}return i}(Qn);function Ni(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function Di(n,e,t){var r=n.slice();return r[15]=e[t],r}function Mi(n){var e,t=wt("You are not a channel operator in %1.",n[0].name)+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:function(n,r){1&r&&t!==(t=wt("You are not a channel operator in %1.",n[0].name)+"")&&rn(e,t)},d:function(n){n&&W(e)}}}function Pi(n){var e,t=wt("You are channel operator in %1.",n[0].name)+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:function(n,r){1&r&&t!==(t=wt("You are channel operator in %1.",n[0].name)+"")&&rn(e,t)},d:function(n){n&&W(e)}}}function Ai(n){var e,t=wt("Private conversation with %1.",n[0].name)+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:function(n,r){1&r&&t!==(t=wt("Private conversation with %1.",n[0].name)+"")&&rn(e,t)},d:function(n){n&&W(e)}}}function ji(n){var e,t=wt("Conversation with %1 is frozen. Reason: %2",n[0].name,wt(n[0].frozen))+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:function(n,r){1&r&&t!==(t=wt("Conversation with %1 is frozen. Reason: %2",n[0].name,wt(n[0].frozen))+"")&&rn(e,t)},d:function(n){n&&W(e)}}}function Ti(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h=n[0].hasOwnProperty("wantNotifications"),m=[Ii,Li],g=[];function v(n,e){return n[6]?0:1}function $(e){n[12].call(null,e)}c=v(n),u=g[c]=m[c](n);var y={type:"password",name:"password",readonly:!n[0].is("locked")&&!n[6],$$slots:{label:[zi]},$$scope:{ctx:n}};void 0!==n[2]&&(y.value=n[2]);var b=new ot({props:y});_n.push((function(){return Fn(b,"value",$)}));var w=h&&Bi(n);return{c:function(){e=V("input"),r=J(),o=V("input"),a=J(),u.c(),s=J(),Wn(b.$$.fragment),d=J(),w&&w.c(),l=Q(),en(e,"type","hidden"),en(e,"name","connection_id"),e.value=t=n[0].connection_id,en(o,"type","hidden"),en(o,"name","dialog_id"),o.value=i=n[0].dialog_id},m:function(n,t){F(n,e,t),F(n,r,t),F(n,o,t),F(n,a,t),g[c].m(n,t),F(n,s,t),Yn(b,n,t),F(n,d,t),w&&w.m(n,t),F(n,l,t),p=!0},p:function(n,r){(!p||1&r&&t!==(t=n[0].connection_id))&&(e.value=t),(!p||1&r&&i!==(i=n[0].dialog_id))&&(o.value=i);var a=c;(c=v(n))===a?g[c].p(n,r):(Un(),Hn(g[a],1,1,(function(){g[a]=null})),zn(),(u=g[c])||(u=g[c]=m[c](n)).c(),Bn(u,1),u.m(s.parentNode,s));var d={};65&r&&(d.readonly=!n[0].is("locked")&&!n[6]),262144&r&&(d.$$scope={dirty:r,ctx:n}),!f&&4&r&&(f=!0,d.value=n[2],Nn((function(){return f=!1}))),b.$set(d),1&r&&(h=n[0].hasOwnProperty("wantNotifications")),h?w?(w.p(n,r),Bn(w,1)):((w=Bi(n)).c(),Bn(w,1),w.m(l.parentNode,l)):w&&(Un(),Hn(w,1,1,(function(){w=null})),zn())},i:function(n){p||(Bn(u),Bn(b.$$.fragment,n),Bn(w),p=!0)},o:function(n){Hn(u),Hn(b.$$.fragment,n),Hn(w),p=!1},d:function(n){n&&W(e),n&&W(r),n&&W(o),n&&W(a),g[c].d(n),n&&W(s),Vn(b,n),n&&W(d),w&&w.d(n),n&&W(l)}}}function Li(n){var e,t,r,o,i=_t(n[3]||"No topic is set.")+"";return{c:function(){e=V("div"),(t=V("label")).textContent="".concat(wt("Topic")),r=J(),en(o=V("div"),"class","input"),en(e,"class","text-field")},m:function(n,a){F(n,e,a),G(e,t),G(e,r),G(e,o),o.innerHTML=i},p:function(n,e){8&e&&i!==(i=_t(n[3]||"No topic is set.")+"")&&(o.innerHTML=i)},i:O,o:O,d:function(n){n&&W(e)}}}function Ii(n){var e,t;function r(e){n[11].call(null,e)}var o={name:"topic",placeholder:wt("No topic is set."),$$slots:{label:[Ui]},$$scope:{ctx:n}};void 0!==n[3]&&(o.value=n[3]);var i=new Zo({props:o});return _n.push((function(){return Fn(i,"value",r)})),{c:function(){Wn(i.$$.fragment)},m:function(n,e){Yn(i,n,e),t=!0},p:function(n,t){var r={};262144&t&&(r.$$scope={dirty:t,ctx:n}),!e&&8&t&&(e=!0,r.value=n[3],Nn((function(){return e=!1}))),i.$set(r)},i:function(n){t||(Bn(i.$$.fragment,n),t=!0)},o:function(n){Hn(i.$$.fragment,n),t=!1},d:function(n){Vn(i,n)}}}function Ui(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Topic")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function zi(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Password")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Bi(n){var e,t;function r(e){n[13].call(null,e)}var o={$$slots:{label:[Hi]},$$scope:{ctx:n}};void 0!==n[5]&&(o.checked=n[5]);var i=new Ao({props:o});return _n.push((function(){return Fn(i,"checked",r)})),{c:function(){Wn(i.$$.fragment)},m:function(n,e){Yn(i,n,e),t=!0},p:function(n,t){var r={};262144&t&&(r.$$scope={dirty:t,ctx:n}),!e&&32&t&&(e=!0,r.checked=n[5],Nn((function(){return e=!1}))),i.$set(r)},i:function(n){t||(Bn(i.$$.fragment,n),t=!0)},o:function(n){Hn(i.$$.fragment,n),t=!1},d:function(n){Vn(i,n)}}}function Hi(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Send me notifications")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function qi(n){var e,t=new Ur({props:{icon:"save",$$slots:{default:[Ki]},$$scope:{ctx:n}}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};262144&e&&(r.$$scope={dirty:e,ctx:n}),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function Ki(n){var e,t=wt("Update")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Gi(n){var e,t=wt("Leave")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Fi(n){for(var e,t,r,o,i,a=wt("Participants (%1)",n[0].participants().length)+"",c=n[0].participants(),u=[],s=0;s<c.length;s+=1)u[s]=Yi(Di(n,c,s));var f=function(n){return Hn(u[n],1,1,(function(){u[n]=null}))};return{c:function(){e=V("nav"),t=V("h3"),r=Z(a),o=J();for(var n=0;n<u.length;n+=1)u[n].c();en(e,"class","sidebar-left__nav")},m:function(n,a){F(n,e,a),G(e,t),G(t,r),G(e,o);for(var c=0;c<u.length;c+=1)u[c].m(e,null);i=!0},p:function(n,t){if((!i||1&t)&&a!==(a=wt("Participants (%1)",n[0].participants().length)+"")&&rn(r,a),1&t){var o;for(c=n[0].participants(),o=0;o<c.length;o+=1){var s=Di(n,c,o);u[o]?(u[o].p(s,t),Bn(u[o],1)):(u[o]=Yi(s),u[o].c(),Bn(u[o],1),u[o].m(e,null))}for(Un(),o=c.length;o<u.length;o+=1)f(o);zn()}},i:function(n){if(!i){for(var e=0;e<c.length;e+=1)Bn(u[e]);i=!0}},o:function(n){u=u.filter(Boolean);for(var e=0;e<u.length;e+=1)Hn(u[e]);i=!1},d:function(n){n&&W(e),Y(u,n)}}}function Wi(n){var e,t,r,o=n[15].nick+"";return{c:function(){e=V("span"),t=Z(o),r=J()},m:function(n,o){F(n,e,o),G(e,t),F(n,r,o)},p:function(n,e){1&e&&o!==(o=n[15].nick+"")&&rn(t,o)},d:function(n){n&&W(e),n&&W(r)}}}function Yi(n){var e,t=new Ze({props:{href:"/chat/"+n[0].connection_id+"/"+n[15].id,class:"participant "+se(n[15].modes),$$slots:{default:[Wi]},$$scope:{ctx:n}}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};1&e&&(r.href="/chat/"+n[0].connection_id+"/"+n[15].id),1&e&&(r.class="participant "+se(n[15].modes)),262145&e&&(r.$$scope={dirty:e,ctx:n}),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function Vi(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h=!n[0].is("private"),g=!n[0].is("private"),v=new Ko({props:{dialog:n[0]}});function $(n,e){return n[0].frozen?ji:((null==o||1&e)&&(o=!!n[0].is("private")),o?Ai:n[6]?Pi:Mi)}var y=$(n,-1),b=y(n),w=h&&Ti(n),_=g&&qi(n),x=new Ur({props:{type:"button",icon:"sign-out-alt",$$slots:{default:[Gi]},$$scope:{ctx:n}}});x.$on("click",n[7]);var k=!n[0].frozen&&Fi(n);return{c:function(){e=V("div"),Wn(v.$$.fragment),t=J(),r=V("p"),b.c(),i=J(),a=V("form"),w&&w.c(),c=J(),u=V("div"),_&&_.c(),s=J(),Wn(x.$$.fragment),f=J(),k&&k.c(),en(u,"class","form-actions"),en(a,"method","post"),en(e,"class","sidebar-left")},m:function(o,d,h){F(o,e,d),Yn(v,e,null),G(e,t),G(e,r),b.m(r,null),G(e,i),G(e,a),w&&w.m(a,null),G(a,c),G(a,u),_&&_.m(u,null),G(u,s),Yn(x,u,null),n[14](a),G(e,f),k&&k.m(e,null),l=!0,h&&p(),p=X(a,"submit",nn(n[8]))},p:function(n,t){var o=m(t,1)[0],i={};1&o&&(i.dialog=n[0]),v.$set(i),y===(y=$(n,o))&&b?b.p(n,o):(b.d(1),(b=y(n))&&(b.c(),b.m(r,null))),1&o&&(h=!n[0].is("private")),h?w?(w.p(n,o),Bn(w,1)):((w=Ti(n)).c(),Bn(w,1),w.m(a,c)):w&&(Un(),Hn(w,1,1,(function(){w=null})),zn()),1&o&&(g=!n[0].is("private")),g?_?(_.p(n,o),Bn(_,1)):((_=qi(n)).c(),Bn(_,1),_.m(u,s)):_&&(Un(),Hn(_,1,1,(function(){_=null})),zn());var f={};262144&o&&(f.$$scope={dirty:o,ctx:n}),x.$set(f),n[0].frozen?k&&(Un(),Hn(k,1,1,(function(){k=null})),zn()):k?(k.p(n,o),Bn(k,1)):((k=Fi(n)).c(),Bn(k,1),k.m(e,null))},i:function(t){l||(Bn(v.$$.fragment,t),Bn(w),Bn(_),Bn(x.$$.fragment,t),Bn(k),Sn((function(){d||(d=Kn(e,ct,n[1],!0)),d.run(1)})),l=!0)},o:function(t){Hn(v.$$.fragment,t),Hn(w),Hn(_),Hn(x.$$.fragment,t),Hn(k),d||(d=Kn(e,ct,n[1],!1)),d.run(0),l=!1},d:function(t){t&&W(e),Vn(v),b.d(),w&&w.d(),_&&_.d(),Vn(x),n[14](null),k&&k.d(),t&&d&&d.end(),p()}}}function Zi(n,e,t){var r,o,i=e.dialog,a=void 0===i?{}:i,c=e.transition,u=yn("user"),s="",f=a.topic,d=a.wantNotifications;function l(n){var e=u.findDialog({connection_id:n.connection_id}),t=n.findParticipant(e&&e.nick);return t&&t.modes.operator}return n.$set=function(n){"dialog"in n&&t(0,a=n.dialog),"transition"in n&&t(1,c=n.transition)},n.$$.update=function(){1&n.$$.dirty&&t(6,o=l(a)),33&n.$$.dirty&&a.update({wantNotifications:d}),17&n.$$.dirty&&r&&r.topic&&t(4,r.topic.value=a.topic||"",r)},[a,c,s,f,r,d,o,function(n){u.send({message:"/part",dialog:a})},function(n){if(s){var e=o?"/mode +k "+s:"/join "+a.name+" "+s;u.send({message:e,dialog:a}),t(2,s="")}o&&f!=a.topic&&u.send({message:"/topic "+f,dialog:a})},u,l,function(n){t(3,f=n)},function(n){t(2,s=n)},function(n){t(5,d=n)},function(n){_n[n?"unshift":"push"]((function(){t(4,r=n)}))}]}var Ji=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(Ni()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Zi,Vi,M,{dialog:0,transition:1}),t}return i}(Qn),Qi=function(){function e(){var t=this;n(this,e),this.dragAndDropEvents={drag:this._preventDefault.bind(this),dragend:this.stop.bind(this),dragenter:this.start.bind(this),dragleave:this.stop.bind(this),dragover:this.start.bind(this),dragstart:this._preventDefault.bind(this),drop:this.drop.bind(this)},this.pasteEvents={paste:this.paste.bind(this)},this.removeDragOverDebounced=re((function(){return t._removeDragOver()}),100)}return t(e,[{key:"attach",value:function(n,e,t){var r=this;this.targetEl&&this.detach(),this.dropEl=e,this.uploadEl=t,this.targetEl=n,Object.keys(this.dragAndDropEvents).forEach((function(e){n.addEventListener(e,r.dragAndDropEvents[e])})),Object.keys(this.pasteEvents).forEach((function(n){document.addEventListener(n,r.pasteEvents[n])}))}},{key:"detach",value:function(){var n=this;Object.keys(this.dragAndDropEvents).forEach((function(e){n.targetEl.removeEventListener(e,n.dragAndDropEvents[e])})),Object.keys(this.pasteEvents).forEach((function(e){document.removeEventListener(e,n.pasteEvents[e])}))}},{key:"drop",value:function(n){this.stop(n),this.uploadEl&&this.uploadEl.uploader(n)}},{key:"paste",value:function(n){var e=(n.clipboardData||n.originalEvent.clipboardData).items;if(this.uploadEl)for(var t=0;t<e.length;t++)if("file"==e[t].kind)return this.uploadEl.uploader({dataTransfer:{files:[e[t].getAsFile()]}})}},{key:"stop",value:function(n){this._preventDefault(n),this.removeDragOverDebounced()}},{key:"start",value:function(n){this._preventDefault(n),this.dropEl&&this.dropEl.classList.add("is-dragover")}},{key:"_preventDefault",value:function(n){n.preventDefault(),n.stopPropagation()}},{key:"_removeDragOver",value:function(){this.dropEl&&this.dropEl.classList.remove("is-dragover")}}]),e}();function Xi(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function na(n,e,t){var r=n.slice();return r[32]=e[t],r}function ea(n){var e,t,r=n[2];function o(n){return{props:{dialog:n[6],transition:{duration:250,x:n[10].wideScreen?0:n[10].width}}}}if(r)var i=new r(o(n));return{c:function(){i&&Wn(i.$$.fragment),e=Q()},m:function(n,r){i&&Yn(i,n,r),F(n,e,r),t=!0},p:function(n,t){var a={};if(64&t[0]&&(a.dialog=n[6]),1024&t[0]&&(a.transition={duration:250,x:n[10].wideScreen?0:n[10].width}),r!==(r=n[2])){if(i){Un();var c=i;Hn(c.$$.fragment,1,0,(function(){Vn(c,1)})),zn()}r?(Wn((i=new r(o(n))).$$.fragment),Bn(i.$$.fragment,1),Yn(i,e.parentNode,e)):i=null}else r&&i.$set(a)},i:function(n){t||(i&&Bn(i.$$.fragment,n),t=!0)},o:function(n){i&&Hn(i.$$.fragment,n),t=!1},d:function(n){n&&W(e),i&&Vn(i,n)}}}function ta(n){var e,t,r,o,i,a,c,u,s,f,d=(n[8][2]||n[8][1]||wt("Notifications"))+"",l=xt(n[5],n[6])+"",p=new Ne({props:{name:n[6].connection_id?"sliders-h":"bell"}});return{c:function(){e=V("h1"),t=V("a"),Wn(p.$$.fragment),r=V("span"),o=Z(d),a=J(),c=V("a"),u=Z(l),en(t,"href",i="#activeMenu:"+(n[6].connection_id?"settings":"nav")),en(t,"tabindex","-1"),en(c,"href",s="#activeMenu:"+(n[6].connection_id?"settings":"nav")),en(c,"class","chat-header__topic")},m:function(n,i){F(n,e,i),G(e,t),Yn(p,t,null),G(t,r),G(r,o),F(n,a,i),F(n,c,i),G(c,u),f=!0},p:function(n,e){var r={};64&e[0]&&(r.name=n[6].connection_id?"sliders-h":"bell"),p.$set(r),(!f||256&e[0])&&d!==(d=(n[8][2]||n[8][1]||wt("Notifications"))+"")&&rn(o,d),(!f||64&e[0]&&i!==(i="#activeMenu:"+(n[6].connection_id?"settings":"nav")))&&en(t,"href",i),(!f||96&e[0])&&l!==(l=xt(n[5],n[6])+"")&&rn(u,l),(!f||64&e[0]&&s!==(s="#activeMenu:"+(n[6].connection_id?"settings":"nav")))&&en(c,"href",s)},i:function(n){f||(Bn(p.$$.fragment,n),f=!0)},o:function(n){Hn(p.$$.fragment,n),f=!1},d:function(n){n&&W(e),Vn(p),n&&W(a),n&&W(c)}}}function ra(n){var e,t=new Ro({props:{connection:n[5],dialog:n[6],input:n[0]}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};32&e[0]&&(r.connection=n[5]),64&e[0]&&(r.dialog=n[6]),1&e[0]&&(r.input=n[0]),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function oa(n){var e,t,r,o,i,a,c,u,s,f,d,l=wt('Do you want to chat with "%1"?',n[8][2])+"",p=wt("Yes")+"",h=new Ze({props:{href:"/chat",class:"btn",$$slots:{default:[aa]},$$scope:{ctx:n}}});return{c:function(){(e=V("h2")).textContent="".concat(wt("You are not part of this conversation.")),t=J(),r=V("p"),o=Z(l),i=J(),a=V("p"),c=V("a"),u=Z(p),f=J(),Wn(h.$$.fragment),en(c,"href",s="#send:/join "+n[8][2]),en(c,"class","btn")},m:function(n,s){F(n,e,s),F(n,t,s),F(n,r,s),G(r,o),F(n,i,s),F(n,a,s),G(a,c),G(c,u),G(a,f),Yn(h,a,null),d=!0},p:function(n,e){(!d||256&e[0])&&l!==(l=wt('Do you want to chat with "%1"?',n[8][2])+"")&&rn(o,l),(!d||256&e[0]&&s!==(s="#send:/join "+n[8][2]))&&en(c,"href",s);var t={};16&e[1]&&(t.$$scope={dirty:e,ctx:n}),h.$set(t)},i:function(n){d||(Bn(h.$$.fragment,n),d=!0)},o:function(n){Hn(h.$$.fragment,n),d=!1},d:function(n){n&&W(e),n&&W(t),n&&W(r),n&&W(i),n&&W(a),Vn(h)}}}function ia(n){var e,t,r,o,i,a,c,u,s=wt('Do you want to create the connection "%1"?',n[8][1])+"",f=new Ze({props:{href:"/settings/connection?server="+encodeURIComponent(n[8][1])+"&dialog="+encodeURIComponent(n[8][2]),class:"btn",$$slots:{default:[ca]},$$scope:{ctx:n}}}),d=new Ze({props:{href:"/chat",class:"btn",$$slots:{default:[ua]},$$scope:{ctx:n}}});return{c:function(){(e=V("h2")).textContent="".concat(wt("Connection does not exist.")),t=J(),r=V("p"),o=Z(s),i=J(),a=V("p"),Wn(f.$$.fragment),c=J(),Wn(d.$$.fragment)},m:function(n,s){F(n,e,s),F(n,t,s),F(n,r,s),G(r,o),F(n,i,s),F(n,a,s),Yn(f,a,null),G(a,c),Yn(d,a,null),u=!0},p:function(n,e){(!u||256&e[0])&&s!==(s=wt('Do you want to create the connection "%1"?',n[8][1])+"")&&rn(o,s);var t={};256&e[0]&&(t.href="/settings/connection?server="+encodeURIComponent(n[8][1])+"&dialog="+encodeURIComponent(n[8][2])),16&e[1]&&(t.$$scope={dirty:e,ctx:n}),f.$set(t);var r={};16&e[1]&&(r.$$scope={dirty:e,ctx:n}),d.$set(r)},i:function(n){u||(Bn(f.$$.fragment,n),Bn(d.$$.fragment,n),u=!0)},o:function(n){Hn(f.$$.fragment,n),Hn(d.$$.fragment,n),u=!1},d:function(n){n&&W(e),n&&W(t),n&&W(r),n&&W(i),n&&W(a),Vn(f),Vn(d)}}}function aa(n){var e,t=wt("No")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function ca(n){var e,t=wt("Yes")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function ua(n){var e,t=wt("No")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function sa(n){var e,t,r,o,i,a;function c(e){n[28].call(null,e)}var u={type:"password",name:"dialog_password",placeholder:wt("Enter password"),autocomplete:"off",$$slots:{label:[fa]},$$scope:{ctx:n}};void 0!==n[7]&&(u.value=n[7]);var s=new ot({props:u});_n.push((function(){return Fn(s,"value",c)}));var f=new Ur({props:{icon:"comment",disabled:!n[7].length,$$slots:{default:[da]},$$scope:{ctx:n}}});return{c:function(){e=V("form"),Wn(s.$$.fragment),r=J(),o=V("div"),Wn(f.$$.fragment),en(o,"class","has-remaining-space"),en(e,"class","inputs-side-by-side")},m:function(t,c,u){F(t,e,c),Yn(s,e,null),G(e,r),G(e,o),Yn(f,o,null),i=!0,u&&a(),a=X(e,"submit",nn(n[12]))},p:function(n,e){var r={};16&e[1]&&(r.$$scope={dirty:e,ctx:n}),!t&&128&e[0]&&(t=!0,r.value=n[7],Nn((function(){return t=!1}))),s.$set(r);var o={};128&e[0]&&(o.disabled=!n[7].length),16&e[1]&&(o.$$scope={dirty:e,ctx:n}),f.$set(o)},i:function(n){i||(Bn(s.$$.fragment,n),Bn(f.$$.fragment,n),i=!0)},o:function(n){Hn(s.$$.fragment,n),Hn(f.$$.fragment,n),i=!1},d:function(n){n&&W(e),Vn(s),Vn(f),a()}}}function fa(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("This conversation needs a password")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function da(n){var e,t=wt("Join")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function la(n){var e,t={dialog:n[6]},r=new Xr({props:t});return n[31](r),{c:function(){Wn(r.$$.fragment)},m:function(n,t){Yn(r,n,t),e=!0},p:function(n,e){var t={};64&e[0]&&(t.dialog=n[6]),r.$set(t)},i:function(n){e||(Bn(r.$$.fragment,n),e=!0)},o:function(n){Hn(r.$$.fragment,n),e=!1},d:function(e){n[31](null),Vn(r,e)}}}function pa(n){for(var e,t,r,o,i,a,c,u,s=wt("Participants (%1)",n[6].participants().length)+"",f=n[6].participants(),d=[],l=0;l<f.length;l+=1)d[l]=ma(na(n,f,l));var p=function(n){return Hn(d[n],1,1,(function(){d[n]=null}))};return{c:function(){e=V("div"),t=V("nav"),r=V("h3"),o=Z(s),i=J();for(var n=0;n<d.length;n+=1)d[n].c();a=J(),c=V("nav"),en(t,"class","sidebar-right__nav"),en(e,"class","sidebar-right")},m:function(n,s){F(n,e,s),G(e,t),G(t,r),G(r,o),G(t,i);for(var f=0;f<d.length;f+=1)d[f].m(t,null);G(t,a),G(t,c),u=!0},p:function(n,e){if((!u||64&e[0])&&s!==(s=wt("Participants (%1)",n[6].participants().length)+"")&&rn(o,s),64&e[0]){var r;for(f=n[6].participants(),r=0;r<f.length;r+=1){var i=na(n,f,r);d[r]?(d[r].p(i,e),Bn(d[r],1)):(d[r]=ma(i),d[r].c(),Bn(d[r],1),d[r].m(t,a))}for(Un(),r=f.length;r<d.length;r+=1)p(r);zn()}},i:function(n){if(!u){for(var e=0;e<f.length;e+=1)Bn(d[e]);u=!0}},o:function(n){d=d.filter(Boolean);for(var e=0;e<d.length;e+=1)Hn(d[e]);u=!1},d:function(n){n&&W(e),Y(d,n)}}}function ha(n){var e,t,r,o,i=n[32].nick+"",a=new Ne({props:{name:"pick:"+n[32].id,family:"solid",color:n[32].color}});return{c:function(){Wn(a.$$.fragment),e=J(),t=V("span"),r=Z(i)},m:function(n,i){Yn(a,n,i),F(n,e,i),F(n,t,i),G(t,r),o=!0},p:function(n,e){var t={};64&e[0]&&(t.name="pick:"+n[32].id),64&e[0]&&(t.color=n[32].color),a.$set(t),(!o||64&e[0])&&i!==(i=n[32].nick+"")&&rn(r,i)},i:function(n){o||(Bn(a.$$.fragment,n),o=!0)},o:function(n){Hn(a.$$.fragment,n),o=!1},d:function(n){Vn(a,n),n&&W(e),n&&W(t)}}}function ma(n){var e,t=new Ze({props:{href:"/chat/"+n[6].connection_id+"/"+n[32].id,class:"participant "+se(n[32].modes),$$slots:{default:[ha]},$$scope:{ctx:n}}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};64&e[0]&&(r.href="/chat/"+n[6].connection_id+"/"+n[32].id),64&e[0]&&(r.class="participant "+se(n[32].modes)),64&e[0]|16&e[1]&&(r.$$scope={dirty:e,ctx:n}),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function ga(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h=n[6].is("locked"),m=!n[6].is("notifications"),g=n[6].participants().length;Sn(n[27]);var v="settings"==n[9]&&ea(n),$=new qr({props:{$$slots:{default:[ta]},$$scope:{ctx:n}}}),y=[ia,oa,ra],b=[];function w(n,e){return n[8][1]&&!n[5].connection_id?0:n[8][2]&&!n[6].connection_id?1:2}i=w(n),a=b[i]=y[i](n);var _=h&&sa(n),x=m&&la(n),k=g&&pa(n);return{c:function(){v&&v.c(),e=J(),Wn($.$$.fragment),t=J(),r=V("main"),o=V("div"),a.c(),c=J(),_&&_.c(),s=J(),x&&x.c(),f=J(),k&&k.c(),d=Q(),en(o,"class","messages-container"),Sn((function(){return n[29].call(o)})),cn(o,"has-notifications",1==n[8].length),en(r,"class","main")},m:function(a,h,m){v&&v.m(a,h),F(a,e,h),Yn($,a,h),F(a,t,h),F(a,r,h),G(r,o),b[i].m(o,null),G(o,c),_&&_.m(o,null),u=function(n,e){"static"===getComputedStyle(n).position&&(n.style.position="relative");var t,r=document.createElement("object");return r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.type="text/html",r.tabIndex=-1,r.onload=function(){(t=r.contentDocument.defaultView).addEventListener("resize",e)},/Trident/.test(navigator.userAgent)?(n.appendChild(r),r.data="about:blank"):(r.data="about:blank",n.appendChild(r)),{cancel:function(){t&&t.removeEventListener&&t.removeEventListener("resize",e),n.removeChild(r)}}}(o,n[29].bind(o)),n[30](r),F(a,s,h),x&&x.m(a,h),F(a,f,h),k&&k.m(a,h),F(a,d,h),l=!0,m&&N(p),p=[X(window,"resize",n[27]),X(r,"scroll",n[14]),X(r,"click",n[13])]},p:function(n,t){"settings"==n[9]?v?(v.p(n,t),Bn(v,1)):((v=ea(n)).c(),Bn(v,1),v.m(e.parentNode,e)):v&&(Un(),Hn(v,1,1,(function(){v=null})),zn());var r={};352&t[0]|16&t[1]&&(r.$$scope={dirty:t,ctx:n}),$.$set(r);var u=i;(i=w(n))===u?b[i].p(n,t):(Un(),Hn(b[u],1,1,(function(){b[u]=null})),zn(),(a=b[i])||(a=b[i]=y[i](n)).c(),Bn(a,1),a.m(o,c)),64&t[0]&&(h=n[6].is("locked")),h?_?(_.p(n,t),Bn(_,1)):((_=sa(n)).c(),Bn(_,1),_.m(o,null)):_&&(Un(),Hn(_,1,1,(function(){_=null})),zn()),256&t[0]&&cn(o,"has-notifications",1==n[8].length),64&t[0]&&(m=!n[6].is("notifications")),m?x?(x.p(n,t),Bn(x,1)):((x=la(n)).c(),Bn(x,1),x.m(f.parentNode,f)):x&&(Un(),Hn(x,1,1,(function(){x=null})),zn()),64&t[0]&&(g=n[6].participants().length),g?k?(k.p(n,t),Bn(k,1)):((k=pa(n)).c(),Bn(k,1),k.m(d.parentNode,d)):k&&(Un(),Hn(k,1,1,(function(){k=null})),zn())},i:function(n){l||(Bn(v),Bn($.$$.fragment,n),Bn(a),Bn(_),Bn(x),Bn(k),l=!0)},o:function(n){Hn(v),Hn($.$$.fragment,n),Hn(a),Hn(_),Hn(x),Hn(k),l=!1},d:function(o){v&&v.d(o),o&&W(e),Vn($,o),o&&W(t),o&&W(r),b[i].d(),_&&_.d(),u.cancel(),n[30](null),o&&W(s),x&&x.d(o),o&&W(f),k&&k.d(o),o&&W(d),N(p)}}}function va(n,e,t){var r,o,i,a,c;j(n,Le,(function(n){return t(20,r=n)})),j(n,Ie,(function(n){return t(22,i=n)})),j(n,je,(function(n){return t(9,a=n)})),j(n,Te,(function(n){return t(10,c=n)}));var u,s,f=yn("user");j(n,f,(function(n){return t(21,o=n)}));var d,l,p=null,h=0,m=0,g=0,v="bottom",$={},y=f.notifications,b="",w=new Qi,_="",x=r.pathParts,k=[];function E(n,e){t(8,x=e.pathParts);var r=n.findDialog({connection_id:x[1]})||{};r!=$&&function(n){if(n.url&&navigator.registerProtocolHandler){var e=n.url.protocol.replace(/:$/,"");-1!=["irc"].indexOf(e)&&navigator.registerProtocolHandler(e,Le.base+"/register?uri=%s","Convos "+e+" handler")}}(t(5,$=r));var o=1==x.length?n.notifications:n.findDialog({connection_id:x[1],dialog_id:x[2]});return o?o==y&&_?y.load({after:"maybe"}):(_&&C(),fe(document,".message__embed",(function(n){return n.remove()})),t(6,y=o),g=0,_=e.path,v="bottom",t(2,p=y.connection_id?y.dialog_id?Ji:Si:null),k=[],$.subscribe&&k.push($.subscribe((function(n){t(5,$=n)}))),y.subscribe&&k.push(y.subscribe((function(n){t(6,y=n)}))),y.load({before:"maybe"}),void U(Ie,i=$==y?wt("%1 - Convos",$.name):$.name?wt("%1/%2 - Convos",$.name,y.name):wt("%1 - Convos",y.name))):t(6,y=n.notifications)}function O(n,e){n.forEach((function(n){if(n.isIntersecting){var e=y.messages[n.target.dataset.index]||{};e.embeds&&f.embedMaker.render(n.target,e.embeds)}}))}function C(){y&&y.setLastRead&&y.setLastRead(),w.detach(),k.forEach((function(n){return n()}))}l=function(){d=d||new IntersectionObserver(O,{rootMargin:"0px"}),fe(document,".message",(function(n){n.classList.contains("is-observed")||d.observe(n),n.classList.add("is-observed")})),"bottom"==v?t(1,s.scrollTop=m,s):g&&g<m&&(t(1,s.scrollTop=m-g,s),"top"!=v&&(g=0))},gn().$$.after_update.push(l),function(n){gn().$$.on_destroy.push(n)}(C);var R=re((function(n){if(s&&y.connection_id){var e=s.offsetHeight,t=s.scrollTop;"top"!=(v=e>m||t+20>m-e?"bottom":t<100?"top":"middle")||y.is("loading")||(y.messages.length&&y.load({before:0}),g=m)}}),20);return n.$$.update=function(){3145728&n.$$.dirty[0]&&E(o,r),3&n.$$.dirty[0]&&w.attach(document,s,u&&u.getUploadEl())},[u,s,p,h,m,$,y,b,x,a,c,f,function(n){u.sendMessage(["/join",y.dialog_id,b].filter((function(n){return n.length})).join(" ")),t(7,b="")},function(n){var e=te(n.target,"a"),t=e&&e.href.match(/#send:(.+)/);if(t)return n.preventDefault(),u?u.sendMessage({message:decodeURIComponent(t[1])}):$.send(decodeURIComponent(t[1]))},R,g,d,v,_,k,r,o,i,w,E,O,C,function(){t(3,h=window.innerHeight)},function(n){t(7,b=n)},function(){m=this.offsetHeight,t(4,m)},function(n){_n[n?"unshift":"push"]((function(){t(1,s=n)}))},function(n){_n[n?"unshift":"push"]((function(){t(0,u=n)}))}]}var $a=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(Xi()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,va,ga,M,{},[-1,-1]),t}return i}(Qn);function ya(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function ba(n){var e;return{c:function(){(e=V("h1")).textContent="".concat(wt("Add connection"))},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function wa(n){var e,t,r,o=new qr({props:{$$slots:{default:[ba]},$$scope:{ctx:n}}}),i=new wi({});return{c:function(){Wn(o.$$.fragment),e=J(),t=V("main"),Wn(i.$$.fragment),en(t,"class","main")},m:function(n,a){Yn(o,n,a),F(n,e,a),F(n,t,a),Yn(i,t,null),r=!0},p:function(n,e){var t=m(e,1)[0],r={};2&t&&(r.$$scope={dirty:t,ctx:n}),o.$set(r)},i:function(n){r||(Bn(o.$$.fragment,n),Bn(i.$$.fragment,n),r=!0)},o:function(n){Hn(o.$$.fragment,n),Hn(i.$$.fragment,n),r=!1},d:function(n){Vn(o,n),n&&W(e),n&&W(t),Vn(i)}}}function _a(n,e,t){return j(n,Ie,(function(n){return t(0,n)})),U(Ie,wt("%1 - Convos",wt("Add connection"))),[]}var xa=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(ya()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,_a,wa,M,{}),t}return i}(Qn);function ka(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function Ea(n,e,t){var r=n.slice();return r[26]=e[t],r[28]=t,r}var Oa=function(n){return{}},Ca=function(n){return{}};function Ra(n){var e,t,r,o,i=(n[26].length>1?n[26][1]:n[26][0])+"";function a(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n)[24].apply(e,[n[28]].concat(r))}return{c:function(){e=V("a"),t=Z(i),en(e,"href",r="#"+n[28]+":"+n[26][0]),en(e,"tabindex","-1"),cn(e,"is-active",n[28]==n[6])},m:function(r,i,c){F(r,e,i),G(e,t),c&&N(o),o=[X(e,"click",n[14]),X(e,"mouseover",a)]},p:function(o,a){n=o,2048&a&&i!==(i=(n[26].length>1?n[26][1]:n[26][0])+"")&&rn(t,i),2048&a&&r!==(r="#"+n[28]+":"+n[26][0])&&en(e,"href",r),64&a&&cn(e,"is-active",n[28]==n[6])},d:function(n){n&&W(e),N(o)}}}function Sa(n){for(var e,t,r,o,i,a,c,u,s,f,d,l=n[20].label,p=T(l,n,n[19],Ca),h=p||{c:function(){d=Z("Label")},m:function(n,e){F(n,d,e)},d:function(n){n&&W(d)}},g=n[11],v=[],$=0;$<g.length;$+=1)v[$]=Ra(Ea(n,g,$));return{c:function(){e=V("div"),t=V("label"),h&&h.c(),r=J(),o=V("input"),i=J(),a=V("input"),c=J(),u=V("div");for(var s=0;s<v.length;s+=1)v[s].c();en(t,"for",n[3]),en(o,"type","hidden"),en(o,"name",n[2]),en(a,"type","text"),en(a,"placeholder",n[4]),en(a,"id",n[3]),a.readOnly=n[5],en(a,"autocomplete","off"),en(u,"class","select-field__options"),en(e,"class","select-field text-field"),e.hidden=n[1],cn(e,"is-open",n[9])},m:function(d,l,p){F(d,e,l),G(e,t),h&&h.m(t,null),G(e,r),G(e,o),n[21](o),on(o,n[0]),G(e,i),G(e,a),n[23](a),G(e,c),G(e,u);for(var m=0;m<v.length;m+=1)v[m].m(u,null);n[25](e),s=!0,p&&N(f),f=[X(o,"input",n[22]),X(o,"keydown",n[12]),X(a,"keydown",n[12]),X(a,"keyup",n[13]),X(e,"click",nn(n[15]))]},p:function(n,r){var i=m(r,1)[0];if(p&&p.p&&524288&i&&p.p(L(l,n,n[19],Ca),I(l,n[19],i,Oa)),(!s||8&i)&&en(t,"for",n[3]),(!s||4&i)&&en(o,"name",n[2]),1&i&&on(o,n[0]),(!s||16&i)&&en(a,"placeholder",n[4]),(!s||8&i)&&en(a,"id",n[3]),(!s||32&i)&&(a.readOnly=n[5]),18496&i){var c;for(g=n[11],c=0;c<g.length;c+=1){var f=Ea(n,g,c);v[c]?v[c].p(f,i):(v[c]=Ra(f),v[c].c(),v[c].m(u,null))}for(;c<v.length;c+=1)v[c].d(1);v.length=g.length}(!s||2&i)&&(e.hidden=n[1]),512&i&&cn(e,"is-open",n[9])},i:function(n){s||(Bn(h,n),s=!0)},o:function(n){Hn(h,n),s=!1},d:function(t){t&&W(e),h&&h.d(t),n[21](null),n[23](null),Y(v,t),n[25](null),N(f)}}}function Na(n,e,t){var r,o,i,a=["ArrowDown","ArrowUp","Enter"],c=0,u=!1,s="",f=e.hidden,d=void 0!==f&&f,l=e.name,p=void 0===l?"":l,h=e.id,m=void 0===h?p?"form_"+p:ve():h,g=e.options,v=void 0===g?[]:g,$=e.placeholder,y=void 0===$?"":$,b=e.readonly,w=void 0!==b&&b,_=e.value,x=void 0===_?"":_;function k(n){return E.apply(this,arguments)}function E(){return(E=ee(Xn.mark((function n(e){var r,i;return Xn.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"keydown"==e.type?r=S.length?S[c]:[]:(i=e.target.href.replace(/^.*?#\d+:/,""),r=S.filter((function(n){return n[0]==i}))[0]||[]),r.length||(r=[""]),t(0,x=r[0]),t(8,o.value=r.length>1?r[1]:r[0],o),n.next=6,Rn();case 6:o.setSelectionRange(0,9999),t(9,u=!1);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}vn((function(){o.addEventListener("blur",(function(){return setTimeout((function(){t(9,u=!1)}),100)})),t(0,x=r.value)}));var O=e.$$slots,C=void 0===O?{}:O,R=e.$$scope;var S;return n.$set=function(n){"hidden"in n&&t(1,d=n.hidden),"name"in n&&t(2,p=n.name),"id"in n&&t(3,m=n.id),"options"in n&&t(16,v=n.options),"placeholder"in n&&t(4,y=n.placeholder),"readonly"in n&&t(5,w=n.readonly),"value"in n&&t(0,x=n.value),"$$scope"in n&&t(19,R=n.$$scope)},n.$$.update=function(){if(512&n.$$.dirty&&0==u&&t(17,s=""),196608&n.$$.dirty&&t(11,S=function(n,e){var t=new RegExp("(?:^|\\s|-)"+de(e),"i"),r=[];r.length||(r=n.filter((function(n){return n[0]==e}))),r.length||(r=n.filter((function(n){return n[0].match(t)})));for(var o=0;o<n.length;o++){var i=n[o];i.length>1&&-1!=r.indexOf(i)&&i[1].match(t)&&-1==n.map((function(n){return n[0]})).indexOf(i[0])&&n.push(i)}return n}(v,s)),512&n.$$.dirty&&1==u&&t(6,c=0),128&n.$$.dirty&&r&&!r.syncValue&&(t(7,r.syncValue=function(){t(0,x=this.value)},r),r.syncValue()),65920&n.$$.dirty&&o&&!o.value&&o!=document.activeElement){var e=v.find((function(n){return n[0]==r.value}));e&&t(8,o.value=e[1]||e[0],o)}},[x,d,p,m,y,w,c,r,o,u,i,S,function(n){-1!=a.indexOf(n.key)&&n.preventDefault(),"Tab"!=n.key?u?("ArrowDown"==n.key&&t(6,c++,c),"ArrowUp"==n.key&&t(6,c--,c),"Enter"==n.key&&k(n),c>=v.length&&t(6,c=0),c<0&&t(6,c=v.length-1)):t(9,u=!0):u&&k(n)},function(n){1!=n.key.length&&"Backspace"!=n.key||t(17,s=o.value)},k,function(n){n&&n.target&&te(n.target,".select-field__options")||t(9,u=!u)},v,s,a,R,C,function(n){_n[n?"unshift":"push"]((function(){t(7,r=n)}))},function(){x=this.value,t(0,x),t(7,r)},function(n){_n[n?"unshift":"push"]((function(){t(8,o=n)}))},function(n){t(6,c=n)},function(n){_n[n?"unshift":"push"]((function(){t(10,i=n)}))}]}var Da=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(ka()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Na,Sa,M,{hidden:1,name:2,id:3,options:16,placeholder:4,readonly:5,value:0}),t}return i}(Qn);function Ma(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function Pa(n,e,t){var r=n.slice();return r[15]=e[t],r}function Aa(n){var e;return{c:function(){(e=V("h1")).textContent="".concat(wt("Add conversation"))},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function ja(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Connection")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Ta(n){var e,t=wt(n[0].dialogs.length?"Refresh":"Load")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:function(n,r){1&r&&t!==(t=wt(n[0].dialogs.length?"Refresh":"Load")+"")&&rn(e,t)},d:function(n){n&&W(e)}}}function La(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Conversation name")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Ia(n){var e,t=wt("Add")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Ua(n){var e,t,r,o,i=n[0].error+"";return{c:function(){e=V("p"),t=Z(n[1]),r=Z(": "),o=Z(i),en(e,"class","error")},m:function(n,i){F(n,e,i),G(e,t),G(e,r),G(e,o)},p:function(n,e){2&e&&rn(t,n[1]),1&e&&i!==(i=n[0].error+"")&&rn(o,i)},d:function(n){n&&W(e)}}}function za(n){var e,t,r;function o(n,e){return n[0].done?Ha:Ba}for(var i=o(n),a=i(n),c=n[0].dialogs,u=[],s=0;s<c.length;s+=1)u[s]=qa(Pa(n,c,s));return{c:function(){e=V("p"),a.c(),t=J(),r=V("div");for(var n=0;n<u.length;n+=1)u[n].c();en(r,"class","dialog-add-list")},m:function(n,o){F(n,e,o),a.m(e,null),F(n,t,o),F(n,r,o);for(var i=0;i<u.length;i+=1)u[i].m(r,null)},p:function(n,t){if(i===(i=o(n))&&a?a.p(n,t):(a.d(1),(a=i(n))&&(a.c(),a.m(e,null))),65&t){var s;for(c=n[0].dialogs,s=0;s<c.length;s+=1){var f=Pa(n,c,s);u[s]?u[s].p(f,t):(u[s]=qa(f),u[s].c(),u[s].m(r,null))}for(;s<u.length;s+=1)u[s].d(1);u.length=c.length}},d:function(n){n&&W(e),a.d(),n&&W(t),n&&W(r),Y(u,n)}}}function Ba(n){var e,t=wt("Showing %1 of %2 conversations, but the list is still loading.",n[0].dialogs.length,n[0].n_dialogs)+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:function(n,r){1&r&&t!==(t=wt("Showing %1 of %2 conversations, but the list is still loading.",n[0].dialogs.length,n[0].n_dialogs)+"")&&rn(e,t)},d:function(n){n&&W(e)}}}function Ha(n){var e,t=wt("Showing %1 of %2 conversations.",n[0].dialogs.length,n[0].n_dialogs)+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:function(n,r){1&r&&t!==(t=wt("Showing %1 of %2 conversations.",n[0].dialogs.length,n[0].n_dialogs)+"")&&rn(e,t)},d:function(n){n&&W(e)}}}function qa(n){var e,t,r,o,i,a,c,u,s,f,d,l,p=n[15].n_users+"",h=n[15].name+"",m=(n[15].topic||"No topic.")+"";return{c:function(){e=V("a"),t=V("span"),r=Z(p),o=J(),i=V("b"),a=Z(h),c=J(),u=V("i"),s=Z(m),f=J(),en(t,"class","dialog-add-list__n-users"),en(i,"class","dialog-add-list__name"),en(u,"class","dialog-add-list__title"),en(e,"href",d="#add:"+n[15].name)},m:function(d,p,h){F(d,e,p),G(e,t),G(t,r),G(e,o),G(e,i),G(i,a),G(e,c),G(e,u),G(u,s),G(e,f),h&&l(),l=X(e,"click",nn(n[6]))},p:function(n,t){1&t&&p!==(p=n[15].n_users+"")&&rn(r,p),1&t&&h!==(h=n[15].name+"")&&rn(a,h),1&t&&m!==(m=(n[15].topic||"No topic.")+"")&&rn(s,m),1&t&&d!==(d="#add:"+n[15].name)&&en(e,"href",d)},d:function(n){n&&W(e),l()}}}function Ka(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h,g,v,$,y,b=new qr({props:{$$slots:{default:[Aa]},$$scope:{ctx:n}}});function w(e){n[12].call(null,e)}var _={name:"connection_id",options:n[4],placeholder:wt("Select..."),$$slots:{label:[ja]},$$scope:{ctx:n}};void 0!==n[1]&&(_.value=n[1]);var x=new Da({props:_});_n.push((function(){return Fn(x,"value",w)}));var k=new Ur({props:{type:"button",icon:"sync-alt",disabled:!n[1]||!1===n[0].done,$$slots:{default:[Ta]},$$scope:{ctx:n}}});function E(e){n[13].call(null,e)}k.$on("click",n[7]);var O={name:"dialog_id",placeholder:wt("#room or nick"),autocomplete:"off",$$slots:{label:[La]},$$scope:{ctx:n}};void 0!==n[2]&&(O.value=n[2]);var C=new ot({props:O});_n.push((function(){return Fn(C,"value",E)})),C.$on("keyup",n[8]);var R=new Ur({props:{icon:"comment",disabled:!n[1]||!n[2],$$slots:{default:[Ia]},$$scope:{ctx:n}}}),S=n[0].error&&Ua(n),N=null!==n[0].done&&za(n);return{c:function(){Wn(b.$$.fragment),e=J(),t=V("main"),(r=V("p")).textContent="".concat(wt("Enter the name of an exising conversation, or create a new conversation.")," \n    ").concat(wt("It is also possible to load in all existing conversations for a given connection.")),o=J(),i=V("form"),a=V("div"),Wn(x.$$.fragment),u=J(),s=V("div"),Wn(k.$$.fragment),f=J(),d=V("div"),Wn(C.$$.fragment),p=J(),h=V("div"),Wn(R.$$.fragment),g=J(),S&&S.c(),v=J(),N&&N.c(),en(s,"class","has-remaining-space"),en(a,"class","inputs-side-by-side"),en(h,"class","has-remaining-space"),en(d,"class","inputs-side-by-side"),en(i,"method","post"),en(t,"class","main")},m:function(c,l,m){Yn(b,c,l),F(c,e,l),F(c,t,l),G(t,r),G(t,o),G(t,i),G(i,a),Yn(x,a,null),G(a,u),G(a,s),Yn(k,s,null),G(i,f),G(i,d),Yn(C,d,null),G(d,p),G(d,h),Yn(R,h,null),G(i,g),S&&S.m(i,null),G(i,v),N&&N.m(i,null),n[14](i),$=!0,m&&y(),y=X(i,"submit",nn(n[6]))},p:function(n,e){var t=m(e,1)[0],r={};262144&t&&(r.$$scope={dirty:t,ctx:n}),b.$set(r);var o={};16&t&&(o.options=n[4]),262144&t&&(o.$$scope={dirty:t,ctx:n}),!c&&2&t&&(c=!0,o.value=n[1],Nn((function(){return c=!1}))),x.$set(o);var a={};3&t&&(a.disabled=!n[1]||!1===n[0].done),262145&t&&(a.$$scope={dirty:t,ctx:n}),k.$set(a);var u={};262144&t&&(u.$$scope={dirty:t,ctx:n}),!l&&4&t&&(l=!0,u.value=n[2],Nn((function(){return l=!1}))),C.$set(u);var s={};6&t&&(s.disabled=!n[1]||!n[2]),262144&t&&(s.$$scope={dirty:t,ctx:n}),R.$set(s),n[0].error?S?S.p(n,t):((S=Ua(n)).c(),S.m(i,v)):S&&(S.d(1),S=null),null!==n[0].done?N?N.p(n,t):((N=za(n)).c(),N.m(i,null)):N&&(N.d(1),N=null)},i:function(n){$||(Bn(b.$$.fragment,n),Bn(x.$$.fragment,n),Bn(k.$$.fragment,n),Bn(C.$$.fragment,n),Bn(R.$$.fragment,n),$=!0)},o:function(n){Hn(b.$$.fragment,n),Hn(x.$$.fragment,n),Hn(k.$$.fragment,n),Hn(C.$$.fragment,n),Hn(R.$$.fragment,n),$=!1},d:function(r){Vn(b,r),r&&W(e),r&&W(t),Vn(x),Vn(k),Vn(C),Vn(R),S&&S.d(),N&&N.d(),n[14](null),y()}}}function Ga(n,e,t){var r,o;j(n,Ie,(function(n){return t(10,r=n)}));var i=yn("user");j(n,i,(function(n){return t(11,o=n)}));var a,c,u={dialogs:[],done:null,n_dialogs:0},s="",f="";function d(n){var e="/list"+(f.length?" /"+f+"/":"");"click"==n.type&&u.done&&(e+=" refresh"),c&&clearTimeout(c),i.send({connection_id:s,message:e},(function(e){var r=ie(e);t(0,u=r?{dialogs:[],done:!0,n_dialogs:0,error:r}:e);var o=n.interval?n.interval+500:500;o>2e3&&(o=2e3),r||e.done||(c=setTimeout((function(){return d({interval:o})}),o))}))}U(Ie,r=wt("%1 - Convos",wt("Add conversation"))),vn((function(){return Ge(a)}));var l,p=re(d,250);return n.$$.update=function(){2048&n.$$.dirty&&t(4,l=Array.from(o.connections.keys()).map((function(n){return[n]}))),18&n.$$.dirty&&(s||t(1,s=l[0]?l[0][0]:""))},[u,s,f,a,l,i,function(n){var e=n&&n.target&&n.target.closest("a");e&&e.href&&t(2,f=e.href.replace(/.*#add:/,"")),s&&f&&i.findDialog({connection_id:s}).send("/join "+f)},d,p,c,r,o,function(n){t(1,s=n),t(4,l),t(11,o)},function(n){t(2,f=n)},function(n){_n[n?"unshift":"push"]((function(){t(3,a=n)}))}]}var Fa=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(Ma()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Ga,Ka,M,{}),t}return i}(Qn);function Wa(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function Ya(n){var e,t,r=wt("loading"==n[0]?"Convos":n[3][n[0]])+"";return{c:function(){e=V("span"),t=Z(r)},m:function(n,r){F(n,e,r),G(e,t)},p:function(n,e){1&e&&r!==(r=wt("loading"==n[0]?"Convos":n[3][n[0]])+"")&&rn(t,r)},d:function(n){n&&W(e)}}}function Va(n){var e,t,r,o,i=("loading"==n[0]?"":wt("Convos"))+"",a=wt("for %1",n[1].organization_name)+"";return{c:function(){e=V("small"),t=Z(i),r=J(),o=Z(a),en(e,"class","subtitle")},m:function(n,i){F(n,e,i),G(e,t),G(e,r),G(e,o)},p:function(n,e){1&e&&i!==(i=("loading"==n[0]?"":wt("Convos"))+"")&&rn(t,i)},d:function(n){n&&W(e)}}}function Za(n){var e,t,r,o,i=("loading"==n[0]?"":wt("Convos"))+"",a=_t("for [%1](%2)",n[1].organization_name,n[1].organization_url)+"";return{c:function(){e=V("small"),t=Z(i),r=J(),o=new sn(a,null),en(e,"class","subtitle")},m:function(n,i){F(n,e,i),G(e,t),G(e,r),o.m(e)},p:function(n,e){1&e&&i!==(i=("loading"==n[0]?"":wt("Convos"))+"")&&rn(t,i)},d:function(n){n&&W(e)}}}function Ja(n){var e,t,r,o,i,a,c,u,s=wt("This should not happen.")+"";return{c:function(){e=V("p"),t=Z(s),r=Z("\n        Please submit "),(o=V("a")).textContent="an issue",i=Z(",\n        if the problem does not go away."),a=J(),c=V("p"),(u=V("a")).textContent="".concat(wt("Go to landing page")),en(o,"href","https://github.com/Nordaaker/convos/issues/"),en(u,"href","/"),en(u,"class","btn")},m:function(n,s){F(n,e,s),G(e,t),G(e,r),G(e,o),G(e,i),F(n,a,s),F(n,c,s),G(c,u)},p:O,d:function(n){n&&W(e),n&&W(a),n&&W(c)}}}function Qa(n){var e,t,r,o;return{c:function(){(e=V("p")).textContent="".concat(wt("Could not find the page you are looking for. Maybe you entered an invalid URL?")),t=J(),r=V("p"),(o=V("a")).textContent="".concat(wt("Go to landing page")),en(o,"href","/"),en(o,"class","btn")},m:function(n,i){F(n,e,i),F(n,t,i),F(n,r,i),G(r,o)},p:O,d:function(n){n&&W(e),n&&W(t),n&&W(r)}}}function Xa(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h,m,g,v,$,y,b,w=wt("Downloading Convos...")+"",_=wt("Starting Convos...")+"",x=wt("Loading user data...")+"",k=wt("Contact admin")+"";return{c:function(){(e=V("p")).textContent="".concat(wt("Convos is the simplest way to use IRC, and it keeps you always online.")),t=J(),r=V("p"),o=V("i"),i=J(),a=Z(w),c=J(),u=V("p"),s=V("i"),f=J(),d=Z(_),l=J(),p=V("p"),h=V("i"),m=J(),g=Z(x),v=J(),$=V("p"),y=V("a"),b=Z(k),en(o,"class","fas fa-download"),en(s,"class","fas fa-rocket"),en(h,"class","fas fa-spinner fa-spin"),en(y,"class","btn"),en(y,"href",n[1].contact)},m:function(n,w){F(n,e,w),F(n,t,w),F(n,r,w),G(r,o),G(r,i),G(r,a),F(n,c,w),F(n,u,w),G(u,s),G(u,f),G(u,d),F(n,l,w),F(n,p,w),G(p,h),G(p,m),G(p,g),F(n,v,w),F(n,$,w),G($,y),G(y,b)},p:O,d:function(n){n&&W(e),n&&W(t),n&&W(r),n&&W(c),n&&W(u),n&&W(l),n&&W(p),n&&W(v),n&&W($)}}}function nc(n){var e,t,r,o,i,a,c,u=wt("You seem to have lost connection to the internet.")+"";return{c:function(){e=V("p"),t=V("i"),r=J(),o=Z(u),i=J(),a=V("p"),(c=V("a")).textContent="".concat(wt("Reload")),en(t,"class","fas fa-exclamation-triangle"),en(c,"href","/"),en(c,"class","btn")},m:function(n,u){F(n,e,u),G(e,t),G(e,r),G(e,o),F(n,i,u),F(n,a,u),G(a,c)},p:O,d:function(n){n&&W(e),n&&W(i),n&&W(a)}}}function ec(n){var e;return{c:function(){e=Z("Convos")},m:function(n,t){F(n,e,t)},d:function(n){n&&W(e)}}}function tc(n){var e,t=wt("Blog")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function rc(n){var e,t=wt("Documentation")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function oc(n){var e,t=wt("GitHub")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function ic(n){var e,t,r,o,i,a,c,u,s,f,d,l=new Ze({props:{href:"/",$$slots:{default:[Ya]},$$scope:{ctx:n}}}),p="Convos"!=n[1].organization_name&&function(n){var e,t=function(n,e){return"https://convos.by"!=n[1].organization_url?Za:Va}(n)(n);return{c:function(){t.c(),e=Q()},m:function(n,r){t.m(n,r),F(n,e,r)},p:function(n,e){t.p(n,e)},d:function(n){t.d(n),n&&W(e)}}}(n);function h(n,e){return"offline"==n[0]?nc:"loading"==n[0]?Xa:"not_found"==n[0]?Qa:Ja}var g=h(n),v=g(n),$=new Ze({props:{href:"https://convos.by/",$$slots:{default:[ec]},$$scope:{ctx:n}}}),y=new Ze({props:{href:"https://convos.by/blog",$$slots:{default:[tc]},$$scope:{ctx:n}}}),b=new Ze({props:{href:"https://convos.by/doc",$$slots:{default:[rc]},$$scope:{ctx:n}}}),w=new Ze({props:{href:"https://github.com/Nordaaker/convos",$$slots:{default:[oc]},$$scope:{ctx:n}}});return{c:function(){e=V("main"),t=V("article"),r=V("h1"),Wn(l.$$.fragment),o=J(),p&&p.c(),i=J(),v.c(),a=J(),c=V("footer"),Wn($.$$.fragment),u=Z("\n    —\n    "),Wn(y.$$.fragment),s=Z("\n    —\n    "),Wn(b.$$.fragment),f=Z("\n    —\n    "),Wn(w.$$.fragment),en(t,"class","welcome-screen_fallback"),en(c,"class","welcome-screen__footer"),en(e,"class","welcome-screen")},m:function(n,h){F(n,e,h),G(e,t),G(t,r),Yn(l,r,null),G(r,o),p&&p.m(r,null),G(t,i),v.m(t,null),G(e,a),G(e,c),Yn($,c,null),G(c,u),Yn(y,c,null),G(c,s),Yn(b,c,null),G(c,f),Yn(w,c,null),d=!0},p:function(n,e){var r=m(e,1)[0],o={};513&r&&(o.$$scope={dirty:r,ctx:n}),l.$set(o),"Convos"!=n[1].organization_name&&p.p(n,r),g===(g=h(n))&&v?v.p(n,r):(v.d(1),(v=g(n))&&(v.c(),v.m(t,null)));var i={};512&r&&(i.$$scope={dirty:r,ctx:n}),$.$set(i);var a={};512&r&&(a.$$scope={dirty:r,ctx:n}),y.$set(a);var c={};512&r&&(c.$$scope={dirty:r,ctx:n}),b.$set(c);var u={};512&r&&(u.$$scope={dirty:r,ctx:n}),w.$set(u)},i:function(n){d||(Bn(l.$$.fragment,n),Bn($.$$.fragment,n),Bn(y.$$.fragment,n),Bn(b.$$.fragment,n),Bn(w.$$.fragment,n),d=!0)},o:function(n){Hn(l.$$.fragment,n),Hn($.$$.fragment,n),Hn(y.$$.fragment,n),Hn(b.$$.fragment,n),Hn(w.$$.fragment,n),d=!1},d:function(n){n&&W(e),Vn(l),p&&p.d(),v.d(),Vn($),Vn(y),Vn(b),Vn(w)}}}function ac(n,e,t){var r,o;j(n,Le,(function(n){return t(5,o=n)})),j(n,Ie,(function(n){return t(6,n)}));var i=yn("settings"),a=yn("user");j(n,a,(function(n){return t(4,r=n)}));var c,u=i.load_user?["loading","pending"]:["loading"],s={loading:"Loading",not_found:"Not Found",offline:"You appear to be offline"};return vn((function(){le("body",/(is-logged-)\S+/,"out"),le("body",/(page-)\S+/,c)})),n.$$.update=function(){48&n.$$.dirty&&t(0,c=function(n,e){var t=e.pathParts[e.pathParts.length-1]||"",r=s[t]?t:n.is("offline")?"offline":n.is(u)?"loading":"not_found";return U(Ie,wt("%1 - Convos",wt(s[r]))),r}(r,o))},[c,i,a,s]}var cc=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(Wa()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,ac,ic,M,{}),t}return i}(Qn);function uc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function sc(n,e,t){var r=n.slice();return r[4]=e[t],r}function fc(n){var e,t;return{c:function(){(e=V("h1")).textContent="".concat(wt("Help")),(t=V("small")).textContent="v".concat(n[0].version)},m:function(n,r){F(n,e,r),F(n,t,r)},p:O,d:function(n){n&&W(e),n&&W(t)}}}function dc(n){var e,t,r,o,i=n[4].example+"",a=wt(n[4].description)+"";return{c:function(){e=V("dt"),t=Z(i),r=V("dd"),o=Z(a)},m:function(n,i){F(n,e,i),G(e,t),F(n,r,i),G(r,o)},p:O,d:function(n){n&&W(e),n&&W(r)}}}function lc(n){for(var e,t,r,o,i,a,c,u,s,f,d,l,p,h,g,v,$,y,b,w,_,x,k,E,C,R,S,N,D,M,P,A,j,T,L,I,U,z,B,H,q,K,Q,nn,tn,rn,on,an,cn,un,fn,dn,ln,pn,hn,mn,gn,vn,$n,yn,bn,wn,_n,xn,kn,En,On,Cn,Rn,Sn,Nn,Dn,Mn,Pn,An,jn,Tn,Ln,In,Un,zn,qn=wt("Jump to:")+"",Kn=_t('Got any questions? Come and talk to us in the "#convos" channel on https://freenode.net.')+"",Gn=_t("More information can also be found on https://convos.by.")+"",Fn=_t('Using "*" around some text, will convert it into *italic*, **bold** or ***italic bold***.')+"",Zn=_t("Using backticks around some text, will format it as a `code fragment`.")+"",Jn=wt("Contact admin")+"",Qn=new qr({props:{$$slots:{default:[fc]},$$scope:{ctx:n}}}),Xn=Fr,ne=[],ee=0;ee<Xn.length;ee+=1)ne[ee]=dc(sc(n,Xn,ee));var te="Convos"!=n[0].organization_name&&"https://convos.by"!=n[0].organization_url&&function(n){var e,t,r,o=n[0].organization_name+"";return{c:function(){e=V("li"),t=V("a"),r=Z(o),en(t,"href",n[0].organization_url),en(t,"target","_blank")},m:function(n,o){F(n,e,o),G(e,t),G(t,r)},p:O,d:function(n){n&&W(e)}}}(n);return{c:function(){Wn(Qn.$$.fragment),e=J(),t=V("main"),r=V("p"),o=Z(qn),i=J(),(a=V("a")).textContent="".concat(wt("Shortcuts")),c=Z(",\n    "),(u=V("a")).textContent="".concat(wt("Autocomplete")),s=Z(",\n    "),(f=V("a")).textContent="".concat(wt("Text formatting")),d=Z(",\n    "),(l=V("a")).textContent="".concat(wt("Available commands")),p=Z(",\n    "),(h=V("a")).textContent="".concat(wt("Other resources")),g=Z("."),v=J(),$=V("p"),b=J(),_=J(),(x=V("h2")).textContent="".concat(wt("Shortcuts")),k=J(),E=V("dl"),(C=V("dt")).textContent="".concat(wt("shift+enter")),(R=V("dd")).textContent="".concat(wt("Shift focus between chat input and search in sidebar.")),(S=V("dt")).textContent="".concat(wt("Open conversation or connection settings")),(N=V("dd")).textContent="".concat(wt("Clicking on the icon next to the conversation name will take you to settings.")),D=J(),(M=V("h2")).textContent="".concat(wt("Autocomplete")),P=J(),(A=V("p")).textContent="".concat(wt("The following rules apply when typing a message:")),j=J(),T=V("dl"),(L=V("dt")).textContent="@nick",(I=V("dd")).textContent="".concat(wt('"@" followed by a character will show matching nicks in the current conversation.')),(U=V("dt")).textContent=":emoji_name",(z=V("dd")).textContent="".concat(wt('":" followed by a character will show matching emojis.')),(B=V("dt")).textContent="/command",(H=V("dd")).textContent="".concat(wt('"/" will show the available commands.')),(q=V("dt")).textContent="#conversation",(K=V("dd")).textContent="".concat(wt('"#" will show the matching conversation names.')),Q=J(),(nn=V("h2")).textContent="".concat(wt("Text formatting")),tn=J(),(rn=V("p")).textContent="".concat(wt("Convos supports some special way of formatting text:")),on=J(),an=V("dl"),(cn=V("dt")).textContent="".concat(Object.keys(mt).sort().map(n[3]).join(", ")),(un=V("dd")).textContent="".concat(wt("Will be automatically converted into emojis.")),(fn=V("dt")).textContent="".concat(wt("> some text")),(dn=V("dd")).textContent="".concat(wt('A line starting with ">" will be converted into a quote.')),(ln=V("dt")).textContent="".concat(wt("*some text*, **some text**, ***some text***")),pn=V("dd"),(hn=V("dt")).textContent="".concat(wt("`some fragment`")),mn=V("dd"),(gn=V("dt")).textContent="https://...",(vn=V("dd")).textContent="".concat(wt("URLs will be converted to links, and might be embedded in the chat.")),$n=J(),(yn=V("h2")).textContent="".concat(wt("Available commands")),bn=J(),wn=V("dl");for(var m=0;m<ne.length;m+=1)ne[m].c();_n=J(),(xn=V("h2")).textContent="".concat(wt("Other resources")),kn=J(),En=V("ul"),On=V("li"),(Cn=V("a")).textContent="".concat(wt("Project homepage")),Rn=J(),Sn=V("li"),(Nn=V("a")).textContent="".concat(wt("Bug/issue tracker")),Dn=J(),Mn=V("li"),(Pn=V("a")).textContent="".concat(wt("Source code")),An=J(),te&&te.c(),jn=J(),Tn=V("li"),Ln=V("a"),In=Z(Jn),en(a,"href","#shortcuts"),en(u,"href","#autocomplete"),en(f,"href","#formatting"),en(l,"href","#commands"),en(h,"href","#resources"),y=new sn(Kn,b),w=new sn(Gn,null),en(x,"id","shortcuts"),en(M,"id","autocomplete"),en(nn,"id","formatting"),en(yn,"id","commands"),en(xn,"id","resources"),en(Cn,"href","https://convos.by"),en(Cn,"target","_blank"),en(Nn,"href","https://github.com/Nordaaker/convos/issues"),en(Nn,"target","_blank"),en(Pn,"href","https://github.com/Nordaaker/convos"),en(Pn,"target","_blank"),en(Ln,"href",n[0].contact),en(Ln,"target","_blank"),en(t,"class","main")},m:function(n,m,O){Yn(Qn,n,m),F(n,e,m),F(n,t,m),G(t,r),G(r,o),G(r,i),G(r,a),G(r,c),G(r,u),G(r,s),G(r,f),G(r,d),G(r,l),G(r,p),G(r,h),G(r,g),G(t,v),G(t,$),y.m($),G($,b),w.m($),G(t,_),G(t,x),G(t,k),G(t,E),G(E,C),G(E,R),G(E,S),G(E,N),G(t,D),G(t,M),G(t,P),G(t,A),G(t,j),G(t,T),G(T,L),G(T,I),G(T,U),G(T,z),G(T,B),G(T,H),G(T,q),G(T,K),G(t,Q),G(t,nn),G(t,tn),G(t,rn),G(t,on),G(t,an),G(an,cn),G(an,un),G(an,fn),G(an,dn),G(an,ln),G(an,pn),pn.innerHTML=Fn,G(an,hn),G(an,mn),mn.innerHTML=Zn,G(an,gn),G(an,vn),G(t,$n),G(t,yn),G(t,bn),G(t,wn);for(var W=0;W<ne.length;W+=1)ne[W].m(wn,null);G(t,_n),G(t,xn),G(t,kn),G(t,En),G(En,On),G(On,Cn),G(En,Rn),G(En,Sn),G(Sn,Nn),G(En,Dn),G(En,Mn),G(Mn,Pn),G(En,An),te&&te.m(En,null),G(En,jn),G(En,Tn),G(Tn,Ln),G(Ln,In),Un=!0,O&&zn(),zn=X(r,"click",pe)},p:function(n,e){var t=m(e,1)[0],r={};if(128&t&&(r.$$scope={dirty:t,ctx:n}),Qn.$set(r),0&t){var o;for(Xn=Fr,o=0;o<Xn.length;o+=1){var i=sc(n,Xn,o);ne[o]?ne[o].p(i,t):(ne[o]=dc(i),ne[o].c(),ne[o].m(wn,null))}for(;o<ne.length;o+=1)ne[o].d(1);ne.length=Xn.length}"Convos"!=n[0].organization_name&&"https://convos.by"!=n[0].organization_url&&te.p(n,t)},i:function(n){Un||(Bn(Qn.$$.fragment,n),Un=!0)},o:function(n){Hn(Qn.$$.fragment,n),Un=!1},d:function(n){Vn(Qn,n),n&&W(e),n&&W(t),Y(ne,n),te&&te.d(),zn()}}}function pc(n,e,t){var r,o;j(n,Ie,(function(n){return t(1,r=n)})),j(n,Le,(function(n){return t(2,o=n)}));var i=yn("settings");U(Ie,r=wt("%1 - Convos",wt("Help")));return n.$$.update=function(){4&n.$$.dirty&&pe(o.hash||0)},[i,r,o,function(n){return mt[n]}]}var hc=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(uc()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,pc,lc,M,{}),t}return i}(Qn);function mc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function gc(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Convos"))},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function vc(n){var e;return{c:function(){(e=V("small")).textContent="".concat(wt("for %1",n[3].organization_name)),en(e,"class","subtitle")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function $c(n){var e,t=_t("for [%1](%2)",n[3].organization_name,n[3].organization_url)+"";return{c:function(){en(e=V("small"),"class","subtitle")},m:function(n,r){F(n,e,r),e.innerHTML=t},p:O,d:function(n){n&&W(e)}}}function yc(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("E-mail")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function bc(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Password")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function wc(n){var e,t=wt("Sign in")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function _c(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h,m=wt("Contact admin")+"";return{c:function(){(e=V("h2")).textContent="".concat(wt("Sign up")),t=J(),(r=V("p")).textContent="".concat(wt("Convos is not open for public registration.")),o=J(),(i=V("p")).textContent="".concat(wt("Please ask your Convos admin for an invite link to sign up, or sign in if you already have an account.")),a=J(),c=V("div"),u=V("a"),s=Z(m),f=J(),(d=V("a")).textContent="".concat(wt("Sign in")),l=J(),(p=V("a")).textContent="".concat(wt("Home")),en(u,"class","btn"),en(u,"href",n[3].contact),en(d,"class","btn is-hallow"),en(d,"href","#signin"),en(p,"class","btn is-hallow"),en(p,"href","#top"),en(c,"class","form-actions")},m:function(n,m,g){F(n,e,m),F(n,t,m),F(n,r,m),F(n,o,m),F(n,i,m),F(n,a,m),F(n,c,m),G(c,u),G(u,s),G(c,f),G(c,d),G(c,l),G(c,p),g&&N(h),h=[X(i,"click",pe),X(d,"click",pe),X(p,"click",pe)]},p:O,i:O,o:O,d:function(n){n&&W(e),n&&W(t),n&&W(r),n&&W(o),n&&W(i),n&&W(a),n&&W(c),N(h)}}}function xc(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h,m,g,v,$=n[3].first_user&&{c:function(){(v=V("p")).textContent="".concat(wt('As you are the first user, you do not need any invitation link. Just fill in the form below, hit "Sign up" to start chatting.'))},m:function(n,e){F(n,v,e)},p:O,d:function(n){n&&W(v)}};function y(e){n[14].call(null,e)}var b={type:"email",name:"email",placeholder:wt("Ex: john@doe.com"),readonly:n[2],$$slots:{default:[Sc],help:[Rc],label:[Ec]},$$scope:{ctx:n}};void 0!==n[0].formEmail&&(b.value=n[0].formEmail);var w=new ot({props:b});_n.push((function(){return Fn(w,"value",y)}));var _=new ot({props:{type:"password",name:"password",$$slots:{default:[Mc],help:[Dc],label:[Nc]},$$scope:{ctx:n}}}),x=new Ur({props:{icon:"save",op:n[5],$$slots:{default:[Pc]},$$scope:{ctx:n}}}),k=!n[2]&&!n[3].first_user&&function(n){var e,t,r=_t("Go and [sign in](%1) if you already have an account.","#signin")+"";return{c:function(){e=V("p")},m:function(n,o,i){F(n,e,o),e.innerHTML=r,i&&t(),t=X(e,"click",pe)},p:O,d:function(n){n&&W(e),t()}}}(),E=new Uo({props:{op:n[5]}});return{c:function(){(e=V("h2")).textContent="".concat(wt(n[3].existing_user?"Recover account":"Sign up")),t=J(),$&&$.c(),r=J(),o=V("form"),i=V("input"),a=J(),c=V("input"),u=J(),Wn(w.$$.fragment),f=J(),Wn(_.$$.fragment),d=J(),l=V("div"),Wn(x.$$.fragment),p=J(),k&&k.c(),h=J(),Wn(E.$$.fragment),en(i,"type","hidden"),en(i,"name","exp"),en(c,"type","hidden"),en(c,"name","token"),en(l,"class","form-actions"),en(o,"method","post")},m:function(s,v,y){F(s,e,v),F(s,t,v),$&&$.m(s,v),F(s,r,v),F(s,o,v),G(o,i),G(o,a),G(o,c),G(o,u),Yn(w,o,null),G(o,f),Yn(_,o,null),G(o,d),G(o,l),Yn(x,l,null),G(o,p),k&&k.m(o,null),G(o,h),Yn(E,o,null),n[16](o),m=!0,y&&g(),g=X(o,"submit",nn(n[15]))},p:function(n,e){n[3].first_user&&$.p(n,e);var t={};131072&e&&(t.$$scope={dirty:e,ctx:n}),!s&&1&e&&(s=!0,t.value=n[0].formEmail,Nn((function(){return s=!1}))),w.$set(t);var r={};131072&e&&(r.$$scope={dirty:e,ctx:n}),_.$set(r);var o={};131072&e&&(o.$$scope={dirty:e,ctx:n}),x.$set(o),n[2]||n[3].first_user||k.p(n,e)},i:function(n){m||(Bn(w.$$.fragment,n),Bn(_.$$.fragment,n),Bn(x.$$.fragment,n),Bn(E.$$.fragment,n),m=!0)},o:function(n){Hn(w.$$.fragment,n),Hn(_.$$.fragment,n),Hn(x.$$.fragment,n),Hn(E.$$.fragment,n),m=!1},d:function(i){i&&W(e),i&&W(t),$&&$.d(i),i&&W(r),i&&W(o),Vn(w),Vn(_),Vn(x),k&&k.d(),Vn(E),n[16](null),g()}}}function kc(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h,m=wt("Contact admin")+"";return{c:function(){(e=V("h2")).textContent="".concat(wt("Invalid invite/recover URL")),t=J(),(r=V("p")).textContent="".concat(wt(410==n[3].status?"The link has expired.":"The link is invalid.")),o=J(),(i=V("p")).textContent="".concat(wt("Please ask your Convos admin for a new link.")),a=J(),c=V("p"),u=V("a"),s=Z(m),f=J(),(d=V("a")).textContent="".concat(wt("Sign in")),l=J(),(p=V("a")).textContent="".concat(wt("Home")),en(u,"class","btn"),en(u,"href",n[3].contact),en(d,"class","btn is-hallow"),en(d,"href","#signin"),en(p,"class","btn is-hallow"),en(p,"href","#top")},m:function(n,m,g){F(n,e,m),F(n,t,m),F(n,r,m),F(n,o,m),F(n,i,m),F(n,a,m),F(n,c,m),G(c,u),G(u,s),G(c,f),G(c,d),G(c,l),G(c,p),g&&N(h),h=[X(d,"click",pe),X(p,"click",pe)]},p:O,i:O,o:O,d:function(n){n&&W(e),n&&W(t),n&&W(r),n&&W(o),n&&W(i),n&&W(a),n&&W(c),N(h)}}}function Ec(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("E-mail")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Oc(n){var e,t=wt("Your email will be used if you forget your password.")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Cc(n){var e,t=wt("Your email is from the invite link.")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Rc(n){var e;var t=function(n,e){return n[2]?Cc:Oc}(n)(n);return{c:function(){e=V("p"),t.c(),en(e,"class","help"),en(e,"slot","help")},m:function(n,r){F(n,e,r),t.m(e,null)},p:function(n,e){t.p(n,e)},d:function(n){n&&W(e),t.d()}}}function Sc(n){var e;return{c:function(){e=J()},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Nc(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Password")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Dc(n){var e;return{c:function(){(e=V("p")).textContent="".concat(wt("Hint: Use a phrase from a book.")),en(e,"class","help"),en(e,"slot","help")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Mc(n){var e;return{c:function(){e=J()},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Pc(n){var e,t=wt(n[3].existing_user?"Set new password":"Sign up")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Ac(n){var e;return{c:function(){e=Z("Convos")},m:function(n,t){F(n,e,t)},d:function(n){n&&W(e)}}}function jc(n){var e,t=wt("Blog")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Tc(n){var e,t=wt("Documentation")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Lc(n){var e,t=wt("GitHub")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Ic(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h,g,v,$,y=new Ze({props:{href:"/",$$slots:{default:[gc]},$$scope:{ctx:n}}}),b="Convos"!=n[3].organization_name&&function(n){var e,t=function(n,e){return"https://convos.by"!=n[3].organization_url?$c:vc}(n)(n);return{c:function(){t.c(),e=Q()},m:function(n,r){t.m(n,r),F(n,e,r)},p:function(n,e){t.p(n,e)},d:function(n){t.d(n),n&&W(e)}}}(n),w=!n[3].first_user&&function(n){var e,t,r,o,i,a,c,u,s,f,d,l,p;function h(e){n[12].call(null,e)}var m={type:"email",name:"email",placeholder:wt("Ex: john@doe.com"),$$slots:{label:[yc]},$$scope:{ctx:n}};void 0!==n[0].formEmail&&(m.value=n[0].formEmail);var g=new ot({props:m});_n.push((function(){return Fn(g,"value",h)}));var v=new ot({props:{type:"password",name:"password",autocomplete:"current-password",$$slots:{label:[bc]},$$scope:{ctx:n}}}),$=new Ur({props:{icon:"sign-in-alt",op:n[4],$$slots:{default:[wc]},$$scope:{ctx:n}}}),y=new Uo({props:{op:n[4]}});return{c:function(){e=V("section"),t=V("form"),(r=V("h2")).textContent="".concat(wt("Sign in")),o=J(),Wn(g.$$.fragment),a=J(),Wn(v.$$.fragment),c=J(),u=V("div"),Wn($.$$.fragment),s=J(),(f=V("a")).textContent="".concat(wt("Sign up")),d=J(),Wn(y.$$.fragment),en(f,"class","btn is-hallow"),en(f,"href","#signup"),en(u,"class","form-actions"),en(t,"method","post"),en(e,"id","signin"),en(e,"class","welcome-screen__signin fade-in")},m:function(i,h,m){F(i,e,h),G(e,t),G(t,r),G(t,o),Yn(g,t,null),G(t,a),Yn(v,t,null),G(t,c),G(t,u),Yn($,u,null),G(u,s),G(u,f),G(t,d),Yn(y,t,null),l=!0,m&&N(p),p=[X(f,"click",pe),X(t,"submit",nn(n[13]))]},p:function(n,e){var t={};131072&e&&(t.$$scope={dirty:e,ctx:n}),!i&&1&e&&(i=!0,t.value=n[0].formEmail,Nn((function(){return i=!1}))),g.$set(t);var r={};131072&e&&(r.$$scope={dirty:e,ctx:n}),v.$set(r);var o={};131072&e&&(o.$$scope={dirty:e,ctx:n}),$.$set(o)},i:function(n){l||(Bn(g.$$.fragment,n),Bn(v.$$.fragment,n),Bn($.$$.fragment,n),Bn(y.$$.fragment,n),l=!0)},o:function(n){Hn(g.$$.fragment,n),Hn(v.$$.fragment,n),Hn($.$$.fragment,n),Hn(y.$$.fragment,n),l=!1},d:function(n){n&&W(e),Vn(g),Vn(v),Vn($),Vn(y),N(p)}}}(n),_=[kc,xc,_c],x=[];f=function(n,e){return n[3].status>=400?0:n[2]||n[3].open_to_public||n[3].first_user?1:2}(n),d=x[f]=_[f](n);var k=new Ze({props:{href:"https://convos.by/",$$slots:{default:[Ac]},$$scope:{ctx:n}}}),E=new Ze({props:{href:"https://convos.by/blog",$$slots:{default:[jc]},$$scope:{ctx:n}}}),O=new Ze({props:{href:"https://convos.by/doc",$$slots:{default:[Tc]},$$scope:{ctx:n}}}),C=new Ze({props:{href:"https://github.com/Nordaaker/convos",$$slots:{default:[Lc]},$$scope:{ctx:n}}});return{c:function(){e=V("main"),t=V("article"),r=V("h1"),Wn(y.$$.fragment),o=J(),b&&b.c(),i=J(),(a=V("p")).textContent="".concat(wt("Convos is the simplest way to use IRC, and it keeps you always online.")),c=J(),w&&w.c(),u=J(),s=V("section"),d.c(),l=J(),p=V("footer"),Wn(k.$$.fragment),h=Z("\n    —\n    "),Wn(E.$$.fragment),g=Z("\n    —\n    "),Wn(O.$$.fragment),v=Z("\n    —\n    "),Wn(C.$$.fragment),en(t,"class","welcome-screen__about"),en(s,"id","signup"),en(s,"class","welcome-screen__signup fade-in"),en(p,"class","welcome-screen__footer fade-in"),en(e,"id","top"),en(e,"class","welcome-screen")},m:function(n,d){F(n,e,d),G(e,t),G(t,r),Yn(y,r,null),G(r,o),b&&b.m(r,null),G(t,i),G(t,a),G(e,c),w&&w.m(e,null),G(e,u),G(e,s),x[f].m(s,null),G(e,l),G(e,p),Yn(k,p,null),G(p,h),Yn(E,p,null),G(p,g),Yn(O,p,null),G(p,v),Yn(C,p,null),$=!0},p:function(n,e){var t=m(e,1)[0],r={};131072&t&&(r.$$scope={dirty:t,ctx:n}),y.$set(r),"Convos"!=n[3].organization_name&&b.p(n,t),n[3].first_user||w.p(n,t),d.p(n,t);var o={};131072&t&&(o.$$scope={dirty:t,ctx:n}),k.$set(o);var i={};131072&t&&(i.$$scope={dirty:t,ctx:n}),E.$set(i);var a={};131072&t&&(a.$$scope={dirty:t,ctx:n}),O.$set(a);var c={};131072&t&&(c.$$scope={dirty:t,ctx:n}),C.$set(c)},i:function(n){$||(Bn(y.$$.fragment,n),Bn(w),Bn(d),Bn(k.$$.fragment,n),Bn(E.$$.fragment,n),Bn(O.$$.fragment,n),Bn(C.$$.fragment,n),$=!0)},o:function(n){Hn(y.$$.fragment,n),Hn(w),Hn(d),Hn(k.$$.fragment,n),Hn(E.$$.fragment,n),Hn(O.$$.fragment,n),Hn(C.$$.fragment,n),$=!1},d:function(n){n&&W(e),Vn(y),b&&b.d(),w&&w.d(),x[f].d(),Vn(k),Vn(E),Vn(O),Vn(C)}}}function Uc(n,e){n.forEach((function(n){var e=n.isIntersecting?"add":"remove";n.target.classList[e]("is-visible")}))}function zc(n,e,t){var r,o,i;j(n,Le,(function(n){return t(8,r=n)}));var a=-1!=location.href.indexOf("email="),c=yn("settings"),u=yn("user"),s=u.api.operation("loginUser");j(n,s,(function(n){return t(9,o=n)}));var f,d,l=u.api.operation("registerUser");function p(n){return h.apply(this,arguments)}function h(){return(h=ee(Xn.mark((function n(e){return Xn.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return document.cookie=e.res.headers["Set-Cookie"],e.reset(),n.next=4,u.load();case 4:Be(u.calculateLastUrl());case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}j(n,l,(function(n){return t(10,i=n)})),vn((function(){d||(d=new IntersectionObserver(Uc,{rootMargin:"-30px 0px 80px 0px",threshold:.8}),fe(document,".fade-in",(function(n){return d.observe(n)}))),f&&Ge(f)}));var m;return n.$$.update=function(){256&n.$$.dirty&&t(7,m=-1==r.path.indexOf("register")?0:"#signup"),384&n.$$.dirty&&pe(r.hash||m),512&n.$$.dirty&&o.is("success")&&p(s),1025&n.$$.dirty&&i.is("success")&&(u.update({lastUrl:""}),p(l))},[u,f,a,c,s,l,d,m,r,o,i,p,function(n){u.formEmail=n,t(0,u)},function(n){return s.perform(n.target)},function(n){u.formEmail=n,t(0,u)},function(n){return l.perform(n.target)},function(n){_n[n?"unshift":"push"]((function(){t(1,f=n)}))}]}var Bc=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(mc()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,zc,Ic,M,{}),t}return i}(Qn);function Hc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function qc(n){var e,t,r,o,i=new Ne({props:{name:"search"}});return{c:function(){e=V("h1"),t=V("a"),Wn(i.$$.fragment),(r=V("span")).textContent="".concat(wt("Search")),en(t,"href","#activeMenu:nav}"),en(t,"tabindex","-1")},m:function(n,a){F(n,e,a),G(e,t),Yn(i,t,null),G(t,r),o=!0},p:O,i:function(n){o||(Bn(i.$$.fragment,n),o=!0)},o:function(n){Hn(i.$$.fragment,n),o=!1},d:function(n){n&&W(e),Vn(i)}}}function Kc(n){var e,t,r,o,i,a=new qr({props:{$$slots:{default:[qc]},$$scope:{ctx:n}}}),c=new Ro({props:{connection:n[2],dialog:n[3],input:null}}),u={dialog:n[3]},s=new Xr({props:u});return n[4](s),{c:function(){Wn(a.$$.fragment),e=J(),t=V("main"),r=V("div"),Wn(c.$$.fragment),o=J(),Wn(s.$$.fragment),en(r,"class","messages-container"),cn(r,"has-notifications",n[1].messages.length),en(t,"class","main")},m:function(n,u){Yn(a,n,u),F(n,e,u),F(n,t,u),G(t,r),Yn(c,r,null),F(n,o,u),Yn(s,n,u),i=!0},p:function(n,e){var t=m(e,1)[0],o={};32&t&&(o.$$scope={dirty:t,ctx:n}),a.$set(o),2&t&&cn(r,"has-notifications",n[1].messages.length);s.$set({})},i:function(n){i||(Bn(a.$$.fragment,n),Bn(c.$$.fragment,n),Bn(s.$$.fragment,n),i=!0)},o:function(n){Hn(a.$$.fragment,n),Hn(c.$$.fragment,n),Hn(s.$$.fragment,n),i=!1},d:function(r){Vn(a,r),r&&W(e),r&&W(t),Vn(c),r&&W(o),n[4](null),Vn(s,r)}}}function Gc(n,e,t){var r,o,i=yn("user"),a=i.search;return j(n,a,(function(n){return t(1,r=n)})),vn((function(){a.load({})})),[o,r,i,a,function(n){_n[n?"unshift":"push"]((function(){t(0,o=n)}))}]}var Fc=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(Hc()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Gc,Kc,M,{}),t}return i}(Qn);function Wc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function Yc(n){var e;return{c:function(){(e=V("h1")).textContent="".concat(wt("Settings"))},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Vc(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("User email")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Zc(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h,m=_t(n[1].existing?"Copy and send the link to your *existing* user.":"Copy and send the link to your *new* user.")+"",g=_t("The link is valid until **%1**.",new Date(n[1].expires).toLocaleString())+"",v=n[1].url+"";return{c:function(){(e=V("h3")).textContent="".concat(wt("A link was generated")),t=J(),r=V("p"),i=J(),c=J(),u=V("a"),s=Z(v),d=J(),l=V("p"),(p=V("small")).textContent="".concat(wt("Tip: Clicking on the link will copy it to your clipboard.")),o=new sn(m,i),a=new sn(g,null),en(u,"href",f=n[1].url)},m:function(f,m,g){F(f,e,m),F(f,t,m),F(f,r,m),o.m(r),G(r,i),a.m(r),F(f,c,m),F(f,u,m),G(u,s),F(f,d,m),F(f,l,m),G(l,p),g&&h(),h=X(u,"click",nn(n[6]))},p:function(n,e){2&e&&m!==(m=_t(n[1].existing?"Copy and send the link to your *existing* user.":"Copy and send the link to your *new* user.")+"")&&o.p(m),2&e&&g!==(g=_t("The link is valid until **%1**.",new Date(n[1].expires).toLocaleString())+"")&&a.p(g),2&e&&v!==(v=n[1].url+"")&&rn(s,v),2&e&&f!==(f=n[1].url)&&en(u,"href",f)},d:function(n){n&&W(e),n&&W(t),n&&W(r),n&&W(c),n&&W(u),n&&W(d),n&&W(l),h()}}}function Jc(n){var e,t=wt("Generate link")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Qc(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Organization name")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Xc(n){var e;return{c:function(){(e=V("p")).textContent="".concat(wt("Can be changed if you want to add a touch of your organization.")),en(e,"class","help"),en(e,"slot","help")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function nu(n){var e;return{c:function(){e=J()},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function eu(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Organization URL")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function tu(n){var e;return{c:function(){(e=V("p")).textContent="".concat(wt('Used together with "Organization name" to add a link to your organization on the login screen.')),en(e,"class","help"),en(e,"slot","help")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function ru(n){var e;return{c:function(){e=J()},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function ou(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Admin email")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function iu(n){var e;return{c:function(){(e=V("p")).textContent="".concat(wt("This email can be used by users to get in touch with the Convos admin.")),en(e,"class","help"),en(e,"slot","help")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function au(n){var e;return{c:function(){e=J()},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function cu(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Default connection URL")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function uu(n){var e;return{c:function(){(e=V("p")).textContent="".concat(wt("This is the default connection new users will connect to.")," \n        ").concat(wt('The path part is the default channel to join. "%%23convos" means "#convos".')),en(e,"class","help"),en(e,"slot","help")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function su(n){var e;return{c:function(){e=J()},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function fu(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Force default connection")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function du(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Registration is open to public")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function lu(n){var e,t=wt("Save settings")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function pu(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h,g,v,$,y,b,w,_,x,k,E,O,C,R,S,D,M,P,A,j,T,L,I=_t("These settings control what users experience when they visit [%1](%1).",n[2].base_url)+"",U=new qr({props:{$$slots:{default:[Yc]},$$scope:{ctx:n}}}),z=new ot({props:{type:"email",name:"email",placeholder:wt("user@example.com"),$$slots:{label:[Vc]},$$scope:{ctx:n}}}),B=n[1].url&&Zc(n),H=new Ur({props:{icon:"save",op:n[3],$$slots:{default:[Jc]},$$scope:{ctx:n}}}),q=new Uo({props:{op:n[3]}});function K(e){n[12].call(null,e)}var Y={name:"organization_name",placeholder:wt("Nordaaker"),$$slots:{default:[nu],help:[Xc],label:[Qc]},$$scope:{ctx:n}};void 0!==n[0].organization_name&&(Y.value=n[0].organization_name);var Z=new ot({props:Y});function Q(e){n[13].call(null,e)}_n.push((function(){return Fn(Z,"value",K)}));var tn={name:"organization_url",placeholder:wt("https://convos.by"),$$slots:{default:[ru],help:[tu],label:[eu]},$$scope:{ctx:n}};void 0!==n[0].organization_url&&(tn.value=n[0].organization_url);var rn=new ot({props:tn});function on(e){n[14].call(null,e)}_n.push((function(){return Fn(rn,"value",Q)}));var an={name:"contact",placeholder:wt("Ex: jhthorsen@cpan.org"),$$slots:{default:[au],help:[iu],label:[ou]},$$scope:{ctx:n}};void 0!==n[0].contact&&(an.value=n[0].contact);var cn=new ot({props:an});function un(e){n[15].call(null,e)}_n.push((function(){return Fn(cn,"value",on)}));var sn={name:"default_connection",placeholder:wt("irc://chat.freenode.net:6697/%%23convos"),$$slots:{default:[su],help:[uu],label:[cu]},$$scope:{ctx:n}};void 0!==n[0].default_connection&&(sn.value=n[0].default_connection);var fn=new ot({props:sn});_n.push((function(){return Fn(fn,"value",un)}));var dn=new Ao({props:{name:"forced_connection",checked:n[0].forced_connection,$$slots:{label:[fu]},$$scope:{ctx:n}}}),ln=new Ao({props:{name:"open_to_public",checked:n[0].open_to_public,$$slots:{label:[du]},$$scope:{ctx:n}}}),pn=new Ur({props:{icon:"save",op:n[4],$$slots:{default:[lu]},$$scope:{ctx:n}}}),hn=new Uo({props:{op:n[4]}});return{c:function(){Wn(U.$$.fragment),e=J(),t=V("main"),r=V("form"),(o=V("h2")).textContent="".concat(wt("Recover or invite")),i=J(),(a=V("p")).textContent="".concat(wt("Using this form, you can generate an invite link for new users, or a recover password link for existing users.")),c=J(),Wn(z.$$.fragment),u=J(),B&&B.c(),s=J(),f=V("div"),Wn(H.$$.fragment),d=J(),Wn(q.$$.fragment),l=J(),p=V("form"),(h=V("h2")).textContent="".concat(wt("Convos settings")),g=J(),v=V("p"),$=J(),Wn(Z.$$.fragment),b=J(),Wn(rn.$$.fragment),_=J(),Wn(cn.$$.fragment),k=J(),Wn(fn.$$.fragment),O=J(),Wn(dn.$$.fragment),C=J(),(R=V("p")).textContent="".concat(wt("Tick this box if you want to prevent users from creating custom connections.")),S=J(),Wn(ln.$$.fragment),D=J(),(M=V("p")).textContent="".concat(wt("Tick this box if you want users to be able to register without an invite URL.")),P=J(),A=V("div"),Wn(pn.$$.fragment),j=J(),Wn(hn.$$.fragment),en(f,"class","form-actions"),en(r,"method","post"),en(R,"class","help"),en(M,"class","help"),en(A,"class","form-actions"),en(p,"method","post"),en(t,"class","main")},m:function(m,y,w){Yn(U,m,y),F(m,e,y),F(m,t,y),G(t,r),G(r,o),G(r,i),G(r,a),G(r,c),Yn(z,r,null),G(r,u),B&&B.m(r,null),G(r,s),G(r,f),Yn(H,f,null),G(r,d),Yn(q,r,null),G(t,l),G(t,p),G(p,h),G(p,g),G(p,v),v.innerHTML=I,G(p,$),Yn(Z,p,null),G(p,b),Yn(rn,p,null),G(p,_),Yn(cn,p,null),G(p,k),Yn(fn,p,null),G(p,O),Yn(dn,p,null),G(p,C),G(p,R),G(p,S),Yn(ln,p,null),G(p,D),G(p,M),G(p,P),G(p,A),Yn(pn,A,null),G(p,j),Yn(hn,p,null),T=!0,w&&N(L),L=[X(r,"submit",nn(n[5])),X(p,"submit",nn(n[7]))]},p:function(n,e){var t=m(e,1)[0],o={};65536&t&&(o.$$scope={dirty:t,ctx:n}),U.$set(o);var i={};65536&t&&(i.$$scope={dirty:t,ctx:n}),z.$set(i),n[1].url?B?B.p(n,t):((B=Zc(n)).c(),B.m(r,s)):B&&(B.d(1),B=null);var a={};65536&t&&(a.$$scope={dirty:t,ctx:n}),H.$set(a);var c={};65536&t&&(c.$$scope={dirty:t,ctx:n}),!y&&1&t&&(y=!0,c.value=n[0].organization_name,Nn((function(){return y=!1}))),Z.$set(c);var u={};65536&t&&(u.$$scope={dirty:t,ctx:n}),!w&&1&t&&(w=!0,u.value=n[0].organization_url,Nn((function(){return w=!1}))),rn.$set(u);var f={};65536&t&&(f.$$scope={dirty:t,ctx:n}),!x&&1&t&&(x=!0,f.value=n[0].contact,Nn((function(){return x=!1}))),cn.$set(f);var d={};65536&t&&(d.$$scope={dirty:t,ctx:n}),!E&&1&t&&(E=!0,d.value=n[0].default_connection,Nn((function(){return E=!1}))),fn.$set(d);var l={};1&t&&(l.checked=n[0].forced_connection),65536&t&&(l.$$scope={dirty:t,ctx:n}),dn.$set(l);var p={};1&t&&(p.checked=n[0].open_to_public),65536&t&&(p.$$scope={dirty:t,ctx:n}),ln.$set(p);var h={};65536&t&&(h.$$scope={dirty:t,ctx:n}),pn.$set(h)},i:function(n){T||(Bn(U.$$.fragment,n),Bn(z.$$.fragment,n),Bn(H.$$.fragment,n),Bn(q.$$.fragment,n),Bn(Z.$$.fragment,n),Bn(rn.$$.fragment,n),Bn(cn.$$.fragment,n),Bn(fn.$$.fragment,n),Bn(dn.$$.fragment,n),Bn(ln.$$.fragment,n),Bn(pn.$$.fragment,n),Bn(hn.$$.fragment,n),T=!0)},o:function(n){Hn(U.$$.fragment,n),Hn(z.$$.fragment,n),Hn(H.$$.fragment,n),Hn(q.$$.fragment,n),Hn(Z.$$.fragment,n),Hn(rn.$$.fragment,n),Hn(cn.$$.fragment,n),Hn(fn.$$.fragment,n),Hn(dn.$$.fragment,n),Hn(ln.$$.fragment,n),Hn(pn.$$.fragment,n),Hn(hn.$$.fragment,n),T=!1},d:function(n){Vn(U,n),n&&W(e),n&&W(t),Vn(z),B&&B.d(),Vn(H),Vn(q),Vn(Z),Vn(rn),Vn(cn),Vn(fn),Vn(dn),Vn(ln),Vn(pn),Vn(hn),N(L)}}}function hu(n,e,t){var r,o;j(n,Ie,(function(n){return t(8,r=n)}));var i=yn("settings"),a=yn("user"),c=a.api.operation("getSettings"),u=a.api.operation("inviteUser");j(n,u,(function(n){return t(9,o=n)}));var s,f=a.api.operation("updateSettings"),d={};return U(Ie,r=wt("%1 - Convos",wt("Convos settings"))),f.on("start",(function(n){n.body.contact&&(n.body.contact="mailto:"+n.body.contact),n.body.forced_connection=!!n.body.forced_connection,n.body.open_to_public=!!n.body.open_to_public})),vn(ee(Xn.mark((function n(){var e;return Xn.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.perform();case 2:(e=c.res.body).contact=e.contact.replace(/mailto:/,""),t(0,d=e);case 5:case"end":return n.stop()}}),n)})))),n.$$.update=function(){512&n.$$.dirty&&t(1,s=o.res.body||{})},[d,s,i,u,f,function(n){u.perform(n.target)},function(n){var e=function(n){var e=document.createElement("textarea");e.value=n.textContent||n.value,e.style.opacity=0,e.style.position="absolute",document.body.appendChild(e);try{e.focus(),e.select(),document.execCommand("copy")}catch(n){e.value="",console.log("copyToClipboard() failed:",n)}return document.body.removeChild(e),e.value}(n.target);e&&a.events.notifyUser("Invite link copied",e,{force:!0})},function(n){f.perform(n.target)},r,o,a,c,function(n){d.organization_name=n,t(0,d)},function(n){d.organization_url=n,t(0,d)},function(n){d.contact=n,t(0,d)},function(n){d.default_connection=n,t(0,d)}]}var mu=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(Wc()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,hu,pu,M,{}),t}return i}(Qn);function gu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function vu(n){var e;return{c:function(){(e=V("h1")).textContent="".concat(wt("Account"))},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function $u(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Email")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function yu(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Notification keywords")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function bu(n){var e,t;function r(e){n[14].call(null,e)}var o={name:"notifications",$$slots:{label:[wu]},$$scope:{ctx:n}};void 0!==n[5]&&(o.checked=n[5]);var i=new Ao({props:o});return _n.push((function(){return Fn(i,"checked",r)})),{c:function(){Wn(i.$$.fragment)},m:function(n,e){Yn(i,n,e),t=!0},p:function(n,t){var r={};524288&t&&(r.$$scope={dirty:t,ctx:n}),!e&&32&t&&(e=!0,r.checked=n[5],Nn((function(){return e=!1}))),i.$set(r)},i:function(n){t||(Bn(i.$$.fragment,n),t=!0)},o:function(n){Hn(i.$$.fragment,n),t=!1},d:function(n){Vn(i,n)}}}function wu(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Enable notifications")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function _u(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Expand URL to media")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function xu(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Theme")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function ku(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Color scheme")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Eu(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Password")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Ou(n){var e;return{c:function(){(e=V("span")).textContent="".concat(wt("Repeat password")),en(e,"slot","label")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Cu(n){var e,t=wt("Save settings")+"";return{c:function(){e=Z(t)},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Ru(n){var e;return{c:function(){(e=V("p")).textContent="".concat(wt("You cannot receive notifications, because it is denied by your browser.")),en(e,"class","error")},m:function(n,t){F(n,e,t)},p:O,d:function(n){n&&W(e)}}}function Su(n){var e,t,r,o,i,a,c,u,s,f,d,l,p,h,g,v,$,y,b,w,_,x=new qr({props:{$$slots:{default:[vu]},$$scope:{ctx:n}}}),k=new ot({props:{type:"email",name:"email",value:n[6].email,readonly:!0,$$slots:{label:[$u]},$$scope:{ctx:n}}}),E=new ot({props:{name:"highlight_keywords",placeholder:wt("whatever, keywords"),value:n[11],$$slots:{label:[yu]},$$scope:{ctx:n}}}),O=!n[3]&&bu(n);function C(e){n[15].call(null,e)}var R={name:"expand_url",$$slots:{label:[_u]},$$scope:{ctx:n}};void 0!==n[2]&&(R.checked=n[2]);var S=new Ao({props:R});function N(e){n[16].call(null,e)}_n.push((function(){return Fn(S,"checked",C)}));var D={name:"theme",options:n[10],$$slots:{label:[xu]},$$scope:{ctx:n}};void 0!==n[4]&&(D.value=n[4]);var M=new Da({props:D});function P(e){n[17].call(null,e)}_n.push((function(){return Fn(M,"value",N)}));var A={name:"color_scheme",options:n[7],$$slots:{label:[ku]},$$scope:{ctx:n}};void 0!==n[1]&&(A.value=n[1]);var j=new Da({props:A});_n.push((function(){return Fn(j,"value",P)}));var T=new ot({props:{type:"password",name:"password",autocomplete:"new-password",$$slots:{label:[Eu]},$$scope:{ctx:n}}}),L=new ot({props:{type:"password",name:"password_again",autocomplete:"new-password",$$slots:{label:[Ou]},$$scope:{ctx:n}}}),I=new Ur({props:{icon:"save",op:n[9],$$slots:{default:[Cu]},$$scope:{ctx:n}}}),U=new Uo({props:{op:n[9]}}),z=n[3]&&Ru();return{c:function(){Wn(x.$$.fragment),e=J(),t=V("main"),r=V("form"),Wn(k.$$.fragment),o=J(),Wn(E.$$.fragment),i=J(),O&&O.c(),a=J(),Wn(S.$$.fragment),u=J(),Wn(M.$$.fragment),f=J(),Wn(j.$$.fragment),l=J(),Wn(T.$$.fragment),p=J(),Wn(L.$$.fragment),h=J(),(g=V("p")).textContent="".concat(wt("Leave the password fields empty to keep the current password.")),v=J(),$=V("div"),Wn(I.$$.fragment),y=J(),Wn(U.$$.fragment),b=J(),z&&z.c(),en($,"class","form-actions"),en(r,"method","post"),en(t,"class","main")},m:function(c,s,d){Yn(x,c,s),F(c,e,s),F(c,t,s),G(t,r),Yn(k,r,null),G(r,o),Yn(E,r,null),G(r,i),O&&O.m(r,null),G(r,a),Yn(S,r,null),G(r,u),Yn(M,r,null),G(r,f),Yn(j,r,null),G(r,l),Yn(T,r,null),G(r,p),Yn(L,r,null),G(r,h),G(r,g),G(r,v),G(r,$),Yn(I,$,null),G(r,y),Yn(U,r,null),G(r,b),z&&z.m(r,null),n[18](r),w=!0,d&&_(),_=X(r,"submit",nn(n[12]))},p:function(n,e){var t=m(e,1)[0],o={};524288&t&&(o.$$scope={dirty:t,ctx:n}),x.$set(o);var i={};64&t&&(i.value=n[6].email),524288&t&&(i.$$scope={dirty:t,ctx:n}),k.$set(i);var u={};524288&t&&(u.$$scope={dirty:t,ctx:n}),E.$set(u),n[3]?O&&(Un(),Hn(O,1,1,(function(){O=null})),zn()):O?(O.p(n,t),Bn(O,1)):((O=bu(n)).c(),Bn(O,1),O.m(r,a));var f={};524288&t&&(f.$$scope={dirty:t,ctx:n}),!c&&4&t&&(c=!0,f.checked=n[2],Nn((function(){return c=!1}))),S.$set(f);var l={};524288&t&&(l.$$scope={dirty:t,ctx:n}),!s&&16&t&&(s=!0,l.value=n[4],Nn((function(){return s=!1}))),M.$set(l);var p={};524288&t&&(p.$$scope={dirty:t,ctx:n}),!d&&2&t&&(d=!0,p.value=n[1],Nn((function(){return d=!1}))),j.$set(p);var h={};524288&t&&(h.$$scope={dirty:t,ctx:n}),T.$set(h);var g={};524288&t&&(g.$$scope={dirty:t,ctx:n}),L.$set(g);var v={};524288&t&&(v.$$scope={dirty:t,ctx:n}),I.$set(v),n[3]?z?z.p(n,t):((z=Ru()).c(),z.m(r,null)):z&&(z.d(1),z=null)},i:function(n){w||(Bn(x.$$.fragment,n),Bn(k.$$.fragment,n),Bn(E.$$.fragment,n),Bn(O),Bn(S.$$.fragment,n),Bn(M.$$.fragment,n),Bn(j.$$.fragment,n),Bn(T.$$.fragment,n),Bn(L.$$.fragment,n),Bn(I.$$.fragment,n),Bn(U.$$.fragment,n),w=!0)},o:function(n){Hn(x.$$.fragment,n),Hn(k.$$.fragment,n),Hn(E.$$.fragment,n),Hn(O),Hn(S.$$.fragment,n),Hn(M.$$.fragment,n),Hn(j.$$.fragment,n),Hn(T.$$.fragment,n),Hn(L.$$.fragment,n),Hn(I.$$.fragment,n),Hn(U.$$.fragment,n),w=!1},d:function(r){Vn(x,r),r&&W(e),r&&W(t),Vn(k),Vn(E),O&&O.d(),Vn(S),Vn(M),Vn(j),Vn(T),Vn(L),Vn(I),Vn(U),z&&z.d(),n[18](null),_()}}}function Nu(n,e,t){var r,o;j(n,Ie,(function(n){return t(13,r=n)}));var i=yn("user");j(n,i,(function(n){return t(6,o=n)}));var a,c=i.api.operation("updateUser"),u=Object.keys(i.themes).map((function(n){var e=i.themes[n].name,t=Object.keys(i.themes[n].color_schemes||{}).filter((function(n){return"default"!=n}));return t.length&&(e+=" ("+t.sort().join("/")+")"),[n,e]})),s=i.colorScheme,f=i.embedMaker.expandUrlToMedia,d="denied"==i.events.browserNotifyPermission,l=i.theme,p=i.events.wantNotifications,h=i.highlight_keywords.join(", ");return U(Ie,r=wt("%1 - Convos",wt("Account"))),c.on("start",(function(n){n.body.password||delete n.body.password,n.body.highlight_keywords=n.body.highlight_keywords.split(/[.,\s]+/).map((function(n){return n.trim()}))})),[a,s,f,d,l,p,o,[["auto","Auto"],["dark","Dark"],["light","Light"]],i,c,u,h,function(n){var e=n.target,r=[e.password.value,e.password_again.value];if(p&&i.events.requestPermissionToNotify((function(n){"denied"==n&&(t(5,p=!1),t(3,d=!0))})),r.join("").length&&r[0]!=r[1])return c.error("Passwords does not match.");i.embedMaker.update({expandUrlToMedia:f}),i.update({colorScheme:s,theme:l}),c.perform(n.target)},r,function(n){t(5,p=n)},function(n){t(2,f=n)},function(n){t(4,l=n)},function(n){t(1,s=n)},function(n){_n[n?"unshift":"push"]((function(){t(0,a=n)}))}]}var Du=function(e){s(i,e);var t,o=(t=i,function(){var n,e=c(t);if(gu()){var r=c(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return a(this,n)});function i(e){var t;return n(this,i),t=o.call(this),Jn(r(t),e,Nu,Su,M,{}),t}return i}(Qn);function Mu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var Pu=Gn.window;function Au(n){var e,t,r,o,i=n[1]&&("nav"==n[3]||n[4].wideScreen)&&ju(n),a=n[2];if(a)var c=new a({});var u=n[3]&&!n[4].wideScreen&&Tu(n);return{c:function(){i&&i.c(),e=J(),c&&Wn(c.$$.fragment),t=J(),u&&u.c(),r=Q()},m:function(n,a){i&&i.m(n,a),F(n,e,a),c&&Yn(c,n,a),F(n,t,a),u&&u.m(n,a),F(n,r,a),o=!0},p:function(n,o){if(n[1]&&("nav"==n[3]||n[4].wideScreen)?i?(i.p(n,o),Bn(i,1)):((i=ju(n)).c(),Bn(i,1),i.m(e.parentNode,e)):i&&(Un(),Hn(i,1,1,(function(){i=null})),zn()),a!==(a=n[2])){if(c){Un();var s=c;Hn(s.$$.fragment,1,0,(function(){Vn(s,1)})),zn()}a?(Wn((c=new a({})).$$.fragment),Bn(c.$$.fragment,1),Yn(c,t.parentNode,t)):c=null}n[3]&&!n[4].wideScreen?u?(u.p(n,o),Bn(u,1)):((u=Tu(n)).c(),Bn(u,1),u.m(r.parentNode,r)):u&&(Un(),Hn(u,1,1,(function(){u=null})),zn())},i:function(n){o||(Bn(i),c&&Bn(c.$$.fragment,n),Bn(u),o=!0)},o:function(n){Hn(i),c&&Hn(c.$$.fragment,n),Hn(u),o=!1},d:function(n){i&&i.d(n),n&&W(e),c&&Vn(c,n),n&&W(t),u&&u.d(n),n&&W(r)}}}function ju(n){var e,t=new Gt({props:{transition:{duration:n[4].wideScreen?0:250,x:n[4].width}}});return{c:function(){Wn(t.$$.fragment)},m:function(n,r){Yn(t,n,r),e=!0},p:function(n,e){var r={};16&e&&(r.transition={duration:n[4].wideScreen?0:250,x:n[4].width}),t.$set(r)},i:function(n){e||(Bn(t.$$.fragment,n),e=!0)},o:function(n){Hn(t.$$.fragment,n),e=!1},d:function(n){Vn(t,n)}}}function Tu(n){var e,t,r,o;return{c:function(){(e=V("div")).textContent=" ",en(e,"class","overlay")},m:function(t,i,a){F(t,e,i),r=!0,a&&o(),o=X(e,"click",n[17])},p:O,i:function(n){r||(Sn((function(){t||(t=Kn(e,at,{duration:200},!0)),t.run(1)})),r=!0)},o:function(n){t||(t=Kn(e,at,{duration:200},!1)),t.run(0),r=!1},d:function(n){n&&W(e),n&&t&&t.end(),o()}}}function Lu(n){var e,t,r;Sn(n[16]);var o=n[2]&&Au(n);return{c:function(){o&&o.c(),e=Q()},m:function(i,a,c){o&&o.m(i,a),F(i,e,a),t=!0,c&&N(r),r=[X(Pu,"click",n[6]),X(Pu,"focus",n[7]),X(Pu,"keydown",Iu),X(Pu,"resize",n[16])]},p:function(n,t){var r=m(t,1)[0];n[2]?o?(o.p(n,r),Bn(o,1)):((o=Au(n)).c(),Bn(o,1),o.m(e.parentNode,e)):o&&(Un(),Hn(o,1,1,(function(){o=null})),zn())},i:function(n){t||(Bn(o),t=!0)},o:function(n){Hn(o),t=!1},d:function(n){o&&o.d(n),n&&W(e),N(r)}}}function Iu(n){if(n.shiftKey&&13==n.keyCode){n.preventDefault();var e=document.getElementById("search_input"),t=document.activeElement;if(t!=e&&!ge(t,"body"))return e.focus();for(var r=["#chat_input",'.main input[type="text"]',".main a","#search_input"],o=0;o<r.length;o++){var i=document.querySelector(r[o]);if(i)return i.focus()}}}function Uu(n,e,t){var r,o,i,a,c,u;j(n,Le,(function(n){return t(9,r=n)})),j(n,Ie,(function(n){return t(11,i=n)})),j(n,Ue,(function(n){return t(2,a=n)})),j(n,je,(function(n){return t(3,c=n)})),j(n,Te,(function(n){return t(4,u=n)}));var s=[[new RegExp("^/(file|paste)"),null,{}],[new RegExp("^/docs"),null,{}],[new RegExp("^/$"),Bc,{user:"pending"}],[new RegExp(".*"),cc,{user:"offline"}],[new RegExp("^/(login|register)"),Bc,{}],[new RegExp("^/settings/connection"),xa,{user:"loggedIn"}],[new RegExp("^/settings/conversation"),Fa,{user:"loggedIn"}],[new RegExp("^/settings/account"),Du,{user:"loggedIn"}],[new RegExp("^/settings"),mu,{user:"loggedIn"}],[new RegExp("^/chat"),$a,{user:"loggedIn"}],[new RegExp("^/help"),hc,{user:"loggedIn"}],[new RegExp("^/search"),Fc,{user:"loggedIn"}],[new RegExp("^/$"),null,{user:["error","success"],gotoLast:!0}],[new RegExp(".*"),cc,{}]],f=[window.__convos,delete window.__convos][0],d=new we(f.api_url,{debug:!0}),l=new jr({api:d,wsUrl:f.ws_url,themes:f.themes});j(n,l,(function(n){return t(10,o=n)}));var p=l.notifications,h=0;function g(n){if(!l.is("loading")){var e=["","chat",n.connection_id];if(U(je,c=""),l.findDialog(n))n.dialog_id&&e.push(n.dialog_id),Be(e.map(encodeURIComponent).join("/"));else{var t=document.querySelector('.sidebar-left [href$="'+e.map(encodeURIComponent).join("/")+'"]');Be(t?t.href:"/chat")}}}window.hljs=_e,Le.base=f.base_url,l.activateTheme(),l.events.listenToGlobalEvents(),$n("settings",f),$n("user",l),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then((function(n){l.update({latestVersion:f.asset_version}),n.update()})).catch((function(n){console.log("[Convos] ServiceWorker registration failed:",n)})),vn((function(){ue(Le.base+"/images/emojis.js"),f.load_user&&l.load(),l.showGrid&&document.querySelector("body").classList.add("with-grid");var n,e=[];return e.push((n=function(){return Le.set(He(location.href))},window.addEventListener("popstate",n),function(){return window.removeEventListener("popstate",n)})),e.push(l.on("channelListChange",g)),function(){return e.forEach((function(n){return n()}))}}));var v;return n.$$.update=function(){1&n.$$.dirty&&Te.set({wideScreen:h>800,width:h}),1536&n.$$.dirty&&function(n,e,t){var r=n.path,o=[e.status,r].join(":");if(o!=Ae){for(var i=0;i<t.length;i++){var a=m(t[i],3),c=a[0],u=a[1],s=a[2];if(c.test(r)&&(!s.user||e.is(s.user))){if(s.gotoLast)return Be(e.calculateLastUrl());u.routerOptions=s,qe(u),le("body",/(is-logged-)\S+/,e.is("loggedIn")?"in":"out"),le("body",/(page-)\S+/,s.name||n.pathParts[0]),"loggedIn"==s.user&&e.update({lastUrl:n.toString()});break}}Ae=o}}(r,o,s),3072&n.$$.dirty&&document&&(document.title=o.unread?"("+o.unread+") "+i:i),4&n.$$.dirty&&t(1,v="loggedIn"==a.routerOptions.user)},[h,v,a,c,u,l,function(n){var e=te(n.target,"a"),t=e&&e.href.match(/#call:(\w+):(\w+)/)||["","",""];if(t[2])switch(n.preventDefault(),t[1]){case"events":return l.events[t[2]]();case"user":return l[t[2]]()}if(e&&"_self"==e.target)return n.preventDefault(),void Be(e.href);var o=e&&e.href.match(/(.*)#(activeMenu):(\w*)/)||["","","",""];0==o[1].indexOf("http")&&r.toString()!=o[1]&&Be(o[1]),te(n.target,".sidebar-left")&&!e||te(n.target,".main")&&!o[3]||((o[2]||c)&&n.preventDefault(),U(je,c=o[3]==c?"":o[3]))},function(){l.ensureConnected()},s,r,o,i,f,d,p,g,function(){t(0,h=Pu.innerWidth)},function(){return U(je,c="")}]}var zu=function(e){s(u,e);var o,i=(o=u,function(){var n,e=c(o);if(Mu()){var t=c(this).constructor;n=Reflect.construct(e,arguments,t)}else n=e.apply(this,arguments);return a(this,n)});function u(e){var t;return n(this,u),t=i.call(this),Jn(r(t),e,Uu,Lu,M,{routingRules:8}),t}return t(u,[{key:"routingRules",get:function(){return this.$$.ctx[8]}}]),u}(Qn),Bu=document.querySelector("body");new zu({target:document.body});Bu.classList=Bu.className.replace(/no-js/,"has-js")}();
//# sourceMappingURL=convos.5e79af72.js.map
