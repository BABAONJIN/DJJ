!function(){"use strict";var e={add:function(e){document.body.classList.remove("no-"+e),document.body.classList.add("has-"+e)},has:function(e){return document.body.classList.contains("has-"+e)},remove:function(e){document.body.classList.add("no-"+e),document.body.classList.remove("has-"+e)}};function t(t,n){document.addEventListener(t,(function u(r){"mousemove"!=t&&e.add(n),"mousemove"!=t||e.has("touch")||e.add(n),document.removeEventListener(t,u)}))}function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,n){return o=r()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&u(o,n.prototype),o},o.apply(null,arguments)}function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return o(e,arguments,n(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),u(i,e)},i(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function l(e){return function(e){if(Array.isArray(e))return a(e)}(e)||s(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var u=d(e,t);if(u){var r=Object.getOwnPropertyDescriptor(u,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},f.apply(this,arguments)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var u=t[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}function $(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(){}t("mousemove","mouse"),t("touchstart","touch"),e.add("js");var b=function(e){return e};function A(e){return e()}function E(){return Object.create(null)}function C(e){e.forEach(A)}function F(e){return"function"==typeof e}function w(e,t){return e!=e?t==t:e!==t||e&&"object"===D(e)||"function"==typeof e}function _(e){if(null==e)return y;for(var t=arguments.length,n=new Array(t>1?t-1:0),u=1;u<t;u++)n[u-1]=arguments[u];var r=e.subscribe.apply(e,n);return r.unsubscribe?function(){return r.unsubscribe()}:r}function B(e,t,n){e.$$.on_destroy.push(_(t,n))}function k(e,t,n,u){if(e){var r=x(e,t,n,u);return e[0](r)}}function x(e,t,n,u){return e[1]&&u?function(e,t){for(var n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](u(t))):n.ctx}function S(e,t,n,u){if(e[2]&&u){var r=e[2](u(n));if(void 0===t.dirty)return r;if("object"===D(r)){for(var o=[],i=Math.max(t.dirty.length,r.length),a=0;a<i;a+=1)o[a]=t.dirty[a]|r[a];return o}return t.dirty|r}return t.dirty}function O(e,t,n,u,r,o){if(r){var i=x(t,n,u,o);e.p(i,r)}}function N(e){if(e.ctx.length>32){for(var t=[],n=e.ctx.length/32,u=0;u<n;u++)t[u]=-1;return t}return-1}function j(e,t,n){return e.set(n),t}function R(e){return e&&F(e.destroy)?e.destroy:y}var T,P="undefined"!=typeof window,L=P?function(){return window.performance.now()}:function(){return Date.now()},M=P?function(e){return requestAnimationFrame(e)}:y,I=new Set;function U(e){I.forEach((function(t){t.c(e)||(I.delete(t),t.f())})),0!==I.size&&M(U)}function z(e,t){e.appendChild(t)}function q(e){if(!e)return document;var t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function H(e){var t=K("style");return function(e,t){z(e.head||e,t),t.sheet}(q(e),t),t.sheet}function W(e,t,n){e.insertBefore(t,n||null)}function Y(e){e.parentNode.removeChild(e)}function G(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function K(e){return document.createElement(e)}function Z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function J(e){return document.createTextNode(e)}function V(){return J(" ")}function Q(){return J("")}function X(e,t,n,u){return e.addEventListener(t,n,u),function(){return e.removeEventListener(t,n,u)}}function ee(e){return function(t){return t.preventDefault(),e.call(this,t)}}function te(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ne(e){return Array.from(e.childNodes)}function ue(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function re(e,t){e.value=null==t?"":t}function oe(e,t,n,u){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,u?"important":"")}function ie(){if(void 0===T){T=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){T=!0}}return T}function ae(e,t,n){e.classList[n?"add":"remove"](t)}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=n.bubbles,r=void 0!==u&&u,o=n.cancelable,i=void 0!==o&&o,a=document.createEvent("CustomEvent");return a.initCustomEvent(e,r,i,t),a}var ce,le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g(this,e),this.is_svg=!1,this.is_svg=t,this.e=this.n=null}return $(e,[{key:"c",value:function(e){this.h(e)}},{key:"m",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.e||(this.is_svg?this.e=Z(t.nodeName):this.e=K(t.nodeName),this.t=t,this.c(e)),this.i(n)}},{key:"h",value:function(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}},{key:"i",value:function(e){for(var t=0;t<this.n.length;t+=1)W(this.t,this.n[t],e)}},{key:"p",value:function(e){this.d(),this.h(e),this.i(this.a)}},{key:"d",value:function(){this.n.forEach(Y)}}]),e}(),de=new Map,fe=0;function pe(e){for(var t=5381,n=e.length;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function De(e,t){var n={stylesheet:H(t),rules:{}};return de.set(e,n),n}function he(e,t,n,u,r,o,i){for(var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=16.666/u,c="{\n",l=0;l<=1;l+=s){var d=t+(n-t)*o(l);c+=100*l+"%{".concat(i(d,1-d),"}\n")}var f=c+"100% {".concat(i(n,1-n),"}\n}"),p="__svelte_".concat(pe(f),"_").concat(a),D=q(e),h=de.get(D)||De(D,e),m=h.stylesheet,g=h.rules;g[p]||(g[p]=!0,m.insertRule("@keyframes ".concat(p," ").concat(f),m.cssRules.length));var v=e.style.animation||"";return e.style.animation="".concat(v?"".concat(v,", "):"").concat(p," ").concat(u,"ms linear ").concat(r,"ms 1 both"),fe+=1,p}function me(e,t){var n=(e.style.animation||"").split(", "),u=n.filter(t?function(e){return e.indexOf(t)<0}:function(e){return-1===e.indexOf("__svelte")}),r=n.length-u.length;r&&(e.style.animation=u.join(", "),(fe-=r)||M((function(){fe||(de.forEach((function(e){var t=e.stylesheet.ownerNode;t&&Y(t)})),de.clear())})))}function ge(e){ce=e}function ve(){if(!ce)throw new Error("Function called outside component initialization");return ce}function $e(e){ve().$$.on_mount.push(e)}function ye(e){ve().$$.on_destroy.push(e)}function be(){var e=ve();return function(t,n){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u.cancelable,o=void 0!==r&&r,i=e.$$.callbacks[t];if(i){var a=se(t,n,{cancelable:o});return i.slice().forEach((function(t){t.call(e,a)})),!a.defaultPrevented}return!0}}function Ae(e,t){return ve().$$.context.set(e,t),t}function Ee(e){return ve().$$.context.get(e)}function Ce(e,t){var n=this,u=e.$$.callbacks[t.type];u&&u.slice().forEach((function(e){return e.call(n,t)}))}var Fe=[],we=[],_e=[],Be=[],ke=Promise.resolve(),xe=!1;function Se(){xe||(xe=!0,ke.then(Le))}function Oe(){return Se(),ke}function Ne(e){_e.push(e)}function je(e){Be.push(e)}var Re,Te=new Set,Pe=0;function Le(){var e=ce;do{for(;Pe<Fe.length;){var t=Fe[Pe];Pe++,ge(t),Me(t.$$)}for(ge(null),Fe.length=0,Pe=0;we.length;)we.pop()();for(var n=0;n<_e.length;n+=1){var u=_e[n];Te.has(u)||(Te.add(u),u())}_e.length=0}while(Fe.length);for(;Be.length;)Be.pop()();xe=!1,Te.clear(),ge(e)}function Me(e){if(null!==e.fragment){e.update(),C(e.before_update);var t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ne)}}function Ie(e,t,n){e.dispatchEvent(se("".concat(t?"intro":"outro").concat(n)))}var Ue,ze=new Set;function qe(){Ue={r:0,c:[],p:Ue}}function He(){Ue.r||C(Ue.c),Ue=Ue.p}function We(e,t){e&&e.i&&(ze.delete(e),e.i(t))}function Ye(e,t,n,u){if(e&&e.o){if(ze.has(e))return;ze.add(e),Ue.c.push((function(){ze.delete(e),u&&(n&&e.d(1),u())})),e.o(t)}else u&&u()}var Ge={duration:0};function Ke(e,t,n,u){var r=t(e,n),o=u?0:1,i=null,a=null,s=null;function c(){s&&me(e,s)}function l(e,t){var n=e.b-o;return t*=Math.abs(n),{a:o,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function d(t){var n,u=r||Ge,d=u.delay,f=void 0===d?0:d,p=u.duration,D=void 0===p?300:p,h=u.easing,m=void 0===h?b:h,g=u.tick,v=void 0===g?y:g,$=u.css,A={start:L()+f,b:t};t||(A.group=Ue,Ue.r+=1),i||a?a=A:($&&(c(),s=he(e,o,t,D,f,m,$)),t&&v(0,1),i=l(A,D),Ne((function(){return Ie(e,t,"start")})),n=function(t){if(a&&t>a.start&&(i=l(a,D),a=null,Ie(e,i.b,"start"),$&&(c(),s=he(e,o,i.b,i.duration,0,m,r.css))),i)if(t>=i.end)v(o=i.b,1-o),Ie(e,i.b,"end"),a||(i.b?c():--i.group.r||C(i.group.c)),i=null;else if(t>=i.start){var n=t-i.start;o=i.a+i.d*m(n/i.duration),v(o,1-o)}return!(!i&&!a)},0===I.size&&M(U),new Promise((function(e){I.add({c:n,f:e})})))}return{run:function(e){F(r)?(Re||(Re=Promise.resolve()).then((function(){Re=null})),Re).then((function(){r=r(),d(e)})):d(e)},end:function(){c(),i=a=null}}}function Ze(e,t){var n,u=t.token={};function r(e,n,r,o){if(t.token===u){t.resolved=o;var i=t.ctx;void 0!==r&&((i=i.slice())[r]=o);var a=e&&(t.current=e)(i),s=!1;t.block&&(t.blocks?t.blocks.forEach((function(e,u){u!==n&&e&&(qe(),Ye(e,1,1,(function(){t.blocks[u]===e&&(t.blocks[u]=null)})),He())})):t.block.d(1),a.c(),We(a,1),a.m(t.mount(),t.anchor),s=!0),t.block=a,t.blocks&&(t.blocks[n]=a),s&&Le()}}if((n=e)&&"object"===D(n)&&"function"==typeof n.then){var o=ve();if(e.then((function(e){ge(o),r(t.then,1,t.value,e),ge(null)}),(function(e){if(ge(o),r(t.catch,2,t.error,e),ge(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function Je(e,t,n){var u=t.slice(),r=e.resolved;e.current===e.then&&(u[e.value]=r),e.current===e.catch&&(u[e.error]=r),e.block.p(u,n)}var Ve="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Qe(e,t,n){var u=e.$$.props[t];void 0!==u&&(e.$$.bound[u]=n,n(e.$$.ctx[u]))}function Xe(e){e&&e.c()}function et(e,t,n,u){var r=e.$$,o=r.fragment,i=r.on_mount,a=r.on_destroy,s=r.after_update;o&&o.m(t,n),u||Ne((function(){var t=i.map(A).filter(F);a?a.push.apply(a,l(t)):C(t),e.$$.on_mount=[]})),s.forEach(Ne)}function tt(e,t){var n=e.$$;null!==n.fragment&&(C(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(e,t){-1===e.$$.dirty[0]&&(Fe.push(e),Se(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ut(e,t,n,u,r,o,i){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],s=ce;ge(e);var c=e.$$={fragment:null,ctx:null,props:o,update:y,not_equal:r,bound:E(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:E(),dirty:a,skip_bound:!1,root:t.target||s.$$.root};i&&i(c.root);var l=!1;if(c.ctx=n?n(e,t.props||{},(function(t,n){var u=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return c.ctx&&r(c.ctx[t],c.ctx[t]=u)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](u),l&&nt(e,t)),n})):[],c.update(),l=!0,C(c.before_update),c.fragment=!!u&&u(c.ctx),t.target){if(t.hydrate){var d=ne(t.target);c.fragment&&c.fragment.l(d),d.forEach(Y)}else c.fragment&&c.fragment.c();t.intro&&We(e.$$.fragment),et(e,t.target,t.anchor,t.customElement),Le()}ge(s)}var rt=function(){function e(){g(this,e)}return $(e,[{key:"$destroy",value:function(){tt(this,1),this.$destroy=y}},{key:"$on",value:function(e,t){var n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},{key:"$set",value:function(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}]),e}();function ot(e){let t,n,u,r,o,i;return{c(){t=K("i"),te(t,"class",n=e[3](e[2],e[1])),te(t,"style",u=ct(e[2],e[0])),t.hidden=r=!e[2]},m(n,u){W(n,t,u),o||(i=X(t,"click",e[6]),o=!0)},p(e,[o]){6&o&&n!==(n=e[3](e[2],e[1]))&&te(t,"class",n),5&o&&u!==(u=ct(e[2],e[0]))&&te(t,"style",u),4&o&&r!==(r=!e[2])&&(t.hidden=r)},i:y,o:y,d(e){e&&Y(t),o=!1,i()}}}const it={brand:"fab",regular:"far",solid:"fas"},at={batman:"https://www.gravatar.com/avatar/ab1839667863f31e359d98364cfdef61",marcusr:"https://www.gravatar.com/avatar/6c056546d802b1a9ac186ab63f9fb632"},st=["fas fa-anchor","fas fa-atom","fas fa-award","fas fa-balance-scale","fas fa-baseball-ball","fas fa-basketball-ball","fas fa-bicycle","fas fa-bolt","fas fa-book-reader","fas fa-candy-cane","fas fa-carrot","fas fa-cat","fas fa-chess-knight","fas fa-child","fas fa-coffee","fas fa-cookie-bite","fas fa-crow","fas fa-dice","fas fa-dog","fas fa-dove","fas fa-feather","fas fa-fish","fas fa-gem","fas fa-ghost","fas fa-hard-hat","fas fa-hat-cowboy","fas fa-hat-wizard","fas fa-hiking","fas fa-horse-head","fas fa-horse","fas fa-id-badge","fas fa-igloo","fas fa-mask","fas fa-meteor","fas fa-paint-brush","fas fa-paw","fas fa-pepper-hot","fas fa-pizza-slice","fas fa-portrait","fas fa-puzzle-piece","fas fa-rainbow","fas fa-robot","fas fa-rocket","fas fa-running","fas fa-seedling","fas fa-skating","fas fa-skiing","fas fa-smile","fas fa-snowboarding","fas fa-snowflake","fas fa-snowman","fas fa-swimmer","fas fa-umbrella","fas fa-user-astronaut","fas fa-user-graduate","fas fa-user-ninja","fas fa-user-secret","fas fa-walking","fas fa-yin-yang"];function ct(e,t){const n=[];let u="color:";const r=e.match(/^pick:(.+)$/);return r&&at[r[1]]&&(u="background-color:",n.push('background-image:url("'+at[r[1]]+'")')),t&&n.push(u+t),n.join(";")}function lt(e,t,n){let{class:u=""}=t,{animation:r=""}=t,{color:o=""}=t,{family:i=""}=t,{name:a}=t;return e.$$set=e=>{"class"in e&&n(4,u=e.class),"animation"in e&&n(5,r=e.animation),"color"in e&&n(0,o=e.color),"family"in e&&n(1,i=e.family),"name"in e&&n(2,a=e.name)},[o,i,a,function(e,t){const n=[],o=e.match(/^pick:(.+)$/);if(o){if("Convos"==o[1])return"fas fa-info-circle";if(at[o[1]])return"fas fa-contributor for-"+o[1].toLowerCase();n.push(function(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t),t&=t;return t=Math.abs(t),st[t%st.length]}(o[1]))}else n.push(it[t]||"fas"),n.push("fa-"+e);return r&&n.push(r.split(" ").map((e=>"fa-"+e))),u&&n.push(u.split(" ")),n.join(" ")},u,r,function(t){Ce.call(this,e,t)}]}class dt extends rt{constructor(e){super(),ut(this,e,lt,ot,w,{class:4,animation:5,color:0,family:1,name:2})}}function ft(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,r=function(){};return{s:r,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}var Dt=[];function ht(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,u=new Set;function r(n){if(w(e,n)&&(e=n,t)){var r,o=!Dt.length,i=ft(u);try{for(i.s();!(r=i.n()).done;){var a=r.value;a[1](),Dt.push(a,e)}}catch(e){i.e(e)}finally{i.f()}if(o){for(var s=0;s<Dt.length;s+=2)Dt[s][0](Dt[s+1]);Dt.length=0}}}function o(t){r(t(e))}function i(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,a=[o,i];return u.add(a),1===u.size&&(t=n(r)||y),o(e),function(){u.delete(a),0===u.size&&(t(),t=null)}}return{set:r,update:o,subscribe:i}}function mt(e,t,n){var u,r=!Array.isArray(e),o=r?[e]:e,i=t.length<2;return u=function(e){var n=!1,u=[],a=0,s=y,c=function(){if(!a){s();var n=t(r?u[0]:u,e);i?e(n):s=F(n)?n:y}},l=o.map((function(e,t){return _(e,(function(e){u[t]=e,a&=~(1<<t),n&&c()}),(function(){a|=1<<t}))}));return n=!0,c(),function(){C(l),s()}},{subscribe:ht(n,u).subscribe}}function gt(e,t){var n=ht(e);for(var u in n.get=function(){return function(e){var t;return _(e,(function(e){return t=e}))(),t}(n)},t)t.hasOwnProperty(u)&&(n[u]=t[u].bind(n));return n}var vt=gt("",{toggle:function(e){e.preventDefault();var t=e.target.closest("a"),n=t&&t.href.replace(/.*#/,"");this.set(this.get()==n?"":n)}}),$t=gt({hasLeftColumn:!1,hasRightColumn:!1,isSingleColumn:!0,width:0},{setWidth:function(e){var t=e>=800,n=e>=1200,u=!t&&!n;this.set({hasLeftColumn:t,hasRightColumn:n,isSingleColumn:u,width:e})}});function yt(e){let t,n,u,r,o,i,a,s,c,l,d=e[2].notifications+"";return n=new dt({props:{name:"bars"}}),u=new dt({props:{name:"times"}}),{c(){t=K("a"),Xe(n.$$.fragment),Xe(u.$$.fragment),r=V(),o=K("small"),i=J(d),te(o,"class","badge is-important"),o.hidden=a=!e[2].notifications,te(t,"href","#nav"),te(t,"class","btn-hallow can-toggle"),ae(t,"is-active","nav"==e[1])},m(e,a){W(e,t,a),et(n,t,null),et(u,t,null),z(t,r),z(t,o),z(o,i),s=!0,c||(l=X(t,"click",vt.toggle),c=!0)},p(e,n){(!s||4&n)&&d!==(d=e[2].notifications+"")&&ue(i,d),(!s||4&n&&a!==(a=!e[2].notifications))&&(o.hidden=a),(!s||2&n)&&ae(t,"is-active","nav"==e[1])},i(e){s||(We(n.$$.fragment,e),We(u.$$.fragment,e),s=!0)},o(e){Ye(n.$$.fragment,e),Ye(u.$$.fragment,e),s=!1},d(e){e&&Y(t),tt(n),tt(u),c=!1,l()}}}function bt(e){let t,n,u;const r=e[5].default,o=k(r,e,e[4],null);let i=!e[0].hasLeftColumn&&yt(e);return{c(){t=K("header"),o&&o.c(),n=V(),i&&i.c(),te(t,"class","chat-header")},m(e,r){W(e,t,r),o&&o.m(t,null),z(t,n),i&&i.m(t,null),u=!0},p(e,[n]){o&&o.p&&(!u||16&n)&&O(o,r,e,e[4],u?S(r,e[4],n,null):N(e[4]),null),e[0].hasLeftColumn?i&&(qe(),Ye(i,1,1,(()=>{i=null})),He()):i?(i.p(e,n),1&n&&We(i,1)):(i=yt(e),i.c(),We(i,1),i.m(t,null))},i(e){u||(We(o,e),We(i),u=!0)},o(e){Ye(o,e),Ye(i),u=!1},d(e){e&&Y(t),o&&o.d(e),i&&i.d()}}}function At(e,t,n){let u,r,o;B(e,$t,(e=>n(0,u=e))),B(e,vt,(e=>n(1,r=e)));let{$$slots:i={},$$scope:a}=t;const s=Ee("user").notifications;return B(e,s,(e=>n(2,o=e))),e.$$set=e=>{"$$scope"in e&&n(4,a=e.$$scope)},[u,r,o,s,a,i]}class Et extends rt{constructor(e){super(),ut(this,e,At,bt,w,{})}}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*! js-cookie v3.0.1 | MIT */function Ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var u in n)e[u]=n[u]}return e}var wt=function e(t,n){function u(e,u,r){if("undefined"!=typeof document){"number"==typeof(r=Ft({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var i in r)r[i]&&(o+="; "+i,!0!==r[i]&&(o+="="+r[i].split(";")[0]));return document.cookie=e+"="+t.write(u,e)+o}}return Object.create({set:u,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],u={},r=0;r<n.length;r++){var o=n[r].split("="),i=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(u[a]=t.read(i,a),e===a)break}catch(e){}}return e?u[e]:u}},remove:function(e,t){u(e,"",Ft({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Ft({},this.attributes,t))},withConverter:function(t){return e(Ft({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function _t(e){if(Array.isArray(e))return e}function Bt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kt(e,t){return _t(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var u,r,o=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(u=n.next()).done)&&(o.push(u.value),!t||o.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||c(e,t)||Bt()}var xt="undefined"==typeof process||"object"!=D(process.env)?"info":process.env.LOG_LEVEL||"quiet",St=["trace","debug","info","warn","error","quiet"],Ot={},Nt={},jt=function(){};function Rt(e){var t=this,n=e.name;this.name=n,this.isLevel=function(e){var n=St.indexOf(e)||e||e.length;return t.numLevel>=n},this.setLevel=function(e){var n=St.indexOf(e);return-1==n&&(n=2),t.numLevel=n,St.forEach((function(e,u){var r=!console||u<n?jt:console["trace"==e||"debug"==e?"log":e]||console.log||jt;t[e]=r.bind(t,"["+t.name+"]")})),t},this.setLevel(function(e){return void 0===Nt.root&&(Object.entries(JSON.parse(localStorage.getItem("logger:nameToLevel")||"{}")).forEach((function(e){var t=kt(e,2),n=t[0],u=t[1];Nt[n]=u||"debug"})),((location.href.match(/_debug=([a-z,:]+)/)||[]).pop()||"").split(",").forEach((function(e){var t=kt(e.split(":"),2),n=t[0],u=t[1];Nt[n]=u||"debug"})),localStorage.setItem("logger:nameToLevel",JSON.stringify(Nt))),Nt[e]||Nt.root||xt}(n))}function Tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return Ot[e]||(Ot[e]=new Rt({name:e}))}function Pt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,r=function(){};return{s:r,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}Ot.root=new Rt({name:"root"});var Mt=Tt("util"),It=.618033988749,Ut=1e3,zt=1e3*Ut,qt=1e3*zt;function Ht(e,t){if(t&&!t.match(/^[+-]\w/)&&(t="+"+t),!t)return{};var n,u={},r=!0,o=Pt(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;"+"==i?r=!0:"-"==i?r=!1:u[e[i]||i]=r}}catch(e){o.e(e)}finally{o.f()}return u}function Wt(e,t){for(;e;){if(t.tagName?e==t:e.matches&&e.matches(t))return e;e=e.parentNode}return null}function Yt(e){var t=Gt("textarea",{style:{opacity:0,position:"absolute"},value:e.textContent||e.value});document.body.appendChild(t);try{t.focus(),t.select(),document.execCommand("copy")}catch(e){t.value="",Mt.error("copyToClipboard() failed:",e)}return document.body.removeChild(t),t.value}function Gt(e,t){var n=document.createElement(e);for(var u in t)t.hasOwnProperty(u)&&(n[u]=t[u]);return n}function Kt(e,t){var n=function n(){for(var u=arguments.length,r=new Array(u),o=0;o<u;o++)r[o]=arguments[o];var i=this;n.debounceTid&&clearTimeout(n.debounceTid),n.debounceTid=setTimeout((function(){e.apply(i,r),n.debounceTid=0}),t)};return n.debounceTid=0,n}function Zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"message",n=e.errors||e;return n&&n[0]?n[0][t]||"Unknown error.":""}function Jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.95,u=Math.floor(6*e),r=6*e-u,o=n*(1-t),i=n*(1-r*t),a=n*(1-(1-r)*t),s=255,c=255,l=255;switch(u){case 0:s=n,c=a,l=o;break;case 1:s=i,c=n,l=o;break;case 2:s=o,c=n,l=a;break;case 3:s=o,c=i,l=n;break;case 4:s=a,c=o,l=n;break;case 5:s=n,c=o,l=i}return[Math.floor(255*s),Math.floor(255*c),Math.floor(255*l)]}function Vt(e,t){var n=e<Ut?[e,""]:e<zt?[e/Ut,"k"]:e<qt?[e/zt,"M"]:[e/qt,"G"],u=String(Math.round(10*n[0])/10);return(u.match(/\./)?u:u+".0")+n[1]+(t||"")}var Qt={array:function(e){return Array.isArray(e)},defined:function(e){return!Qt.undefined(e)},false:function(e){return!Qt.true(e)},function:function(e){return"function"==typeof e},number:function(e){return"number"==typeof e},object:function(e){return"object"===D(e)&&null!==e},string:function(e){return"string"==typeof e},stringable:function(e){return"number"==typeof e||"string"==typeof e},true:function(e){return Qt.string(e)?!!e.length&&"0"!=e:!!e},undefined:function(e){return null==e}};function Xt(e){var t=document,n=e.replace(/\W/g,"_");if(!t.getElementById(n)){var u=t.createElement("script"),r=[n,e];return u.id=r[0],u.src=r[1],t.getElementsByTagName("head")[0].appendChild(u),new Promise((function(e,t){u.addEventListener("error",t),u.addEventListener("load",e)}))}}function en(e){return Object.keys(e).filter((function(t){return e[t]})).sort().map((function(e){return"has-mode-"+e})).join(" ")}function tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return e.replace(/\s/g,t)}function nn(e,t,n){var u=":children"==t?e.children:e.querySelectorAll(t);if(!n)return[].slice.call(u,0);if(Array.isArray(n))return[].forEach.call(u,(function(e){return e.addEventListener(n[0],n[1])}));for(var r=[],o=0;o<u.length;o++)r.push(n(u[o],o));return r}function un(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function rn(e,t){var n=function(e){return document.querySelector('meta[name="convos:'+e+'"]')||document.querySelector('meta[name="'+e+'"]')};if(1==arguments.length){"organization_name"==e&&(e="contactorganization"),"organization_url"==e&&(e="contactnetworkaddress");var u=n(e);if(!u)throw'Cannot get settings for "'+e+'".';var r={no:!1,yes:!0};return"contact"==e?atob(u.content||""):r.hasOwnProperty(u.content)?r[u.content]:u.content}"organization_name"==e&&(e="contactorganization"),"organization_url"==e&&(e="contactnetworkaddress"),"contact"==e&&(t=btoa(t)),"boolean"==typeof t&&(t=t?"yes":"no"),n(e).content=t}function on(e,t){e&&e.preventDefault&&e.preventDefault();var n,u,r,o,i=(n=document.body,u="fullscreen",r=function(e){e.addEventListener("click",(function(t){return t.target==e&&e.hide()})),e.hide=function(){return i.classList.add("hidden")}},(o=n&&n.querySelector("."+u.split(" ").join(".")))||((o=document.createElement("div")).className=u,n&&n.appendChild(o),r&&r(o),o));return function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(i),t?(i.classList.remove("hidden"),i.appendChild(t.cloneNode(!0)),i):i.hide()}function an(e){return(Qt.string(e)?e:"").split(/[.,\s]+/).map((function(e){return e.trim()})).filter((function(e){return e.length}))}function sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(0==e.length)return"#000";for(var n=0,u=0;u<e.length;u++)n=e.charCodeAt(u)+((n<<5)-n),n&=n;return"#"+Jt(((n=Math.abs(n%t/t))+It)%1,.4,.7).map((function(e){return e.toString(16)})).join("")}function cn(e,t){return Qt.array(t)?t.find((function(t){return cn(e,t)}))||!1:e&&e.tagName&&e.tagName.toLowerCase()===t||!1}function ln(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,u)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pn=Tt("reactive"),Dn=function(){function e(){g(this,e),this.cookieName="convos_js",this._on={},this._props={}}return $(e,[{key:"emit",value:function(e){for(var t=this._on[e],n=arguments.length,u=new Array(n>1?n-1:0),r=1;r<n;r++)u[r-1]=arguments[r];for(var o=0;o<(t||[]).length;o++){var i;(i=t[o])[0].apply(i,u)}return this}},{key:"on",value:function(e,t){var n=t?null:new Promise((function(e){t=e})),u=this._on[e]||(this._on[e]=[]),r=[t];u.push(r);var o=function(){var e=u.indexOf(r);-1!=e&&u.splice(e,1)};return n?n.finally(o):o}},{key:"prop",value:function(e,t,n){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=fn(fn({},u),{},{defaultValue:n,name:t,type:e,value:n});switch(this._props[t]=r,r.updateable=-1!=["cookie","persist","rw"].indexOf(e),e){case"cookie":return this._cookieProp(r);case"persist":return this._localStorageProp(r);case"ro":return this._readOnlyProp(r);case"rw":return this._updateableProp(r)}throw"["+this.constructor.name+'] Unknown prop type "'+e+'" for prop "'+t+'".'}},{key:"subscribe",value:function(e){return e(this),this.on("update",e)}},{key:"update",value:function(e){var t=this;return Object.keys(e).forEach((function(n){var u=t._props[n];if(!u)return pn.trace("["+t.constructor.name+'] Unknown prop "'+n+'".');u.hasOwnProperty("prev")||(u.prev="ro"==u.type?void 0:u.value),u.updateable&&(u.value=e[n])})),this._updatedTid||(this._updatedTid=setTimeout(this._delayedUpdate.bind(this),1)),this}},{key:"_cookie",value:function(e,t){var n=e.key||e.name,u=document.decodedB64JSONCookies||(document.decodedB64JSONCookies={});if(!u[this.cookieName])try{var r=wt.get(this.cookieName);u[this.cookieName]=JSON.parse(r?atob(r):"{}")}catch(e){pn.error(Ct({},n,e))}var o=u[this.cookieName]||{};if(1==arguments.length)return o[n];t===e.defaultValue?delete o[n]:o[n]=t;var i=0==location.href.indexOf("https:");wt.set(this.cookieName,btoa(JSON.stringify(o)),{expires:365,SameSite:"Lax",secure:i})}},{key:"_cookieProp",value:function(e){var t=this._cookie(e);Qt.defined(t)&&(e.value=t),Qt.undefined(t)&&this._cookie(e,e.value),this._updateableProp(e)}},{key:"_delayedUpdate",value:function(){var e=this,t={};return Object.keys(this._props).forEach((function(n){var u=e._props[n];if(u.hasOwnProperty("prev")){var r=u.prev;delete u.prev,u.value!==r&&("cookie"==u.type&&e._cookie(u,u.value),"persist"==u.type&&e._localStorage(u,u.value),t[n]="ro"!=u.type)}})),delete this._updatedTid,Object.keys(t).length&&this.emit("update",this,t),t}},{key:"_localStorage",value:function(e,t){var n="convos:"+(e.key||e.name);if(2==arguments.length)return t===e.defaultValue?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(t));try{return localStorage.hasOwnProperty(n)?JSON.parse(localStorage.getItem(n)):void 0}catch(e){return void pn.error(Ct({},n,localStorage.getItem(n)),e)}}},{key:"_localStorageProp",value:function(e){var t=this._localStorage(e);Qt.defined(t)&&(e.value=t),Qt.undefined(t)&&this._localStorage(e,e.value),this._updateableProp(e)}},{key:"_readOnlyProp",value:function(e){if(void 0===e.value)throw"["+this.constructor.name+'] Read-only attribute "'+e.name+'" cannot be undefined';var t=Qt.function(e.value)?e.value:function(){return e.value};Object.defineProperty(this,e.name,{get:t})}},{key:"_updateableProp",value:function(e){Object.defineProperty(this,e.name,{get:function(){return e.value}})}}]),e}();function hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var mn=function(e){p(u,e);var t=hn(u);function u(){var e;return g(this,u),(e=t.call(this)).prop("persist","history",[],{key:"command_history"}),e.prop("rw","conversation",null),e.prop("rw","index",-1),e}return $(u,[{key:"add",value:function(e){if(!e.length)return this;var t=this.history.slice(0,19);return t.unshift(e),this.update({history:t,index:-1})}},{key:"attach",value:function(e){this.inputEl=e}},{key:"render",value:function(e,t){(t=this.index+t)<-1&&(t=-1),t>=this.history.length&&(t=this.history.length-1);var n=this.inputEl.value;return this.inputEl.selectionStart==n.length&&((!n.length||n==this.history[this.index])&&(e.preventDefault(),this.update({index:t}),this.inputEl.value=-1==t?"":this.history[t],!0))}},{key:"update",value:function(e){return e.conversation&&e.conversation!=this.conversation&&this.update({index:-1}),f(n(u.prototype),"update",this).call(this,e)}}]),u}(Dn);function gn(e,t,n,u,r,o,i){try{var a=e[o](i),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(u,r)}function vn(e){return function(){var t=this,n=arguments;return new Promise((function(u,r){var o=e.apply(t,n);function i(e){gn(o,u,r,i,a,"next",e)}function a(e){gn(o,u,r,i,a,"throw",e)}i(void 0)}))}}function $n(e){var t=e.default;if("function"==typeof t){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var u=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,u.get?u:{enumerable:!0,get:function(){return e[t]}})})),n}var yn={exports:{}},bn={exports:{}};!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(bn),function(e){var t=bn.exports.default;function n(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e.exports=n=function(){return u},e.exports.__esModule=!0,e.exports.default=e.exports;var u={},r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,u){var r=t&&t.prototype instanceof D?t:D,o=Object.create(r.prototype),i=new w(u||[]);return o._invoke=function(e,t,n){var u="suspendedStart";return function(r,o){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===r)throw o;return B()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var a=E(i,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===u)throw u="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);u="executing";var s=f(e,t,n);if("normal"===s.type){if(u=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(u="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}u.wrap=d;var p={};function D(){}function h(){}function m(){}var g={};l(g,a,(function(){return this}));var v=Object.getPrototypeOf,$=v&&v(v(_([])));$&&$!==r&&o.call($,a)&&(g=$);var y=m.prototype=D.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,n){function u(r,i,a,s){var c=f(e[r],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==t(d)&&o.call(d,"__await")?n.resolve(d.__await).then((function(e){u("next",e,a,s)}),(function(e){u("throw",e,a,s)})):n.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return u("throw",e,a,s)}))}s(c.arg)}var r;this._invoke=function(e,t){function o(){return new n((function(n,r){u(e,t,n,r)}))}return r=r?r.then(o,o):o()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var u=f(n,e.iterator,t.arg);if("throw"===u.type)return t.method="throw",t.arg=u.arg,t.delegate=null,p;var r=u.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,u=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return u.next=u}}return{next:B}}function B(){return{value:void 0,done:!0}}return h.prototype=m,l(y,"constructor",m),l(m,"constructor",h),h.displayName=l(m,c,"GeneratorFunction"),u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},u.awrap=function(e){return{__await:e}},b(A.prototype),l(A.prototype,s,(function(){return this})),u.AsyncIterator=A,u.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var i=new A(d(e,t,n,r),o);return u.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,c,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var u=t.pop();if(u in e)return n.value=u,n.done=!1,n}return n.done=!0,n}},u.values=_,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(F),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,u){return i.type="throw",i.arg=e,t.next=n,u&&(t.method="next",t.arg=void 0),!!u}for(var u=this.tryEntries.length-1;u>=0;--u){var r=this.tryEntries[u],i=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var a=o.call(r,"catchLoc"),s=o.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var u=this.tryEntries[n];if(u.tryLoc<=this.prev&&o.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var r=u;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),F(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var u=n.completion;if("throw"===u.type){var r=u.arg;F(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},u}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(yn);var An=yn.exports(),En=An;try{regeneratorRuntime=An}catch(e){"object"===("undefined"==typeof globalThis?"undefined":D(globalThis))?globalThis.regeneratorRuntime=An:Function("r","regeneratorRuntime = r")(An)}
/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var Cn,Fn=function(){var e={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(e){var t="string"==typeof e?parseInt(e,16):e;if(t<65536)return a(t);return a(55296+((t-=65536)>>10),56320+(1023&t))},toCodePoint:g},onerror:function(){this.parentNode&&this.parentNode.replaceChild(s(this.alt,!1),this)},parse:function(t,n){n&&"function"!=typeof n||(n={callback:n});return("string"==typeof t?p:f)(t,{callback:n.callback||c,attributes:"function"==typeof n.attributes?n.attributes:h,base:"string"==typeof n.base?n.base:e.base,ext:n.ext||e.ext,size:n.folder||(u=n.size||e.size,"number"==typeof u?u+"x"+u:u),className:n.className||e.className,onerror:n.onerror||e.onerror});var u},replace:m,test:function(e){n.lastIndex=0;var t=n.test(e);return n.lastIndex=0,t}},t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,u=/\uFE0F/g,r=String.fromCharCode(8205),o=/[&<>'"]/g,i=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,a=String.fromCharCode;return e;function s(e,t){return document.createTextNode(t?e.replace(u,""):e)}function c(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function l(e,t){for(var n,u,r=e.childNodes,o=r.length;o--;)3===(u=(n=r[o]).nodeType)?t.push(n):1!==u||"ownerSVGElement"in n||i.test(n.nodeName.toLowerCase())||l(n,t);return t}function d(e){return g(e.indexOf(r)<0?e.replace(u,""):e)}function f(e,t){for(var u,r,o,i,a,c,f,p,D,h,m,g,v,$=l(e,[]),y=$.length;y--;){for(o=!1,i=document.createDocumentFragment(),c=(a=$[y]).nodeValue,p=0;f=n.exec(c);){if((D=f.index)!==p&&i.appendChild(s(c.slice(p,D),!0)),g=d(m=f[0]),p=D+m.length,v=t.callback(g,t),g&&v){for(r in(h=new Image).onerror=t.onerror,h.setAttribute("draggable","false"),u=t.attributes(m,g))u.hasOwnProperty(r)&&0!==r.indexOf("on")&&!h.hasAttribute(r)&&h.setAttribute(r,u[r]);h.className=t.className,h.alt=m,h.src=v,o=!0,i.appendChild(h)}h||i.appendChild(s(m,!1)),h=null}o&&(p<c.length&&i.appendChild(s(c.slice(p),!0)),a.parentNode.replaceChild(i,a))}return e}function p(e,t){return m(e,(function(e){var n,u,r=e,i=d(e),a=t.callback(i,t);if(i&&a){for(u in r="<img ".concat('class="',t.className,'" ','draggable="false" ','alt="',e,'"',' src="',a,'"'),n=t.attributes(e,i))n.hasOwnProperty(u)&&0!==u.indexOf("on")&&-1===r.indexOf(" "+u+"=")&&(r=r.concat(" ",u,'="',n[u].replace(o,D),'"'));r=r.concat("/>")}return r}))}function D(e){return t[e]}function h(){return null}function m(e,t){return String(e).replace(n,t)}function g(e,t){for(var n=[],u=0,r=0,o=0;o<e.length;)u=e.charCodeAt(o++),r?(n.push((65536+(r-55296<<10)+(u-56320)).toString(16)),r=0):55296<=u&&u<=56319?r=u:n.push(u.toString(16));return n.join(t||"-")}}(),wn="undefined"!=typeof Symbol&&Symbol,_n=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===D(Symbol.iterator))return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var u=Object.getOwnPropertySymbols(e);if(1!==u.length||u[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0},Bn="Function.prototype.bind called on incompatible ",kn=Array.prototype.slice,xn=Object.prototype.toString,Sn="[object Function]",On=function(e){var t=this;if("function"!=typeof t||xn.call(t)!==Sn)throw new TypeError(Bn+t);for(var n,u=kn.call(arguments,1),r=function(){if(this instanceof n){var r=t.apply(this,u.concat(kn.call(arguments)));return Object(r)===r?r:this}return t.apply(e,u.concat(kn.call(arguments)))},o=Math.max(0,t.length-u.length),i=[],a=0;a<o;a++)i.push("$"+a);if(n=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(r),t.prototype){var s=function(){};s.prototype=t.prototype,n.prototype=new s,s.prototype=null}return n},Nn=Function.prototype.bind||On,jn=Nn.call(Function.call,Object.prototype.hasOwnProperty),Rn=SyntaxError,Tn=Function,Pn=TypeError,Ln=function(e){try{return Tn('"use strict"; return ('+e+").constructor;")()}catch(e){}},Mn=Object.getOwnPropertyDescriptor;if(Mn)try{Mn({},"")}catch(e){Mn=null}var In=function(){throw new Pn},Un=Mn?function(){try{return In}catch(e){try{return Mn(arguments,"callee").get}catch(e){return In}}}():In,zn="function"==typeof wn&&"function"==typeof Symbol&&"symbol"===D(wn("foo"))&&"symbol"===D(Symbol("bar"))&&_n(),qn=Object.getPrototypeOf||function(e){return e.__proto__},Hn={},Wn="undefined"==typeof Uint8Array?Cn:qn(Uint8Array),Yn={"%AggregateError%":"undefined"==typeof AggregateError?Cn:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?Cn:ArrayBuffer,"%ArrayIteratorPrototype%":zn?qn([][Symbol.iterator]()):Cn,"%AsyncFromSyncIteratorPrototype%":Cn,"%AsyncFunction%":Hn,"%AsyncGenerator%":Hn,"%AsyncGeneratorFunction%":Hn,"%AsyncIteratorPrototype%":Hn,"%Atomics%":"undefined"==typeof Atomics?Cn:Atomics,"%BigInt%":"undefined"==typeof BigInt?Cn:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?Cn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?Cn:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?Cn:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?Cn:FinalizationRegistry,"%Function%":Tn,"%GeneratorFunction%":Hn,"%Int8Array%":"undefined"==typeof Int8Array?Cn:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?Cn:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?Cn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":zn?qn(qn([][Symbol.iterator]())):Cn,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":D(JSON))?JSON:Cn,"%Map%":"undefined"==typeof Map?Cn:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&zn?qn((new Map)[Symbol.iterator]()):Cn,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?Cn:Promise,"%Proxy%":"undefined"==typeof Proxy?Cn:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?Cn:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?Cn:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&zn?qn((new Set)[Symbol.iterator]()):Cn,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?Cn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":zn?qn(""[Symbol.iterator]()):Cn,"%Symbol%":zn?Symbol:Cn,"%SyntaxError%":Rn,"%ThrowTypeError%":Un,"%TypedArray%":Wn,"%TypeError%":Pn,"%Uint8Array%":"undefined"==typeof Uint8Array?Cn:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?Cn:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?Cn:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?Cn:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?Cn:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?Cn:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?Cn:WeakSet},Gn=function e(t){var n;if("%AsyncFunction%"===t)n=Ln("async function () {}");else if("%GeneratorFunction%"===t)n=Ln("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=Ln("async function* () {}");else if("%AsyncGenerator%"===t){var u=e("%AsyncGeneratorFunction%");u&&(n=u.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=qn(r.prototype))}return Yn[t]=n,n},Kn={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Zn=Nn,Jn=jn,Vn=Zn.call(Function.call,Array.prototype.concat),Qn=Zn.call(Function.apply,Array.prototype.splice),Xn=Zn.call(Function.call,String.prototype.replace),eu=Zn.call(Function.call,String.prototype.slice),tu=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,nu=/\\(\\)?/g,uu=function(e){var t=eu(e,0,1),n=eu(e,-1);if("%"===t&&"%"!==n)throw new Rn("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new Rn("invalid intrinsic syntax, expected opening `%`");var u=[];return Xn(e,tu,(function(e,t,n,r){u[u.length]=n?Xn(r,nu,"$1"):t||e})),u},ru=function(e,t){var n,u=e;if(Jn(Kn,u)&&(u="%"+(n=Kn[u])[0]+"%"),Jn(Yn,u)){var r=Yn[u];if(r===Hn&&(r=Gn(u)),void 0===r&&!t)throw new Pn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:u,value:r}}throw new Rn("intrinsic "+e+" does not exist!")},ou=function(e,t){if("string"!=typeof e||0===e.length)throw new Pn("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new Pn('"allowMissing" argument must be a boolean');var n=uu(e),u=n.length>0?n[0]:"",r=ru("%"+u+"%",t),o=r.name,i=r.value,a=!1,s=r.alias;s&&(u=s[0],Qn(n,Vn([0,1],s)));for(var c=1,l=!0;c<n.length;c+=1){var d=n[c],f=eu(d,0,1),p=eu(d,-1);if(('"'===f||"'"===f||"`"===f||'"'===p||"'"===p||"`"===p)&&f!==p)throw new Rn("property names with quotes must have matching quotes");if("constructor"!==d&&l||(a=!0),Jn(Yn,o="%"+(u+="."+d)+"%"))i=Yn[o];else if(null!=i){if(!(d in i)){if(!t)throw new Pn("base intrinsic for "+e+" exists, but the property is not available.");return}if(Mn&&c+1>=n.length){var D=Mn(i,d);i=(l=!!D)&&"get"in D&&!("originalValue"in D.get)?D.get:i[d]}else l=Jn(i,d),i=i[d];l&&!a&&(Yn[o]=i)}}return i},iu={exports:{}};!function(e){var t=Nn,n=ou,u=n("%Function.prototype.apply%"),r=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(r,u),i=n("%Object.getOwnPropertyDescriptor%",!0),a=n("%Object.defineProperty%",!0),s=n("%Math.max%");if(a)try{a({},"a",{value:1})}catch(e){a=null}e.exports=function(e){var n=o(t,r,arguments);if(i&&a){var u=i(n,"length");u.configurable&&a(n,"length",{value:1+s(0,e.length-(arguments.length-1))})}return n};var c=function(){return o(t,u,arguments)};a?a(e.exports,"apply",{value:c}):e.exports.apply=c}(iu);var au=ou,su=iu.exports,cu=su(au("String.prototype.indexOf")),lu="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},du=[],fu=[],pu="undefined"!=typeof Uint8Array?Uint8Array:Array,Du=!1;function hu(){Du=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)du[t]=e[t],fu[e.charCodeAt(t)]=t;fu["-".charCodeAt(0)]=62,fu["_".charCodeAt(0)]=63}function mu(e,t,n){for(var u,r,o=[],i=t;i<n;i+=3)u=(e[i]<<16)+(e[i+1]<<8)+e[i+2],o.push(du[(r=u)>>18&63]+du[r>>12&63]+du[r>>6&63]+du[63&r]);return o.join("")}function gu(e){var t;Du||hu();for(var n=e.length,u=n%3,r="",o=[],i=16383,a=0,s=n-u;a<s;a+=i)o.push(mu(e,a,a+i>s?s:a+i));return 1===u?(t=e[n-1],r+=du[t>>2],r+=du[t<<4&63],r+="=="):2===u&&(t=(e[n-2]<<8)+e[n-1],r+=du[t>>10],r+=du[t>>4&63],r+=du[t<<2&63],r+="="),o.push(r),o.join("")}function vu(e,t,n,u,r){var o,i,a=8*r-u-1,s=(1<<a)-1,c=s>>1,l=-7,d=n?r-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=f,l-=8);for(i=o&(1<<-l)-1,o>>=-l,l+=u;l>0;i=256*i+e[t+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===s)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,u),o-=c}return(p?-1:1)*i*Math.pow(2,o-u)}function $u(e,t,n,u,r,o){var i,a,s,c=8*o-r-1,l=(1<<c)-1,d=l>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=u?0:o-1,D=u?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,i=l):(i=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-i))<1&&(i--,s*=2),(t+=i+d>=1?f/s:f*Math.pow(2,1-d))*s>=2&&(i++,s/=2),i+d>=l?(a=0,i=l):i+d>=1?(a=(t*s-1)*Math.pow(2,r),i+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,r),i=0));r>=8;e[n+p]=255&a,p+=D,a/=256,r-=8);for(i=i<<r|a,c+=r;c>0;e[n+p]=255&i,p+=D,i/=256,c-=8);e[n+p-D]|=128*h}var yu={}.toString,bu=Array.isArray||function(e){return"[object Array]"==yu.call(e)};function Au(){return Cu.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Eu(e,t){if(Au()<t)throw new RangeError("Invalid typed array length");return Cu.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Cu.prototype:(null===e&&(e=new Cu(t)),e.length=t),e}function Cu(e,t,n){if(!(Cu.TYPED_ARRAY_SUPPORT||this instanceof Cu))return new Cu(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return _u(this,e)}return Fu(this,e,t,n)}function Fu(e,t,n,u){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,u){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(u||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===u?new Uint8Array(t):void 0===u?new Uint8Array(t,n):new Uint8Array(t,n,u);Cu.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Cu.prototype:e=Bu(e,t);return e}(e,t,n,u):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!Cu.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var u=0|Su(t,n),r=(e=Eu(e,u)).write(t,n);r!==u&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(xu(t)){var n=0|ku(t.length);return 0===(e=Eu(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(u=t.length)!=u?Eu(e,0):Bu(e,t);if("Buffer"===t.type&&bu(t.data))return Bu(e,t.data)}var u;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function wu(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function _u(e,t){if(wu(t),e=Eu(e,t<0?0:0|ku(t)),!Cu.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function Bu(e,t){var n=t.length<0?0:0|ku(t.length);e=Eu(e,n);for(var u=0;u<n;u+=1)e[u]=255&t[u];return e}function ku(e){if(e>=Au())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Au().toString(16)+" bytes");return 0|e}function xu(e){return!(null==e||!e._isBuffer)}function Su(e,t){if(xu(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var u=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return rr(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return or(e).length;default:if(u)return rr(e).length;t=(""+t).toLowerCase(),u=!0}}function Ou(e,t,n){var u=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Gu(this,t,n);case"utf8":case"utf-8":return qu(this,t,n);case"ascii":return Wu(this,t,n);case"latin1":case"binary":return Yu(this,t,n);case"base64":return zu(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ku(this,t,n);default:if(u)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),u=!0}}function Nu(e,t,n){var u=e[t];e[t]=e[n],e[n]=u}function ju(e,t,n,u,r){if(0===e.length)return-1;if("string"==typeof n?(u=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=Cu.from(t,u)),xu(t))return 0===t.length?-1:Ru(e,t,n,u,r);if("number"==typeof t)return t&=255,Cu.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Ru(e,[t],n,u,r);throw new TypeError("val must be string, number or Buffer")}function Ru(e,t,n,u,r){var o,i=1,a=e.length,s=t.length;if(void 0!==u&&("ucs2"===(u=String(u).toLowerCase())||"ucs-2"===u||"utf16le"===u||"utf-16le"===u)){if(e.length<2||t.length<2)return-1;i=2,a/=2,s/=2,n/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(r){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===s)return l*i}else-1!==l&&(o-=o-l),l=-1}else for(n+s>a&&(n=a-s),o=n;o>=0;o--){for(var d=!0,f=0;f<s;f++)if(c(e,o+f)!==c(t,f)){d=!1;break}if(d)return o}return-1}function Tu(e,t,n,u){n=Number(n)||0;var r=e.length-n;u?(u=Number(u))>r&&(u=r):u=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");u>o/2&&(u=o/2);for(var i=0;i<u;++i){var a=parseInt(t.substr(2*i,2),16);if(isNaN(a))return i;e[n+i]=a}return i}function Pu(e,t,n,u){return ir(rr(t,e.length-n),e,n,u)}function Lu(e,t,n,u){return ir(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,u)}function Mu(e,t,n,u){return Lu(e,t,n,u)}function Iu(e,t,n,u){return ir(or(t),e,n,u)}function Uu(e,t,n,u){return ir(function(e,t){for(var n,u,r,o=[],i=0;i<e.length&&!((t-=2)<0);++i)u=(n=e.charCodeAt(i))>>8,r=n%256,o.push(r),o.push(u);return o}(t,e.length-n),e,n,u)}function zu(e,t,n){return 0===t&&n===e.length?gu(e):gu(e.slice(t,n))}function qu(e,t,n){n=Math.min(e.length,n);for(var u=[],r=t;r<n;){var o,i,a,s,c=e[r],l=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[r+1]))&&(s=(31&c)<<6|63&o)>127&&(l=s);break;case 3:o=e[r+1],i=e[r+2],128==(192&o)&&128==(192&i)&&(s=(15&c)<<12|(63&o)<<6|63&i)>2047&&(s<55296||s>57343)&&(l=s);break;case 4:o=e[r+1],i=e[r+2],a=e[r+3],128==(192&o)&&128==(192&i)&&128==(192&a)&&(s=(15&c)<<18|(63&o)<<12|(63&i)<<6|63&a)>65535&&s<1114112&&(l=s)}null===l?(l=65533,d=1):l>65535&&(l-=65536,u.push(l>>>10&1023|55296),l=56320|1023&l),u.push(l),r+=d}return function(e){var t=e.length;if(t<=Hu)return String.fromCharCode.apply(String,e);var n="",u=0;for(;u<t;)n+=String.fromCharCode.apply(String,e.slice(u,u+=Hu));return n}(u)}Cu.TYPED_ARRAY_SUPPORT=void 0===lu.TYPED_ARRAY_SUPPORT||lu.TYPED_ARRAY_SUPPORT,Au(),Cu.poolSize=8192,Cu._augment=function(e){return e.__proto__=Cu.prototype,e},Cu.from=function(e,t,n){return Fu(null,e,t,n)},Cu.TYPED_ARRAY_SUPPORT&&(Cu.prototype.__proto__=Uint8Array.prototype,Cu.__proto__=Uint8Array),Cu.alloc=function(e,t,n){return function(e,t,n,u){return wu(t),t<=0?Eu(e,t):void 0!==n?"string"==typeof u?Eu(e,t).fill(n,u):Eu(e,t).fill(n):Eu(e,t)}(null,e,t,n)},Cu.allocUnsafe=function(e){return _u(null,e)},Cu.allocUnsafeSlow=function(e){return _u(null,e)},Cu.isBuffer=function(e){return null!=e&&(!!e._isBuffer||ar(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&ar(e.slice(0,0))}(e))},Cu.compare=function(e,t){if(!xu(e)||!xu(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,u=t.length,r=0,o=Math.min(n,u);r<o;++r)if(e[r]!==t[r]){n=e[r],u=t[r];break}return n<u?-1:u<n?1:0},Cu.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Cu.concat=function(e,t){if(!bu(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Cu.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var u=Cu.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!xu(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(u,r),r+=o.length}return u},Cu.byteLength=Su,Cu.prototype._isBuffer=!0,Cu.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Nu(this,t,t+1);return this},Cu.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Nu(this,t,t+3),Nu(this,t+1,t+2);return this},Cu.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Nu(this,t,t+7),Nu(this,t+1,t+6),Nu(this,t+2,t+5),Nu(this,t+3,t+4);return this},Cu.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?qu(this,0,e):Ou.apply(this,arguments)},Cu.prototype.equals=function(e){if(!xu(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Cu.compare(this,e)},Cu.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},Cu.prototype.compare=function(e,t,n,u,r){if(!xu(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===u&&(u=0),void 0===r&&(r=this.length),t<0||n>e.length||u<0||r>this.length)throw new RangeError("out of range index");if(u>=r&&t>=n)return 0;if(u>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(u>>>=0),i=(n>>>=0)-(t>>>=0),a=Math.min(o,i),s=this.slice(u,r),c=e.slice(t,n),l=0;l<a;++l)if(s[l]!==c[l]){o=s[l],i=c[l];break}return o<i?-1:i<o?1:0},Cu.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Cu.prototype.indexOf=function(e,t,n){return ju(this,e,t,n,!0)},Cu.prototype.lastIndexOf=function(e,t,n){return ju(this,e,t,n,!1)},Cu.prototype.write=function(e,t,n,u){if(void 0===t)u="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)u=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===u&&(u="utf8")):(u=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");for(var o=!1;;)switch(u){case"hex":return Tu(this,e,t,n);case"utf8":case"utf-8":return Pu(this,e,t,n);case"ascii":return Lu(this,e,t,n);case"latin1":case"binary":return Mu(this,e,t,n);case"base64":return Iu(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Uu(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),o=!0}},Cu.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Hu=4096;function Wu(e,t,n){var u="";n=Math.min(e.length,n);for(var r=t;r<n;++r)u+=String.fromCharCode(127&e[r]);return u}function Yu(e,t,n){var u="";n=Math.min(e.length,n);for(var r=t;r<n;++r)u+=String.fromCharCode(e[r]);return u}function Gu(e,t,n){var u=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>u)&&(n=u);for(var r="",o=t;o<n;++o)r+=ur(e[o]);return r}function Ku(e,t,n){for(var u=e.slice(t,n),r="",o=0;o<u.length;o+=2)r+=String.fromCharCode(u[o]+256*u[o+1]);return r}function Zu(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Ju(e,t,n,u,r,o){if(!xu(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+u>e.length)throw new RangeError("Index out of range")}function Vu(e,t,n,u){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(u?r:1-r))>>>8*(u?r:1-r)}function Qu(e,t,n,u){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(u?r:3-r)&255}function Xu(e,t,n,u,r,o){if(n+u>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function er(e,t,n,u,r){return r||Xu(e,0,n,4),$u(e,t,n,u,23,4),n+4}function tr(e,t,n,u,r){return r||Xu(e,0,n,8),$u(e,t,n,u,52,8),n+8}Cu.prototype.slice=function(e,t){var n,u=this.length;if((e=~~e)<0?(e+=u)<0&&(e=0):e>u&&(e=u),(t=void 0===t?u:~~t)<0?(t+=u)<0&&(t=0):t>u&&(t=u),t<e&&(t=e),Cu.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=Cu.prototype;else{var r=t-e;n=new Cu(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},Cu.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||Zu(e,t,this.length);for(var u=this[e],r=1,o=0;++o<t&&(r*=256);)u+=this[e+o]*r;return u},Cu.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||Zu(e,t,this.length);for(var u=this[e+--t],r=1;t>0&&(r*=256);)u+=this[e+--t]*r;return u},Cu.prototype.readUInt8=function(e,t){return t||Zu(e,1,this.length),this[e]},Cu.prototype.readUInt16LE=function(e,t){return t||Zu(e,2,this.length),this[e]|this[e+1]<<8},Cu.prototype.readUInt16BE=function(e,t){return t||Zu(e,2,this.length),this[e]<<8|this[e+1]},Cu.prototype.readUInt32LE=function(e,t){return t||Zu(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Cu.prototype.readUInt32BE=function(e,t){return t||Zu(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Cu.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||Zu(e,t,this.length);for(var u=this[e],r=1,o=0;++o<t&&(r*=256);)u+=this[e+o]*r;return u>=(r*=128)&&(u-=Math.pow(2,8*t)),u},Cu.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||Zu(e,t,this.length);for(var u=t,r=1,o=this[e+--u];u>0&&(r*=256);)o+=this[e+--u]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},Cu.prototype.readInt8=function(e,t){return t||Zu(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Cu.prototype.readInt16LE=function(e,t){t||Zu(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Cu.prototype.readInt16BE=function(e,t){t||Zu(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Cu.prototype.readInt32LE=function(e,t){return t||Zu(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Cu.prototype.readInt32BE=function(e,t){return t||Zu(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Cu.prototype.readFloatLE=function(e,t){return t||Zu(e,4,this.length),vu(this,e,!0,23,4)},Cu.prototype.readFloatBE=function(e,t){return t||Zu(e,4,this.length),vu(this,e,!1,23,4)},Cu.prototype.readDoubleLE=function(e,t){return t||Zu(e,8,this.length),vu(this,e,!0,52,8)},Cu.prototype.readDoubleBE=function(e,t){return t||Zu(e,8,this.length),vu(this,e,!1,52,8)},Cu.prototype.writeUIntLE=function(e,t,n,u){(e=+e,t|=0,n|=0,u)||Ju(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},Cu.prototype.writeUIntBE=function(e,t,n,u){(e=+e,t|=0,n|=0,u)||Ju(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},Cu.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||Ju(this,e,t,1,255,0),Cu.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Cu.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||Ju(this,e,t,2,65535,0),Cu.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Vu(this,e,t,!0),t+2},Cu.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||Ju(this,e,t,2,65535,0),Cu.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Vu(this,e,t,!1),t+2},Cu.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||Ju(this,e,t,4,4294967295,0),Cu.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Qu(this,e,t,!0),t+4},Cu.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||Ju(this,e,t,4,4294967295,0),Cu.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Qu(this,e,t,!1),t+4},Cu.prototype.writeIntLE=function(e,t,n,u){if(e=+e,t|=0,!u){var r=Math.pow(2,8*n-1);Ju(this,e,t,n,r-1,-r)}var o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},Cu.prototype.writeIntBE=function(e,t,n,u){if(e=+e,t|=0,!u){var r=Math.pow(2,8*n-1);Ju(this,e,t,n,r-1,-r)}var o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},Cu.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||Ju(this,e,t,1,127,-128),Cu.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Cu.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||Ju(this,e,t,2,32767,-32768),Cu.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Vu(this,e,t,!0),t+2},Cu.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||Ju(this,e,t,2,32767,-32768),Cu.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Vu(this,e,t,!1),t+2},Cu.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||Ju(this,e,t,4,2147483647,-2147483648),Cu.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Qu(this,e,t,!0),t+4},Cu.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||Ju(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Cu.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Qu(this,e,t,!1),t+4},Cu.prototype.writeFloatLE=function(e,t,n){return er(this,e,t,!0,n)},Cu.prototype.writeFloatBE=function(e,t,n){return er(this,e,t,!1,n)},Cu.prototype.writeDoubleLE=function(e,t,n){return tr(this,e,t,!0,n)},Cu.prototype.writeDoubleBE=function(e,t,n){return tr(this,e,t,!1,n)},Cu.prototype.copy=function(e,t,n,u){if(n||(n=0),u||0===u||(u=this.length),t>=e.length&&(t=e.length),t||(t=0),u>0&&u<n&&(u=n),u===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),e.length-t<u-n&&(u=e.length-t+n);var r,o=u-n;if(this===e&&n<t&&t<u)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!Cu.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},Cu.prototype.fill=function(e,t,n,u){if("string"==typeof e){if("string"==typeof t?(u=t,t=0,n=this.length):"string"==typeof n&&(u=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==u&&"string"!=typeof u)throw new TypeError("encoding must be a string");if("string"==typeof u&&!Cu.isEncoding(u))throw new TypeError("Unknown encoding: "+u)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var i=xu(e)?e:rr(new Cu(e,u).toString()),a=i.length;for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};var nr=/[^+\/0-9A-Za-z-_]/g;function ur(e){return e<16?"0"+e.toString(16):e.toString(16)}function rr(e,t){var n;t=t||1/0;for(var u=e.length,r=null,o=[],i=0;i<u;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(i+1===u){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function or(e){return function(e){var t,n,u,r,o,i;Du||hu();var a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[a-2]?2:"="===e[a-1]?1:0,i=new pu(3*a/4-o),u=o>0?a-4:a;var s=0;for(t=0,n=0;t<u;t+=4,n+=3)r=fu[e.charCodeAt(t)]<<18|fu[e.charCodeAt(t+1)]<<12|fu[e.charCodeAt(t+2)]<<6|fu[e.charCodeAt(t+3)],i[s++]=r>>16&255,i[s++]=r>>8&255,i[s++]=255&r;return 2===o?(r=fu[e.charCodeAt(t)]<<2|fu[e.charCodeAt(t+1)]>>4,i[s++]=255&r):1===o&&(r=fu[e.charCodeAt(t)]<<10|fu[e.charCodeAt(t+1)]<<4|fu[e.charCodeAt(t+2)]>>2,i[s++]=r>>8&255,i[s++]=255&r),i}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(nr,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ir(e,t,n,u){for(var r=0;r<u&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function ar(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function sr(){throw new Error("setTimeout has not been defined")}function cr(){throw new Error("clearTimeout has not been defined")}var lr=sr,dr=cr;function fr(e){if(lr===setTimeout)return setTimeout(e,0);if((lr===sr||!lr)&&setTimeout)return lr=setTimeout,setTimeout(e,0);try{return lr(e,0)}catch(t){try{return lr.call(null,e,0)}catch(t){return lr.call(this,e,0)}}}"function"==typeof lu.setTimeout&&(lr=setTimeout),"function"==typeof lu.clearTimeout&&(dr=clearTimeout);var pr,Dr=[],hr=!1,mr=-1;function gr(){hr&&pr&&(hr=!1,pr.length?Dr=pr.concat(Dr):mr=-1,Dr.length&&vr())}function vr(){if(!hr){var e=fr(gr);hr=!0;for(var t=Dr.length;t;){for(pr=Dr,Dr=[];++mr<t;)pr&&pr[mr].run();mr=-1,t=Dr.length}pr=null,hr=!1,function(e){if(dr===clearTimeout)return clearTimeout(e);if((dr===cr||!dr)&&clearTimeout)return dr=clearTimeout,clearTimeout(e);try{dr(e)}catch(t){try{return dr.call(null,e)}catch(t){return dr.call(this,e)}}}(e)}}function $r(e,t){this.fun=e,this.array=t}$r.prototype.run=function(){this.fun.apply(null,this.array)};function yr(){}var br=yr,Ar=yr,Er=yr,Cr=yr,Fr=yr,wr=yr,_r=yr;var Br=lu.performance||{},kr=Br.now||Br.mozNow||Br.msNow||Br.oNow||Br.webkitNow||function(){return(new Date).getTime()};var xr=new Date;var Sr={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Dr.push(new $r(e,t)),1!==Dr.length||hr||fr(vr)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:br,addListener:Ar,once:Er,off:Cr,removeListener:Fr,removeAllListeners:wr,emit:_r,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*kr.call(Br),n=Math.floor(t),u=Math.floor(t%1*1e9);return e&&(n-=e[0],(u-=e[1])<0&&(n--,u+=1e9)),[n,u]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-xr)/1e3}},Or="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},Nr=/%[sdj%]/g;function jr(e){if(!Jr(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(Mr(arguments[n]));return t.join(" ")}n=1;for(var u=arguments,r=u.length,o=String(e).replace(Nr,(function(e){if("%%"===e)return"%";if(n>=r)return e;switch(e){case"%s":return String(u[n++]);case"%d":return Number(u[n++]);case"%j":try{return JSON.stringify(u[n++])}catch(e){return"[Circular]"}default:return e}})),i=u[n];n<r;i=u[++n])Gr(i)||!eo(i)?o+=" "+i:o+=" "+Mr(i);return o}function Rr(e,t){if(Qr(lu.process))return function(){return Rr(e,t).apply(this,arguments)};if(!0===Sr.noDeprecation)return e;var n=!1;return function(){if(!n){if(Sr.throwDeprecation)throw new Error(t);Sr.traceDeprecation?console.trace(t):console.error(t),n=!0}return e.apply(this,arguments)}}var Tr,Pr={};function Lr(e){if(Qr(Tr)&&(Tr=Sr.env.NODE_DEBUG||""),e=e.toUpperCase(),!Pr[e])if(new RegExp("\\b"+e+"\\b","i").test(Tr)){Pr[e]=function(){var t=jr.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else Pr[e]=function(){};return Pr[e]}function Mr(e,t){var n={seen:[],stylize:Ur};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),Yr(t)?n.showHidden=t:t&&fo(n,t),Qr(n.showHidden)&&(n.showHidden=!1),Qr(n.depth)&&(n.depth=2),Qr(n.colors)&&(n.colors=!1),Qr(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=Ir),zr(n,e,n.depth)}function Ir(e,t){var n=Mr.styles[t];return n?"["+Mr.colors[n][0]+"m"+e+"["+Mr.colors[n][1]+"m":e}function Ur(e,t){return e}function zr(e,t,n){if(e.customInspect&&t&&uo(t.inspect)&&t.inspect!==Mr&&(!t.constructor||t.constructor.prototype!==t)){var u=t.inspect(n,e);return Jr(u)||(u=zr(e,u,n)),u}var r=function(e,t){if(Qr(t))return e.stylize("undefined","undefined");if(Jr(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(Zr(t))return e.stylize(""+t,"number");if(Yr(t))return e.stylize(""+t,"boolean");if(Gr(t))return e.stylize("null","null")}(e,t);if(r)return r;var o=Object.keys(t),i=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),no(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return qr(t);if(0===o.length){if(uo(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(Xr(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(to(t))return e.stylize(Date.prototype.toString.call(t),"date");if(no(t))return qr(t)}var s,c="",l=!1,d=["{","}"];(Wr(t)&&(l=!0,d=["[","]"]),uo(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return Xr(t)&&(c=" "+RegExp.prototype.toString.call(t)),to(t)&&(c=" "+Date.prototype.toUTCString.call(t)),no(t)&&(c=" "+qr(t)),0!==o.length||l&&0!=t.length?n<0?Xr(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),s=l?function(e,t,n,u,r){for(var o=[],i=0,a=t.length;i<a;++i)po(t,String(i))?o.push(Hr(e,t,n,u,String(i),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(Hr(e,t,n,u,r,!0))})),o}(e,t,n,i,o):o.map((function(u){return Hr(e,t,n,i,u,l)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(s,c,d)):d[0]+c+d[1]}function qr(e){return"["+Error.prototype.toString.call(e)+"]"}function Hr(e,t,n,u,r,o){var i,a,s;if((s=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?a=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(a=e.stylize("[Setter]","special")),po(u,r)||(i="["+r+"]"),a||(e.seen.indexOf(s.value)<0?(a=Gr(n)?zr(e,s.value,null):zr(e,s.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),Qr(i)){if(o&&r.match(/^\d+$/))return a;(i=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+a}function Wr(e){return Array.isArray(e)}function Yr(e){return"boolean"==typeof e}function Gr(e){return null===e}function Kr(e){return null==e}function Zr(e){return"number"==typeof e}function Jr(e){return"string"==typeof e}function Vr(e){return"symbol"==typeof e}function Qr(e){return void 0===e}function Xr(e){return eo(e)&&"[object RegExp]"===io(e)}function eo(e){return"object"==typeof e&&null!==e}function to(e){return eo(e)&&"[object Date]"===io(e)}function no(e){return eo(e)&&("[object Error]"===io(e)||e instanceof Error)}function uo(e){return"function"==typeof e}function ro(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function oo(e){return Cu.isBuffer(e)}function io(e){return Object.prototype.toString.call(e)}function ao(e){return e<10?"0"+e.toString(10):e.toString(10)}Mr.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Mr.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var so=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function co(){var e=new Date,t=[ao(e.getHours()),ao(e.getMinutes()),ao(e.getSeconds())].join(":");return[e.getDate(),so[e.getMonth()],t].join(" ")}function lo(){console.log("%s - %s",co(),jr.apply(null,arguments))}function fo(e,t){if(!t||!eo(t))return e;for(var n=Object.keys(t),u=n.length;u--;)e[n[u]]=t[n[u]];return e}function po(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Do={inherits:Or,_extend:fo,log:lo,isBuffer:oo,isPrimitive:ro,isFunction:uo,isError:no,isDate:to,isObject:eo,isRegExp:Xr,isUndefined:Qr,isSymbol:Vr,isString:Jr,isNumber:Zr,isNullOrUndefined:Kr,isNull:Gr,isBoolean:Yr,isArray:Wr,inspect:Mr,deprecate:Rr,format:jr,debuglog:Lr},ho=$n(Object.freeze({__proto__:null,format:jr,deprecate:Rr,debuglog:Lr,inspect:Mr,isArray:Wr,isBoolean:Yr,isNull:Gr,isNullOrUndefined:Kr,isNumber:Zr,isString:Jr,isSymbol:Vr,isUndefined:Qr,isRegExp:Xr,isObject:eo,isDate:to,isError:no,isFunction:uo,isPrimitive:ro,isBuffer:oo,log:lo,inherits:Or,_extend:fo,default:Do})).inspect,mo="function"==typeof Map&&Map.prototype,go=Object.getOwnPropertyDescriptor&&mo?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,vo=mo&&go&&"function"==typeof go.get?go.get:null,$o=mo&&Map.prototype.forEach,yo="function"==typeof Set&&Set.prototype,bo=Object.getOwnPropertyDescriptor&&yo?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ao=yo&&bo&&"function"==typeof bo.get?bo.get:null,Eo=yo&&Set.prototype.forEach,Co="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,Fo="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,wo="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,_o=Boolean.prototype.valueOf,Bo=Object.prototype.toString,ko=Function.prototype.toString,xo=String.prototype.match,So=String.prototype.slice,Oo=String.prototype.replace,No=String.prototype.toUpperCase,jo=String.prototype.toLowerCase,Ro=RegExp.prototype.test,To=Array.prototype.concat,Po=Array.prototype.join,Lo=Array.prototype.slice,Mo=Math.floor,Io="function"==typeof BigInt?BigInt.prototype.valueOf:null,Uo=Object.getOwnPropertySymbols,zo="function"==typeof Symbol&&"symbol"===D(Symbol.iterator)?Symbol.prototype.toString:null,qo="function"==typeof Symbol&&"object"===D(Symbol.iterator),Ho="function"==typeof Symbol&&Symbol.toStringTag&&(D(Symbol.toStringTag)===qo||"symbol")?Symbol.toStringTag:null,Wo=Object.prototype.propertyIsEnumerable,Yo=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Go(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||Ro.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var u=e<0?-Mo(-e):Mo(e);if(u!==e){var r=String(u),o=So.call(t,r.length+1);return Oo.call(r,n,"$&_")+"."+Oo.call(Oo.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Oo.call(t,n,"$&_")}var Ko=ho,Zo=Ko.custom,Jo=ti(Zo)?Zo:null;function Vo(e,t,n){var u="double"===(n.quoteStyle||t)?'"':"'";return u+e+u}function Qo(e){return Oo.call(String(e),/"/g,"&quot;")}function Xo(e){return!("[object Array]"!==ri(e)||Ho&&"object"===D(e)&&Ho in e)}function ei(e){return!("[object RegExp]"!==ri(e)||Ho&&"object"===D(e)&&Ho in e)}function ti(e){if(qo)return e&&"object"===D(e)&&e instanceof Symbol;if("symbol"===D(e))return!0;if(!e||"object"!==D(e)||!zo)return!1;try{return zo.call(e),!0}catch(e){}return!1}var ni=Object.prototype.hasOwnProperty||function(e){return e in this};function ui(e,t){return ni.call(e,t)}function ri(e){return Bo.call(e)}function oi(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,u=e.length;n<u;n++)if(e[n]===t)return n;return-1}function ii(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,u="... "+n+" more character"+(n>1?"s":"");return ii(So.call(e,0,t.maxStringLength),t)+u}return Vo(Oo.call(Oo.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ai),"single",t)}function ai(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+No.call(t.toString(16))}function si(e){return"Object("+e+")"}function ci(e){return e+" { ? }"}function li(e,t,n,u){return e+" ("+t+") {"+(u?di(n,u):Po.call(n,", "))+"}"}function di(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+Po.call(e,","+n)+"\n"+t.prev}function fi(e,t){var n=Xo(e),u=[];if(n){u.length=e.length;for(var r=0;r<e.length;r++)u[r]=ui(e,r)?t(e[r],e):""}var o,i="function"==typeof Uo?Uo(e):[];if(qo){o={};for(var a=0;a<i.length;a++)o["$"+i[a]]=i[a]}for(var s in e)ui(e,s)&&(n&&String(Number(s))===s&&s<e.length||qo&&o["$"+s]instanceof Symbol||(Ro.call(/[^\w$]/,s)?u.push(t(s,e)+": "+t(e[s],e)):u.push(s+": "+t(e[s],e))));if("function"==typeof Uo)for(var c=0;c<i.length;c++)Wo.call(e,i[c])&&u.push("["+t(i[c])+"]: "+t(e[i[c]],e));return u}var pi=ou,Di=function(e,t){var n=au(e,!!t);return"function"==typeof n&&cu(e,".prototype.")>-1?su(n):n},hi=function e(t,n,u,r){var o=n||{};if(ui(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ui(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var i=!ui(o,"customInspect")||o.customInspect;if("boolean"!=typeof i&&"symbol"!==i)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ui(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ui(o,"numericSeparator")&&"boolean"!=typeof o.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return ii(t,o);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var s=String(t);return a?Go(t,s):s}if("bigint"==typeof t){var c=String(t)+"n";return a?Go(t,c):c}var l=void 0===o.depth?5:o.depth;if(void 0===u&&(u=0),u>=l&&l>0&&"object"===D(t))return Xo(t)?"[Array]":"[Object]";var d=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=Po.call(Array(e.indent+1)," ")}return{base:n,prev:Po.call(Array(t+1),n)}}(o,u);if(void 0===r)r=[];else if(oi(r,t)>=0)return"[Circular]";function f(t,n,i){if(n&&(r=Lo.call(r)).push(n),i){var a={depth:o.depth};return ui(o,"quoteStyle")&&(a.quoteStyle=o.quoteStyle),e(t,a,u+1,r)}return e(t,o,u+1,r)}if("function"==typeof t&&!ei(t)){var p=function(e){if(e.name)return e.name;var t=xo.call(ko.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),h=fi(t,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(h.length>0?" { "+Po.call(h,", ")+" }":"")}if(ti(t)){var m=qo?Oo.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):zo.call(t);return"object"!==D(t)||qo?m:si(m)}if(function(e){if(!e||"object"!==D(e))return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var g="<"+jo.call(String(t.nodeName)),v=t.attributes||[],$=0;$<v.length;$++)g+=" "+v[$].name+"="+Vo(Qo(v[$].value),"double",o);return g+=">",t.childNodes&&t.childNodes.length&&(g+="..."),g+="</"+jo.call(String(t.nodeName))+">"}if(Xo(t)){if(0===t.length)return"[]";var y=fi(t,f);return d&&!function(e){for(var t=0;t<e.length;t++)if(oi(e[t],"\n")>=0)return!1;return!0}(y)?"["+di(y,d)+"]":"[ "+Po.call(y,", ")+" ]"}if(function(e){return!("[object Error]"!==ri(e)||Ho&&"object"===D(e)&&Ho in e)}(t)){var b=fi(t,f);return"cause"in Error.prototype||!("cause"in t)||Wo.call(t,"cause")?0===b.length?"["+String(t)+"]":"{ ["+String(t)+"] "+Po.call(b,", ")+" }":"{ ["+String(t)+"] "+Po.call(To.call("[cause]: "+f(t.cause),b),", ")+" }"}if("object"===D(t)&&i){if(Jo&&"function"==typeof t[Jo]&&Ko)return Ko(t,{depth:l-u});if("symbol"!==i&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!vo||!e||"object"!==D(e))return!1;try{vo.call(e);try{Ao.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var A=[];return $o.call(t,(function(e,n){A.push(f(n,t,!0)+" => "+f(e,t))})),li("Map",vo.call(t),A,d)}if(function(e){if(!Ao||!e||"object"!==D(e))return!1;try{Ao.call(e);try{vo.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var E=[];return Eo.call(t,(function(e){E.push(f(e,t))})),li("Set",Ao.call(t),E,d)}if(function(e){if(!Co||!e||"object"!==D(e))return!1;try{Co.call(e,Co);try{Fo.call(e,Fo)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return ci("WeakMap");if(function(e){if(!Fo||!e||"object"!==D(e))return!1;try{Fo.call(e,Fo);try{Co.call(e,Co)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return ci("WeakSet");if(function(e){if(!wo||!e||"object"!==D(e))return!1;try{return wo.call(e),!0}catch(e){}return!1}(t))return ci("WeakRef");if(function(e){return!("[object Number]"!==ri(e)||Ho&&"object"===D(e)&&Ho in e)}(t))return si(f(Number(t)));if(function(e){if(!e||"object"!==D(e)||!Io)return!1;try{return Io.call(e),!0}catch(e){}return!1}(t))return si(f(Io.call(t)));if(function(e){return!("[object Boolean]"!==ri(e)||Ho&&"object"===D(e)&&Ho in e)}(t))return si(_o.call(t));if(function(e){return!("[object String]"!==ri(e)||Ho&&"object"===D(e)&&Ho in e)}(t))return si(f(String(t)));if(!function(e){return!("[object Date]"!==ri(e)||Ho&&"object"===D(e)&&Ho in e)}(t)&&!ei(t)){var C=fi(t,f),F=Yo?Yo(t)===Object.prototype:t instanceof Object||t.constructor===Object,w=t instanceof Object?"":"null prototype",_=!F&&Ho&&Object(t)===t&&Ho in t?So.call(ri(t),8,-1):w?"Object":"",B=(F||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(_||w?"["+Po.call(To.call([],_||[],w||[]),": ")+"] ":"");return 0===C.length?B+"{}":d?B+"{"+di(C,d)+"}":B+"{ "+Po.call(C,", ")+" }"}return String(t)},mi=pi("%TypeError%"),gi=pi("%WeakMap%",!0),vi=pi("%Map%",!0),$i=Di("WeakMap.prototype.get",!0),yi=Di("WeakMap.prototype.set",!0),bi=Di("WeakMap.prototype.has",!0),Ai=Di("Map.prototype.get",!0),Ei=Di("Map.prototype.set",!0),Ci=Di("Map.prototype.has",!0),Fi=function(e,t){for(var n,u=e;null!==(n=u.next);u=n)if(n.key===t)return u.next=n.next,n.next=e.next,e.next=n,n},wi=String.prototype.replace,_i=/%20/g,Bi="RFC3986",ki={default:Bi,formatters:{RFC1738:function(e){return wi.call(e,_i,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:Bi},xi=ki,Si=Object.prototype.hasOwnProperty,Oi=Array.isArray,Ni=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),ji=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},u=0;u<e.length;++u)void 0!==e[u]&&(n[u]=e[u]);return n},Ri={arrayToObject:ji,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],u=0;u<t.length;++u)for(var r=t[u],o=r.obj[r.prop],i=Object.keys(o),a=0;a<i.length;++a){var s=i[a],c=o[s];"object"===D(c)&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:o,prop:s}),n.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Oi(n)){for(var u=[],r=0;r<n.length;++r)void 0!==n[r]&&u.push(n[r]);t.obj[t.prop]=u}}}(t),e},decode:function(e,t,n){var u=e.replace(/\+/g," ");if("iso-8859-1"===n)return u.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(u)}catch(e){return u}},encode:function(e,t,n,u,r){if(0===e.length)return e;var o=e;if("symbol"===D(e)?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",a=0;a<o.length;++a){var s=o.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||r===xi.RFC1738&&(40===s||41===s)?i+=o.charAt(a):s<128?i+=Ni[s]:s<2048?i+=Ni[192|s>>6]+Ni[128|63&s]:s<55296||s>=57344?i+=Ni[224|s>>12]+Ni[128|s>>6&63]+Ni[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&o.charCodeAt(a)),i+=Ni[240|s>>18]+Ni[128|s>>12&63]+Ni[128|s>>6&63]+Ni[128|63&s])}return i},isBuffer:function(e){return!(!e||"object"!==D(e))&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(Oi(e)){for(var n=[],u=0;u<e.length;u+=1)n.push(t(e[u]));return n}return t(e)},merge:function e(t,n,u){if(!n)return t;if("object"!==D(n)){if(Oi(t))t.push(n);else{if(!t||"object"!==D(t))return[t,n];(u&&(u.plainObjects||u.allowPrototypes)||!Si.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==D(t))return[t].concat(n);var r=t;return Oi(t)&&!Oi(n)&&(r=ji(t,u)),Oi(t)&&Oi(n)?(n.forEach((function(n,r){if(Si.call(t,r)){var o=t[r];o&&"object"===D(o)&&n&&"object"===D(n)?t[r]=e(o,n,u):t.push(n)}else t[r]=n})),t):Object.keys(n).reduce((function(t,r){var o=n[r];return Si.call(t,r)?t[r]=e(t[r],o,u):t[r]=o,t}),r)}},Ti=function(){var e,t,n,u={assert:function(e){if(!u.has(e))throw new mi("Side channel does not contain "+hi(e))},get:function(u){if(gi&&u&&("object"===D(u)||"function"==typeof u)){if(e)return $i(e,u)}else if(vi){if(t)return Ai(t,u)}else if(n)return function(e,t){var n=Fi(e,t);return n&&n.value}(n,u)},has:function(u){if(gi&&u&&("object"===D(u)||"function"==typeof u)){if(e)return bi(e,u)}else if(vi){if(t)return Ci(t,u)}else if(n)return function(e,t){return!!Fi(e,t)}(n,u);return!1},set:function(u,r){gi&&u&&("object"===D(u)||"function"==typeof u)?(e||(e=new gi),yi(e,u,r)):vi?(t||(t=new vi),Ei(t,u,r)):(n||(n={key:{},next:null}),function(e,t,n){var u=Fi(e,t);u?u.value=n:e.next={key:t,next:e.next,value:n}}(n,u,r))}};return u},Pi=Ri,Li=ki,Mi=Object.prototype.hasOwnProperty,Ii={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Ui=Array.isArray,zi=String.prototype.split,qi=Array.prototype.push,Hi=function(e,t){qi.apply(e,Ui(t)?t:[t])},Wi=Date.prototype.toISOString,Yi=Li.default,Gi={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Pi.encode,encodeValuesOnly:!1,format:Yi,formatter:Li.formatters[Yi],indices:!1,serializeDate:function(e){return Wi.call(e)},skipNulls:!1,strictNullHandling:!1},Ki={},Zi=function e(t,n,u,r,o,i,a,s,c,l,d,f,p,h,m,g){for(var v,$=t,y=g,b=0,A=!1;void 0!==(y=y.get(Ki))&&!A;){var E=y.get(t);if(b+=1,void 0!==E){if(E===b)throw new RangeError("Cyclic object value");A=!0}void 0===y.get(Ki)&&(b=0)}if("function"==typeof s?$=s(n,$):$ instanceof Date?$=d($):"comma"===u&&Ui($)&&($=Pi.maybeMap($,(function(e){return e instanceof Date?d(e):e}))),null===$){if(o)return a&&!h?a(n,Gi.encoder,m,"key",f):n;$=""}if("string"==typeof(v=$)||"number"==typeof v||"boolean"==typeof v||"symbol"===D(v)||"bigint"==typeof v||Pi.isBuffer($)){if(a){var C=h?n:a(n,Gi.encoder,m,"key",f);if("comma"===u&&h){for(var F=zi.call(String($),","),w="",_=0;_<F.length;++_)w+=(0===_?"":",")+p(a(F[_],Gi.encoder,m,"value",f));return[p(C)+(r&&Ui($)&&1===F.length?"[]":"")+"="+w]}return[p(C)+"="+p(a($,Gi.encoder,m,"value",f))]}return[p(n)+"="+p(String($))]}var B,k=[];if(void 0===$)return k;if("comma"===u&&Ui($))B=[{value:$.length>0?$.join(",")||null:void 0}];else if(Ui(s))B=s;else{var x=Object.keys($);B=c?x.sort(c):x}for(var S=r&&Ui($)&&1===$.length?n+"[]":n,O=0;O<B.length;++O){var N=B[O],j="object"===D(N)&&void 0!==N.value?N.value:$[N];if(!i||null!==j){var R=Ui($)?"function"==typeof u?u(S,N):S:S+(l?"."+N:"["+N+"]");g.set(t,b);var T=Ti();T.set(Ki,g),Hi(k,e(j,R,u,r,o,i,a,s,c,l,d,f,p,h,m,T))}}return k},Ji=Ri,Vi=Object.prototype.hasOwnProperty,Qi=Array.isArray,Xi={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ji.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ea=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},ta=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},na=function(e,t,n,u){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,i=n.depth>0&&/(\[[^[\]]*])/.exec(r),a=i?r.slice(0,i.index):r,s=[];if(a){if(!n.plainObjects&&Vi.call(Object.prototype,a)&&!n.allowPrototypes)return;s.push(a)}for(var c=0;n.depth>0&&null!==(i=o.exec(r))&&c<n.depth;){if(c+=1,!n.plainObjects&&Vi.call(Object.prototype,i[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(i[1])}return i&&s.push("["+r.slice(i.index)+"]"),function(e,t,n,u){for(var r=u?t:ta(t,n),o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a&&n.parseArrays)i=[].concat(r);else{i=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(s,10);n.parseArrays||""!==s?!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(i=[])[c]=r:"__proto__"!==s&&(i[s]=r):i={0:r}}r=i}return r}(s,t,n,u)}},ua=function(e,t){var n,u=e,r=function(e){if(!e)return Gi;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||Gi.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Li.default;if(void 0!==e.format){if(!Mi.call(Li.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var u=Li.formatters[n],r=Gi.filter;return("function"==typeof e.filter||Ui(e.filter))&&(r=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:Gi.addQueryPrefix,allowDots:void 0===e.allowDots?Gi.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Gi.charsetSentinel,delimiter:void 0===e.delimiter?Gi.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:Gi.encode,encoder:"function"==typeof e.encoder?e.encoder:Gi.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:Gi.encodeValuesOnly,filter:r,format:n,formatter:u,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:Gi.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:Gi.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Gi.strictNullHandling}}(t);"function"==typeof r.filter?u=(0,r.filter)("",u):Ui(r.filter)&&(n=r.filter);var o,i=[];if("object"!==D(u)||null===u)return"";o=t&&t.arrayFormat in Ii?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var a=Ii[o];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s="comma"===a&&t&&t.commaRoundTrip;n||(n=Object.keys(u)),r.sort&&n.sort(r.sort);for(var c=Ti(),l=0;l<n.length;++l){var d=n[l];r.skipNulls&&null===u[d]||Hi(i,Zi(u[d],d,a,s,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var f=i.join(r.delimiter),p=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""},ra={formats:ki,parse:function(e,t){var n=function(e){if(!e)return Xi;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?Xi.charset:e.charset;return{allowDots:void 0===e.allowDots?Xi.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Xi.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:Xi.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Xi.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Xi.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Xi.comma,decoder:"function"==typeof e.decoder?e.decoder:Xi.decoder,delimiter:"string"==typeof e.delimiter||Ji.isRegExp(e.delimiter)?e.delimiter:Xi.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Xi.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Xi.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Xi.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Xi.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Xi.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var n,u={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,i=r.split(t.delimiter,o),a=-1,s=t.charset;if(t.charsetSentinel)for(n=0;n<i.length;++n)0===i[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===i[n]?s="utf-8":"utf8=%26%2310003%3B"===i[n]&&(s="iso-8859-1"),a=n,n=i.length);for(n=0;n<i.length;++n)if(n!==a){var c,l,d=i[n],f=d.indexOf("]="),p=-1===f?d.indexOf("="):f+1;-1===p?(c=t.decoder(d,Xi.decoder,s,"key"),l=t.strictNullHandling?null:""):(c=t.decoder(d.slice(0,p),Xi.decoder,s,"key"),l=Ji.maybeMap(ta(d.slice(p+1),t),(function(e){return t.decoder(e,Xi.decoder,s,"value")}))),l&&t.interpretNumericEntities&&"iso-8859-1"===s&&(l=ea(l)),d.indexOf("[]=")>-1&&(l=Qi(l)?[l]:l),Vi.call(u,c)?u[c]=Ji.combine(u[c],l):u[c]=l}return u}(e,n):e,r=n.plainObjects?Object.create(null):{},o=Object.keys(u),i=0;i<o.length;++i){var a=o[i],s=na(a,u[a],n,"string"==typeof e);r=Ji.merge(r,s,n)}return!0===n.allowSparse?r:Ji.compact(r)},stringify:ua};function oa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var ia=Tt("route"),aa=function(e){p(u,e);var t=oa(u);function u(){var e;return g(this,u),(e=t.call(this)).prop("ro","basePath",(function(){return e._basePath})),e.prop("ro","hash",(function(){return(e._location.hash||"").replace(/^#/,"")})),e.prop("ro","path",(function(){return e._path})),e.prop("ro","pathParts",(function(){return e._pathParts})),e.prop("ro","query",(function(){return e._query})),e.prop("rw","baseUrl",""),e.prop("rw","enabled",!1),e._onClick=e._onClick.bind(h(e)),e._onLocationChange=e._onLocationChange.bind(h(e)),window.addEventListener("click",e._onClick),window.addEventListener("popstate",e._onLocationChange),e._history=window.history,e._location=window.location,e._basePath="",e._path="/",e._pathParts=[],e._query={},e}return $(u,[{key:"conversationPath",value:function(e){var t=["","chat"];return e.connection_id&&t.push(e.connection_id),e.conversation_id&&t.push(e.conversation_id),t.map((function(e){return encodeURIComponent(e)})).join("/")}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};0==e.indexOf(this.baseUrl)&&(e=e.substr(this.baseUrl.length));var n=this.baseUrl+e;if(n==this._location.href)return this;this._history[t.replace?"replaceState":"pushState"]({},document.title,n),this.update({path:!0})._onLocationChange({})}},{key:"param",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.query;return n.hasOwnProperty(e)?n[e]:t}},{key:"subscribe",value:function(e){return e(this),this.on("update",e)}},{key:"update",value:function(e){return e.baseUrl&&(e.baseUrl=e.baseUrl.replace(/\/+$/,""),this._basePath=new URL(e.baseUrl).pathname.replace(/\/+$/,"")),f(n(u.prototype),"update",this).call(this,e),e.baseUrl&&this._onLocationChange(),this}},{key:"urlFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(/^\w+:/)||e.match(/^#/)?e:this.basePath+e,u=Object.keys(t).sort().filter((function(e){return Qt.defined(t[e])})).map((function(e){return e+"="+encodeURIComponent(t[e])})).join("&");return n+(u?"?"+u:"")}},{key:"wsUrlFor",value:function(e){return(e.match(/^\w+:/)?e:this.baseUrl+e).replace(/^http/,"ws")}},{key:"_onClick",value:function(e){if(this.enabled&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){var t=e.target&&e.target.closest("a");if(t&&t.href){if("_self"==t.target)if((0==t.href.indexOf("/")?this.baseUrl+t.href:t.href)==location.href)return location.reload();if(!t.hasAttribute("download")&&!t.hasAttribute("target")){var n=t.getAttribute("href")||"";0==n.indexOf("#")&&(n=this.path+n),0==n.indexOf("./")&&(n="/"+this._pathParts.slice(0,-1).join("/")+n.replace(/^\./,"")),0==n.indexOf(this.baseUrl)&&(n=n.substr(this.baseUrl.length)),0==n.indexOf(this.basePath)&&(n=n.substr(this.basePath.length)),0==n.indexOf("/")&&(this.go(n,{},t.hasAttribute("replace")),e.preventDefault())}}}}},{key:"_onLocationChange",value:function(e){if(this.enabled){var t=this._location.href.substr(this.baseUrl.length).split("#")[0].split("?");this._query=2==t.length?ra.parse(t.pop()):{},this._path=t[0],this._pathParts=t[0].length<=1?[]:t[0].replace(/^\//,"").split("/").map(decodeURIComponent),ia.info('path="'+this._path+'" '+JSON.stringify(this._pathParts)+", query="+JSON.stringify(this._query)),this.update({path:!0})}}}]),u}(Dn),sa=new aa;function ca(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return la(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return la(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,r=function(){};return{s:r,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function la(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}var da=function(){function e(){g(this,e),this.aliases=this._buildAliases(),this.re=this._buildRe(),this.byShortName={},this.grouped={},this.status="pending"}var t;return $(e,[{key:"load",value:(t=vn(En.mark((function e(){var t;return En.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1==["loading","success"].indexOf(this.status)){e.next=2;break}return e.abrupt("return",this);case 2:return this.status="loading",e.next=5,fetch(sa.urlFor("/emojis/0bf11a9aff0d6da7b46f1490f86a71eb.json"));case 5:return t=e.sent,e.t0=this,e.next=9,t.json();case 9:return e.t1=e.sent.emojis,e.t0._load.call(e.t0,e.t1),this.status="success",e.abrupt("return",this);case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"markup",value:function(e){var t=this;return Fn.parse(e.replace(this.re,(function(e,n,u){var r=t.aliases[u]||u,o=t.byShortName[r];return n+(o&&o.emoji||u)})))}},{key:"search",value:function(e){var t=this;e=e.toLowerCase();var n=this.grouped[e]||this.grouped[e.substring(0,2)]||{};return Object.keys(n).sort((function(e,t){return n[e]-n[t]})).map((function(e){return t.byShortName[e]})).filter((function(t){return-1!=(t.shortname+t.name).toLowerCase().indexOf(e)}))}},{key:"_buildAliases",value:function(){return{"&lt;3":":heart:","(Y)":":thumbsup:",":(":":disappointed:",":)":":slight_smile:",":-*":":kissing:",":/":":confused:",":D":":smiley:",":O":":open_mouth:",":P":":stuck_out_tongue:",";)":":wink:",";D":":grin:"}}},{key:"_buildRe",value:function(){var e=Object.keys(this.aliases).sort().map(un).join("|");return new RegExp("(^|\\s)(:\\w+:|"+e+")(?=\\s|\\,|\\.|$)","gi")}},{key:"_load",value:function(e){this.grouped={};var t,n=ca(e);try{for(n.s();!(t=n.n()).done;){var u=t.value;u.emoji&&u.shortname&&(u.name||(u.name=u.shortname),delete u.category,delete u.html,delete u.order,delete u.unicode,this.byShortName[u.shortname]=u,this._toGrouped(u))}}catch(e){n.e(e)}finally{n.f()}}},{key:"_toGrouped",value:function(e){var t=this.grouped;([e.shortname,e.name].join("-").replace(/\W+/," ").match(/\W(\w{2})/g)||[]).forEach((function(n,u){n=n.substring(1).toLowerCase(),t[n]||(t[n]={}),t[n][e.shortname]=u,n=n[0],t[n]||(t[n]={}),t[n][e.shortname]=u}))}}]),e}();function fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var pa=Tt("api"),Da=function(e){p(n,e);var t=fa(n);function n(e){var u;return g(this,n),(u=t.call(this)).prop("ro","api",e.api),u.prop("ro","defaultParams",e.defaultParams||{}),u.prop("ro","id",e.id),u.prop("rw","err",null),u.prop("rw","req",{body:null,headers:{}}),u.prop("rw","res",{body:{},headers:[]}),u.prop("rw","status","pending"),u}return $(n,[{key:"error",value:function(e){if(e)return this.update({err:Array.isArray(e)?e:[{message:e}],status:"error"});if(!this.err||!this.err.length)return"";var t=this.err[0],n=t.path&&t.path.match(/\w$/)&&t.path.split("/").pop();return n?n+": "+t.message:t.message}},{key:"perform",value:function(e){var t,n=this;return this._promise||(this._promise=this.api.spec(this.id).then((function(u){if(!u)throw'Unknown operationId "'+n.id+'".';var r=n._paramsToRequest(u,e||n.defaultParams);return t=new XMLHttpRequest,n.update({req:r,status:"loading"}),n._send(t,r)})).then((function(){var e={};e.body=t.response?JSON.parse(t.response):{},e.headers=(t.getAllResponseHeaders()||"").trim().split(/[\r\n]+/).filter((function(e){return e.length})).map((function(e){return e.split(/:\s*/,2)})),e.status=String(t.status||"201");var u=null;return String(e.status).match(/^[23]/)||(u=e.body&&e.body.errors?e.body.errors:[{message:t.statusText||"Unknown error."}]),n.update({err:u,res:e,status:u?"error":"success"})})).catch((function(e){return e.type&&(e=e.type),pa.error(n.req.url+" FAILED "+e),n.update({res:{body:{errors:[{message:String(e)}]},headers:[],status:"599"},status:"error"}),n.error(Array.isArray(e)?e:'Failed fetching operationId "'+n.id+'": '+e)})).finally((function(){delete n._promise})))}},{key:"is",value:function(e){return this.status==e}},{key:"reset",value:function(){return this.res.body={},this.res.headers={},this.res.status=0,this.update({err:null,status:"pending"})}},{key:"_extractValue",value:function(e,t){return t.schema?Object.keys(t.schema.properties).reduce((function(t,n){return t[n]=e[n],t}),{}):e[t.name]}},{key:"_hasProperty",value:function(e,t){return"body"==t.in||("formData"==t.in?e.formData.has(t.name):e.hasOwnProperty(t.name))}},{key:"_paramsToRequest",value:function(e,t){var n=this,u=new URL(e.url),r={headers:this.req.headers,method:e.method.toLowerCase(),url:u},o=[];if((e.parameters||[]).forEach((function(e){if(!n._hasProperty(t,e)&&e.required)o.push({message:"Missing property.",path:"/"+e.name});else{if(!n._hasProperty(t,e)&&!e.required)return;if("path"==e.in){var i=new RegExp("(%7B|\\{)"+un(e.name)+"(%7D|\\})","i");u.pathname=u.pathname.replace(i,encodeURIComponent(n._extractValue(t,e)))}else if("query"==e.in)u.searchParams.set(e.name,n._extractValue(t,e));else if("formData"==e.in)delete r.headers["Content-Type"],r.body=t.formData;else if("body"==e.in)r.body=n._extractValue(t,e);else{if("header"!=e.in)throw"[Api] Parameter in:"+e.in+" is not supported.";r.header[e.name]=n._extractValue(t,e.name)}}})),o.length)throw o;return r}},{key:"_send",value:function(e,t){var n=this;return e.timeout=15e3,e.open(t.method.toUpperCase(),t.url),Object.keys(t.headers).forEach((function(n){return e.setRequestHeader(n,t.headers[n])})),"post"==t.method?(e.upload.addEventListener("progress",(function(e){return n.emit("progress",e)})),e.send(Qt.object(t.body)&&!Qt.function(t.body.has)?JSON.stringify(t.body):t.body)):e.send(),new Promise((function(t){e.addEventListener("abort",t),e.addEventListener("error",t),e.addEventListener("load",t)}))}}]),n}(Dn);function ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var ma=function e(t,n,u){var r=e.singletons[t]||(e.singletons[t]=new ga);return n?r.operation(n,u):r};ma.singletons={};var ga=function(e){p(u,e);var t,n=ha(u);function u(){var e;return g(this,u),(e=n.call(this)).prop("rw","protocol",location.protocol||"http"),e.prop("rw","url",""),e}return $(u,[{key:"operation",value:function(e,t){var n=new Da({api:this,id:e,defaultParams:t});return n.req.headers={"Content-Type":"application/json"},n}},{key:"spec",value:(t=vn(En.mark((function e(t){var n,u,r=this;return En.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ops||!t){e.next=2;break}return e.abrupt("return",this._ops[t]);case 2:if(!this._spec){e.next=4;break}return e.abrupt("return",this._spec);case 4:return e.next=6,fetch(this.url);case 6:return n=e.sent,e.next=9,n.json();case 9:if(u=e.sent,this._ops={},this._spec=u,Object.keys(u.paths).forEach((function(e){Object.keys(u.paths[e]).forEach((function(t){var n=u.paths[e][t],o=n.operationId;o&&(n.method=t.toUpperCase(),n.url=r.protocol+"//"+u.host+u.basePath+e+".json",n.parameters=(n.parameters||[]).map((function(e){return r._resolveRef(e)})),r._ops[o]=n)}))})),!this._ops||!t){e.next=15;break}return e.abrupt("return",this._ops[t]);case 15:if(!this._spec){e.next=17;break}return e.abrupt("return",this._spec);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"toFunction",value:function(){var e=this;return function(t,n){return t?e.operation(t,n):e}}},{key:"_resolveRef",value:function(e){var t=this,n=e;if(e.$ref){var u=e.$ref.replace(/^#\//,"").split("/");for(n=this._spec;u.length;)n=n[u.shift()]}return Qt.object(n)&&Object.keys(n).forEach((function(e){n[e]=t._resolveRef(n[e])})),n}}]),u}(Dn);function va(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,r=function(){};return{s:r,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function $a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}function ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var ba={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"},Aa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/[&<>'"]/g;return e.replace(t,(function(e){return ba[e]}))},Ea=function(e){return e.replace(/\s$/,"&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s{2}/g," &nbsp;")},Ca=function(e){return[e.map((function(e){return"<".concat(e,">")})).join(""),e.reverse().map((function(e){return"</".concat(e,">")})).join("")]},Fa=function(e){p(u,e);var t,n=ya(u);function u(){var e;return g(this,u),(e=n.call(this)).prop("cookie","lang",""),e.prop("ro","dictionaries",{}),e.prop("ro","emojis",new da),e.prop("ro","languages",(function(){return e._languages})),e.prop("ro","languageOptions",(function(){return e._languageOptions})),e._languages=[],e._languageOptions=[],e._rules=e._makeRules(),e}return $(u,[{key:"l",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),u=1;u<t;u++)n[u-1]=arguments[u];var r=this.dictionaries[this.lang]||{},o=String(r[e]||e);return o.replace(/%(\d)(\D|$)/g,(function(e,t,u){return void 0===n[t-1]?e:n[t-1]+u}))}},{key:"load",value:(t=vn(En.mark((function e(t){var n,u=this;return En.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||(t=this.lang||document.documentElement.getAttribute("lang")),!this.dictionaries[t]){e.next=3;break}return e.abrupt("return",this.update({lang:t}));case 3:return e.next=5,ma("/api","getDictionary",{lang:t}).perform();case 5:return n=e.sent,this.dictionaries[t]=n.res.body.dictionary,this._languages=n.res.body.available_languages||{},this._languageOptions=Object.keys(this._languages).sort().map((function(e){return[e,u._languages[e].language_team.replace(/\s*<.*/,"")]})),e.abrupt("return",this.update({lang:t}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"lmd",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),u=1;u<t;u++)n[u-1]=arguments[u];return this.md(this.l.apply(this,[e].concat(n)))}},{key:"md",value:function(e){return e.length?this.emojis.markup(Ea(this._tagToHTML(this._makeTag(e)))):"&nbsp;"}},{key:"raw",value:function(e){return e.length?Ea(Aa(e)):"&nbsp;"}},{key:"_makeRules",value:function(){var e=[];return e.push({tag:Ca(["code"]),re:/`(?=[^`\s])/,rules:[],handler:"_mdTag"}),e.push({tag:Ca(["em","strong"]),re:/\*\*\*(?=\S)/,rules:e,handler:"_mdTag"}),e.push({tag:Ca(["strong"]),re:/\*\*(?=\S)/,rules:e,handler:"_mdTag"}),e.push({tag:Ca(["em"]),re:/\*(?=\S)/,rules:e,handler:"_mdTag"}),e.push({tag:Ca(["span"]),re:/\x03\d{1,2}(?:,\d{1,2})?/,rules:e,handler:"_mdIrcColorFormatting"}),e.push({tag:Ca(["span"]),re:/[\x02\x1d\x1e\x1f\x11]/,rules:e,handler:"_mdIrcTextFormatting"}),e.push({tag:Ca(["a"]),re:/\[([a-zA-Z][^\]]+)\]\(([^)]+)\)/,rules:[],handler:"_mdLink"}),e.push({tag:Ca(["a"]),re:/\b(https?|mailto):\S+/,rules:[],handler:"_mdURL"}),e.push({tag:Ca(["a"]),re:/(\s|^)#[a-zA-Z][\w.-]+(?=\W|$)/,rules:[],handler:"_mdChannelname"}),e}},{key:"_makeTag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._rules,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==n&&0==e.indexOf("> "))return[Ca(["blockquote"]),{},[this._makeTag(e.replace(/^>\s/,""),t,n+1)]];var u,r=[],o=va(t);try{for(o.s();!(u=o.n()).done;){var i=u.value,a=e.match(i.re);if(a){var s={attrs:{},after:e.substring(a.index+a[0].length),before:e.substring(0,a.index),captured:a[0],index:a.index,match:a,tag:i.tag};if(this[i.handler](s),"string"==typeof s.content){s.before.length&&r.push(this._makeTag(s.before,t,n+1)),r.push([s.tag,s.attrs,[this._makeTag(s.content,i.rules,n+1)]]),s.after.length&&r.push(this._makeTag(s.after,t,n+1));break}e=s.before+s.captured+s.after}}}catch(e){o.e(e)}finally{o.f()}return[null,{},r.length?r:[Aa(e)]]}},{key:"_mdChannelname",value:function(e){e.captured=e.captured.replace(/^\s/,(function(t){return e.before+=t,""})),e.content=e.captured,e.attrs.href="./"+encodeURIComponent(e.captured)}},{key:"_mdIrcColorFormatting",value:function(e){var t=e.after.indexOf("");if(-1!=t){e.content=e.after.substring(0,t),e.after=e.after.substring(t+1);var n=[];e.captured.replace(/\x030?(\d{1,2}),?(\d{1,2})?/,(function(e,t,u){u&&n.push("bg-"+u),t&&n.push("text-"+t)})),n.length&&(e.attrs.class=n.join(" "))}}},{key:"_mdIrcTextFormatting",value:function(e){var t=e.after.indexOf(e.captured);-1!=t&&(e.content=e.after.substring(0,t),e.after=e.after.substring(t+e.captured.length),e.tag=""==e.captured?Ca(["strong"]):""==e.captured?Ca(["em"]):""==e.captured?Ca(["u"]):""==e.captured?Ca(["code"]):Ca(["span"]))}},{key:"_mdLink",value:function(e){e.content=e.match[1],e.attrs.href=Aa(e.match[2]),e.match[2].match(/^\w+:/)&&(e.attrs.target="_blank")}},{key:"_mdTag",value:function(e){if(e.before.match(/\\$/))e.before=e.before.replace(/\\$/,"");else{var t=e.after.indexOf(e.captured);-1!=t&&(e.content=e.after.substring(0,t),e.after=e.after.substring(t+e.captured.length))}}},{key:"_mdURL",value:function(e){e.captured=e.captured.replace(/[,.:;!"')]$/,(function(t){return e.after=t[0]+e.after,""})),e.content=e.captured.replace(/^(https|mailto):(\/\/)?/,""),e.attrs.href=Aa(e.captured),e.attrs.target="_blank"}},{key:"_tagToHTML",value:function(e){var t=this;if("string"==typeof e)return e;var n="string"==typeof e[2]?Aa(e[2]):e[2].map((function(e){return t._tagToHTML(e)})).join("");if(!e[0])return n;var u=Object.keys(e[1]).sort().map((function(t){return"".concat(t,'="').concat(e[1][t],'"')})).join(" ");return(u?e[0][0].replace(/>/," "+u+">"):e[0][0])+n+e[0][1]}}]),u}(Dn),wa=new Fa,_a=mt(wa,(function(e){return function(){return e.l.apply(e,arguments)}})),Ba=mt(wa,(function(e){return function(){return e.lmd.apply(e,arguments)}})),ka=[],xa={};var Sa=function(e,t,n){return ka.push({cmd:e,description:n,example:t})};Sa("/me","/me <msg>","Send message as an action."),Sa("/say","/say <msg>",'Used when you want to send a message starting with "/".'),Sa("/whois","/whois <nick>","Show information about a user."),Sa("/query","/query <nick>","Open up a new chat window with nick."),Sa("/msg","/msg <nick> <msg>","Send a direct message to nick."),Sa("/shrug","/shrug <msg>","Add a shrug to end of message. Message is optional."),Sa("/join","/join <#channel>","Join channel and open up a chat window."),Sa("/close","/close [nick|#channel]","Close conversation."),Sa("/nick","/nick <nick>","Change your wanted nick."),Sa("/away","/away <message>","Add or remove an away message"),Sa("/kick","/kick <nick>","Kick a user from the current channel."),Sa("/mode","/mode [+|-][b|o|v] <user>","Change mode of yourself or a user"),Sa("/topic","/topic or /topic <new topic>","Show current topic, or set a new one."),Sa("/names","/names","Show participants in the channel."),Sa("/invite","/invite <nick> [#channel]","Invite a user to a channel."),Sa("/reconnect","/reconnect","Restart the current connection."),Sa("/clear","/clear history <#channel> or /clear history <nick>","Delete all history for the given conversation."),Sa("/oper","/oper <nick> <password>","Gain operator status on a network."),Sa("/cs","/cs <msg>","Send a message to chanserv."),Sa("/ns","/ns <msg>","Send a message to nickserv."),Sa("/ms","/ms <msg>","Send a message to memoserv."),Sa("/hs","/hs <msg>","Send a message to hostserv."),Sa("/bs","/bs <msg>","Send a message to botserv."),Sa("/os","/os <msg>","Send a message to operserv."),Sa("/quote","/quote <irc-command>","Allow you to send any raw IRC message.");var Oa=function(e,t){return xa[e]=t};function Na(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ja(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,r=function(){};return{s:r,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}function Ra(e,t){return Ra[e]?Ra[e](t):[]}function Ta(e){var t=e-1;return t*t*t+1}function Pa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,u=void 0===n?0:n,r=t.duration,o=void 0===r?400:r,i=t.easing,a=void 0===i?b:i,s=+getComputedStyle(e).opacity;return{delay:u,duration:o,easing:a,css:function(e){return"opacity: ".concat(e*s)}}}function La(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,u=void 0===n?0:n,r=t.duration,o=void 0===r?400:r,i=t.easing,a=void 0===i?Ta:i,s=t.x,c=void 0===s?0:s,l=t.y,d=void 0===l?0:l,f=t.opacity,p=void 0===f?0:f,D=getComputedStyle(e),h=+D.opacity,m="none"===D.transform?"":D.transform,g=h*(1-p);return{delay:u,duration:o,easing:a,css:function(e,t){return"\n\t\t\ttransform: ".concat(m," translate(").concat((1-e)*c,"px, ").concat((1-e)*d,"px);\n\t\t\topacity: ").concat(h-g*t)}}}function Ma(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,u=void 0===n?0:n,r=t.duration,o=void 0===r?400:r,i=t.easing,a=void 0===i?Ta:i,s=getComputedStyle(e),c=+s.opacity,l=parseFloat(s.height),d=parseFloat(s.paddingTop),f=parseFloat(s.paddingBottom),p=parseFloat(s.marginTop),D=parseFloat(s.marginBottom),h=parseFloat(s.borderTopWidth),m=parseFloat(s.borderBottomWidth);return{delay:u,duration:o,easing:a,css:function(e){return"overflow: hidden;"+"opacity: ".concat(Math.min(20*e,1)*c,";")+"height: ".concat(e*l,"px;")+"padding-top: ".concat(e*d,"px;")+"padding-bottom: ".concat(e*f,"px;")+"margin-top: ".concat(e*p,"px;")+"margin-bottom: ".concat(e*D,"px;")+"border-top-width: ".concat(e*h,"px;")+"border-bottom-width: ".concat(e*m,"px;")}}}function Ia(e){var t=e.is("private")?e.participants.nicks().sort().join("-and-"):e.title;return encodeURIComponent(t).toLowerCase()}Oa("/close","/part"),Oa("/shrug",(function(e){return"/say "+e.concat("¯\\_(ツ)_/¯").join(" ")})),Oa("/cs","/quote chanserv"),Oa("/ns","/quote nickserv"),Oa("/ms","/quote memoserv"),Oa("/hs","/quote hotserv"),Oa("/bs","/quote botserv"),Oa("/os","/quote operserv"),Oa("/j","/join"),Oa("/raw","/quote"),Ra.commands=function(e){return function(e){for(var t=e.query,n=[],u=0;u<ka.length;u++)if(0==ka[u].cmd.indexOf(t)){var r=ka[u].alias||ka[u].cmd;n.push({val:r,text:wa.md(ka[u].example)})}return n}({query:e.query})},Ra.conversations=function(e){for(var t=e.conversation,n=e.query,u=e.user,r=u.findConversation({connection_id:t.connection_id}),o=r?r.conversations.toArray():u.conversations(),i=[],a=0;a<o.length&&!(-1!=o[a].name.toLowerCase().indexOf(n)&&(i.push({text:o[a].name,val:o[a].conversation_id}),i.length>=20));a++);return i},Ra.emojis=function(e){var t,n=e.query,u=wa.emojis,r=[],o=Na(u.search(n.substring(1)));try{for(o.s();!(t=o.n()).done;){var i=t.value;if(r.push({val:i.emoji,text:u.markup(i.emoji)}),r.length>=30)break}}catch(e){o.e(e)}finally{o.f()}return r},Ra.nicks=function(e){var t,n=e.conversation,u=e.query,r=new RegExp("^"+un(u.slice(1)),"i"),o=[],i=Na(n.participants.toArray());try{for(i.s();!(t=i.n()).done;){var a=t.value;if(o.length>=20)break;a.nick.match(r)&&o.push({val:a.nick})}}catch(e){i.e(e)}finally{i.f()}return o};var Ua=gt(null,{conversationToInternalUrl:function(e){var t=this.get();if(!t)return null;var n=sa.urlFor("/video/"+t.hostname+"/"+Ia(e));return new URL(n,location.href).href},conversationToExternalUrl:function(e){var t=this.get();return t?new URL("/"+Ia(e),t).href:null},fromString:function(e){this.set(e?new URL(e):null)}}),za=gt(null,{close:function(){var e=this.get();return!!e&&[!0,e.close(),this.set(null)][0]},open:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.window||(this.window=window),e=e.toString(),n.nick&&(e+="?nick="+encodeURIComponent(n.nick));var u=this.window.open(e,"convos_video");["beforeunload","close"].forEach((function(e){return u.addEventListener(e,(function(){return t.set(null)}))})),this.set(u)}});function qa(e,t,n){const u=e.slice();return u[39]=t[n],u[41]=n,u}function Ha(e){let t,n,u,r,o,i;return n=new dt({props:{name:"plus-circle"}}),u=new dt({props:{name:"times"}}),{c(){t=K("a"),Xe(n.$$.fragment),Xe(u.$$.fragment),te(t,"href","#actions"),te(t,"class","btn-hallow can-toggle"),ae(t,"is-active","actions"==e[2])},m(a,s){W(a,t,s),et(n,t,null),et(u,t,null),r=!0,o||(i=X(t,"click",e[13]),o=!0)},p(e,n){(!r||4&n[0])&&ae(t,"is-active","actions"==e[2])},i(e){r||(We(n.$$.fragment,e),We(u.$$.fragment,e),r=!0)},o(e){Ye(n.$$.fragment,e),Ye(u.$$.fragment,e),r=!1},d(e){e&&Y(t),tt(n),tt(u),o=!1,i()}}}function Wa(e){let t,n,u,r,o=e[4],i=[];for(let t=0;t<o.length;t+=1)i[t]=Ga(qa(e,o,t));return{c(){t=K("div");for(let e=0;e<i.length;e+=1)i[e].c();te(t,"class",n="chat-input_menu for-"+e[5])},m(e,n){W(e,t,n);for(let e=0;e<i.length;e+=1)i[e].m(t,null);r=!0},p(u,a){if(e=u,65560&a[0]){let n;for(o=e[4],n=0;n<o.length;n+=1){const u=qa(e,o,n);i[n]?i[n].p(u,a):(i[n]=Ga(u),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}(!r||32&a[0]&&n!==(n="chat-input_menu for-"+e[5]))&&te(t,"class",n)},i(n){r||(Ne((()=>{u||(u=Ke(t,La,e[12],!0)),u.run(1)})),r=!0)},o(n){u||(u=Ke(t,La,e[12],!1)),u.run(0),r=!1},d(e){e&&Y(t),G(i,e),e&&u&&u.end()}}}function Ya(e){let t,n,u,r,o,i,a,s,c,l,d=e[1]("Attach a file")+"",f=e[8]&&Ka(e);return r=new dt({props:{name:"cloud-upload-alt"}}),{c(){t=K("div"),f&&f.c(),n=V(),u=K("label"),Xe(r.$$.fragment),o=V(),i=J(d),te(u,"for","upload_files"),te(t,"class","chat-input_menu for-actions")},m(a,d){W(a,t,d),f&&f.m(t,null),z(t,n),z(t,u),et(r,u,null),z(u,o),z(u,i),s=!0,c||(l=X(t,"click",e[13]),c=!0)},p(u,r){(e=u)[8]?f?(f.p(e,r),256&r[0]&&We(f,1)):(f=Ka(e),f.c(),We(f,1),f.m(t,n)):f&&(qe(),Ye(f,1,1,(()=>{f=null})),He()),(!s||2&r[0])&&d!==(d=e[1]("Attach a file")+"")&&ue(i,d)},i(n){s||(We(f),We(r.$$.fragment,n),Ne((()=>{a||(a=Ke(t,La,e[12],!0)),a.run(1)})),s=!0)},o(n){Ye(f),Ye(r.$$.fragment,n),a||(a=Ke(t,La,e[12],!1)),a.run(0),s=!1},d(e){e&&Y(t),f&&f.d(),tt(r),e&&a&&a.end(),c=!1,l()}}}function Ga(e){let t,n,u,r=(e[39].text||e[39].val)+"";return{c(){t=K("a"),te(t,"href","#index:"+e[41]),te(t,"tabindex","-1"),ae(t,"has-focus",e[41]==e[3])},m(o,i){W(o,t,i),t.innerHTML=r,n||(u=X(t,"click",ee(e[16])),n=!0)},p(e,n){16&n[0]&&r!==(r=(e[39].text||e[39].val)+"")&&(t.innerHTML=r),8&n[0]&&ae(t,"has-focus",e[41]==e[3])},d(e){e&&Y(t),n=!1,u()}}}function Ka(e){let t,n,u,r,o,i,a,s=e[1]("Start a video conference")+"";return n=new dt({props:{name:"video"}}),{c(){t=K("a"),Xe(n.$$.fragment),u=V(),r=J(s),te(t,"href",e[8])},m(s,c){W(s,t,c),et(n,t,null),z(t,u),z(t,r),o=!0,i||(a=X(t,"click",e[15]),i=!0)},p(e,n){(!o||2&n[0])&&s!==(s=e[1]("Start a video conference")+"")&&ue(r,s),(!o||256&n[0])&&te(t,"href",e[8])},i(e){o||(We(n.$$.fragment,e),o=!0)},o(e){Ye(n.$$.fragment,e),o=!1},d(e){e&&Y(t),tt(n),i=!1,a()}}}function Za(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b=e[0].is("conversation"),A=tn(e[1](e[9]))+"",E=b&&Ha(e);l=new dt({props:{name:e[10]}});const w=[Ya,Wa],_=[];function B(e,t){return 5&t[0]&&(h=null),null==h&&(h=!("actions"!=e[2]||!e[0].is("conversation"))),h?0:e[4].length?1:-1}return~(m=B(e,[-1,-1]))&&(g=_[m]=w[m](e)),{c(){t=K("form"),n=K("input"),u=V(),r=K("textarea"),o=V(),i=K("textarea"),a=V(),E&&E.c(),s=V(),c=K("button"),Xe(l.$$.fragment),d=V(),f=K("span"),p=J(A),D=V(),g&&g.c(),te(n,"type","file"),te(n,"id","upload_files"),te(n,"name","upload_files"),te(n,"class","non-interactive"),te(r,"class","non-interactive"),te(r,"placeholder",e[11]),te(i,"class","is-primary-input"),te(i,"placeholder",e[11]),te(f,"class","tooltip is-above is-left"),te(c,"type","buttton"),te(c,"class","btn-hallow has-tooltip chat-input__send"),te(t,"class","chat-input")},m(h,g){W(h,t,g),z(t,n),z(t,u),z(t,r),e[28](r),z(t,o),z(t,i),z(t,a),E&&E.m(t,null),z(t,s),z(t,c),et(l,c,null),z(c,d),z(c,f),z(f,p),z(t,D),~m&&_[m].m(t,null),v=!0,$||(y=[X(n,"change",(function(){F(e[7])&&e[7].apply(this,arguments)})),R(e[14].call(null,i)),X(c,"click",e[17]),X(t,"submit",ee(e[27]))],$=!0)},p(n,u){e=n,(!v||2048&u[0])&&te(r,"placeholder",e[11]),(!v||2048&u[0])&&te(i,"placeholder",e[11]),1&u[0]&&(b=e[0].is("conversation")),b?E?(E.p(e,u),1&u[0]&&We(E,1)):(E=Ha(e),E.c(),We(E,1),E.m(t,s)):E&&(qe(),Ye(E,1,1,(()=>{E=null})),He());const o={};1024&u[0]&&(o.name=e[10]),l.$set(o),(!v||514&u[0])&&A!==(A=tn(e[1](e[9]))+"")&&ue(p,A);let a=m;m=B(e,u),m===a?~m&&_[m].p(e,u):(g&&(qe(),Ye(_[a],1,1,(()=>{_[a]=null})),He()),~m?(g=_[m],g?g.p(e,u):(g=_[m]=w[m](e),g.c()),We(g,1),g.m(t,null)):g=null)},i(e){v||(We(E),We(l.$$.fragment,e),We(g),v=!0)},o(e){Ye(E),Ye(l.$$.fragment,e),Ye(g),v=!1},d(n){n&&Y(t),e[28](null),E&&E.d(),tt(l),~m&&_[m].d(),$=!1,C(y)}}}function Ja(e,t,n){let u,r,o,i,a,s,c,l,d=y,f=()=>(d(),d=_(h,(e=>n(26,l=e))),h);B(e,_a,(e=>n(1,c=e))),e.$$.on_destroy.push((()=>d()));const p=L;let{uploadProgress:D=0}=t,{conversation:h}=t;f();let m,g,v="",$=0,b=[],A="none",E=0;const C=Ee("api"),F=Ee("user"),w=new mn;function k(e,t){const{before:n,middle:u,after:r}=function(e,t){e&&e.hasOwnProperty("val")&&(e=e.val);var n=t.append?t.value.length:t.cursorPos,u=[t.value.substring(0,n),t.value.substring(n)],r=u[0],o=u[1];return Qt.undefined(e)?{before:r,middle:"",after:o}:(t.append&&(r=r.replace(/[ ]$/,"")).length&&(e=" "+e),t.padBefore&&(r=r.replace(/[ ]$/,"")).length&&(e=" "+e),t.padAfter&&(o=o.replace(/^[ ]/,""),e+=" "),t.replace&&(r=r.replace(/\S*\s?$/,"")),{before:r,middle:e,after:o})}(e,{...t,cursorPos:m.selectionStart,value:m.value});R(n+u+r),m.selectionStart=m.selectionEnd=(n+u).length}function x(e,t){b.length&&(e.preventDefault(),n(3,$+=t),$<0&&n(3,$=b.length-1),$>=b.length&&n(3,$=0),k(b[$],{replace:!0}))}function S(e){!e.conversation_id&&h.conversation_id&&(e.conversation_id=h.conversation_id)}function O(e){n(3,$=0),n(22,E=e.selectionStart),h.update({userInput:e.value}),e.value.length||w.update({index:-1})}function N(){g.maxHeight||n(6,g.maxHeight=g.parentNode.offsetHeight,g),n(6,g.value=m.value,g),n(6,g.style.width=m.offsetWidth+"px",g),m.style.height=(g.maxHeight>g.scrollHeight?g.scrollHeight:g.maxHeight)+"px"}function j(e){if(b[$])e.preventDefault(),k(b[$],{replace:!0}),n(22,E=m.selectionStart+1);else if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){e.preventDefault();const n={method:"send"};n.message=(t=m.value,u=t.split(/\s/),r=xa[u[0].toLowerCase()],Qt.function(r)?r(u.slice(1)):r?[r].concat(u.slice(1)).filter((function(e){return Qt.defined(e)&&e.length})).join(" "):t),n.message.length&&h.send(n,S),w.add(n.message),h.is("search")||R(""),setTimeout(N,10)}var t,u,r}function R(e){m&&(m.value=e),h.update({userInput:e})}function T(e){m&&(n(4,b=e>m.value.length?[]:function(e,t,n){var u=n.conversation,r=n.user,o="",i="",a=e.substring(0,t).replace(/(\S)(\S*)$/,(function(e,t,n){return o=t,i=n,""})),s=":"==o&&i.length?"emojis":"/"!=o||a.length?"@"==o&&i.length?"nicks":"#"==o||"&"==o?"conversations":"none":"commands",c=Ra(s,{conversation:u,query:o+i,user:r});return c.length&&c.unshift({autocompleteCategory:s,val:o+i}),c}(m.value,e,{conversation:h,user:F})),n(5,A=b.length&&b[0].autocompleteCategory||"none"))}function P(e){P.lock!=e.path&&(n(23,P.lock=e.path,P),R(Qt.undefined(e.userInput)?"":e.userInput))}function L(e){const t=e.target&&e.target.files||e.dataTransfer&&e.dataTransfer.files;if(!t||!t.length)return;if(t.length>1)return h.addMessages({message:"Cannot upload more than one file.",type:"error"});const u=new FormData;u.append("file",t[0]),n(7,L.file=t[0],L);const r=C("uploadFile");r.on("progress",(e=>{D<100&&n(18,D=parseInt(100*(e.total?e.loaded/e.total:.02),10)),D>=100&&n(18,D=0)})),n(18,D=1),r.perform({formData:u}).then((e=>{const t=e.res.body;if(n(18,D=0),t.files&&t.files.length)return k(t.files[0].url,{append:!0});t.errors&&h.addMessages({message:"Could not upload file: %1",vars:[c(Zt(t.errors))],type:"error"})}))}return e.$$set=e=>{"uploadProgress"in e&&n(18,D=e.uploadProgress),"conversation"in e&&f(n(0,h=e.conversation))},e.$$.update=()=>{1&e.$$.dirty[0]&&h&&n(2,v=""),1&e.$$.dirty[0]&&n(25,u=F.findConversation({connection_id:h.connection_id})),33554432&e.$$.dirty[0]&&n(24,r=u&&u.nick),50331651&e.$$.dirty[0]&&n(11,o=h.is("search")?c("What are you looking for?"):u&&u.is("unreachable")?c("Connecting..."):c("What is on your mind %1?",r)),1&e.$$.dirty[0]&&n(10,i=h.is("search")?"search":"paper-plane"),3&e.$$.dirty[0]&&n(9,a=h.is("search")?c("Search"):c("Send")),1&e.$$.dirty[0]&&n(8,s=Ua.conversationToInternalUrl(h)),67108864&e.$$.dirty[0]&&w.update({conversation:l}),4194304&e.$$.dirty[0]&&T(E),8388609&e.$$.dirty[0]&&P(h)},[h,c,v,$,b,A,g,L,s,a,i,o,{y:-10,duration:200},function(e){const t=e.target.closest("a");e.preventDefault(),n(2,v=v?"":t.href.replace(/.*#/,""))},function(e){m=e,m.addEventListener("focus",(()=>n(22,E=m.value.length+1))),m.addEventListener("change",(()=>O(m))),m.addEventListener("input",N),m.addEventListener("keyup",(e=>{1!=e.key.length&&-1==["ArrowLeft","ArrowRight","Backspace"].indexOf(e.key)||O(m)})),m.addEventListener("keydown",(e=>{if(!("ArrowDown"==e.key&&w.render(e,-1)||"ArrowUp"==e.key&&w.render(e,1)))return"ArrowDown"==e.key?x(e,e.shiftKey?4:1):"ArrowUp"==e.key?x(e,e.shiftKey?-4:-1):"Enter"==e.key?j(e):"Tab"==e.key?x(e,e.shiftKey?-1:1):void 0})),w.attach(m),R(Qt.undefined(h.userInput)?"":h.userInput)},function(e){e.preventDefault(),za.open(s,{nick:h.participants.me().nick});const t=h.messages.toArray().slice(-20).find((e=>-1!=e.message.indexOf(s)));t&&t.ts.toEpoch()>(new Time).toEpoch()-600||h.send({method:"send",message:Ua.conversationToExternalUrl(h)})},function(e){n(3,$=parseInt(e.target.closest("a").href.replace(/.*index:/,""),10)),k(b[$],{padAfter:!0,replace:!0}),setTimeout((()=>{O(m),m.focus()}),1)},j,D,p,k,function(){m&&m.focus()},E,P,r,u,l,function(t){Ce.call(this,e,t)},function(e){we[e?"unshift":"push"]((()=>{g=e,n(6,g)}))}]}class Va extends rt{constructor(e){super(),ut(this,e,Ja,Za,w,{uploader:19,uploadProgress:18,conversation:0,fillIn:20,focus:21},null,[-1,-1])}get uploader(){return this.$$.ctx[19]}get fillIn(){return this.$$.ctx[20]}get focus(){return this.$$.ctx[21]}}function Qa(e,t,n){const u=e.slice();return u[9]=t[n],u}function Xa(e){let t,n,u,r;return n=new dt({props:{name:e[0].expanded?"caret-square-up":"caret-square-down"}}),{c(){t=K("a"),Xe(n.$$.fragment),te(t,"href",u="#action:expand:"+e[0].index)},m(e,u){W(e,t,u),et(n,t,null),r=!0},p(e,o){const i={};1&o&&(i.name=e[0].expanded?"caret-square-up":"caret-square-down"),n.$set(i),(!r||1&o&&u!==(u="#action:expand:"+e[0].index))&&te(t,"href",u)},i(e){r||(We(n.$$.fragment,e),r=!0)},o(e){Ye(n.$$.fragment,e),r=!1},d(e){e&&Y(t),tt(n)}}}function es(e){return{c:y,m:y,p:y,d:y}}function ts(e){let t,n=function(e){let t,n,u,r,o;return{c(){t=K("div"),te(t,"class",n="embed "+e[12].className)},m(n,i){W(n,t,i),r||(o=R(u=as.call(null,t,e[12])),r=!0)},p(r,o){e=r,1&o&&n!==(n="embed "+e[12].className)&&te(t,"class",n),u&&F(u.update)&&1&o&&u.update.call(null,e[12])},d(e){e&&Y(t),r=!1,o()}}}(e);return{c(){n&&n.c(),t=Q()},m(e,u){n&&n.m(e,u),W(e,t,u)},p(e,t){n.p(e,t)},d(e){n&&n.d(e),e&&Y(t)}}}function ns(e){return{c:y,m:y,p:y,d:y}}function us(e){let t,n,u={ctx:e,current:null,token:null,hasCatch:!1,pending:ns,then:ts,catch:es,value:12};return Ze(n=e[9],u),{c(){t=Q(),u.block.c()},m(e,n){W(e,t,n),u.block.m(e,u.anchor=n),u.mount=()=>t.parentNode,u.anchor=t},p(t,r){e=t,u.ctx=e,1&r&&n!==(n=e[9])&&Ze(n,u)||Je(u,e,r)},d(e){e&&Y(t),u.block.d(e),u.token=null,u=null}}}function rs(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,F,w,_,B,k=e[0].from+"",x=e[3]("Mention")+"",S=e[3]("Chat")+"",O=e[3]("Whois")+"";return u=new dt({props:{name:"pick:"+e[0].from,color:e[0].color}}),s=new dt({props:{name:"quote-left"}}),D=new dt({props:{name:"comments"}}),y=new dt({props:{name:"address-card"}}),{c(){t=K("div"),n=K("a"),Xe(u.$$.fragment),r=V(),o=J(k),i=V(),a=K("a"),Xe(s.$$.fragment),c=V(),l=J(x),f=V(),p=K("a"),Xe(D.$$.fragment),h=V(),m=J(S),v=V(),$=K("a"),Xe(y.$$.fragment),b=V(),A=J(O),te(n,"href","#popover"),te(a,"href",d="#action:mention:"+encodeURIComponent(e[0].from)),te(a,"class","on-hover"),te(p,"href",g="#action:join:"+encodeURIComponent(e[0].from)),te(p,"class","on-hover"),te($,"href",E="#action:whois:"+encodeURIComponent(e[0].from)),te($,"class","on-hover"),te(t,"class","popover")},m(e,d){W(e,t,d),z(t,n),et(u,n,null),z(n,r),z(n,o),z(t,i),z(t,a),et(s,a,null),z(a,c),z(a,l),z(t,f),z(t,p),et(D,p,null),z(p,h),z(p,m),z(t,v),z(t,$),et(y,$,null),z($,b),z($,A),w=!0,_||(B=[X(n,"click",is.click),X(t,"focus",is.enter),X(t,"mouseenter",is.enter),X(t,"blur",is.leave),X(t,"mouseleave",is.leave)],_=!0)},p(e,t){const n={};1&t&&(n.name="pick:"+e[0].from),1&t&&(n.color=e[0].color),u.$set(n),(!w||1&t)&&k!==(k=e[0].from+"")&&ue(o,k),(!w||8&t)&&x!==(x=e[3]("Mention")+"")&&ue(l,x),(!w||1&t&&d!==(d="#action:mention:"+encodeURIComponent(e[0].from)))&&te(a,"href",d),(!w||8&t)&&S!==(S=e[3]("Chat")+"")&&ue(m,S),(!w||1&t&&g!==(g="#action:join:"+encodeURIComponent(e[0].from)))&&te(p,"href",g),(!w||8&t)&&O!==(O=e[3]("Whois")+"")&&ue(A,O),(!w||1&t&&E!==(E="#action:whois:"+encodeURIComponent(e[0].from)))&&te($,"href",E)},i(e){w||(We(u.$$.fragment,e),We(s.$$.fragment,e),We(D.$$.fragment,e),We(y.$$.fragment,e),Ne((()=>{F||(F=Ke(t,Pa,{duration:200},!0)),F.run(1)})),w=!0)},o(e){Ye(u.$$.fragment,e),Ye(s.$$.fragment,e),Ye(D.$$.fragment,e),Ye(y.$$.fragment,e),F||(F=Ke(t,Pa,{duration:200},!1)),F.run(0),w=!1},d(e){e&&Y(t),tt(u),tt(s),tt(D),tt(y),e&&F&&F.end(),_=!1,C(B)}}}function os(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,F,w=e[0].ts.format("%H:%M")+"",_=tn(e[0].ts.toLocaleString())+"",B=e[0].from+"",k=e[0].html+"";c=new dt({props:{name:"pick:"+e[0].from,color:e[0].color}});let x=e[0].details&&Xa(e),S=e[0].embeds,O=[];for(let t=0;t<S.length;t+=1)O[t]=us(Qa(e,S,t));let N=e[1]==e[0].index&&rs(e);return{c(){t=K("div"),n=K("div"),u=K("span"),r=J(w),o=V(),i=K("span"),a=J(_),s=V(),Xe(c.$$.fragment),l=V(),d=K("a"),f=J(B),p=V(),D=K("div"),x&&x.c(),h=V(),m=new le(!1),g=V();for(let e=0;e<O.length;e+=1)O[e].c();v=V(),N&&N.c(),te(i,"class","tooltip"),te(n,"class","message__ts has-tooltip"),te(d,"href","#popover"),te(d,"class","message__from"),oe(d,"color",e[0].color),te(d,"tabindex","-1"),m.a=null,te(D,"class","message__text"),te(t,"class",$=e[0].className),te(t,"data-index",y=e[0].index),te(t,"data-ts",b=e[0].ts.toISOString()),ae(t,"is-not-present",!e[2].get(e[0].from)),ae(t,"is-expanded",!!e[0].expanded)},m($,y){W($,t,y),z(t,n),z(n,u),z(u,r),z(n,o),z(n,i),z(i,a),z(t,s),et(c,t,null),z(t,l),z(t,d),z(d,f),z(t,p),z(t,D),x&&x.m(D,null),z(D,h),m.m(k,D),z(t,g);for(let e=0;e<O.length;e+=1)O[e].m(t,null);z(t,v),N&&N.m(t,null),A=!0,E||(F=[X(d,"click",is.click),X(d,"focus",is.enter),X(d,"mouseenter",is.enter),X(d,"blur",is.leave),X(d,"mouseleave",is.leave),X(t,"click",e[5])],E=!0)},p(e,[n]){(!A||1&n)&&w!==(w=e[0].ts.format("%H:%M")+"")&&ue(r,w),(!A||1&n)&&_!==(_=tn(e[0].ts.toLocaleString())+"")&&ue(a,_);const u={};if(1&n&&(u.name="pick:"+e[0].from),1&n&&(u.color=e[0].color),c.$set(u),(!A||1&n)&&B!==(B=e[0].from+"")&&ue(f,B),(!A||1&n)&&oe(d,"color",e[0].color),e[0].details?x?(x.p(e,n),1&n&&We(x,1)):(x=Xa(e),x.c(),We(x,1),x.m(D,h)):x&&(qe(),Ye(x,1,1,(()=>{x=null})),He()),(!A||1&n)&&k!==(k=e[0].html+"")&&m.p(k),1&n){let u;for(S=e[0].embeds,u=0;u<S.length;u+=1){const r=Qa(e,S,u);O[u]?O[u].p(r,n):(O[u]=us(r),O[u].c(),O[u].m(t,v))}for(;u<O.length;u+=1)O[u].d(1);O.length=S.length}e[1]==e[0].index?N?(N.p(e,n),3&n&&We(N,1)):(N=rs(e),N.c(),We(N,1),N.m(t,null)):N&&(qe(),Ye(N,1,1,(()=>{N=null})),He()),(!A||1&n&&$!==($=e[0].className))&&te(t,"class",$),(!A||1&n&&y!==(y=e[0].index))&&te(t,"data-index",y),(!A||1&n&&b!==(b=e[0].ts.toISOString()))&&te(t,"data-ts",b),(!A||5&n)&&ae(t,"is-not-present",!e[2].get(e[0].from)),(!A||1&n)&&ae(t,"is-expanded",!!e[0].expanded)},i(e){A||(We(c.$$.fragment,e),We(x),We(N),A=!0)},o(e){Ye(c.$$.fragment,e),Ye(x),Ye(N),A=!1},d(e){e&&Y(t),tt(c),x&&x.d(),G(O,e),N&&N.d(),E=!1,C(F)}}}const is=gt(null,{click(e){e.preventDefault();const t=e.target.closest(".message").dataset.index;this.set(this.get()==t?"":t)},leave(e){this.tid=setTimeout((()=>this.set("")),200)},enter(e){this.tid&&clearTimeout(this.tid);const t=e.target.closest(".message").dataset.index;setTimeout((()=>this.set(t)),250)}});function as(e,t){const n=t.nodes[0]&&t.nodes[0].parentNode;if(n&&n.classList){const e=n.classList.contains("embed")?"add":"remove";n.classList[e]("hidden")}t.nodes.forEach((t=>e.appendChild(t)))}function ss(e,t,n){let u,r,o;B(e,is,(e=>n(1,u=e))),B(e,_a,(e=>n(3,o=e)));let{conversation:i}=t,{message:a}=t;const s=be();let c=i.participants;return B(e,c,(e=>n(2,r=e))),e.$$set=e=>{"conversation"in e&&n(6,i=e.conversation),"message"in e&&n(0,a=e.message)},[a,u,r,o,c,function(e){const t=e.target.closest("a");if(!t)return;if(j(is,u="",u),!t.target&&-1!=t.hash.indexOf("action:"))return function(e,t){e.preventDefault();const n=t.hash.match(/action:([a-z]+):(.*)$/)||["all","unknown","value"];if(n[2]=decodeURIComponent(n[2]),s(n[1],n[2]),"expand"==n[1]){const e=i.messages.get(n[2]);e.expanded=!e.expanded,i.messages.update({messages:!0})}else-1!=["join","whois"].indexOf(n[1])&&i.send("/"+n[1]+" "+n[2])}(e,t);if(cn(e.target,"img"))return on(e,e.target);if(t.classList.contains("le-thumbnail"))return on(e,t.querySelector("img"));const n=document.querySelector('[target="convos_video"][href="'+t.href+'"]');if(n)return onVideoLinkClick(e,n);!t.target&&t.closest(".embed")&&(t.target="_blank"),"_blank"!=t.target&&e.preventDefault()},i]}class cs extends rt{constructor(e){super(),ut(this,e,ss,os,w,{conversation:6,message:0})}}function ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var ds={0:"Jan",1:"Feb",2:"March",3:"Apr",4:"May",5:"Jun",6:"July",7:"Aug",8:"Sept",9:"Oct",10:"Nov",11:"Dec"},fs={H:"_getPaddedHours",M:"_getPaddedMinutes",S:"_getPaddedSeconds",b:"_getMonthAbbr",e:"getDate",Y:"getFullYear"},ps=function(e){p(u,e);var t=ls(u);function u(e){return g(this,u),"string"!=typeof e||e.match(/Z$/)||(e+="Z"),t.call(this,e||new Date)}return $(u,[{key:"format",value:function(e){var t=this;return e.replace(/%(\w)/g,(function(e,n){return fs[n]?t[fs[n]]():n}))}},{key:"getHumanDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.format("%b %e"),n=new u,r=this.getYear()==n.getYear();return r&&!e.year||(t+=", "+this.getFullYear()),t}},{key:"setDate",value:function(e,t){return t?f(n(u.prototype),"setUTCDate",this).call(this,e):f(n(u.prototype),"setDate",this).call(this,e),this}},{key:"setFullYear",value:function(e,t){return t?f(n(u.prototype),"setUTCFullYear",this).call(this,e):f(n(u.prototype),"setFullYear",this).call(this,e),this}},{key:"setHours",value:function(e,t){return t?f(n(u.prototype),"setUTCHours",this).call(this,e):f(n(u.prototype),"setHours",this).call(this,e),this}},{key:"setMilliseconds",value:function(e,t){return t?f(n(u.prototype),"setUTCMilliseconds",this).call(this,e):f(n(u.prototype),"setMilliseconds",this).call(this,e),this}},{key:"setMinutes",value:function(e,t){return t?f(n(u.prototype),"setUTCMinutes",this).call(this,e):f(n(u.prototype),"setMinutes",this).call(this,e),this}},{key:"setMonth",value:function(e,t){return t?f(n(u.prototype),"setUTCMonth",this).call(this,e):f(n(u.prototype),"setMonth",this).call(this,e),this}},{key:"setSeconds",value:function(e,t){return t?f(n(u.prototype),"setUTCSeconds",this).call(this,e):f(n(u.prototype),"setSeconds",this).call(this,e),this}},{key:"setTime",value:function(e){return f(n(u.prototype),"setTime",this).call(this,e),this}},{key:"setYear",value:function(e){return this.setYear(e),this}},{key:"toEpoch",value:function(){return this.getTime()/1e3}},{key:"_getMonthAbbr",value:function(){return ds[this.getMonth()]||""}},{key:"_getPaddedHours",value:function(){return String(this.getHours()).padStart(2,"0")}},{key:"_getPaddedMinutes",value:function(){return String(this.getMinutes()).padStart(2,"0")}},{key:"_getPaddedSeconds",value:function(){return String(this.getSeconds()).padStart(2,"0")}}]),u}(i(Date));function Ds(e){let t,n,u,r,o,i,a;n=new dt({props:{animation:e[3],name:e[0]}});const s=e[12].default,c=k(s,e,e[11],null);return{c(){t=K("button"),Xe(n.$$.fragment),u=V(),c&&c.c(),te(t,"class",r=e[4].join(" ")),t.disabled=e[5],te(t,"type",e[2])},m(r,s){W(r,t,s),et(n,t,null),z(t,u),c&&c.m(t,null),o=!0,i||(a=X(t,"click",e[13]),i=!0)},p(e,[u]){const i={};8&u&&(i.animation=e[3]),1&u&&(i.name=e[0]),n.$set(i),c&&c.p&&(!o||2048&u)&&O(c,s,e,e[11],o?S(s,e[11],u,null):N(e[11]),null),(!o||16&u&&r!==(r=e[4].join(" ")))&&te(t,"class",r),(!o||32&u)&&(t.disabled=e[5]),(!o||4&u)&&te(t,"type",e[2])},i(e){o||(We(n.$$.fragment,e),We(c,e),o=!0)},o(e){Ye(n.$$.fragment,e),Ye(c,e),o=!1},d(e){e&&Y(t),tt(n),c&&c.d(e),i=!1,a()}}}function hs(e,t,n){let u,r,o=y,i=()=>(o(),o=_(m,(e=>n(10,r=e))),m);e.$$.on_destroy.push((()=>o()));let{$$slots:a={},$$scope:s}=t,c="",{class:l=""}=t,d=[],f=!1,p=0,{disabled:D=!1}=t,{icon:h=""}=t,{op:m=new Da({api:!1,id:""})}=t;i();let{type:g=""}=t;function v(e){e&&n(9,p=(new ps).toEpoch()),n(3,c=e?"spin":""),n(8,f=e)}return e.$$set=e=>{"class"in e&&n(6,l=e.class),"disabled"in e&&n(7,D=e.disabled),"icon"in e&&n(0,h=e.icon),"op"in e&&i(n(1,m=e.op)),"type"in e&&n(2,g=e.type),"$$scope"in e&&n(11,s=e.$$scope)},e.$$.update=()=>{1024&e.$$.dirty&&r.is("loading")&&v(!0),1536&e.$$.dirty&&(r.is("loading")||setTimeout((()=>v(!1)),700-((new ps).toEpoch()-p))),65&e.$$.dirty&&n(4,d=["btn","for-"+(h||"default")].concat(l)),384&e.$$.dirty&&n(5,u=D||f)},[h,m,g,c,d,u,l,D,f,p,r,s,a,function(t){Ce.call(this,e,t)}]}class ms extends rt{constructor(e){super(),ut(this,e,hs,Ds,w,{class:6,disabled:7,icon:0,op:1,type:2})}}const gs=e=>({}),vs=e=>({});function $s(e){let t,n;const u=e[12].label,r=k(u,e,e[11],vs);return{c(){t=K("label"),r&&r.c(),te(t,"for",e[5])},m(e,u){W(e,t,u),r&&r.m(t,null),n=!0},p(e,o){r&&r.p&&(!n||2048&o)&&O(r,u,e,e[11],n?S(u,e[11],o,gs):N(e[11]),vs),(!n||32&o)&&te(t,"for",e[5])},i(e){n||(We(r,e),n=!0)},o(e){Ye(r,e),n=!1},d(e){e&&Y(t),r&&r.d(e)}}}function ys(e){let t,n,u,r,o,i,a,s;r=new dt({props:{family:"regular",name:e[7]}}),r.$on("click",e[16]);let c=e[8].label&&$s(e);return{c(){t=K("div"),n=K("input"),u=V(),Xe(r.$$.fragment),o=V(),c&&c.c(),te(n,"type","checkbox"),te(n,"id",e[5]),te(n,"name",e[4]),n.disabled=e[2],te(t,"class","checkbox"),t.hidden=e[3],ae(t,"has-badge",e[1]),ae(t,"has-focus",e[6]),ae(t,"is-disabled",e[2])},m(l,d){W(l,t,d),z(t,n),n.checked=e[0],z(t,u),et(r,t,null),z(t,o),c&&c.m(t,null),i=!0,a||(s=[X(n,"change",e[13]),X(n,"blur",e[14]),X(n,"focus",e[15])],a=!0)},p(e,[u]){(!i||32&u)&&te(n,"id",e[5]),(!i||16&u)&&te(n,"name",e[4]),(!i||4&u)&&(n.disabled=e[2]),1&u&&(n.checked=e[0]);const o={};128&u&&(o.name=e[7]),r.$set(o),e[8].label?c?(c.p(e,u),256&u&&We(c,1)):(c=$s(e),c.c(),We(c,1),c.m(t,null)):c&&(qe(),Ye(c,1,1,(()=>{c=null})),He()),(!i||8&u)&&(t.hidden=e[3]),(!i||2&u)&&ae(t,"has-badge",e[1]),(!i||64&u)&&ae(t,"has-focus",e[6]),(!i||4&u)&&ae(t,"is-disabled",e[2])},i(e){i||(We(r.$$.fragment,e),We(c),i=!0)},o(e){Ye(r.$$.fragment,e),Ye(c),i=!1},d(e){e&&Y(t),tt(r),c&&c.d(),a=!1,C(s)}}}function bs(e,t,n){let u,r,{$$slots:o={},$$scope:i}=t;const a=function(e){var t={};for(var n in e)t[n]=!0;return t}(o);let{badge:s=!1}=t,{disabled:c=!1}=t,{hidden:l=!1}=t,{icon:d="square"}=t,{name:f=""}=t,{id:p=(f?"form_"+f:ln())}=t,{value:D}=t,h=!1;return e.$$set=e=>{"badge"in e&&n(1,s=e.badge),"disabled"in e&&n(2,c=e.disabled),"hidden"in e&&n(3,l=e.hidden),"icon"in e&&n(9,d=e.icon),"name"in e&&n(4,f=e.name),"id"in e&&n(5,p=e.id),"value"in e&&n(0,D=e.value),"$$scope"in e&&n(11,i=e.$$scope)},e.$$.update=()=>{512&e.$$.dirty&&n(10,u="caret"==d?["caret-square-down","caret-square-up"]:["square","check-square"]),1025&e.$$.dirty&&n(7,r=u[D?1:0])},[D,s,c,l,f,p,h,r,a,d,u,i,o,function(){D=this.checked,n(0,D)},()=>{n(6,h=!1)},()=>{n(6,h=!0)},()=>{c||n(0,D=!D)}]}class As extends rt{constructor(e){super(),ut(this,e,bs,ys,w,{badge:1,disabled:2,hidden:3,icon:9,name:4,id:5,value:0})}}var Es=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost";g(this,e),this._url=new URL("http://localhost"),Object.defineProperty(this,"href",{get:function(){return t._url.href.replace(/^http:/,t.protocol)},set:function(e){t._url.href=e.replace(/^\w+:/,"http:"),t.protocol=e.match(/^\w+:/)[0]}}),["host","pathname","password","searchParams","username"].forEach((function(e){Object.defineProperty(t,e,{get:function(){return t._url[e]},set:function(n){t._url[e]=n}})})),this.href=n}return $(e,[{key:"fromFields",value:function(e){Qt.string(e.protocol)&&(this.protocol=e.protocol.replace(/:?$/,":")),Qt.string(e.host)&&(this.host=e.host),Qt.string(e.password)&&(this.password=encodeURIComponent(e.password)),Qt.string(e.username)&&(this.username=encodeURIComponent(e.username)),Qt.string(e.conversation_id)&&(this.pathname=encodeURIComponent(e.conversation_id));var t=this.searchParams;return Qt.string(e.local_address)&&t.append("local_address",e.local_address||""),Qt.string(e.nick)&&t.append("nick",e.nick.trim()),Qt.string(e.realname)&&e.realname.length&&t.append("realname",e.realname.trim()),Qt.string(e.sasl)&&t.append("sasl",e.sasl||"none"),t.append("tls",Qt.true(e.tls)?"1":"0"),t.append("tls_verify",Qt.true(e.tls)&&Qt.true(e.tls_verify)?"1":"0"),this}},{key:"toFields",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.protocol=this.protocol.replace(/:$/,""),e.host=this.host,e.password=Qt.string(this.password)?decodeURIComponent(this.password):"",e.username=Qt.string(this.username)?decodeURIComponent(this.username):"",e.conversation_id=decodeURIComponent(this.pathname.split("/").filter((function(e){return e.length}))[0]||"");var t=this.searchParams;return e.local_address=t.get("local_address")||e.local_address||"",e.nick=t.get("nick")||e.nick||"",e.realname=t.get("realname")||e.realname||"",e.sasl=t.get("sasl")||e.sasl||"none",e.realname=t.get("realname")||e.realname||"",e.tls=Qt.true(t.get("tls")),e.tls_verify=Qt.true(t.get("tls_verify")),e}},{key:"toString",value:function(){return this.href.replace(/^http:/,this.protocol)}}]),e}();function Cs(e){let t,n,u,r,o=e[4](e[1])+"";return{c(){t=K("div"),n=J(o),te(t,"class","success")},m(e,u){W(e,t,u),z(t,n),r=!0},p(e,t){(!r||18&t)&&o!==(o=e[4](e[1])+"")&&ue(n,o)},i(e){r||(Ne((()=>{u||(u=Ke(t,Pa,{},!0)),u.run(1)})),r=!0)},o(e){u||(u=Ke(t,Pa,{},!1)),u.run(0),r=!1},d(e){e&&Y(t),e&&u&&u.end()}}}function Fs(e){let t,n,u,r,o=e[4](e[2].error())+"";return{c(){t=K("div"),n=J(o),te(t,"class","error")},m(e,u){W(e,t,u),z(t,n),r=!0},p(e,t){(!r||20&t)&&o!==(o=e[4](e[2].error())+"")&&ue(n,o)},i(e){r||(Ne((()=>{u||(u=Ke(t,Pa,{},!0)),u.run(1)})),r=!0)},o(e){u||(u=Ke(t,Pa,{},!1)),u.run(0),r=!1},d(e){e&&Y(t),e&&u&&u.end()}}}function ws(e){let t,n,u,r,o,i;const a=[Fs,Cs],s=[];function c(e,u){return 4&u&&(t=null),12&u&&(n=null),null==t&&(t=!!e[2].is("error")),t?0:(null==n&&(n=!(!e[2].is("success")||!e[3])),n?1:-1)}return~(u=c(e,-1))&&(r=s[u]=a[u](e)),{c(){r&&r.c(),o=Q()},m(e,t){~u&&s[u].m(e,t),W(e,o,t),i=!0},p(e,[t]){let n=u;u=c(e,t),u===n?~u&&s[u].p(e,t):(r&&(qe(),Ye(s[n],1,1,(()=>{s[n]=null})),He()),~u?(r=s[u],r?r.p(e,t):(r=s[u]=a[u](e),r.c()),We(r,1),r.m(o.parentNode,o)):r=null)},i(e){i||(We(r),i=!0)},o(e){Ye(r),i=!1},d(e){~u&&s[u].d(e),e&&Y(o)}}}function _s(e,t,n){let u,r,o=y,i=()=>(o(),o=_(a,(e=>n(2,u=e))),a);B(e,_a,(e=>n(4,r=e))),e.$$.on_destroy.push((()=>o()));let{op:a=new Da({})}=t;i();let s,{success:c="Saved."}=t,l=!1;return ye((()=>s&&clearTimeout(s))),e.$$set=e=>{"op"in e&&i(n(0,a=e.op)),"success"in e&&n(1,c=e.success)},e.$$.update=()=>{4&e.$$.dirty&&function(e){if(!e.is("success"))return n(3,l=!1);l||(n(3,l=!0),s=setTimeout((()=>n(3,l=!1)),2e3))}(u)},[a,c,u,l,r]}class Bs extends rt{constructor(e){super(),ut(this,e,_s,ws,w,{op:0,success:1})}}function ks(e,t,n){const u=e.slice();return u[26]=t[n],u[28]=n,u}const xs=e=>({}),Ss=e=>({});function Os(e){let t,n,u,r,o,i=(e[26].length>1?e[26][1]:e[26][0])+"";function a(){return e[20](e[28])}function s(){return e[21](e[28])}return{c(){t=K("a"),n=J(i),te(t,"href",u="#"+e[28]+":"+e[26][0]),te(t,"class","select-field__option"),te(t,"tabindex","-1"),ae(t,"is-active",e[28]==e[8])},m(e,u){W(e,t,u),z(t,n),r||(o=[X(t,"focus",a),X(t,"mouseover",s)],r=!0)},p(r,o){e=r,512&o&&i!==(i=(e[26].length>1?e[26][1]:e[26][0])+"")&&ue(n,i),512&o&&u!==(u="#"+e[28]+":"+e[26][0])&&te(t,"href",u),256&o&&ae(t,"is-active",e[28]==e[8])},d(e){e&&Y(t),r=!1,C(o)}}}function Ns(e){let t,n,u,r,o,i,a,s,c,l,d;const f=e[17].label,p=k(f,e,e[16],Ss),D=p||function(e){let t;return{c(){t=J("Label")},m(e,n){W(e,t,n)},d(e){e&&Y(t)}}}();let h=e[9],m=[];for(let t=0;t<h.length;t+=1)m[t]=Os(ks(e,h,t));return{c(){t=K("div"),n=K("label"),D&&D.c(),u=V(),r=K("input"),o=V(),i=K("input"),a=V(),s=K("div");for(let e=0;e<m.length;e+=1)m[e].c();te(n,"for",e[3]),te(r,"type","hidden"),te(r,"name",e[2]),te(i,"type","text"),te(i,"id",e[3]),te(i,"autocomplete","off"),te(i,"placeholder",e[4]),i.readOnly=e[5],te(s,"class","select-field__options"),te(t,"class","select-field text-field"),t.hidden=e[1],ae(t,"is-open",e[7]),ae(t,"is-readonly",e[5])},m(f,p){W(f,t,p),z(t,n),D&&D.m(n,null),z(t,u),z(t,r),re(r,e[0]),z(t,o),z(t,i),e[19](i),z(t,a),z(t,s);for(let e=0;e<m.length;e+=1)m[e].m(s,null);c=!0,l||(d=[X(r,"input",e[18]),X(r,"keydown",e[11]),X(i,"blur",e[10]),X(i,"keydown",e[11]),X(i,"keyup",e[12]),X(i,"click",ee(e[13])),X(s,"click",ee(e[13]))],l=!0)},p(e,[u]){if(p&&p.p&&(!c||65536&u)&&O(p,f,e,e[16],c?S(f,e[16],u,xs):N(e[16]),Ss),(!c||8&u)&&te(n,"for",e[3]),(!c||4&u)&&te(r,"name",e[2]),1&u&&re(r,e[0]),(!c||8&u)&&te(i,"id",e[3]),(!c||16&u)&&te(i,"placeholder",e[4]),(!c||32&u)&&(i.readOnly=e[5]),768&u){let t;for(h=e[9],t=0;t<h.length;t+=1){const n=ks(e,h,t);m[t]?m[t].p(n,u):(m[t]=Os(n),m[t].c(),m[t].m(s,null))}for(;t<m.length;t+=1)m[t].d(1);m.length=h.length}(!c||2&u)&&(t.hidden=e[1]),(!c||128&u)&&ae(t,"is-open",e[7]),(!c||32&u)&&ae(t,"is-readonly",e[5])},i(e){c||(We(D,e),c=!0)},o(e){Ye(D,e),c=!1},d(n){n&&Y(t),D&&D.d(n),e[19](null),G(m,n),l=!1,C(d)}}}function js(e,t,n){let u,{$$slots:r={},$$scope:o}=t,i=0,a=!1,s="",c=[],{hidden:l=!1}=t,{name:d=""}=t,{id:f=(d?"form_"+d:ln())}=t,{options:p}=t,{placeholder:D=""}=t,{readonly:h=!1}=t,{value:m}=t;const g=["ArrowDown","ArrowUp","Enter"];function v(e){let t;if("keydown"==e.type)t=c.length&&c[i]||p.filter((e=>e[0]==m))[0];else{const n=Wt(e.target,".select-field__option").href.replace(/^.*?#\d+:/,"");t=c.filter((e=>e[0]==n))[0]||[]}t&&t.length||(t=[""]),n(0,m=t[0]),n(7,a=!1)}function $(e){const t=c.filter((t=>t[0]==e))[0]||[];n(6,u.value=t.length>1?t[1]:t.length?t[0]:e,u)}function y(e){if(h)return;const t=e&&e.target&&Wt(e.target,".select-field__option");return a||(n(8,i=c.map((e=>e[0])).indexOf(m)),u.setSelectionRange(0,9999)),t?v(e):n(7,a=!a)}return e.$$set=e=>{"hidden"in e&&n(1,l=e.hidden),"name"in e&&n(2,d=e.name),"id"in e&&n(3,f=e.id),"options"in e&&n(14,p=e.options),"placeholder"in e&&n(4,D=e.placeholder),"readonly"in e&&n(5,h=e.readonly),"value"in e&&n(0,m=e.value),"$$scope"in e&&n(16,o=e.$$scope)},e.$$.update=()=>{if(128&e.$$.dirty&&0==a&&n(15,s=""),49152&e.$$.dirty&&function(e,t){let u=new RegExp("(?:^|\\s|-)"+un(t),"i"),r=e.filter((e=>e[0]==t));r.length||(r=e.filter((e=>e[0].match(u))));for(let t=0;t<e.length;t++){const n=e[t];n.length>1&&-1!=r.indexOf(n)&&n[1].match(u)&&-1==e.map((e=>e[0])).indexOf(n[0])&&r.push(n)}n(8,i=0),n(9,c=r)}(p,s),16449&e.$$.dirty&&u&&!u.value&&u!=document.activeElement){const e=p.find((e=>e[0]==m));e&&n(6,u.value=e[1]||e[0],u)}65&e.$$.dirty&&u&&$(m)},[m,l,d,f,D,h,u,a,i,c,function(){setTimeout((()=>document.activeElement.closest(".select-field__option")||n(7,a=!1)),100),$(m)},function(e){if(-1!=g.indexOf(e.key)&&e.preventDefault(),"Tab"!=e.key){if(!a)return y(e);"ArrowDown"==e.key&&n(8,i++,i),"ArrowUp"==e.key&&n(8,i--,i),"Enter"==e.key&&v(e),i>=p.length&&n(8,i=0),i<0&&n(8,i=p.length-1)}else a&&v(e)},function(e){1!=e.key.length&&"Backspace"!=e.key||n(15,s=u.value)},y,p,s,o,r,function(){m=this.value,n(0,m)},function(e){we[e?"unshift":"push"]((()=>{u=e,n(6,u),n(14,p),n(0,m)}))},e=>{n(8,i=e)},e=>{n(8,i=e)}]}class Rs extends rt{constructor(e){super(),ut(this,e,js,Ns,w,{hidden:1,name:2,id:3,options:14,placeholder:4,readonly:5,value:0})}}const Ts=e=>({}),Ps=e=>({});function Ls(e){let t,n,u,r,o,i,a;const s=e[7].label,c=k(s,e,e[6],Ps),l=c||function(e){let t;return{c(){t=J("Label")},m(e,n){W(e,t,n)},d(e){e&&Y(t)}}}();return{c(){t=K("div"),n=K("label"),l&&l.c(),u=V(),r=K("textarea"),te(n,"for",e[3]),te(r,"id",e[3]),te(r,"name",e[2]),te(r,"placeholder",e[4]),r.readOnly=e[5],te(t,"class","text-area"),t.hidden=e[1]},m(s,c){W(s,t,c),z(t,n),l&&l.m(n,null),z(t,u),z(t,r),re(r,e[0]),o=!0,i||(a=X(r,"input",e[8]),i=!0)},p(e,[u]){c&&c.p&&(!o||64&u)&&O(c,s,e,e[6],o?S(s,e[6],u,Ts):N(e[6]),Ps),(!o||8&u)&&te(n,"for",e[3]),(!o||8&u)&&te(r,"id",e[3]),(!o||4&u)&&te(r,"name",e[2]),(!o||16&u)&&te(r,"placeholder",e[4]),(!o||32&u)&&(r.readOnly=e[5]),1&u&&re(r,e[0]),(!o||2&u)&&(t.hidden=e[1])},i(e){o||(We(l,e),o=!0)},o(e){Ye(l,e),o=!1},d(e){e&&Y(t),l&&l.d(e),i=!1,a()}}}function Ms(e,t,n){let{$$slots:u={},$$scope:r}=t,{hidden:o=!1}=t,{name:i=""}=t,{id:a=(i?"form_"+i:ln())}=t,{placeholder:s=""}=t,{readonly:c=!1}=t,{value:l}=t;return e.$$set=e=>{"hidden"in e&&n(1,o=e.hidden),"name"in e&&n(2,i=e.name),"id"in e&&n(3,a=e.id),"placeholder"in e&&n(4,s=e.placeholder),"readonly"in e&&n(5,c=e.readonly),"value"in e&&n(0,l=e.value),"$$scope"in e&&n(6,r=e.$$scope)},[l,o,i,a,s,c,r,u,function(){l=this.value,n(0,l)}]}class Is extends rt{constructor(e){super(),ut(this,e,Ms,Ls,w,{hidden:1,name:2,id:3,placeholder:4,readonly:5,value:0})}}const Us=e=>({}),zs=e=>({}),qs=e=>({}),Hs=e=>({});function Ws(e){let t,n,u,r,o;return n=new dt({props:{name:e[8]?"eye-slash":"eye"}}),{c(){t=K("a"),Xe(n.$$.fragment),te(t,"href","#toggle"),te(t,"class","text-field__toggle")},m(i,a){W(i,t,a),et(n,t,null),u=!0,r||(o=X(t,"click",ee(e[13])),r=!0)},p(e,t){const u={};256&t&&(u.name=e[8]?"eye-slash":"eye"),n.$set(u)},i(e){u||(We(n.$$.fragment,e),u=!0)},o(e){Ye(n.$$.fragment,e),u=!1},d(e){e&&Y(t),tt(n),r=!1,o()}}}function Ys(e){let t,n,u,r,o,i,a,s,c,l;const d=e[11].label,f=k(d,e,e[10],Hs),p=f||function(e){let t;return{c(){t=J("Label")},m(e,n){W(e,t,n)},d(e){e&&Y(t)}}}();let D="password"==e[7]&&!e[6]&&Ws(e);const h=e[11].help,m=k(h,e,e[10],zs);return{c(){t=K("div"),n=K("label"),p&&p.c(),u=V(),r=K("input"),i=V(),D&&D.c(),a=V(),m&&m.c(),te(n,"for",e[4]),te(r,"type",o=e[8]?"text":e[7]),te(r,"id",e[4]),te(r,"name",e[3]),te(r,"autocomplete",e[1]),te(r,"placeholder",e[5]),r.readOnly=e[6],r.value=e[0],te(t,"class","text-field"),t.hidden=e[2],ae(t,"has-password","password"==e[7])},m(o,d){W(o,t,d),z(t,n),p&&p.m(n,null),z(t,u),z(t,r),z(t,i),D&&D.m(t,null),W(o,a,d),m&&m.m(o,d),s=!0,c||(l=[X(r,"input",e[9]),X(r,"keyup",e[12])],c=!0)},p(e,[u]){f&&f.p&&(!s||1024&u)&&O(f,d,e,e[10],s?S(d,e[10],u,qs):N(e[10]),Hs),(!s||16&u)&&te(n,"for",e[4]),(!s||384&u&&o!==(o=e[8]?"text":e[7]))&&te(r,"type",o),(!s||16&u)&&te(r,"id",e[4]),(!s||8&u)&&te(r,"name",e[3]),(!s||2&u)&&te(r,"autocomplete",e[1]),(!s||32&u)&&te(r,"placeholder",e[5]),(!s||64&u)&&(r.readOnly=e[6]),(!s||1&u&&r.value!==e[0])&&(r.value=e[0]),"password"!=e[7]||e[6]?D&&(qe(),Ye(D,1,1,(()=>{D=null})),He()):D?(D.p(e,u),192&u&&We(D,1)):(D=Ws(e),D.c(),We(D,1),D.m(t,null)),(!s||4&u)&&(t.hidden=e[2]),(!s||128&u)&&ae(t,"has-password","password"==e[7]),m&&m.p&&(!s||1024&u)&&O(m,h,e,e[10],s?S(h,e[10],u,Us):N(e[10]),zs)},i(e){s||(We(p,e),We(D),We(m,e),s=!0)},o(e){Ye(p,e),Ye(D),Ye(m,e),s=!1},d(e){e&&Y(t),p&&p.d(e),D&&D.d(),e&&Y(a),m&&m.d(e),c=!1,C(l)}}}function Gs(e,t,n){let{$$slots:u={},$$scope:r}=t,o=!1,{autocomplete:i=null}=t,{hidden:a=!1}=t,{name:s=""}=t,{id:c=(s?"form_"+s:ln())}=t,{placeholder:l=""}=t,{readonly:d=!1}=t,{type:f="text"}=t,{value:p}=t;return e.$$set=e=>{"autocomplete"in e&&n(1,i=e.autocomplete),"hidden"in e&&n(2,a=e.hidden),"name"in e&&n(3,s=e.name),"id"in e&&n(4,c=e.id),"placeholder"in e&&n(5,l=e.placeholder),"readonly"in e&&n(6,d=e.readonly),"type"in e&&n(7,f=e.type),"value"in e&&n(0,p=e.value),"$$scope"in e&&n(10,r=e.$$scope)},[p,i,a,s,c,l,d,f,o,function(e){n(0,p=f.match(/^(number|range)$/)?parseInt(e.target.value,10):e.target.value)},r,u,function(t){Ce.call(this,e,t)},()=>{n(8,o=!o)}]}class Ks extends rt{constructor(e){super(),ut(this,e,Gs,Ys,w,{autocomplete:1,hidden:2,name:3,id:4,placeholder:5,readonly:6,type:7,value:0})}}function Zs(e){let t,n,u=e[5]("Host and port")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Host and port")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Js(e){let t,n,u=e[5]("You cannot create custom connections.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help"),t.hidden=!e[7].forced_connection},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("You cannot create custom connections.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Vs(e){let t,n,u=e[5]("Nickname")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Nickname")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Qs(e){let t,n,u=e[5]("Your name")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Your name")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Xs(e){let t,n,u;function r(t){e[19](t)}let o={name:"conversation_id",placeholder:e[5]("Ex: #convos"),$$slots:{label:[tc]},$$scope:{ctx:e}};return void 0!==e[2].conversation_id&&(o.value=e[2].conversation_id),t=new Ks({props:o}),we.push((()=>Qe(t,"value",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};32&u[0]&&(r.placeholder=e[5]("Ex: #convos")),32&u[0]|32&u[1]&&(r.$$scope={dirty:u,ctx:e}),!n&&4&u[0]&&(n=!0,r.value=e[2].conversation_id,je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function ec(e){let t,n,u;function r(t){e[18](t)}let o={name:"want_to_be_connected",$$slots:{label:[nc]},$$scope:{ctx:e}};return void 0!==e[2].want_to_be_connected&&(o.value=e[2].want_to_be_connected),t=new As({props:o}),we.push((()=>Qe(t,"value",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};32&u[0]|32&u[1]&&(r.$$scope={dirty:u,ctx:e}),!n&&4&u[0]&&(n=!0,r.value=e[2].want_to_be_connected,je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function tc(e){let t,n,u=e[5]("Conversation name")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Conversation name")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function nc(e){let t,n,u=e[5]("Want to be connected")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Want to be connected")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function uc(e){let t,n,u=e[5]("Secure connection (TLS)")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Secure connection (TLS)")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function rc(e){let t,n,u=e[5]("Verify certificate (TLS)")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Verify certificate (TLS)")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function oc(e){let t,n,u=e[5]("Advanced settings")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Advanced settings")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function ic(e){let t,n,u,r,o,i;function a(t){e[23](t)}let s={name:"on_connect_commands",placeholder:e[5]("Put each command on a new line."),$$slots:{label:[ac]},$$scope:{ctx:e}};void 0!==e[2].on_connect_commands&&(s.value=e[2].on_connect_commands),n=new Is({props:s}),we.push((()=>Qe(n,"value",a)));let c=!e[7].forced_connection&&function(e){let t,n,u;function r(t){e[24](t)}let o={name:"local_address",$$slots:{help:[cc],label:[sc]},$$scope:{ctx:e}};void 0!==e[2].local_address&&(o.value=e[2].local_address);return t=new Ks({props:o}),we.push((()=>Qe(t,"value",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};32&u[0]|32&u[1]&&(r.$$scope={dirty:u,ctx:e}),!n&&4&u[0]&&(n=!0,r.value=e[2].local_address,je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}(e);return{c(){t=K("div"),Xe(n.$$.fragment),r=V(),c&&c.c(),te(t,"class","form-group")},m(e,u){W(e,t,u),et(n,t,null),z(t,r),c&&c.m(t,null),i=!0},p(e,t){const r={};32&t[0]&&(r.placeholder=e[5]("Put each command on a new line.")),32&t[0]|32&t[1]&&(r.$$scope={dirty:t,ctx:e}),!u&&4&t[0]&&(u=!0,r.value=e[2].on_connect_commands,je((()=>u=!1))),n.$set(r),e[7].forced_connection||c.p(e,t)},i(e){i||(We(n.$$.fragment,e),We(c),Ne((()=>{o||(o=Ke(t,Ma,{duration:150},!0)),o.run(1)})),i=!0)},o(e){Ye(n.$$.fragment,e),Ye(c),o||(o=Ke(t,Ma,{duration:150},!1)),o.run(0),i=!1},d(e){e&&Y(t),tt(n),c&&c.d(),e&&o&&o.end()}}}function ac(e){let t,n,u=e[5]("On-connect commands")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("On-connect commands")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function sc(e){let t,n,u=e[5]("Source IP")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Source IP")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function cc(e){let t,n,u=e[5]("Leave this blank, unless you know what you are doing.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Leave this blank, unless you know what you are doing.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function lc(e){let t,n,u=e[5]("Authentication settings")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Authentication settings")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function dc(e){let t,n,u,r,o,i,a,s,c,l,d;function f(t){e[26](t)}let p={name:"username",placeholder:e[2].nick,$$slots:{help:[pc],label:[fc]},$$scope:{ctx:e}};void 0!==e[2].username&&(p.value=e[2].username),n=new Ks({props:p}),we.push((()=>Qe(n,"value",f)));const D=[hc,Dc],h=[];function m(e,t){return"external"==e[2].sasl?0:1}function g(t){e[29](t)}o=m(e),i=h[o]=D[o](e);let v={name:"sasl",options:e[8],$$slots:{label:[yc]},$$scope:{ctx:e}};return void 0!==e[2].sasl&&(v.value=e[2].sasl),s=new Rs({props:v}),we.push((()=>Qe(s,"value",g))),{c(){t=K("div"),Xe(n.$$.fragment),r=V(),i.c(),a=V(),Xe(s.$$.fragment),te(t,"class","form-group")},m(e,u){W(e,t,u),et(n,t,null),z(t,r),h[o].m(t,null),z(t,a),et(s,t,null),d=!0},p(e,r){const l={};4&r[0]&&(l.placeholder=e[2].nick),32&r[0]|32&r[1]&&(l.$$scope={dirty:r,ctx:e}),!u&&4&r[0]&&(u=!0,l.value=e[2].username,je((()=>u=!1))),n.$set(l);let d=o;o=m(e),o===d?h[o].p(e,r):(qe(),Ye(h[d],1,1,(()=>{h[d]=null})),He(),i=h[o],i?i.p(e,r):(i=h[o]=D[o](e),i.c()),We(i,1),i.m(t,a));const f={};32&r[0]|32&r[1]&&(f.$$scope={dirty:r,ctx:e}),!c&&4&r[0]&&(c=!0,f.value=e[2].sasl,je((()=>c=!1))),s.$set(f)},i(e){d||(We(n.$$.fragment,e),We(i),We(s.$$.fragment,e),Ne((()=>{l||(l=Ke(t,Ma,{duration:150},!0)),l.run(1)})),d=!0)},o(e){Ye(n.$$.fragment,e),Ye(i),Ye(s.$$.fragment,e),l||(l=Ke(t,Ma,{duration:150},!1)),l.run(0),d=!1},d(e){e&&Y(t),tt(n),h[o].d(),tt(s),e&&l&&l.end()}}}function fc(e){let t,n,u=e[5]("Username")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Username")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function pc(e){let t,n,u=e[5]("SASL and IRC server username.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("SASL and IRC server username.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Dc(e){let t,n,u;function r(t){e[28](t)}let o={type:"password",name:"password",$$slots:{help:[gc],label:[mc]},$$scope:{ctx:e}};return void 0!==e[2].password&&(o.value=e[2].password),t=new Ks({props:o}),we.push((()=>Qe(t,"value",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};32&u[0]|32&u[1]&&(r.$$scope={dirty:u,ctx:e}),!n&&4&u[0]&&(n=!0,r.value=e[2].password,je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function hc(e){let t,n,u;function r(t){e[27](t)}let o={type:"text",name:"fingerprint",readonly:!0,$$slots:{help:[$c],label:[vc]},$$scope:{ctx:e}};return void 0!==e[2].fingerprint&&(o.value=e[2].fingerprint),t=new Ks({props:o}),we.push((()=>Qe(t,"value",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};32&u[0]|32&u[1]&&(r.$$scope={dirty:u,ctx:e}),!n&&4&u[0]&&(n=!0,r.value=e[2].fingerprint,je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function mc(e){let t,n,u=e[5]("Password")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Password")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function gc(e){let t,n,u=e[5]("SASL plain or IRC server password.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("SASL plain or IRC server password.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function vc(e){let t,n,u=e[5]("Fingerprint")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Fingerprint")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function $c(e){let t,n,u=e[5]("The certificate fingerprint is used for SASL external authentication.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("The certificate fingerprint is used for SASL external authentication.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function yc(e){let t,n,u=e[5]("SASL authentication mechanism")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("SASL authentication mechanism")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function bc(e){let t,n;return t=new ms({props:{icon:"plus-circle",op:e[9],$$slots:{default:[Ec]},$$scope:{ctx:e}}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};32&n[0]|32&n[1]&&(u.$$scope={dirty:n,ctx:e}),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function Ac(e){let t,n;return t=new ms({props:{icon:"save",op:e[11],$$slots:{default:[Cc]},$$scope:{ctx:e}}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};32&n[0]|32&n[1]&&(u.$$scope={dirty:n,ctx:e}),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function Ec(e){let t,n,u=e[5]("Add")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Add")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Cc(e){let t,n,u=e[5]("Update")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Update")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Fc(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g=e[5]("Delete")+"",v=e[5]("This will permanently remove chat logs and other connection related data.")+"",$=e[6]('Please confirm by entering "**%1**" before hitting **%2**.',e[0],e[5]("Delete"))+"";function y(t){e[30](t)}let b={name:"confirm_connection_id",$$slots:{label:[wc]},$$scope:{ctx:e}};return void 0!==e[1]&&(b.value=e[1]),c=new Ks({props:b}),we.push((()=>Qe(c,"value",y))),p=new ms({props:{icon:"trash",op:e[10],disabled:e[1]!=e[0],$$slots:{default:[_c]},$$scope:{ctx:e}}}),p.$on("click",e[12]),h=new Bs({props:{op:e[10],success:"Deleted."}}),{c(){t=K("h3"),n=J(g),u=V(),r=K("p"),o=J(v),i=V(),a=new le(!1),s=V(),Xe(c.$$.fragment),d=V(),f=K("div"),Xe(p.$$.fragment),D=V(),Xe(h.$$.fragment),a.a=null,te(f,"class","form-actions")},m(e,l){W(e,t,l),z(t,n),W(e,u,l),W(e,r,l),z(r,o),z(r,i),a.m($,r),W(e,s,l),et(c,e,l),W(e,d,l),W(e,f,l),et(p,f,null),W(e,D,l),et(h,e,l),m=!0},p(e,t){(!m||32&t[0])&&g!==(g=e[5]("Delete")+"")&&ue(n,g),(!m||32&t[0])&&v!==(v=e[5]("This will permanently remove chat logs and other connection related data.")+"")&&ue(o,v),(!m||97&t[0])&&$!==($=e[6]('Please confirm by entering "**%1**" before hitting **%2**.',e[0],e[5]("Delete"))+"")&&a.p($);const u={};32&t[0]|32&t[1]&&(u.$$scope={dirty:t,ctx:e}),!l&&2&t[0]&&(l=!0,u.value=e[1],je((()=>l=!1))),c.$set(u);const r={};3&t[0]&&(r.disabled=e[1]!=e[0]),32&t[0]|32&t[1]&&(r.$$scope={dirty:t,ctx:e}),p.$set(r)},i(e){m||(We(c.$$.fragment,e),We(p.$$.fragment,e),We(h.$$.fragment,e),m=!0)},o(e){Ye(c.$$.fragment,e),Ye(p.$$.fragment,e),Ye(h.$$.fragment,e),m=!1},d(e){e&&Y(t),e&&Y(u),e&&Y(r),e&&Y(s),tt(c,e),e&&Y(d),e&&Y(f),tt(p),e&&Y(D),tt(h,e)}}}function wc(e){let t,n,u=e[5]("Confirm connection ID")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Confirm connection ID")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function _c(e){let t,n,u=e[5]("Delete")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t[0]&&u!==(u=e[5]("Delete")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Bc(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,C,F,w,_,B,k,x,S,O,N,j,R;function T(t){e[15](t)}let P={name:"host",placeholder:e[5]("Ex: irc.libera.chat:6697"),readonly:e[7].forced_connection,$$slots:{help:[Js],label:[Zs]},$$scope:{ctx:e}};function L(t){e[16](t)}void 0!==e[2].host&&(P.value=e[2].host),n=new Ks({props:P}),we.push((()=>Qe(n,"value",T)));let M={name:"nick",placeholder:e[5]("Ex: superman"),$$slots:{label:[Vs]},$$scope:{ctx:e}};function I(t){e[17](t)}void 0!==e[2].nick&&(M.value=e[2].nick),o=new Ks({props:M}),we.push((()=>Qe(o,"value",L)));let U={name:"realname",placeholder:e[5]("Ex: Clark Kent"),$$slots:{label:[Qs]},$$scope:{ctx:e}};void 0!==e[2].realname&&(U.value=e[2].realname),s=new Ks({props:U}),we.push((()=>Qe(s,"value",I)));const q=[ec,Xs],H=[];function G(e,t){return"add"!=e[0]?0:1}function Z(t){e[20](t)}d=G(e),f=H[d]=q[d](e);let J={name:"tls",$$slots:{label:[uc]},$$scope:{ctx:e}};function ne(t){e[21](t)}void 0!==e[2].tls&&(J.value=e[2].tls),D=new As({props:J}),we.push((()=>Qe(D,"value",Z)));let ue={name:"tls_verify",disabled:!e[2].tls,hidden:!e[2].tls,$$slots:{label:[rc]},$$scope:{ctx:e}};function re(t){e[22](t)}void 0!==e[2].tls_verify&&(ue.value=e[2].tls_verify),g=new As({props:ue}),we.push((()=>Qe(g,"value",ne)));let oe={icon:"caret",name:"show_advanced_settings",$$slots:{label:[oc]},$$scope:{ctx:e}};void 0!==e[3]&&(oe.value=e[3]),y=new As({props:oe}),we.push((()=>Qe(y,"value",re)));let ie=e[3]&&ic(e),ae=!e[7].forced_connection&&function(e){let t,n,u,r,o;function i(t){e[25](t)}let a={icon:"caret",name:"show_auth_settings",$$slots:{label:[lc]},$$scope:{ctx:e}};void 0!==e[4]&&(a.value=e[4]),t=new As({props:a}),we.push((()=>Qe(t,"value",i)));let s=e[4]&&dc(e);return{c(){Xe(t.$$.fragment),u=V(),s&&s.c(),r=Q()},m(e,n){et(t,e,n),W(e,u,n),s&&s.m(e,n),W(e,r,n),o=!0},p(e,u){const o={};32&u[0]|32&u[1]&&(o.$$scope={dirty:u,ctx:e}),!n&&16&u[0]&&(n=!0,o.value=e[4],je((()=>n=!1))),t.$set(o),e[4]?s?(s.p(e,u),16&u[0]&&We(s,1)):(s=dc(e),s.c(),We(s,1),s.m(r.parentNode,r)):s&&(qe(),Ye(s,1,1,(()=>{s=null})),He())},i(e){o||(We(t.$$.fragment,e),We(s),o=!0)},o(e){Ye(t.$$.fragment,e),Ye(s),o=!1},d(e){tt(t,e),e&&Y(u),s&&s.d(e),e&&Y(r)}}}(e);const se=[Ac,bc],ce=[];function le(e,t){return"add"!=e[0]?0:1}w=le(e),_=ce[w]=se[w](e),k=new Bs({props:{op:e[9]}}),S=new Bs({props:{op:e[11]}});let de="add"!=e[0]&&Fc(e);return{c(){t=K("form"),Xe(n.$$.fragment),r=V(),Xe(o.$$.fragment),a=V(),Xe(s.$$.fragment),l=V(),f.c(),p=V(),Xe(D.$$.fragment),m=V(),Xe(g.$$.fragment),$=V(),Xe(y.$$.fragment),A=V(),ie&&ie.c(),E=V(),ae&&ae.c(),C=V(),F=K("div"),_.c(),B=V(),Xe(k.$$.fragment),x=V(),Xe(S.$$.fragment),O=V(),de&&de.c(),te(F,"class","form-actions"),te(t,"method","post")},m(u,i){W(u,t,i),et(n,t,null),z(t,r),et(o,t,null),z(t,a),et(s,t,null),z(t,l),H[d].m(t,null),z(t,p),et(D,t,null),z(t,m),et(g,t,null),z(t,$),et(y,t,null),z(t,A),ie&&ie.m(t,null),z(t,E),ae&&ae.m(t,null),z(t,C),z(t,F),ce[w].m(F,null),z(t,B),et(k,t,null),z(t,x),et(S,t,null),z(t,O),de&&de.m(t,null),N=!0,j||(R=X(t,"submit",ee(e[13])),j=!0)},p(e,r){const a={};32&r[0]&&(a.placeholder=e[5]("Ex: irc.libera.chat:6697")),32&r[0]|32&r[1]&&(a.$$scope={dirty:r,ctx:e}),!u&&4&r[0]&&(u=!0,a.value=e[2].host,je((()=>u=!1))),n.$set(a);const l={};32&r[0]&&(l.placeholder=e[5]("Ex: superman")),32&r[0]|32&r[1]&&(l.$$scope={dirty:r,ctx:e}),!i&&4&r[0]&&(i=!0,l.value=e[2].nick,je((()=>i=!1))),o.$set(l);const m={};32&r[0]&&(m.placeholder=e[5]("Ex: Clark Kent")),32&r[0]|32&r[1]&&(m.$$scope={dirty:r,ctx:e}),!c&&4&r[0]&&(c=!0,m.value=e[2].realname,je((()=>c=!1))),s.$set(m);let $=d;d=G(e),d===$?H[d].p(e,r):(qe(),Ye(H[$],1,1,(()=>{H[$]=null})),He(),f=H[d],f?f.p(e,r):(f=H[d]=q[d](e),f.c()),We(f,1),f.m(t,p));const A={};32&r[0]|32&r[1]&&(A.$$scope={dirty:r,ctx:e}),!h&&4&r[0]&&(h=!0,A.value=e[2].tls,je((()=>h=!1))),D.$set(A);const C={};4&r[0]&&(C.disabled=!e[2].tls),4&r[0]&&(C.hidden=!e[2].tls),32&r[0]|32&r[1]&&(C.$$scope={dirty:r,ctx:e}),!v&&4&r[0]&&(v=!0,C.value=e[2].tls_verify,je((()=>v=!1))),g.$set(C);const B={};32&r[0]|32&r[1]&&(B.$$scope={dirty:r,ctx:e}),!b&&8&r[0]&&(b=!0,B.value=e[3],je((()=>b=!1))),y.$set(B),e[3]?ie?(ie.p(e,r),8&r[0]&&We(ie,1)):(ie=ic(e),ie.c(),We(ie,1),ie.m(t,E)):ie&&(qe(),Ye(ie,1,1,(()=>{ie=null})),He()),e[7].forced_connection||ae.p(e,r);let k=w;w=le(e),w===k?ce[w].p(e,r):(qe(),Ye(ce[k],1,1,(()=>{ce[k]=null})),He(),_=ce[w],_?_.p(e,r):(_=ce[w]=se[w](e),_.c()),We(_,1),_.m(F,null)),"add"!=e[0]?de?(de.p(e,r),1&r[0]&&We(de,1)):(de=Fc(e),de.c(),We(de,1),de.m(t,null)):de&&(qe(),Ye(de,1,1,(()=>{de=null})),He())},i(e){N||(We(n.$$.fragment,e),We(o.$$.fragment,e),We(s.$$.fragment,e),We(f),We(D.$$.fragment,e),We(g.$$.fragment,e),We(y.$$.fragment,e),We(ie),We(ae),We(_),We(k.$$.fragment,e),We(S.$$.fragment,e),We(de),N=!0)},o(e){Ye(n.$$.fragment,e),Ye(o.$$.fragment,e),Ye(s.$$.fragment,e),Ye(f),Ye(D.$$.fragment,e),Ye(g.$$.fragment,e),Ye(y.$$.fragment,e),Ye(ie),Ye(ae),Ye(_),Ye(k.$$.fragment,e),Ye(S.$$.fragment,e),Ye(de),N=!1},d(e){e&&Y(t),tt(n),tt(o),tt(s),H[d].d(),tt(D),tt(g),tt(y),ie&&ie.d(),ae&&ae.d(),ce[w].d(),tt(k),tt(S),de&&de.d(),j=!1,R()}}}function kc(e,t,n){let u,r,o;B(e,_a,(e=>n(5,r=e))),B(e,Ba,(e=>n(6,o=e)));let{id:i="add"}=t,{is_page:a=!1}=t;const s=Ee("api"),c=Ee("user");B(e,c,(e=>n(32,u=e)));const l=s("createConnection"),d=s("removeConnection"),f=s("updateConnection");let p="",D={},h={},m=!1,g=!1;function v(e){const t=e.url?e.url.toFields():{};Qt.array(e.on_connect_commands)&&(t.on_connect_commands=e.on_connect_commands.join("\n")),t.nick||(t.nick=c.email.replace(/@.*/,"").replace(/\W/g,"_")),t.want_to_be_connected="disconnected"!=e.wanted_state,n(2,h={...h,...t,fingerprint:e.certificate.fingerprint||""})}return $e((()=>{D="add"==i?{}:u.findConversation({connection_id:i})||{},D.connection_id?v(D):function(){const e=new Es(sa.query.uri||c.default_connection||"irc://localhost").toFields();c.connections.size&&!sa.query.uri&&(e.host="");e.nick||(e.nick=c.email.replace(/@.*/,"").replace(/\W/g,"_"));n(2,h={...h,...e,want_to_be_connected:!0})}()})),e.$$set=e=>{"id"in e&&n(0,i=e.id),"is_page"in e&&n(14,a=e.is_page)},[i,p,h,m,g,r,o,c,[["none","None"],["plain","Plain"],["external","External"]],l,d,f,async function(){await d.perform(D),c.removeConversation(D),sa.go("/settings/connections")},async function(){if(n(2,h.on_connect_commands=(h.on_connect_commands||"").split(/\n\r?/).filter((e=>e.length)),h),n(2,h.url=new Es("irc://localhost").fromFields(h).toString(),h),D.connection_id)n(2,h.connection_id=D.connection_id,h),n(2,h.wanted_state=h.want_to_be_connected?"connected":"disconnected",h),await f.perform(h),D=c.ensureConversation(f.res.body),v(D);else{await l.perform(h);const e=l.res.body;e.connection_id&&sa.go(c.ensureConversation(e).path)}a&&sa.go("/settings/connections")},a,function(t){e.$$.not_equal(h.host,t)&&(h.host=t,n(2,h))},function(t){e.$$.not_equal(h.nick,t)&&(h.nick=t,n(2,h))},function(t){e.$$.not_equal(h.realname,t)&&(h.realname=t,n(2,h))},function(t){e.$$.not_equal(h.want_to_be_connected,t)&&(h.want_to_be_connected=t,n(2,h))},function(t){e.$$.not_equal(h.conversation_id,t)&&(h.conversation_id=t,n(2,h))},function(t){e.$$.not_equal(h.tls,t)&&(h.tls=t,n(2,h))},function(t){e.$$.not_equal(h.tls_verify,t)&&(h.tls_verify=t,n(2,h))},function(e){m=e,n(3,m)},function(t){e.$$.not_equal(h.on_connect_commands,t)&&(h.on_connect_commands=t,n(2,h))},function(t){e.$$.not_equal(h.local_address,t)&&(h.local_address=t,n(2,h))},function(e){g=e,n(4,g)},function(t){e.$$.not_equal(h.username,t)&&(h.username=t,n(2,h))},function(t){e.$$.not_equal(h.fingerprint,t)&&(h.fingerprint=t,n(2,h))},function(t){e.$$.not_equal(h.password,t)&&(h.password=t,n(2,h))},function(t){e.$$.not_equal(h.sasl,t)&&(h.sasl=t,n(2,h))},function(e){p=e,n(1,p)}]}class xc extends rt{constructor(e){super(),ut(this,e,kc,Bc,w,{id:0,is_page:14},null,[-1,-1])}}function Sc(e){let t,n,u=e[4]("Currently connecting to %1.",e[3])+"";return{c(){t=K("p"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){24&t&&u!==(u=e[4]("Currently connecting to %1.",e[3])+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Oc(e){let t,n,u=e[4]("Currently connected to %1.",e[3])+"";return{c(){t=K("p"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){24&t&&u!==(u=e[4]("Currently connected to %1.",e[3])+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Nc(e){let t,n,u=e[4]("Currently disconnected from %1.",e[3])+"";return{c(){t=K("p"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){24&t&&u!==(u=e[4]("Currently disconnected from %1.",e[3])+"")&&ue(n,u)},d(e){e&&Y(t)}}}function jc(e){let t,n,u=e[4]("Connection not found.")+"";return{c(){t=K("p"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Connection not found.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Rc(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m=e[4]("Connection")+"";function g(e,t){return e[2].url?"disconnected"==e[2].state?Nc:"connected"==e[2].state?Oc:Sc:jc}a=new dt({props:{name:"bars"}}),s=new dt({props:{name:"times"}});let v=g(e),$=v(e);return d=new xc({props:{id:e[0].connection_id}}),{c(){t=K("div"),n=K("div"),u=K("h2"),r=J(m),o=V(),i=K("a"),Xe(a.$$.fragment),Xe(s.$$.fragment),c=V(),$.c(),l=V(),Xe(d.$$.fragment),te(i,"href","#settings"),te(i,"class","btn-hallow can-toggle is-active"),te(n,"class","sidebar-header"),te(t,"class","sidebar-left")},m(e,f){W(e,t,f),z(t,n),z(n,u),z(u,r),z(n,o),z(n,i),et(a,i,null),et(s,i,null),z(t,c),$.m(t,null),z(t,l),et(d,t,null),p=!0,D||(h=X(i,"click",vt.toggle),D=!0)},p(n,[u]){e=n,(!p||16&u)&&m!==(m=e[4]("Connection")+"")&&ue(r,m),v===(v=g(e))&&$?$.p(e,u):($.d(1),$=v(e),$&&($.c(),$.m(t,l)));const o={};1&u&&(o.id=e[0].connection_id),d.$set(o)},i(n){p||(We(a.$$.fragment,n),We(s.$$.fragment,n),We(d.$$.fragment,n),Ne((()=>{f||(f=Ke(t,La,e[1],!0)),f.run(1)})),p=!0)},o(n){Ye(a.$$.fragment,n),Ye(s.$$.fragment,n),Ye(d.$$.fragment,n),f||(f=Ke(t,La,e[1],!1)),f.run(0),p=!1},d(e){e&&Y(t),tt(a),tt(s),$.d(),tt(d),e&&f&&f.end(),D=!1,h()}}}function Tc(e,t,n){let u,r;B(e,_a,(e=>n(4,r=e)));let{conversation:o={}}=t,{transition:i}=t;const a=Ee("user");let s={};return $e((async()=>{n(2,s=a.findConversation({connection_id:o.connection_id})||{})})),e.$$set=e=>{"conversation"in e&&n(0,o=e.conversation),"transition"in e&&n(1,i=e.transition)},e.$$.update=()=>{4&e.$$.dirty&&n(3,u=s.real_host||s.url&&s.url.host)},[o,i,s,u,r]}class Pc extends rt{constructor(e){super(),ut(this,e,Tc,Rc,w,{conversation:0,transition:1})}}function Lc(e){let t,n,u,r;const o=e[9].default,i=k(o,e,e[8],null);return{c(){t=K("a"),i&&i.c(),te(t,"href",e[2]),te(t,"class",e[0]),te(t,"style",e[1]),ae(t,"has-path",e[4])},m(o,a){W(o,t,a),i&&i.m(t,null),e[11](t),n=!0,u||(r=X(t,"click",e[10]),u=!0)},p(e,[u]){i&&i.p&&(!n||256&u)&&O(i,o,e,e[8],n?S(o,e[8],u,null):N(e[8]),null),(!n||4&u)&&te(t,"href",e[2]),(!n||1&u)&&te(t,"class",e[0]),(!n||2&u)&&te(t,"style",e[1]),(!n||17&u)&&ae(t,"has-path",e[4])},i(e){n||(We(i,e),n=!0)},o(e){Ye(i,e),n=!1},d(n){n&&Y(t),i&&i.d(n),e[11](null),u=!1,r()}}}function Mc(e,t,n){let u,r,o;B(e,sa,(e=>n(7,o=e)));let i,{$$slots:a={},$$scope:s}=t,{class:c=""}=t,{href:l="/"}=t,{style:d=""}=t;return e.$$set=e=>{"class"in e&&n(0,c=e.class),"href"in e&&n(5,l=e.href),"style"in e&&n(1,d=e.style),"$$scope"in e&&n(8,s=e.$$scope)},e.$$.update=()=>{160&e.$$.dirty&&n(2,u=0==l.indexOf("/")?o.basePath+l:l),132&e.$$.dirty&&n(4,r=o.basePath+o.path==u.replace(/(#|\?).*/,""))},[c,d,u,i,r,l,()=>i.focus(),o,s,a,function(t){Ce.call(this,e,t)},function(e){we[e?"unshift":"push"]((()=>{i=e,n(3,i)}))}]}class Ic extends rt{constructor(e){super(),ut(this,e,Mc,Lc,w,{class:0,href:5,style:1,focus:6})}get focus(){return this.$$.ctx[6]}}function Uc(e){if(!e.nick)return["Loading..."];var t=Object.keys(e.channels||{}).sort(),n=[e.nick,e.name||e.user],u="%1 (%2)";return e.away&&(u+=" is away (%3) and",n.push(e.away)),e.idle_for&&t.length?(u+=" has been idle for %4s in %5.",n.push(e.idle_for),n.push(t.sort().join(", "))):e.idle_for&&!t.length?(u+=" has been idle for %4s, and is not in any channels.",n.push(e.idle_for)):t.length?(u+=" is active in %4.",n.push(t.join(", "))):u+=" is not in any channels.",e.away||(u=u.replace(/%(4|5)/g,(function(e,t){return"%"+(t-1)}))),[u].concat(n)}function zc(e){var t=["","chat",e.connection_id];return e.conversation_id&&t.push(e.conversation_id),sa.urlFor(t.map(encodeURIComponent).join("/")+"#"+e.ts.toISOString())}function qc(e){e.target.closest("a")||(e.preventDefault(),sa.go(e.target.closest(".message").querySelector("a").href))}function Hc(e,t){var n=t.conversation,u=t.timestampFromUrl,r=e.detail,o=r.infinityEl,i=r.scrollHeightChanged,a=r.scrollTo,s=r.visibleEls,c=r.visibleElsChanged,l=n.messages;!(o.scrollHeight>o.offsetHeight)&&l.length&&n.load({before:l.get(0).ts.toISOString()}),i&&(a(sa.hash?'.message[data-ts="'+sa.hash+'"]':-1),function(e,t){var n=t&&sa.hash&&e.querySelector('.message[data-ts="'+sa.hash+'"]');nn(e,".has-focus",(function(e){return e.classList.remove("has-focus")})),n&&n.classList.add("has-focus")}(o,u==sa.hash)),c&&s.forEach((function(e){return l.render(e.dataset.index)}))}function Wc(e,t){return t.is("not_found")?"":e.frozen?e.frozen:e==t?"Connection messages.":t.info.away?t.info.away:t.info.idle_for?wa.l("User has been idle for %1s.",t.info.idle_for):(t.frozen?t.frozen:t.topic)||(t.is("private")?"Private conversation.":"No topic is set.")}var Yc={b:"channel_ban",C:"ctcp_block",c:"colour_filter",e:"ban_exemption",F:"enable_forwarding",f:"forward",g:"free_invite",i:"invite_only",I:"invite_exemption",j:"join_throttle",k:"password",l:"join_limit",L:"large_ban_list",m:"moderated",M:"login_to_talk",n:"prevent_external_send",P:"permanent",p:"privat",Q:"block_forwarded_users",q:"quiet",r:"block_unidentified",R:"login_to_join",s:"secret",S:"secure_connection_only",t:"topic_protection"};function Gc(e){return Yc[e]?Yc[e]:Object.keys(Yc).filter((function(t){return e==Yc[t]}))[0]||""}var Kc={a:"admin",B:"bot",h:"half_operator",i:"invisible",I:"whois_hide_online",o:"operator",p:"whois_hide_channels",R:"privmsg_from_registered_only",r:"registered",S:"service_bot",T:"ctcp_block",t:"vhost",v:"voice",W:"whois_notifications",x:"cloaked_hostname",z:"secure_connection",Z:"secure_connection_only"};function Zc(e,t,n){const u=e.slice();return u[31]=t[n],u}function Jc(e){let t,n=e[12]("You are not a channel operator in %1.",e[0].name)+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){4097&u[0]&&n!==(n=e[12]("You are not a channel operator in %1.",e[0].name)+"")&&ue(t,n)},d(e){e&&Y(t)}}}function Vc(e){let t,n=e[12]("You are channel operator in %1.",e[0].name)+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){4097&u[0]&&n!==(n=e[12]("You are channel operator in %1.",e[0].name)+"")&&ue(t,n)},d(e){e&&Y(t)}}}function Qc(e){let t,n,u,r,o,i,a,s,c=e[13](...Uc(e[3].info))+"",l=e[12]("Update information")+"";return{c(){t=K("span"),n=V(),u=K("br"),r=K("small"),o=K("a"),i=J(l),te(o,"href","#update")},m(l,d){W(l,t,d),t.innerHTML=c,W(l,n,d),W(l,u,d),W(l,r,d),z(r,o),z(o,i),a||(s=X(o,"click",ee(e[18])),a=!0)},p(e,n){8200&n[0]&&c!==(c=e[13](...Uc(e[3].info))+"")&&(t.innerHTML=c),4096&n[0]&&l!==(l=e[12]("Update information")+"")&&ue(i,l)},d(e){e&&Y(t),e&&Y(n),e&&Y(u),e&&Y(r),a=!1,s()}}}function Xc(e){let t,n=e[12]("Conversation with %1 is frozen. Reason: %2",e[0].name,e[12](e[0].frozen))+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){4097&u[0]&&n!==(n=e[12]("Conversation with %1 is frozen. Reason: %2",e[0].name,e[12](e[0].frozen))+"")&&ue(t,n)},d(e){e&&Y(t)}}}function el(e){let t,n,u,r;const o=[nl,tl],i=[];function a(e,t){return e[9]||!e[3].modes.topic_protection?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),u=Q()},m(e,n){i[t].m(e,n),W(e,u,n),r=!0},p(e,r){let s=t;t=a(e),t===s?i[t].p(e,r):(qe(),Ye(i[s],1,1,(()=>{i[s]=null})),He(),n=i[t],n?n.p(e,r):(n=i[t]=o[t](e),n.c()),We(n,1),n.m(u.parentNode,u))},i(e){r||(We(n),r=!0)},o(e){Ye(n),r=!1},d(e){i[t].d(e),e&&Y(u)}}}function tl(e){let t,n,u,r,o,i=e[12]("Topic")+"",a=e[13](e[0].topic||"No topic is set.")+"";return{c(){t=K("div"),n=K("label"),u=J(i),r=V(),o=K("div"),te(n,"for","nothing"),te(o,"class","input"),te(t,"class","text-field")},m(e,i){W(e,t,i),z(t,n),z(n,u),z(t,r),z(t,o),o.innerHTML=a},p(e,t){4096&t[0]&&i!==(i=e[12]("Topic")+"")&&ue(u,i),8193&t[0]&&a!==(a=e[13](e[0].topic||"No topic is set.")+"")&&(o.innerHTML=a)},i:y,o:y,d(e){e&&Y(t)}}}function nl(e){let t,n,u;function r(t){e[19](t)}let o={name:"topic",placeholder:e[12]("No topic is set."),$$slots:{label:[ul]},$$scope:{ctx:e}};return void 0!==e[7]&&(o.value=e[7]),t=new Is({props:o}),we.push((()=>Qe(t,"value",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};4096&u[0]&&(r.placeholder=e[12]("No topic is set.")),4096&u[0]|8&u[1]&&(r.$$scope={dirty:u,ctx:e}),!n&&128&u[0]&&(n=!0,r.value=e[7],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function ul(e){let t,n,u=e[12]("Topic")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4096&t[0]&&u!==(u=e[12]("Topic")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function rl(e){let t,n,u;function r(t){e[20](t)}let o={name:"want_notifications",$$slots:{label:[ol]},$$scope:{ctx:e}};return void 0!==e[8]&&(o.value=e[8]),t=new As({props:o}),we.push((()=>Qe(t,"value",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};4096&u[0]|8&u[1]&&(r.$$scope={dirty:u,ctx:e}),!n&&256&u[0]&&(n=!0,r.value=e[8],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function ol(e){let t,n,u=e[12]("Notify me on new messages")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4096&t[0]&&u!==(u=e[12]("Notify me on new messages")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function il(e){let t,n,u=e[12]("Show raw messages")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4096&t[0]&&u!==(u=e[12]("Show raw messages")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function al(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A=e[12]("Conversation modes")+"";function E(t){e[22](t)}let C={badge:!0,name:"invite_only",disabled:!e[9],$$slots:{label:[sl]},$$scope:{ctx:e}};function F(t){e[23](t)}void 0!==e[4].invite_only&&(C.value=e[4].invite_only),o=new As({props:C}),we.push((()=>Qe(o,"value",E)));let w={badge:!0,name:"moderated",disabled:!e[9],$$slots:{label:[cl]},$$scope:{ctx:e}};function _(t){e[24](t)}void 0!==e[4].moderated&&(w.value=e[4].moderated),s=new As({props:w}),we.push((()=>Qe(s,"value",F)));let B={badge:!0,name:"prevent_external_send",disabled:!e[9],$$slots:{label:[ll]},$$scope:{ctx:e}};function k(t){e[25](t)}void 0!==e[4].prevent_external_send&&(B.value=e[4].prevent_external_send),d=new As({props:B}),we.push((()=>Qe(d,"value",_)));let x={badge:!0,name:"topic_protection",disabled:!e[9],$$slots:{label:[dl]},$$scope:{ctx:e}};function S(t){e[26](t)}void 0!==e[4].topic_protection&&(x.value=e[4].topic_protection),D=new As({props:x}),we.push((()=>Qe(D,"value",k)));let O={badge:!0,name:"password",disabled:!e[9],$$slots:{label:[fl]},$$scope:{ctx:e}};void 0!==e[4].password&&(O.value=e[4].password),g=new As({props:O}),we.push((()=>Qe(g,"value",S)));let N=e[4].password&&pl(e),j=!e[9]&&hl(e);return{c(){t=K("nav"),n=K("h3"),u=J(A),r=V(),Xe(o.$$.fragment),a=V(),Xe(s.$$.fragment),l=V(),Xe(d.$$.fragment),p=V(),Xe(D.$$.fragment),m=V(),Xe(g.$$.fragment),$=V(),N&&N.c(),y=V(),j&&j.c(),te(t,"class","sidebar-left__nav")},m(e,i){W(e,t,i),z(t,n),z(n,u),z(t,r),et(o,t,null),z(t,a),et(s,t,null),z(t,l),et(d,t,null),z(t,p),et(D,t,null),z(t,m),et(g,t,null),z(t,$),N&&N.m(t,null),z(t,y),j&&j.m(t,null),b=!0},p(e,n){(!b||4096&n[0])&&A!==(A=e[12]("Conversation modes")+"")&&ue(u,A);const r={};512&n[0]&&(r.disabled=!e[9]),4112&n[0]|8&n[1]&&(r.$$scope={dirty:n,ctx:e}),!i&&16&n[0]&&(i=!0,r.value=e[4].invite_only,je((()=>i=!1))),o.$set(r);const a={};512&n[0]&&(a.disabled=!e[9]),4112&n[0]|8&n[1]&&(a.$$scope={dirty:n,ctx:e}),!c&&16&n[0]&&(c=!0,a.value=e[4].moderated,je((()=>c=!1))),s.$set(a);const l={};512&n[0]&&(l.disabled=!e[9]),4112&n[0]|8&n[1]&&(l.$$scope={dirty:n,ctx:e}),!f&&16&n[0]&&(f=!0,l.value=e[4].prevent_external_send,je((()=>f=!1))),d.$set(l);const p={};512&n[0]&&(p.disabled=!e[9]),4112&n[0]|8&n[1]&&(p.$$scope={dirty:n,ctx:e}),!h&&16&n[0]&&(h=!0,p.value=e[4].topic_protection,je((()=>h=!1))),D.$set(p);const m={};512&n[0]&&(m.disabled=!e[9]),4112&n[0]|8&n[1]&&(m.$$scope={dirty:n,ctx:e}),!v&&16&n[0]&&(v=!0,m.value=e[4].password,je((()=>v=!1))),g.$set(m),e[4].password?N?(N.p(e,n),16&n[0]&&We(N,1)):(N=pl(e),N.c(),We(N,1),N.m(t,y)):N&&(qe(),Ye(N,1,1,(()=>{N=null})),He()),e[9]?j&&(j.d(1),j=null):j?j.p(e,n):(j=hl(e),j.c(),j.m(t,null))},i(e){b||(We(o.$$.fragment,e),We(s.$$.fragment,e),We(d.$$.fragment,e),We(D.$$.fragment,e),We(g.$$.fragment,e),We(N),b=!0)},o(e){Ye(o.$$.fragment,e),Ye(s.$$.fragment,e),Ye(d.$$.fragment,e),Ye(D.$$.fragment,e),Ye(g.$$.fragment,e),Ye(N),b=!1},d(e){e&&Y(t),tt(o),tt(s),tt(d),tt(D),tt(g),N&&N.d(),j&&j.d()}}}function sl(e){let t,n,u,r,o,i,a=e[12]("Invite only")+"",s=e[4].invite_only?"+":"-",c=Gc("invite_only")+"";return{c(){t=K("span"),n=J(a),u=V(),r=K("b"),o=J(s),i=J(c),te(r,"class","badge"),te(t,"slot","label")},m(e,a){W(e,t,a),z(t,n),z(t,u),z(t,r),z(r,o),z(r,i)},p(e,t){4096&t[0]&&a!==(a=e[12]("Invite only")+"")&&ue(n,a),16&t[0]&&s!==(s=e[4].invite_only?"+":"-")&&ue(o,s)},d(e){e&&Y(t)}}}function cl(e){let t,n,u,r,o,i,a=e[12]("Moderated")+"",s=e[4].moderated?"+":"-",c=Gc("moderated")+"";return{c(){t=K("span"),n=J(a),u=V(),r=K("b"),o=J(s),i=J(c),te(r,"class","badge"),te(t,"slot","label")},m(e,a){W(e,t,a),z(t,n),z(t,u),z(t,r),z(r,o),z(r,i)},p(e,t){4096&t[0]&&a!==(a=e[12]("Moderated")+"")&&ue(n,a),16&t[0]&&s!==(s=e[4].moderated?"+":"-")&&ue(o,s)},d(e){e&&Y(t)}}}function ll(e){let t,n,u,r,o,i,a=e[12]("Prevent external send")+"",s=e[4].prevent_external_send?"+":"-",c=Gc("prevent_external_send")+"";return{c(){t=K("span"),n=J(a),u=V(),r=K("b"),o=J(s),i=J(c),te(r,"class","badge"),te(t,"slot","label")},m(e,a){W(e,t,a),z(t,n),z(t,u),z(t,r),z(r,o),z(r,i)},p(e,t){4096&t[0]&&a!==(a=e[12]("Prevent external send")+"")&&ue(n,a),16&t[0]&&s!==(s=e[4].prevent_external_send?"+":"-")&&ue(o,s)},d(e){e&&Y(t)}}}function dl(e){let t,n,u,r,o,i,a=e[12]("Protected topic")+"",s=e[4].topic_protection?"+":"-",c=Gc("topic_protection")+"";return{c(){t=K("span"),n=J(a),u=V(),r=K("b"),o=J(s),i=J(c),te(r,"class","badge"),te(t,"slot","label")},m(e,a){W(e,t,a),z(t,n),z(t,u),z(t,r),z(r,o),z(r,i)},p(e,t){4096&t[0]&&a!==(a=e[12]("Protected topic")+"")&&ue(n,a),16&t[0]&&s!==(s=e[4].topic_protection?"+":"-")&&ue(o,s)},d(e){e&&Y(t)}}}function fl(e){let t,n,u,r,o,i,a=e[12]("Password")+"",s=e[4].password?"+":"-",c=Gc("password")+"";return{c(){t=K("span"),n=J(a),u=V(),r=K("b"),o=J(s),i=J(c),te(r,"class","badge"),te(t,"slot","label")},m(e,a){W(e,t,a),z(t,n),z(t,u),z(t,r),z(r,o),z(r,i)},p(e,t){4096&t[0]&&a!==(a=e[12]("Password")+"")&&ue(n,a),16&t[0]&&s!==(s=e[4].password?"+":"-")&&ue(o,s)},d(e){e&&Y(t)}}}function pl(e){let t,n,u;function r(t){e[27](t)}let o={type:"password",name:"password",$$slots:{label:[Dl]},$$scope:{ctx:e}};return void 0!==e[5]&&(o.value=e[5]),t=new Ks({props:o}),we.push((()=>Qe(t,"value",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};4096&u[0]|8&u[1]&&(r.$$scope={dirty:u,ctx:e}),!n&&32&u[0]&&(n=!0,r.value=e[5],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Dl(e){let t,n,u=e[12]("Password")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4096&t[0]&&u!==(u=e[12]("Password")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function hl(e){let t,n,u,r=e[12]("Only operators can change modes.")+"";return{c(){t=K("p"),n=K("i"),u=J(r)},m(e,r){W(e,t,r),z(t,n),z(n,u)},p(e,t){4096&t[0]&&r!==(r=e[12]("Only operators can change modes.")+"")&&ue(u,r)},d(e){e&&Y(t)}}}function ml(e){let t,n,u=e[12]("Save")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){4096&t[0]&&u!==(u=e[12]("Save")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function gl(e){let t,n,u=e[12]("Leave")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){4096&t[0]&&u!==(u=e[12]("Leave")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function vl(e){let t,n,u,r,o,i=e[12]("Participants (%1)",e[2].length)+"",a=e[2].toArray(),s=[];for(let t=0;t<a.length;t+=1)s[t]=yl(Zc(e,a,t));const c=e=>Ye(s[e],1,1,(()=>{s[e]=null}));return{c(){t=K("nav"),n=K("h3"),u=J(i),r=V();for(let e=0;e<s.length;e+=1)s[e].c();te(t,"class","sidebar-left__nav")},m(e,i){W(e,t,i),z(t,n),z(n,u),z(t,r);for(let e=0;e<s.length;e+=1)s[e].m(t,null);o=!0},p(e,n){if((!o||4100&n[0])&&i!==(i=e[12]("Participants (%1)",e[2].length)+"")&&ue(u,i),5&n[0]){let u;for(a=e[2].toArray(),u=0;u<a.length;u+=1){const r=Zc(e,a,u);s[u]?(s[u].p(r,n),We(s[u],1)):(s[u]=yl(r),s[u].c(),We(s[u],1),s[u].m(t,null))}for(qe(),u=a.length;u<s.length;u+=1)c(u);He()}},i(e){if(!o){for(let e=0;e<a.length;e+=1)We(s[e]);o=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)Ye(s[e]);o=!1},d(e){e&&Y(t),G(s,e)}}}function $l(e){let t,n,u,r=e[31].nick+"";return{c(){t=K("div"),n=J(r),u=V()},m(e,r){W(e,t,r),z(t,n),W(e,u,r)},p(e,t){4&t[0]&&r!==(r=e[31].nick+"")&&ue(n,r)},d(e){e&&Y(t),e&&Y(u)}}}function yl(e){let t,n;return t=new Ic({props:{href:"/chat/"+e[0].connection_id+"/"+encodeURIComponent(e[31].nick),class:"participant "+en(e[31].modes),$$slots:{default:[$l]},$$scope:{ctx:e}}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};5&n[0]&&(u.href="/chat/"+e[0].connection_id+"/"+encodeURIComponent(e[31].nick)),4&n[0]&&(u.class="participant "+en(e[31].modes)),4&n[0]|8&n[1]&&(u.$$scope={dirty:n,ctx:e}),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function bl(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,F,w,_,B,k,x,S=e[12]("Conversation")+"",O=e[3].hasOwnProperty("wantNotifications");function N(e,t){return e[3].frozen?Xc:e[10]?Qc:e[9]?Vc:Jc}a=new dt({props:{name:"bars"}}),s=new dt({props:{name:"times"}});let j=N(e),R=j(e),T=!e[10]&&el(e),P=O&&rl(e);function L(t){e[21](t)}let M={name:"raw_messages",$$slots:{label:[il]},$$scope:{ctx:e}};void 0!==e[6]&&(M.value=e[6]),h=new As({props:M}),we.push((()=>Qe(h,"value",L)));let I=!e[10]&&al(e);y=new ms({props:{icon:"save",$$slots:{default:[ml]},$$scope:{ctx:e}}}),A=new ms({props:{type:"button",icon:"sign-out-alt",$$slots:{default:[gl]},$$scope:{ctx:e}}}),A.$on("click",e[16]),F=new Bs({props:{op:e[15]}});let U=!e[0].frozen&&e[14].hasRightColumn&&vl(e);return{c(){t=K("div"),n=K("div"),u=K("h2"),r=J(S),o=V(),i=K("a"),Xe(a.$$.fragment),Xe(s.$$.fragment),c=V(),l=K("p"),R.c(),d=V(),f=K("form"),T&&T.c(),p=V(),P&&P.c(),D=V(),Xe(h.$$.fragment),g=V(),I&&I.c(),v=V(),$=K("div"),Xe(y.$$.fragment),b=V(),Xe(A.$$.fragment),E=V(),Xe(F.$$.fragment),w=V(),U&&U.c(),te(i,"href","#settings"),te(i,"class","btn-hallow can-toggle is-active"),te(n,"class","sidebar-header"),te($,"class","form-actions"),te(f,"method","post"),te(t,"class","sidebar-left")},m(m,C){W(m,t,C),z(t,n),z(n,u),z(u,r),z(n,o),z(n,i),et(a,i,null),et(s,i,null),z(t,c),z(t,l),R.m(l,null),z(t,d),z(t,f),T&&T.m(f,null),z(f,p),P&&P.m(f,null),z(f,D),et(h,f,null),z(f,g),I&&I.m(f,null),z(f,v),z(f,$),et(y,$,null),z($,b),et(A,$,null),z(f,E),et(F,f,null),z(t,w),U&&U.m(t,null),B=!0,k||(x=[X(i,"click",vt.toggle),X(f,"submit",ee(e[17]))],k=!0)},p(n,u){e=n,(!B||4096&u[0])&&S!==(S=e[12]("Conversation")+"")&&ue(r,S),j===(j=N(e))&&R?R.p(e,u):(R.d(1),R=j(e),R&&(R.c(),R.m(l,null))),e[10]?T&&(qe(),Ye(T,1,1,(()=>{T=null})),He()):T?(T.p(e,u),1024&u[0]&&We(T,1)):(T=el(e),T.c(),We(T,1),T.m(f,p)),8&u[0]&&(O=e[3].hasOwnProperty("wantNotifications")),O?P?(P.p(e,u),8&u[0]&&We(P,1)):(P=rl(e),P.c(),We(P,1),P.m(f,D)):P&&(qe(),Ye(P,1,1,(()=>{P=null})),He());const o={};4096&u[0]|8&u[1]&&(o.$$scope={dirty:u,ctx:e}),!m&&64&u[0]&&(m=!0,o.value=e[6],je((()=>m=!1))),h.$set(o),e[10]?I&&(qe(),Ye(I,1,1,(()=>{I=null})),He()):I?(I.p(e,u),1024&u[0]&&We(I,1)):(I=al(e),I.c(),We(I,1),I.m(f,v));const i={};4096&u[0]|8&u[1]&&(i.$$scope={dirty:u,ctx:e}),y.$set(i);const a={};4096&u[0]|8&u[1]&&(a.$$scope={dirty:u,ctx:e}),A.$set(a),!e[0].frozen&&e[14].hasRightColumn?U?(U.p(e,u),16385&u[0]&&We(U,1)):(U=vl(e),U.c(),We(U,1),U.m(t,null)):U&&(qe(),Ye(U,1,1,(()=>{U=null})),He())},i(n){B||(We(a.$$.fragment,n),We(s.$$.fragment,n),We(T),We(P),We(h.$$.fragment,n),We(I),We(y.$$.fragment,n),We(A.$$.fragment,n),We(F.$$.fragment,n),We(U),Ne((()=>{_||(_=Ke(t,La,e[1],!0)),_.run(1)})),B=!0)},o(n){Ye(a.$$.fragment,n),Ye(s.$$.fragment,n),Ye(T),Ye(P),Ye(h.$$.fragment,n),Ye(I),Ye(y.$$.fragment,n),Ye(A.$$.fragment,n),Ye(F.$$.fragment,n),Ye(U),_||(_=Ke(t,La,e[1],!1)),_.run(0),B=!1},d(e){e&&Y(t),tt(a),tt(s),R.d(),T&&T.d(),P&&P.d(),tt(h),I&&I.d(),tt(y),tt(A),tt(F),U&&U.d(),e&&_&&_.end(),k=!1,C(x)}}}function Al(e,t,n){let u,r,o,i,a,s,c,l,d,f=y,p=y,D=()=>(p(),p=_(h,(e=>n(3,s=e))),h);B(e,vt,(e=>n(28,i=e))),B(e,_a,(e=>n(12,c=e))),B(e,Ba,(e=>n(13,l=e))),B(e,$t,(e=>n(14,d=e))),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>p()));let{conversation:h}=t;D();let{transition:m}=t;const g=new Da({api:!1,id:"saveConversationSettings"});let v={invite_only:!1,moderated:!1,password:!1,prevent_external_send:!1,topic_protection:!1},$="",b=!1,A="",E=!1;return $e((async()=>{0!=Object.keys(h.modes).length||r||await new Promise((e=>h.send("/mode",e))),await Oe(),n(4,v=Object.assign({},v,h.modes)),n(6,b=h.messages.raw),n(7,A=h.topic),n(8,E=h.wantNotifications)})),e.$$set=e=>{"conversation"in e&&D(n(0,h=e.conversation)),"transition"in e&&n(1,m=e.transition)},e.$$.update=()=>{8&e.$$.dirty[0]&&(n(11,u=s.participants),f(),f=_(u,(e=>n(2,a=e)))),8&e.$$.dirty[0]&&n(10,r=s.is("private")),4&e.$$.dirty[0]&&n(9,o=a.me().modes.operator)},[h,m,a,s,v,$,b,A,E,o,r,u,c,l,d,g,function(){h.send("/part",(e=>!e.errrors&&j(vt,i="",i)))},async function(){g.update({status:"loading"}),await g.on("update"),h.update({wantNotifications:E}),h.messages.update({raw:b}),function(){const e=[];for(const t in v)"password"==t&&v[t]?($&&h.send(o?"/mode +k "+$:"/join "+h.name+" "+$),n(5,$="")):v[t]!=(h.modes[t]||!1)&&e.push((v[t]?"+":"-")+Gc(t));o&&e.length&&h.send("/mode "+e.join(""))}(),(o||!h.modes.topic_protection)&&A!=h.topic&&h.send("/topic "+A),await Oe(),g.update({status:"success"})},function(){h.send("/whois "+h.name,(e=>e.stopPropagation()))},function(e){A=e,n(7,A)},function(e){E=e,n(8,E)},function(e){b=e,n(6,b)},function(t){e.$$.not_equal(v.invite_only,t)&&(v.invite_only=t,n(4,v))},function(t){e.$$.not_equal(v.moderated,t)&&(v.moderated=t,n(4,v))},function(t){e.$$.not_equal(v.prevent_external_send,t)&&(v.prevent_external_send=t,n(4,v))},function(t){e.$$.not_equal(v.topic_protection,t)&&(v.topic_protection=t,n(4,v))},function(t){e.$$.not_equal(v.password,t)&&(v.password=t,n(4,v))},function(e){$=e,n(5,$)}]}class El extends rt{constructor(e){super(),ut(this,e,Al,bl,w,{conversation:0,transition:1},null,[-1,-1])}}var Cl=function(){function e(){var t=this;g(this,e),this.dragAndDropEvents={drag:this._preventDefault.bind(this),dragend:this.stop.bind(this),dragenter:this.start.bind(this),dragleave:this.stop.bind(this),dragover:this.start.bind(this),dragstart:this._preventDefault.bind(this),drop:this.drop.bind(this)},this.pasteEvents={paste:this.paste.bind(this)},this.dropIndicatorEl=document.createElement("div"),this.dropIndicatorEl.className="drop-area hidden",this.removeDragOverDebounced=Kt((function(){return t._removeDragOver()}),100)}return $(e,[{key:"attach",value:function(e,t){var n=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;this.dropEl=e,this.uploader=t,this.targetEl=u,Object.keys(this.dragAndDropEvents).forEach((function(e){u.addEventListener(e,n.dragAndDropEvents[e])})),Object.keys(this.pasteEvents).forEach((function(e){document.addEventListener(e,n.pasteEvents[e])}))}},{key:"detach",value:function(){var e=this;Object.keys(this.dragAndDropEvents).forEach((function(t){e.targetEl.removeEventListener(t,e.dragAndDropEvents[t])})),Object.keys(this.pasteEvents).forEach((function(t){document.removeEventListener(t,e.pasteEvents[t])}))}},{key:"drop",value:function(e){this.stop(e),this.uploader&&this.uploader(e)}},{key:"paste",value:function(e){var t=(e.clipboardData||e.originalEvent.clipboardData).items;if(this.uploader)for(var n=0;n<t.length;n++)if("file"==t[n].kind)return this.uploader({dataTransfer:{files:[t[n].getAsFile()]}})}},{key:"stop",value:function(e){this._preventDefault(e),this.removeDragOverDebounced()}},{key:"start",value:function(e){if(this.dropEl){this._preventDefault(e);var t=this.dropIndicatorEl.style;t.height=this.dropEl.offsetHeight+"px",t.width=this.dropEl.offsetWidth+"px",t.top=this.dropEl.offsetTop+"px",t.left=this.dropEl.offsetLeft+"px",this.dropIndicatorEl.classList.remove("hidden"),this.dropEl.parentNode.appendChild(this.dropIndicatorEl)}}},{key:"_preventDefault",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"_removeDragOver",value:function(){this.dropIndicatorEl.classList.add("hidden")}}]),e}();function Fl(e){let t,n,u,r,o,i,a;const s=e[6].default,c=k(s,e,e[5],null);return{c(){t=K("main"),n=K("div"),c&&c.c(),Ne((()=>e[7].call(n))),te(t,"class",r=e[1].join(" "))},m(r,s){W(r,t,s),z(t,n),c&&c.m(n,null),u=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");var n=K("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;var u,r=ie();return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",u=X(window,"message",(function(e){e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=function(){u=X(n.contentWindow,"resize",t)}),z(e,n),function(){(r||u&&n.contentWindow)&&u(),Y(n)}}(n,e[7].bind(n)),o=!0,i||(a=R(e[2].call(null,t)),i=!0)},p(e,[n]){c&&c.p&&(!o||32&n)&&O(c,s,e,e[5],o?S(s,e[5],n,null):N(e[5]),null),(!o||2&n&&r!==(r=e[1].join(" ")))&&te(t,"class",r)},i(e){o||(We(c,e),o=!0)},o(e){Ye(c,e),o=!1},d(e){e&&Y(t),c&&c.d(e),u(),i=!1,a()}}}function wl(e,t,n){let u,{$$slots:r={},$$scope:o}=t;const i=be(),a={scrollDelay:80,scrollOffset:80,scrollTop:0,visibleEls:[]};let{class:s=""}=t,c=Date.now(),d=0,{pos:f="top"}=t;function p(){const e=a.infinityEl;if(!e)return;n(3,f=e.scrollTop>d-e.offsetHeight-a.scrollOffset?"bottom":e.scrollTop<a.scrollOffset?"top":"middle"),a.pos=f,a.scrollHeightChanged=a.scrollHeight!=d,a.scrollHeight=d,a.visibleElsChanged=!1;const t=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=l(e.childNodes),u=[],r=0;r<n.length;)n[r].nodeType==Node.ELEMENT_NODE?(u.push([r,n[r]]),r++):n.splice(r,1);if(!n.length)return[];for(var o=t.scrollTop;u.length>1;){var i=Math.floor(u.length/2);u[i][1].offsetTop<=o?u.splice(0,i):u.splice(i)}u.length||u.push([0,n[0]]);for(var a=t.offsetHeight,s=u[0][0],c=s;c<n.length&&!(n[c].offsetTop>o+a);)c++;return n.slice(s,c).filter((function(e){return!e.getAttribute("aria-hidden")}))}(e.firstElementChild,e);t.length==a.visibleEls.length&&t[0]==a.visibleEls[0]||(a.visibleEls=t,a.visibleElsChanged=!0),(a.scrollHeightChanged||a.visibleElsChanged)&&i("visibility",a),a.scrollHeightChanged&&i("rendered",a)}function D(e){return!Qt.undefined(e)&&(-1==e&&(e=d),Qt.string(e)&&(e=a.infinityEl.querySelector(e)),e&&e.tagName&&(e=e.offsetTop),!Qt.undefined(e)&&(!(e<0)&&(c=Date.now(),a.infinityEl.scrollTop=e,a.scrollTop=a.infinityEl.scrollTop,!0)))}return e.$$set=e=>{"class"in e&&n(4,s=e.class),"pos"in e&&n(3,f=e.pos),"$$scope"in e&&n(5,o=e.$$scope)},e.$$.update=()=>{24&e.$$.dirty&&n(1,u=[s||"infinity-scroll"].concat(["has-pos-"+f])),1&e.$$.dirty&&d&&p()},[d,u,function(e){a.infinityEl=e,a.scrollTo=D,e.addEventListener("scroll",(()=>function(e){a.scrollTid&&clearTimeout(a.scrollTid);a.scrollTid=setTimeout((()=>function(e){c+500>Date.now()?(Math.abs(e.scrollTop-a.scrollTop)>40&&(e.scrollTop=a.scrollTop),a.scrollTid&&clearTimeout(a.scrollTid),p()):(a.scrollTop=e.scrollTop,p(),i("scrolled",a))}(e)),a.scrollDelay)}(e))),p()},f,s,o,r,function(){d=this.offsetHeight,n(0,d)}]}class _l extends rt{constructor(e){super(),ut(this,e,wl,Fl,w,{class:4,pos:3})}}function Bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,u)}return n}function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var Sl=Tt("notify"),Ol=function(e){p(n,e);var t=xl(n);function n(){var e;return g(this,n),(e=t.call(this)).Notification=window.Notification||{permission:"denied"},e.prop("persist","volume",0),e.prop("persist","notificationCloseDelay",5e3),e.prop("persist","wantNotifications",!!e.Notification.requestPermission&&null),e.prop("ro","appHasFocus",(function(){return document.hasFocus()})),e.prop("ro","volumeOptions",[["0","Muted"],["25","Low"],["50","Medium"],["100","Max"]]),e.prop("rw","desktopAccess",e.Notification.permission),e}return $(n,[{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=document.getElementById("audio_notification");t&&(t.muted=!1,t.volume=parseInt(e.volume,10)/100,t.play())}},{key:"requestDesktopAccess",value:function(){var e=this;return this.Notification.requestPermission?(this.Notification.requestPermission((function(t){return e.update({desktopAccess:t})})),this):this.update({desktopAccess:this.Notification.permission})}},{key:"show",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.title||(n.title=document.title),!this.wantNotifications)return this._showInConsole(e,n);if(this.volume&&this.play(),"granted"!=this.desktopAccess)return this.showInApp(e,n);var u=new Notification(n.title,kl(kl({},n),{},{body:e}));return u.onclick=function(e){return t._onClick(e,u,n)},setTimeout((function(){return u.close()}),this.notificationCloseDelay),u}},{key:"showInApp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.title||(t.title=document.title);var n=document.createElement("div"),u=kl(kl({},t),{},{body:e,close:function(){n.remove(),u.closed=!0},target:"app"});return n.className="notify-notification fade-in",n.innerHTML='<a href="#close" class="notify-notification__close"></a><h6 class="notify-notification__title"></h6><div class="notify-notification__content"></div>',n.querySelector("a").addEventListener("click",(function(e){e.preventDefault(),u.close()})),n.querySelector("h6").textContent=t.title,n.querySelector("div").textContent=e,-1==t.closeAfter?n.querySelector("a").remove():setTimeout((function(){return u.close()}),t.closeAfter||this.notificationCloseDelay),setTimeout((function(){return n.classList.add("is-visible")}),1),document.body.appendChild(n),u}},{key:"_onClick",value:function(e,t,n){t.close(),window.focus(),this.emit("click",kl(kl({},n),{},{sourceEvent:e}))}},{key:"_showInConsole",value:function(e,t){return Sl.info("[Notify]",e,t),kl(kl({},t),{},{body:e,close:function(){},target:"console"})}}]),n}(Dn),Nl=new Ol;function jl(e,t,n){const u=e.slice();return u[40]=t[n],u}function Rl(e,t,n){const u=e.slice();return u[43]=t[n],u[45]=n,u}function Tl(e){let t,n,u,r,o,i;return n=new dt({props:{name:"users-cog"}}),u=new dt({props:{name:"times"}}),{c(){t=K("a"),Xe(n.$$.fragment),Xe(u.$$.fragment),te(t,"href","#settings"),te(t,"class","btn-hallow can-toggle"),ae(t,"is-active","settings"==e[17])},m(e,a){W(e,t,a),et(n,t,null),et(u,t,null),r=!0,o||(i=X(t,"click",vt.toggle),o=!0)},p(e,n){(!r||131072&n[0])&&ae(t,"is-active","settings"==e[17])},i(e){r||(We(n.$$.fragment,e),We(u.$$.fragment,e),r=!0)},o(e){Ye(n.$$.fragment,e),Ye(u.$$.fragment,e),r=!1},d(e){e&&Y(t),tt(n),tt(u),o=!1,i()}}}function Pl(e){let t,n,u,r,o,i,a,s,c,l,d,f=e[15](e[3].name)+"",p=Wc(e[16],e[5])+"",D=!e[5].is("not_found"),h=D&&Tl(e);return{c(){t=K("h1"),n=K("a"),u=J(f),r=V(),o=K("span"),i=J(p),a=V(),h&&h.c(),s=Q(),te(n,"href","#settings"),te(t,"class","ellipsis"),te(o,"class","chat-header__topic ellipsis")},m(e,f){W(e,t,f),z(t,n),z(n,u),W(e,r,f),W(e,o,f),z(o,i),W(e,a,f),h&&h.m(e,f),W(e,s,f),c=!0,l||(d=X(n,"click",vt.toggle),l=!0)},p(e,t){(!c||32776&t[0])&&f!==(f=e[15](e[3].name)+"")&&ue(u,f),(!c||65568&t[0])&&p!==(p=Wc(e[16],e[5])+"")&&ue(i,p),32&t[0]&&(D=!e[5].is("not_found")),D?h?(h.p(e,t),32&t[0]&&We(h,1)):(h=Tl(e),h.c(),We(h,1),h.m(s.parentNode,s)):h&&(qe(),Ye(h,1,1,(()=>{h=null})),He())},i(e){c||(We(h),c=!0)},o(e){Ye(h),c=!1},d(e){e&&Y(t),e&&Y(r),e&&Y(o),e&&Y(a),h&&h.d(e),e&&Y(s),l=!1,d()}}}function Ll(e){let t,n,u,r;const o=[Il,Ml],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),u=Q()},m(e,n){i[t].m(e,n),W(e,u,n),r=!0},p(e,r){let s=t;t=a(e),t===s?i[t].p(e,r):(qe(),Ye(i[s],1,1,(()=>{i[s]=null})),He(),n=i[t],n?n.p(e,r):(n=i[t]=o[t](e),n.c()),We(n,1),n.m(u.parentNode,u))},i(e){r||(We(n),r=!0)},o(e){Ye(n),r=!1},d(e){i[t].d(e),e&&Y(u)}}}function Ml(e){let t,n;return t=new Pc({props:{conversation:e[3],transition:{duration:250,x:e[18].isSingleColumn?e[18].width:0}}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};8&n[0]&&(u.conversation=e[3]),262144&n[0]&&(u.transition={duration:250,x:e[18].isSingleColumn?e[18].width:0}),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function Il(e){let t,n;return t=new El({props:{conversation:e[3],transition:{duration:250,x:e[18].isSingleColumn?e[18].width:0}}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};8&n[0]&&(u.conversation=e[3]),262144&n[0]&&(u.transition={duration:250,x:e[18].isSingleColumn?e[18].width:0}),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function Ul(e){let t,n,u,r,o;const i=[ql,zl],a=[];function s(e,n){return 32&n[0]&&(t=null),null==t&&(t=!!e[5].is("private")),t?0:e[5].frozen?-1:1}return~(n=s(e,[-1,-1]))&&(u=a[n]=i[n](e)),{c(){u&&u.c(),r=Q()},m(e,t){~n&&a[n].m(e,t),W(e,r,t),o=!0},p(e,t){let o=n;n=s(e,t),n===o?~n&&a[n].p(e,t):(u&&(qe(),Ye(a[o],1,1,(()=>{a[o]=null})),He()),~n?(u=a[n],u?u.p(e,t):(u=a[n]=i[n](e),u.c()),We(u,1),u.m(r.parentNode,r)):u=null)},i(e){o||(We(u),o=!0)},o(e){Ye(u),o=!1},d(e){~n&&a[n].d(e),e&&Y(r)}}}function zl(e){let t,n,u,r,o,i,a,s,c,l=e[20](e[5].topic?"Topic for %1 is: %2":"No topic is set for %1.",e[5].name,e[5].topic)+"";function d(e,t){return 1==e[21].length?Wl:Hl}n=new dt({props:{name:"info-circle"}}),a=new dt({props:{name:"info-circle"}});let f=d(e),p=f(e);return{c(){t=K("p"),Xe(n.$$.fragment),u=V(),r=new le(!1),o=V(),i=K("p"),Xe(a.$$.fragment),s=V(),p.c(),r.a=null},m(e,d){W(e,t,d),et(n,t,null),z(t,u),r.m(l,t),W(e,o,d),W(e,i,d),et(a,i,null),z(i,s),p.m(i,null),c=!0},p(e,t){(!c||1048608&t[0])&&l!==(l=e[20](e[5].topic?"Topic for %1 is: %2":"No topic is set for %1.",e[5].name,e[5].topic)+"")&&r.p(l),f===(f=d(e))&&p?p.p(e,t):(p.d(1),p=f(e),p&&(p.c(),p.m(i,null)))},i(e){c||(We(n.$$.fragment,e),We(a.$$.fragment,e),c=!0)},o(e){Ye(n.$$.fragment,e),Ye(a.$$.fragment,e),c=!1},d(e){e&&Y(t),tt(n),e&&Y(o),e&&Y(i),tt(a),p.d()}}}function ql(e){let t,n,u,r,o,i=e[20]('This is a private conversation with "%1".',e[5].name)+"";return n=new dt({props:{name:"info-circle"}}),{c(){t=K("p"),Xe(n.$$.fragment),u=V(),r=new le(!1),r.a=null},m(e,a){W(e,t,a),et(n,t,null),z(t,u),r.m(i,t),o=!0},p(e,t){(!o||1048608&t[0])&&i!==(i=e[20]('This is a private conversation with "%1".',e[5].name)+"")&&r.p(i)},i(e){o||(We(n.$$.fragment,e),o=!0)},o(e){Ye(n.$$.fragment,e),o=!1},d(e){e&&Y(t),tt(n)}}}function Hl(e){let t,n,u=e[20]("There are %1 participants in this conversation.",e[21].length)+"";return{c(){t=new le(!1),n=Q(),t.a=n},m(e,r){t.m(u,e,r),W(e,n,r)},p(e,n){3145728&n[0]&&u!==(u=e[20]("There are %1 participants in this conversation.",e[21].length)+"")&&t.p(u)},d(e){e&&Y(n),e&&t.d()}}}function Wl(e){let t,n=e[15]("You are the only participant in this conversation.")+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){32768&u[0]&&n!==(n=e[15]("You are the only participant in this conversation.")+"")&&ue(t,n)},d(e){e&&Y(t)}}}function Yl(e){let t,n,u,r,o,i,a,s=e[15]("Loading...")+"";return u=new dt({props:{name:"spinner",animation:"spin"}}),{c(){t=K("div"),n=K("span"),Xe(u.$$.fragment),r=V(),o=K("i"),i=J(s),te(t,"class","message__status-line for-loading has-pos-top")},m(e,s){W(e,t,s),z(t,n),et(u,n,null),z(n,r),z(n,o),z(o,i),a=!0},p(e,t){(!a||32768&t[0])&&s!==(s=e[15]("Loading...")+"")&&ue(i,s)},i(e){a||(We(u.$$.fragment,e),a=!0)},o(e){Ye(u.$$.fragment,e),a=!1},d(e){e&&Y(t),tt(u)}}}function Gl(e){let t,n,u,r,o,i,a,s=e[15]("Started chatting on %1",e[5].historyStartAt.getHumanDate())+"";return u=new dt({props:{name:"calendar-alt"}}),{c(){t=K("div"),n=K("span"),Xe(u.$$.fragment),r=V(),o=K("i"),i=J(s),te(t,"class","message__status-line for-start-of-history")},m(e,s){W(e,t,s),z(t,n),et(u,n,null),z(n,r),z(n,o),z(o,i),a=!0},p(e,t){(!a||32800&t[0])&&s!==(s=e[15]("Started chatting on %1",e[5].historyStartAt.getHumanDate())+"")&&ue(i,s)},i(e){a||(We(u.$$.fragment,e),a=!0)},o(e){Ye(u.$$.fragment,e),a=!1},d(e){e&&Y(t),tt(u)}}}function Kl(e){let t,n,u,r,o,i,a,s=e[43].ts.getHumanDate()+"";return u=new dt({props:{name:"calendar-alt"}}),{c(){t=K("div"),n=K("span"),Xe(u.$$.fragment),r=V(),o=K("i"),i=J(s),te(t,"class","message__status-line for-day-changed")},m(e,s){W(e,t,s),z(t,n),et(u,n,null),z(n,r),z(n,o),z(o,i),a=!0},p(e,t){(!a||524288&t[0])&&s!==(s=e[43].ts.getHumanDate()+"")&&ue(i,s)},i(e){a||(We(u.$$.fragment,e),a=!0)},o(e){Ye(u.$$.fragment,e),a=!1},d(e){e&&Y(t),tt(u)}}}function Zl(e){let t,n,u,r,o,i,a=e[15]("New messages")+"";return u=new dt({props:{name:"comments"}}),{c(){t=K("div"),n=K("span"),Xe(u.$$.fragment),r=V(),o=J(a),te(t,"class","message__status-line for-last-read")},m(e,a){W(e,t,a),z(t,n),et(u,n,null),z(n,r),z(n,o),i=!0},p(e,t){(!i||32768&t[0])&&a!==(a=e[15]("New messages")+"")&&ue(o,a)},i(e){i||(We(u.$$.fragment,e),i=!0)},o(e){Ye(u.$$.fragment,e),i=!1},d(e){e&&Y(t),tt(u)}}}function Jl(e){let t,n,u,r,o=e[43].dayChanged&&Kl(e),i=e[45]&&e[45]==e[19].length-e[5].unread&&Zl(e);return u=new cs({props:{conversation:e[3],message:e[43]}}),u.$on("mention",e[29]),{c(){o&&o.c(),t=V(),i&&i.c(),n=V(),Xe(u.$$.fragment)},m(e,a){o&&o.m(e,a),W(e,t,a),i&&i.m(e,a),W(e,n,a),et(u,e,a),r=!0},p(e,r){e[43].dayChanged?o?(o.p(e,r),524288&r[0]&&We(o,1)):(o=Kl(e),o.c(),We(o,1),o.m(t.parentNode,t)):o&&(qe(),Ye(o,1,1,(()=>{o=null})),He()),e[45]&&e[45]==e[19].length-e[5].unread?i?(i.p(e,r),524320&r[0]&&We(i,1)):(i=Zl(e),i.c(),We(i,1),i.m(n.parentNode,n)):i&&(qe(),Ye(i,1,1,(()=>{i=null})),He());const a={};8&r[0]&&(a.conversation=e[3]),524288&r[0]&&(a.message=e[43]),u.$set(a)},i(e){r||(We(o),We(i),We(u.$$.fragment,e),r=!0)},o(e){Ye(o),Ye(i),Ye(u.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&Y(t),i&&i.d(e),e&&Y(n),tt(u,e)}}}function Vl(e){let t,n,u,r,o,i,a=Wc(e[16],e[5])+"";return u=new dt({props:{name:"exclamation-triangle"}}),{c(){t=K("div"),n=K("div"),Xe(u.$$.fragment),r=V(),o=J(a),te(n,"class","message__text"),te(t,"class","message is-highlighted")},m(e,a){W(e,t,a),z(t,n),et(u,n,null),z(n,r),z(n,o),i=!0},p(e,t){(!i||65568&t[0])&&a!==(a=Wc(e[16],e[5])+"")&&ue(o,a)},i(e){i||(We(u.$$.fragment,e),i=!0)},o(e){Ye(u.$$.fragment,e),i=!1},d(e){e&&Y(t),tt(u)}}}function Ql(e){let t,n,u,r,o,i,a,s,c,l,d,f=e[15]("You are invited to join %1.",e[3].name)+"",p=e[15]("Do you want to join?")+"";return s=new Ic({props:{href:"#action:join:"+e[14],class:"btn",$$slots:{default:[nd]},$$scope:{ctx:e}}}),s.$on("click",e[1]),l=new Ic({props:{href:"#action:close:"+e[14],class:"btn is-secondary",$$slots:{default:[ud]},$$scope:{ctx:e}}}),l.$on("click",e[2]),{c(){t=K("h2"),n=J(f),u=V(),r=K("p"),o=J(p),i=V(),a=K("p"),Xe(s.$$.fragment),c=V(),Xe(l.$$.fragment)},m(e,f){W(e,t,f),z(t,n),W(e,u,f),W(e,r,f),z(r,o),W(e,i,f),W(e,a,f),et(s,a,null),z(a,c),et(l,a,null),d=!0},p(e,t){(!d||32776&t[0])&&f!==(f=e[15]("You are invited to join %1.",e[3].name)+"")&&ue(n,f),(!d||32768&t[0])&&p!==(p=e[15]("Do you want to join?")+"")&&ue(o,p);const u={};16384&t[0]&&(u.href="#action:join:"+e[14]),32768&t[0]|32768&t[1]&&(u.$$scope={dirty:t,ctx:e}),s.$set(u);const r={};16384&t[0]&&(r.href="#action:close:"+e[14]),32768&t[0]|32768&t[1]&&(r.$$scope={dirty:t,ctx:e}),l.$set(r)},i(e){d||(We(s.$$.fragment,e),We(l.$$.fragment,e),d=!0)},o(e){Ye(s.$$.fragment,e),Ye(l.$$.fragment,e),d=!1},d(e){e&&Y(t),e&&Y(u),e&&Y(r),e&&Y(i),e&&Y(a),tt(s),tt(l)}}}function Xl(e){let t,n,u,r,o,i,a,s,c=e[20]("Disconnected. Your connection %1 can be edited in [settings](%2).",e[16].name,"/chat/"+e[16].connection_id+"#settings")+"";return u=new dt({props:{name:"exclamation-triangle"}}),{c(){t=K("div"),n=K("div"),Xe(u.$$.fragment),r=V(),o=new le(!1),o.a=null,te(n,"class","message__text"),te(t,"class","message is-highlighted")},m(e,l){W(e,t,l),z(t,n),et(u,n,null),z(n,r),o.m(c,n),i=!0,a||(s=X(t,"click",vt.toggle),a=!0)},p(e,t){(!i||1114112&t[0])&&c!==(c=e[20]("Disconnected. Your connection %1 can be edited in [settings](%2).",e[16].name,"/chat/"+e[16].connection_id+"#settings")+"")&&o.p(c)},i(e){i||(We(u.$$.fragment,e),i=!0)},o(e){Ye(u.$$.fragment,e),i=!1},d(e){e&&Y(t),tt(u),a=!1,s()}}}function ed(e){let t,n,u,r,o,i,a,s,c,l,d,f=e[15]("You are not part of this conversation.")+"",p=e[15]('Do you want to chat with "%1"?',e[5].name)+"";return s=new Ic({props:{href:"#action:join:"+e[14],class:"btn",$$slots:{default:[rd]},$$scope:{ctx:e}}}),s.$on("click",e[1]),l=new Ic({props:{href:"/settings/conversation",class:"btn is-secondary",$$slots:{default:[od]},$$scope:{ctx:e}}}),{c(){t=K("h2"),n=J(f),u=V(),r=K("p"),o=J(p),i=V(),a=K("p"),Xe(s.$$.fragment),c=V(),Xe(l.$$.fragment)},m(e,f){W(e,t,f),z(t,n),W(e,u,f),W(e,r,f),z(r,o),W(e,i,f),W(e,a,f),et(s,a,null),z(a,c),et(l,a,null),d=!0},p(e,t){(!d||32768&t[0])&&f!==(f=e[15]("You are not part of this conversation.")+"")&&ue(n,f),(!d||32800&t[0])&&p!==(p=e[15]('Do you want to chat with "%1"?',e[5].name)+"")&&ue(o,p);const u={};16384&t[0]&&(u.href="#action:join:"+e[14]),32768&t[0]|32768&t[1]&&(u.$$scope={dirty:t,ctx:e}),s.$set(u);const r={};32768&t[0]|32768&t[1]&&(r.$$scope={dirty:t,ctx:e}),l.$set(r)},i(e){d||(We(s.$$.fragment,e),We(l.$$.fragment,e),d=!0)},o(e){Ye(s.$$.fragment,e),Ye(l.$$.fragment,e),d=!1},d(e){e&&Y(t),e&&Y(u),e&&Y(r),e&&Y(i),e&&Y(a),tt(s),tt(l)}}}function td(e){let t,n,u,r,o,i,a,s,c,l,d,f=e[15]("Connection does not exist.")+"",p=e[15]('Do you want to create the connection "%1"?',e[16].connection_id)+"";return s=new Ic({props:{href:"/settings/connections?uri="+encodeURIComponent(e[23](e[5])),class:"btn",$$slots:{default:[id]},$$scope:{ctx:e}}}),l=new Ic({props:{href:"/settings/connections",class:"btn is-secondary",$$slots:{default:[ad]},$$scope:{ctx:e}}}),{c(){t=K("h2"),n=J(f),u=V(),r=K("p"),o=J(p),i=V(),a=K("p"),Xe(s.$$.fragment),c=V(),Xe(l.$$.fragment)},m(e,f){W(e,t,f),z(t,n),W(e,u,f),W(e,r,f),z(r,o),W(e,i,f),W(e,a,f),et(s,a,null),z(a,c),et(l,a,null),d=!0},p(e,t){(!d||32768&t[0])&&f!==(f=e[15]("Connection does not exist.")+"")&&ue(n,f),(!d||98304&t[0])&&p!==(p=e[15]('Do you want to create the connection "%1"?',e[16].connection_id)+"")&&ue(o,p);const u={};32&t[0]&&(u.href="/settings/connections?uri="+encodeURIComponent(e[23](e[5]))),32768&t[0]|32768&t[1]&&(u.$$scope={dirty:t,ctx:e}),s.$set(u);const r={};32768&t[0]|32768&t[1]&&(r.$$scope={dirty:t,ctx:e}),l.$set(r)},i(e){d||(We(s.$$.fragment,e),We(l.$$.fragment,e),d=!0)},o(e){Ye(s.$$.fragment,e),Ye(l.$$.fragment,e),d=!1},d(e){e&&Y(t),e&&Y(u),e&&Y(r),e&&Y(i),e&&Y(a),tt(s),tt(l)}}}function nd(e){let t,n,u,r,o,i=e[15]("Yes")+"";return t=new dt({props:{name:"thumbs-up"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||32768&t[0])&&i!==(i=e[15]("Yes")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function ud(e){let t,n,u,r,o,i=e[15]("No")+"";return t=new dt({props:{name:"thumbs-down"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||32768&t[0])&&i!==(i=e[15]("No")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function rd(e){let t,n,u,r,o,i=e[15]("Yes")+"";return t=new dt({props:{name:"thumbs-up"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||32768&t[0])&&i!==(i=e[15]("Yes")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function od(e){let t,n,u,r,o,i=e[15]("No")+"";return t=new dt({props:{name:"thumbs-down"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||32768&t[0])&&i!==(i=e[15]("No")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function id(e){let t,n,u,r,o=e[15]("Yes")+"";return t=new dt({props:{name:"thumbs-up"}}),{c(){Xe(t.$$.fragment),n=V(),u=J(o)},m(e,o){et(t,e,o),W(e,n,o),W(e,u,o),r=!0},p(e,t){(!r||32768&t[0])&&o!==(o=e[15]("Yes")+"")&&ue(u,o)},i(e){r||(We(t.$$.fragment,e),r=!0)},o(e){Ye(t.$$.fragment,e),r=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function ad(e){let t,n,u,r,o=e[15]("No")+"";return t=new dt({props:{name:"thumbs-down"}}),{c(){Xe(t.$$.fragment),n=V(),u=J(o)},m(e,o){et(t,e,o),W(e,n,o),W(e,u,o),r=!0},p(e,t){(!r||32768&t[0])&&o!==(o=e[15]("No")+"")&&ue(u,o)},i(e){r||(We(t.$$.fragment,e),r=!0)},o(e){Ye(t.$$.fragment,e),r=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function sd(e){let t,n,u,r,o,i,a,s,c,l,d=e[15]("Uploading %1...",e[11].file.name)+"";return{c(){t=K("div"),n=K("div"),u=J(d),r=V(),o=K("div"),i=K("div"),a=J(e[12]),s=J("%"),te(i,"class","progress__bar"),oe(i,"width",e[12]+"%"),te(o,"class","progress"),te(t,"class","message")},m(e,c){W(e,t,c),z(t,n),z(n,u),z(t,r),z(t,o),z(o,i),z(i,a),z(i,s),l=!0},p(e,t){(!l||34816&t[0])&&d!==(d=e[15]("Uploading %1...",e[11].file.name)+"")&&ue(u,d),(!l||4096&t[0])&&ue(a,e[12]),(!l||4096&t[0])&&oe(i,"width",e[12]+"%")},i(e){l||(Ne((()=>{c||(c=Ke(t,Pa,{duration:200},!0)),c.run(1)})),l=!0)},o(e){c||(c=Ke(t,Pa,{duration:200},!1)),c.run(0),l=!1},d(e){e&&Y(t),e&&c&&c.end()}}}function cd(e){let t,n,u,r,o,i,a,s=e[15]("Loading...")+"";return u=new dt({props:{name:"spinner",animation:"spin"}}),{c(){t=K("div"),n=K("span"),Xe(u.$$.fragment),r=V(),o=K("i"),i=J(s),te(t,"class","message__status-line for-loading has-pos-bottom")},m(e,s){W(e,t,s),z(t,n),et(u,n,null),z(n,r),z(n,o),z(o,i),a=!0},p(e,t){(!a||32768&t[0])&&s!==(s=e[15]("Loading...")+"")&&ue(i,s)},i(e){a||(We(u.$$.fragment,e),a=!0)},o(e){Ye(u.$$.fragment,e),a=!1},d(e){e&&Y(t),tt(u)}}}function ld(e){let t,n,u,r,o,i,a,s=e[15]("Jump to %1",e[8].format("%b %e %H:%M"))+"";return u=new dt({props:{name:"external-link-alt"}}),{c(){t=K("div"),n=K("a"),Xe(u.$$.fragment),r=V(),o=J(s),te(n,"href",i=e[3].path),te(t,"class","message__status-line for-jump-to-now")},m(e,i){W(e,t,i),z(t,n),et(u,n,null),z(n,r),z(n,o),a=!0},p(e,t){(!a||33024&t[0])&&s!==(s=e[15]("Jump to %1",e[8].format("%b %e %H:%M"))+"")&&ue(o,s),(!a||8&t[0]&&i!==(i=e[3].path))&&te(n,"href",i)},i(e){a||(We(u.$$.fragment,e),a=!0)},o(e){Ye(u.$$.fragment,e),a=!1},d(e){e&&Y(t),tt(u)}}}function dd(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v=e[19].length<10&&!e[5].is("not_found"),$=e[5].is("loading")&&e[19].length>10,y=e[5].historyStartAt&&!e[5].is("not_found")&&e[19].length,b=e[5].is("loading"),A=v&&Ul(e),E=$&&Yl(e),C=y&&Gl(e),F=e[19].render(),w=[];for(let t=0;t<F.length;t+=1)w[t]=Jl(Rl(e,F,t));const _=e=>Ye(w[e],1,1,(()=>{w[e]=null})),B=[td,ed,Xl,Ql,Vl],k=[];function x(e,t){return 65536&t[0]&&(o=null),32&t[0]&&(i=null),65536&t[0]&&(a=null),32&t[0]&&(s=null),32&t[0]&&(c=null),null==o&&(o=!!e[16].is("not_found")),o?0:(null==i&&(i=!!e[5].is("not_found")),i?1:(null==a&&(a=!(e[16].is("unreachable")||!e[16].frozen)),a?2:(null==s&&(s=!(!e[5].frozen||!e[5].is("pending"))),s?3:(null==c&&(c=!(!e[5].frozen||e[5].is("locked"))),c?4:-1))))}~(l=x(e,[-1,-1]))&&(d=k[l]=B[l](e));let S=e[12]&&sd(e),O=null===Nl.wantNotifications&&function(e){let t,n,u,r,o,i,a=e[20]('Go to "[account settings](%1)" to enable or disable notifications.',"/settings/account")+"";return u=new dt({props:{name:"info-circle"}}),{c(){t=K("div"),n=K("div"),Xe(u.$$.fragment),r=V(),o=new le(!1),o.a=null,te(n,"class","message__text"),te(t,"class","message is-highlighted")},m(e,s){W(e,t,s),z(t,n),et(u,n,null),z(n,r),o.m(a,n),i=!0},p(e,t){(!i||1048576&t[0])&&a!==(a=e[20]('Go to "[account settings](%1)" to enable or disable notifications.',"/settings/account")+"")&&o.p(a)},i(e){i||(We(u.$$.fragment,e),i=!0)},o(e){Ye(u.$$.fragment,e),i=!1},d(e){e&&Y(t),tt(u)}}}(e),N=b&&cd(e),j=!e[5].historyStopAt&&e[19].length&&ld(e);return{c(){A&&A.c(),t=V(),E&&E.c(),n=V(),C&&C.c(),u=V();for(let e=0;e<w.length;e+=1)w[e].c();r=V(),d&&d.c(),f=V(),S&&S.c(),p=V(),O&&O.c(),D=V(),N&&N.c(),h=V(),j&&j.c(),m=Q()},m(e,o){A&&A.m(e,o),W(e,t,o),E&&E.m(e,o),W(e,n,o),C&&C.m(e,o),W(e,u,o);for(let t=0;t<w.length;t+=1)w[t].m(e,o);W(e,r,o),~l&&k[l].m(e,o),W(e,f,o),S&&S.m(e,o),W(e,p,o),O&&O.m(e,o),W(e,D,o),N&&N.m(e,o),W(e,h,o),j&&j.m(e,o),W(e,m,o),g=!0},p(e,o){if(524320&o[0]&&(v=e[19].length<10&&!e[5].is("not_found")),v?A?(A.p(e,o),524320&o[0]&&We(A,1)):(A=Ul(e),A.c(),We(A,1),A.m(t.parentNode,t)):A&&(qe(),Ye(A,1,1,(()=>{A=null})),He()),524320&o[0]&&($=e[5].is("loading")&&e[19].length>10),$?E?(E.p(e,o),524320&o[0]&&We(E,1)):(E=Yl(e),E.c(),We(E,1),E.m(n.parentNode,n)):E&&(qe(),Ye(E,1,1,(()=>{E=null})),He()),524320&o[0]&&(y=e[5].historyStartAt&&!e[5].is("not_found")&&e[19].length),y?C?(C.p(e,o),524320&o[0]&&We(C,1)):(C=Gl(e),C.c(),We(C,1),C.m(u.parentNode,u)):C&&(qe(),Ye(C,1,1,(()=>{C=null})),He()),558120&o[0]){let t;for(F=e[19].render(),t=0;t<F.length;t+=1){const n=Rl(e,F,t);w[t]?(w[t].p(n,o),We(w[t],1)):(w[t]=Jl(n),w[t].c(),We(w[t],1),w[t].m(r.parentNode,r))}for(qe(),t=F.length;t<w.length;t+=1)_(t);He()}let i=l;l=x(e,o),l===i?~l&&k[l].p(e,o):(d&&(qe(),Ye(k[i],1,1,(()=>{k[i]=null})),He()),~l?(d=k[l],d?d.p(e,o):(d=k[l]=B[l](e),d.c()),We(d,1),d.m(f.parentNode,f)):d=null),e[12]?S?(S.p(e,o),4096&o[0]&&We(S,1)):(S=sd(e),S.c(),We(S,1),S.m(p.parentNode,p)):S&&(qe(),Ye(S,1,1,(()=>{S=null})),He()),null===Nl.wantNotifications&&O.p(e,o),32&o[0]&&(b=e[5].is("loading")),b?N?(N.p(e,o),32&o[0]&&We(N,1)):(N=cd(e),N.c(),We(N,1),N.m(h.parentNode,h)):N&&(qe(),Ye(N,1,1,(()=>{N=null})),He()),!e[5].historyStopAt&&e[19].length?j?(j.p(e,o),524320&o[0]&&We(j,1)):(j=ld(e),j.c(),We(j,1),j.m(m.parentNode,m)):j&&(qe(),Ye(j,1,1,(()=>{j=null})),He())},i(e){if(!g){We(A),We(E),We(C);for(let e=0;e<F.length;e+=1)We(w[e]);We(d),We(S),We(O),We(N),We(j),g=!0}},o(e){Ye(A),Ye(E),Ye(C),w=w.filter(Boolean);for(let e=0;e<w.length;e+=1)Ye(w[e]);Ye(d),Ye(S),Ye(O),Ye(N),Ye(j),g=!1},d(e){A&&A.d(e),e&&Y(t),E&&E.d(e),e&&Y(n),C&&C.d(e),e&&Y(u),G(w,e),e&&Y(r),~l&&k[l].d(e),e&&Y(f),S&&S.d(e),e&&Y(p),O&&O.d(e),e&&Y(D),N&&N.d(e),e&&Y(h),j&&j.d(e),e&&Y(m)}}}function fd(e){let t,n,u,r,o,i,a,s,c,l,d,f=e[15]("Participants (%1)",e[21].length)+"",p=e[5].is("private")&&e[5].info.nick;const D=[Dd,pd],h=[];function m(e,t){return e[21].length?0:1}i=m(e),a=h[i]=D[i](e);let g=p&&md(e);return{c(){t=K("div"),n=K("h3"),u=J(f),r=V(),o=K("nav"),a.c(),s=V(),g&&g.c(),te(o,"class","sidebar-right__nav"),te(t,"class","sidebar-right")},m(a,f){W(a,t,f),z(t,n),z(n,u),z(t,r),z(t,o),h[i].m(o,null),z(t,s),g&&g.m(t,null),c=!0,l||(d=X(o,"click",e[1]),l=!0)},p(e,n){(!c||2129920&n[0])&&f!==(f=e[15]("Participants (%1)",e[21].length)+"")&&ue(u,f);let r=i;i=m(e),i===r?h[i].p(e,n):(qe(),Ye(h[r],1,1,(()=>{h[r]=null})),He(),a=h[i],a?a.p(e,n):(a=h[i]=D[i](e),a.c()),We(a,1),a.m(o,null)),32&n[0]&&(p=e[5].is("private")&&e[5].info.nick),p?g?g.p(e,n):(g=md(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null)},i(e){c||(We(a),c=!0)},o(e){Ye(a),c=!1},d(e){e&&Y(t),h[i].d(),g&&g.d(),l=!1,d()}}}function pd(e){let t,n,u,r,o,i,a,s=e[15]("Settings")+"";return n=new dt({props:{name:"users-cog"}}),{c(){t=K("a"),Xe(n.$$.fragment),u=V(),r=J(s),te(t,"href","#settings")},m(e,s){W(e,t,s),et(n,t,null),z(t,u),z(t,r),o=!0,i||(a=X(t,"click",vt.toggle),i=!0)},p(e,t){(!o||32768&t[0])&&s!==(s=e[15]("Settings")+"")&&ue(r,s)},i(e){o||(We(n.$$.fragment,e),o=!0)},o(e){Ye(n.$$.fragment,e),o=!1},d(e){e&&Y(t),tt(n),i=!1,a()}}}function Dd(e){let t,n,u=e[21].toArray(),r=[];for(let t=0;t<u.length;t+=1)r[t]=hd(jl(e,u,t));const o=e=>Ye(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=Q()},m(e,u){for(let t=0;t<r.length;t+=1)r[t].m(e,u);W(e,t,u),n=!0},p(e,n){if(2097152&n[0]){let i;for(u=e[21].toArray(),i=0;i<u.length;i+=1){const o=jl(e,u,i);r[i]?(r[i].p(o,n),We(r[i],1)):(r[i]=hd(o),r[i].c(),We(r[i],1),r[i].m(t.parentNode,t))}for(qe(),i=u.length;i<r.length;i+=1)o(i);He()}},i(e){if(!n){for(let e=0;e<u.length;e+=1)We(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)Ye(r[e]);n=!1},d(e){G(r,e),e&&Y(t)}}}function hd(e){let t,n,u,r,o,i,a,s,c,l=e[40].nick+"";return n=new dt({props:{name:"pick:"+e[40].nick,family:"solid",color:e[40].color}}),{c(){t=K("a"),Xe(n.$$.fragment),u=V(),r=K("span"),o=J(l),i=V(),te(t,"href",a="#action:join:"+e[40].nick),te(t,"class",s="participant "+en(e[40].modes))},m(e,a){W(e,t,a),et(n,t,null),z(t,u),z(t,r),z(r,o),z(t,i),c=!0},p(e,u){const r={};2097152&u[0]&&(r.name="pick:"+e[40].nick),2097152&u[0]&&(r.color=e[40].color),n.$set(r),(!c||2097152&u[0])&&l!==(l=e[40].nick+"")&&ue(o,l),(!c||2097152&u[0]&&a!==(a="#action:join:"+e[40].nick))&&te(t,"href",a),(!c||2097152&u[0]&&s!==(s="participant "+en(e[40].modes)))&&te(t,"class",s)},i(e){c||(We(n.$$.fragment,e),c=!0)},o(e){Ye(n.$$.fragment,e),c=!1},d(e){e&&Y(t),tt(n)}}}function md(e){let t,n,u,r,o=e[15]("Information")+"",i=e[20](...Uc(e[5].info))+"";return{c(){t=K("h3"),n=J(o),u=V(),r=K("p")},m(e,o){W(e,t,o),z(t,n),W(e,u,o),W(e,r,o),r.innerHTML=i},p(e,t){32768&t[0]&&o!==(o=e[15]("Information")+"")&&ue(n,o),1048608&t[0]&&i!==(i=e[20](...Uc(e[5].info))+"")&&(r.innerHTML=i)},d(e){e&&Y(t),e&&Y(u),e&&Y(r)}}}function gd(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m=e[18].hasRightColumn&&!e[5].is("not_found");t=new Et({props:{$$slots:{default:[Pl]},$$scope:{ctx:e}}});let g="settings"==e[17]&&Ll(e);function v(t){e[32](t)}function $(t){e[33](t)}function y(t){e[34](t)}function b(t){e[35](t)}r=new _l({props:{class:"main is-above-chat-input",$$slots:{default:[dd]},$$scope:{ctx:e}}}),r.$on("scrolled",e[30]),r.$on("visibility",e[31]);let A={conversation:e[3]};void 0!==e[10]&&(A.fillIn=e[10]),void 0!==e[9]&&(A.focus=e[9]),void 0!==e[11]&&(A.uploader=e[11]),void 0!==e[12]&&(A.uploadProgress=e[12]),i=new Va({props:A}),we.push((()=>Qe(i,"fillIn",v))),we.push((()=>Qe(i,"focus",$))),we.push((()=>Qe(i,"uploader",y))),we.push((()=>Qe(i,"uploadProgress",b)));let E=m&&fd(e);return{c(){Xe(t.$$.fragment),n=V(),g&&g.c(),u=V(),Xe(r.$$.fragment),o=V(),Xe(i.$$.fragment),d=V(),E&&E.c(),f=Q()},m(a,s){et(t,a,s),W(a,n,s),g&&g.m(a,s),W(a,u,s),et(r,a,s),W(a,o,s),et(i,a,s),W(a,d,s),E&&E.m(a,s),W(a,f,s),p=!0,D||(h=X(window,"focus",e[24]),D=!0)},p(e,n){const o={};229416&n[0]|32768&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),"settings"==e[17]?g?(g.p(e,n),131072&n[0]&&We(g,1)):(g=Ll(e),g.c(),We(g,1),g.m(u.parentNode,u)):g&&(qe(),Ye(g,1,1,(()=>{g=null})),He());const d={};3792168&n[0]|32768&n[1]&&(d.$$scope={dirty:n,ctx:e}),r.$set(d);const p={};8&n[0]&&(p.conversation=e[3]),!a&&1024&n[0]&&(a=!0,p.fillIn=e[10],je((()=>a=!1))),!s&&512&n[0]&&(s=!0,p.focus=e[9],je((()=>s=!1))),!c&&2048&n[0]&&(c=!0,p.uploader=e[11],je((()=>c=!1))),!l&&4096&n[0]&&(l=!0,p.uploadProgress=e[12],je((()=>l=!1))),i.$set(p),262176&n[0]&&(m=e[18].hasRightColumn&&!e[5].is("not_found")),m?E?(E.p(e,n),262176&n[0]&&We(E,1)):(E=fd(e),E.c(),We(E,1),E.m(f.parentNode,f)):E&&(qe(),Ye(E,1,1,(()=>{E=null})),He())},i(e){p||(We(t.$$.fragment,e),We(g),We(r.$$.fragment,e),We(i.$$.fragment,e),We(E),p=!0)},o(e){Ye(t.$$.fragment,e),Ye(g),Ye(r.$$.fragment,e),Ye(i.$$.fragment,e),Ye(E),p=!1},d(e){tt(t,e),e&&Y(n),g&&g.d(e),e&&Y(u),tt(r,e),e&&Y(o),tt(i,e),e&&Y(d),E&&E.d(e),e&&Y(f),D=!1,h()}}}function vd(e,t,n){let u,r,o,i,a,s,c,l,d,f,p,D=y,h=()=>(D(),D=_(S,(e=>n(5,r=e))),S),m=y,g=()=>(m(),m=_(x,(e=>n(16,s=e))),x),v=y,$=()=>(v(),v=_(O,(e=>n(19,d=e))),O),b=y,A=()=>(b(),b=_(N,(e=>n(21,p=e))),N);B(e,sa,(e=>n(27,o=e))),B(e,_a,(e=>n(15,a=e))),B(e,vt,(e=>n(17,c=e))),B(e,$t,(e=>n(18,l=e))),B(e,Ba,(e=>n(20,f=e))),e.$$.on_destroy.push((()=>D())),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b()));let{connection_id:E=""}=t,{conversation_id:C=""}=t,{title:F="Chat"}=t;const w=new Cl,k=Ee("user");B(e,k,(e=>n(28,i=e)));let x=k.notifications;g();let S=k.notifications;h();let O=S.messages;$();let N=S.participants;A();let j,R,T,P,L=new ps,M={},I="";function U(e){var t;if(e.activeConversation!=S)return M.conversation&&M.conversation(),M.unread&&M.unread(),h(n(3,S=e.activeConversation)),$(n(4,O=S.messages)),A(n(7,N=S.participants)),g(n(6,x=e.findConversation({connection_id:S.connection_id})||S)),n(8,L=new ps),M.conversation=S.subscribe((e=>{h(n(3,S=e))})),M.unread=()=>S.update({unread:0}),S.markAsRead(),n(13,(t=sa.hash,I=!!String(t||"").match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)&&sa.hash||"")),I?S.load({around:I}):S.historyStopAt?void 0:S.load({around:L.toISOString()})}$e((()=>w.attach(document.querySelector(".main"),T))),ye((()=>{Object.keys(M).forEach((e=>M[e]())),w.detach()}));return e.$$set=e=>{"connection_id"in e&&n(26,E=e.connection_id),"conversation_id"in e&&n(0,C=e.conversation_id),"title"in e&&n(25,F=e.title)},e.$$.update=()=>{67108865&e.$$.dirty[0]&&function(e,t){S.connection_id==e&&S.conversation_id==t||k.setActiveConversation({connection_id:e,conversation_id:t})}(E,C),268435456&e.$$.dirty[0]&&U(i),268435472&e.$$.dirty[0]&&O.update({expandUrlToMedia:i.expandUrlToMedia}),32&e.$$.dirty[0]&&n(14,u=encodeURIComponent(r.name)),32&e.$$.dirty[0]&&n(25,F=r.title),134217768&e.$$.dirty[0]&&(o.hash||r.historyStopAt||S.load({}))},[C,function(e){e.preventDefault();const t=e.target.closest("a");S.send("/join "+decodeURIComponent(t.hash.replace(/^#?action:join:/,"")))},function(e){e.preventDefault(),S.send("/close "+S.conversation_id),sa.go("/settings/conversation")},S,O,r,x,N,L,j,R,T,P,I,u,a,s,c,l,d,f,p,k,function(){const[e,t]=r.connection_id.split("-");return e+"://"+t+"/"+u+"?tls=1"},function(){(S.notifications||S.unread)&&S.markAsRead()},F,E,o,i,e=>R(e.detail),e=>function(e,t){var n=t.conversation,u=e.detail.visibleEls.filter((function(e){return e.dataset.ts}));if(u.length){var r=function(e){return sa.go(n.path+(e.length?"#"+e:""),{replace:!0})},o=e.detail.pos;if("top"==o){var i=u[0].dataset.ts;n.historyStartAt||n.load({before:i}),r(i)}else if("bottom"==o){var a=u.slice(-1)[0].dataset.ts;n.historyStopAt||n.load({after:a}),r(n.historyStopAt?"":a)}else r(u[0].dataset.ts)}}(e,{conversation:S}),e=>Hc(e,{conversation:S,timestampFromUrl:I}),function(e){R=e,n(10,R)},function(e){j=e,n(9,j)},function(e){T=e,n(11,T)},function(e){P=e,n(12,P)}]}class $d extends rt{constructor(e){super(),ut(this,e,vd,gd,w,{connection_id:26,conversation_id:0,title:25,conversationJoin:1,conversationClose:2},null,[-1,-1])}get conversationJoin(){return this.$$.ctx[1]}get conversationClose(){return this.$$.ctx[2]}}function yd(e){let t;const n=e[5].default,u=k(n,e,e[4],null);return{c(){u&&u.c()},m(e,n){u&&u.m(e,n),t=!0},p(e,r){u&&u.p&&(!t||16&r)&&O(u,n,e,e[4],t?S(n,e[4],r,null):N(e[4]),null)},i(e){t||(We(u,e),t=!0)},o(e){Ye(u,e),t=!1},d(e){u&&u.d(e)}}}function bd(e){let t,n=e[3]("Loading...")+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){8&u&&n!==(n=e[3]("Loading...")+"")&&ue(t,n)},i:y,o:y,d(e){e&&Y(t)}}}function Ad(e){let t,n,u=e[3](e[2].error())+"";return{c(){t=K("div"),n=J(u),te(t,"class","error")},m(e,u){W(e,t,u),z(t,n)},p(e,t){12&t&&u!==(u=e[3](e[2].error())+"")&&ue(n,u)},i:y,o:y,d(e){e&&Y(t)}}}function Ed(e){let t,n,u,r,o,i,a;const s=[Ad,bd,yd],c=[];function l(e,t){return 4&t&&(u=null),4&t&&(r=null),null==u&&(u=!!e[2].is("error")),u?0:(null==r&&(r=!!e[2].is("loading")),r?1:2)}return o=l(e,-1),i=c[o]=s[o](e),{c(){t=K("tr"),n=K("td"),i.c(),te(n,"colspan",e[0])},m(e,u){W(e,t,u),z(t,n),c[o].m(n,null),a=!0},p(e,[t]){let u=o;o=l(e,t),o===u?c[o].p(e,t):(qe(),Ye(c[u],1,1,(()=>{c[u]=null})),He(),i=c[o],i?i.p(e,t):(i=c[o]=s[o](e),i.c()),We(i,1),i.m(n,null)),(!a||1&t)&&te(n,"colspan",e[0])},i(e){a||(We(i),a=!0)},o(e){Ye(i),a=!1},d(e){e&&Y(t),c[o].d()}}}function Cd(e,t,n){let u,r,o=y,i=()=>(o(),o=_(l,(e=>n(2,u=e))),l);B(e,_a,(e=>n(3,r=e))),e.$$.on_destroy.push((()=>o()));let{$$slots:a={},$$scope:s}=t,{colspan:c=1}=t,{op:l}=t;return i(),e.$$set=e=>{"colspan"in e&&n(0,c=e.colspan),"op"in e&&i(n(1,l=e.op)),"$$scope"in e&&n(4,s=e.$$scope)},[c,l,u,r,s,a]}class Fd extends rt{constructor(e){super(),ut(this,e,Cd,Ed,w,{colspan:0,op:1})}}function wd(e,t,n){const u=e.slice();return u[9]=t[n],u}function _d(e,t,n){const u=e.slice();return u[12]=t[n],u}function Bd(e){let t,n,u=e[2]("Connections")+"";return{c(){t=K("h1"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Connections")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function kd(e){let t,n=e[12].host.replace(/:\d+$/,"")+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){1&u&&n!==(n=e[12].host.replace(/:\d+$/,"")+"")&&ue(t,n)},d(e){e&&Y(t)}}}function xd(e){let t,n,u,r,o,i,a,s,c,l,d,f=(Qt.true(e[12].tls_verify)?e[2]("Strict"):Qt.true(e[12].tls)?e[2]("Yes"):e[2]("No"))+"",p=e[12].nick+"";return u=new Ic({props:{href:"/settings/connection/"+e[12].connection_id,$$slots:{default:[kd]},$$scope:{ctx:e}}}),{c(){t=K("tr"),n=K("td"),Xe(u.$$.fragment),r=V(),o=K("td"),i=J(f),a=V(),s=K("td"),c=J(p),l=V()},m(e,f){W(e,t,f),z(t,n),et(u,n,null),z(t,r),z(t,o),z(o,i),z(t,a),z(t,s),z(s,c),z(t,l),d=!0},p(e,t){const n={};1&t&&(n.href="/settings/connection/"+e[12].connection_id),32769&t&&(n.$$scope={dirty:t,ctx:e}),u.$set(n),(!d||5&t)&&f!==(f=(Qt.true(e[12].tls_verify)?e[2]("Strict"):Qt.true(e[12].tls)?e[2]("Yes"):e[2]("No"))+"")&&ue(i,f),(!d||1&t)&&p!==(p=e[12].nick+"")&&ue(c,p)},i(e){d||(We(u.$$.fragment,e),d=!0)},o(e){Ye(u.$$.fragment,e),d=!1},d(e){e&&Y(t),tt(u)}}}function Sd(e){let t,n,u;return n=new Ic({props:{href:"/settings/connection/add",class:"btn",$$slots:{default:[Od]},$$scope:{ctx:e}}}),{c(){t=K("div"),Xe(n.$$.fragment),te(t,"class","form-actions")},m(e,r){W(e,t,r),et(n,t,null),u=!0},p(e,t){const u={};32772&t&&(u.$$scope={dirty:t,ctx:e}),n.$set(u)},i(e){u||(We(n.$$.fragment,e),u=!0)},o(e){Ye(n.$$.fragment,e),u=!1},d(e){e&&Y(t),tt(n)}}}function Od(e){let t,n,u,r,o,i=e[2]("Add")+"";return t=new dt({props:{name:"plus-circle"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||4&t)&&i!==(i=e[2]("Add")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function Nd(e){let t,n=e[9].url.host.replace(/:\d+$/,"")+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){8&u&&n!==(n=e[9].url.host.replace(/:\d+$/,"")+"")&&ue(t,n)},d(e){e&&Y(t)}}}function jd(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h=(Qt.true(e[9].tls_verify)?e[2]("Strict"):Qt.true(e[9].tls)?e[2]("Yes"):e[2]("No"))+"",m=(e[9].is_default?e[2]("Yes"):e[2]("No"))+"",g=(e[9].is_forced?e[2]("Yes"):e[2]("No"))+"";return u=new Ic({props:{href:"/settings/connection-profile/"+e[9].id,$$slots:{default:[Nd]},$$scope:{ctx:e}}}),{c(){t=K("tr"),n=K("td"),Xe(u.$$.fragment),r=V(),o=K("td"),i=J(h),a=V(),s=K("td"),c=J(m),l=V(),d=K("td"),f=J(g),p=V()},m(e,h){W(e,t,h),z(t,n),et(u,n,null),z(t,r),z(t,o),z(o,i),z(t,a),z(t,s),z(s,c),z(t,l),z(t,d),z(d,f),z(t,p),D=!0},p(e,t){const n={};8&t&&(n.href="/settings/connection-profile/"+e[9].id),32776&t&&(n.$$scope={dirty:t,ctx:e}),u.$set(n),(!D||12&t)&&h!==(h=(Qt.true(e[9].tls_verify)?e[2]("Strict"):Qt.true(e[9].tls)?e[2]("Yes"):e[2]("No"))+"")&&ue(i,h),(!D||12&t)&&m!==(m=(e[9].is_default?e[2]("Yes"):e[2]("No"))+"")&&ue(c,m),(!D||12&t)&&g!==(g=(e[9].is_forced?e[2]("Yes"):e[2]("No"))+"")&&ue(f,g)},i(e){D||(We(u.$$.fragment,e),D=!0)},o(e){Ye(u.$$.fragment,e),D=!1},d(e){e&&Y(t),tt(u)}}}function Rd(e){let t,n,u;return n=new Ic({props:{href:"/settings/connection-profile/add",class:"btn",$$slots:{default:[Td]},$$scope:{ctx:e}}}),{c(){t=K("div"),Xe(n.$$.fragment),te(t,"class","form-actions")},m(e,r){W(e,t,r),et(n,t,null),u=!0},p(e,t){const u={};32772&t&&(u.$$scope={dirty:t,ctx:e}),n.$set(u)},i(e){u||(We(n.$$.fragment,e),u=!0)},o(e){Ye(n.$$.fragment,e),u=!1},d(e){e&&Y(t),tt(n)}}}function Td(e){let t,n,u,r,o,i=e[2]("Add")+"";return t=new dt({props:{name:"plus-circle"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||4&t)&&i!==(i=e[2]("Add")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function Pd(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,C,F,w,_,B,k,x,S,O,N,j,R,T,P,L,M,I,U,q,H,Z,Q,X,ee,ne=e[2]("Connections")+"",re=e[2]("Host")+"",oe=e[2]("Secure")+"",ie=e[2]("Nick")+"",ae=e[2]("Connection profiles")+"",se=e[2]("Connection profiles are used to set up global values for every connection that connect to the same host.")+"",ce=e[2]("Host")+"",le=e[2]("Secure")+"",de=e[2]("Default")+"",fe=e[2]("Forced")+"";t=new Et({props:{$$slots:{default:[Bd]},$$scope:{ctx:e}}});let pe=e[0],De=[];for(let t=0;t<pe.length;t+=1)De[t]=xd(_d(e,pe,t));const he=e=>Ye(De[e],1,1,(()=>{De[e]=null}));let me=(e[1]||!e[4].forced_connection)&&Sd(e);Z=new Fd({props:{op:e[5].op}});let ge=e[3].search(),ve=[];for(let t=0;t<ge.length;t+=1)ve[t]=jd(wd(e,ge,t));const $e=e=>Ye(ve[e],1,1,(()=>{ve[e]=null}));let ye=e[1]&&Rd(e);return{c(){Xe(t.$$.fragment),n=V(),u=K("main"),r=K("h2"),o=J(ne),i=V(),a=K("table"),s=K("thead"),c=K("tr"),l=K("th"),d=J(re),f=V(),p=K("th"),D=J(oe),h=V(),m=K("th"),g=J(ie),v=V(),$=K("tbody");for(let e=0;e<De.length;e+=1)De[e].c();y=V(),me&&me.c(),b=V(),A=K("h2"),E=J(ae),C=V(),F=K("p"),w=J(se),_=V(),B=K("table"),k=K("thead"),x=K("tr"),S=K("th"),O=J(ce),N=V(),j=K("th"),R=J(le),T=V(),P=K("th"),L=J(de),M=V(),I=K("th"),U=J(fe),q=V(),H=K("tbody"),Xe(Z.$$.fragment),Q=V();for(let e=0;e<ve.length;e+=1)ve[e].c();X=V(),ye&&ye.c(),te(u,"class","main")},m(e,Y){et(t,e,Y),W(e,n,Y),W(e,u,Y),z(u,r),z(r,o),z(u,i),z(u,a),z(a,s),z(s,c),z(c,l),z(l,d),z(c,f),z(c,p),z(p,D),z(c,h),z(c,m),z(m,g),z(a,v),z(a,$);for(let e=0;e<De.length;e+=1)De[e].m($,null);z(u,y),me&&me.m(u,null),z(u,b),z(u,A),z(A,E),z(u,C),z(u,F),z(F,w),z(u,_),z(u,B),z(B,k),z(k,x),z(x,S),z(S,O),z(x,N),z(x,j),z(j,R),z(x,T),z(x,P),z(P,L),z(x,M),z(x,I),z(I,U),z(B,q),z(B,H),et(Z,H,null),z(H,Q);for(let e=0;e<ve.length;e+=1)ve[e].m(H,null);z(u,X),ye&&ye.m(u,null),ee=!0},p(e,[n]){const r={};if(32772&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),(!ee||4&n)&&ne!==(ne=e[2]("Connections")+"")&&ue(o,ne),(!ee||4&n)&&re!==(re=e[2]("Host")+"")&&ue(d,re),(!ee||4&n)&&oe!==(oe=e[2]("Secure")+"")&&ue(D,oe),(!ee||4&n)&&ie!==(ie=e[2]("Nick")+"")&&ue(g,ie),5&n){let t;for(pe=e[0],t=0;t<pe.length;t+=1){const u=_d(e,pe,t);De[t]?(De[t].p(u,n),We(De[t],1)):(De[t]=xd(u),De[t].c(),We(De[t],1),De[t].m($,null))}for(qe(),t=pe.length;t<De.length;t+=1)he(t);He()}if(e[1]||!e[4].forced_connection?me?(me.p(e,n),2&n&&We(me,1)):(me=Sd(e),me.c(),We(me,1),me.m(u,b)):me&&(qe(),Ye(me,1,1,(()=>{me=null})),He()),(!ee||4&n)&&ae!==(ae=e[2]("Connection profiles")+"")&&ue(E,ae),(!ee||4&n)&&se!==(se=e[2]("Connection profiles are used to set up global values for every connection that connect to the same host.")+"")&&ue(w,se),(!ee||4&n)&&ce!==(ce=e[2]("Host")+"")&&ue(O,ce),(!ee||4&n)&&le!==(le=e[2]("Secure")+"")&&ue(R,le),(!ee||4&n)&&de!==(de=e[2]("Default")+"")&&ue(L,de),(!ee||4&n)&&fe!==(fe=e[2]("Forced")+"")&&ue(U,fe),12&n){let t;for(ge=e[3].search(),t=0;t<ge.length;t+=1){const u=wd(e,ge,t);ve[t]?(ve[t].p(u,n),We(ve[t],1)):(ve[t]=jd(u),ve[t].c(),We(ve[t],1),ve[t].m(H,null))}for(qe(),t=ge.length;t<ve.length;t+=1)$e(t);He()}e[1]?ye?(ye.p(e,n),2&n&&We(ye,1)):(ye=Rd(e),ye.c(),We(ye,1),ye.m(u,null)):ye&&(qe(),Ye(ye,1,1,(()=>{ye=null})),He())},i(e){if(!ee){We(t.$$.fragment,e);for(let e=0;e<pe.length;e+=1)We(De[e]);We(me),We(Z.$$.fragment,e);for(let e=0;e<ge.length;e+=1)We(ve[e]);We(ye),ee=!0}},o(e){Ye(t.$$.fragment,e),De=De.filter(Boolean);for(let e=0;e<De.length;e+=1)Ye(De[e]);Ye(me),Ye(Z.$$.fragment,e),ve=ve.filter(Boolean);for(let e=0;e<ve.length;e+=1)Ye(ve[e]);Ye(ye),ee=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u),G(De,e),me&&me.d(),tt(Z),G(ve,e),ye&&ye.d()}}}function Ld(e,t,n){let u,r,o,i;B(e,_a,(e=>n(2,o=e)));const a=Ee("user");B(e,a,(e=>n(7,r=e)));const s=a.connectionProfiles;B(e,s,(e=>n(3,i=e)));const c=e=>e.url.toFields({connection_id:e.connection_id});let l=[];return $e((()=>s.load())),e.$$.update=()=>{129&e.$$.dirty&&r.is("success")&&!l.length&&n(0,l=a.connections.toArray().map(c))},n(1,u=a.roles.has("admin")),[l,u,o,i,a,s,"Connections",r]}class Md extends rt{constructor(e){super(),ut(this,e,Ld,Pd,w,{title:6})}get title(){return this.$$.ctx[6]}}function Id(e){let t,n,u,r,o,i,a=tn(e[4]("See all connection profiles"))+"";return t=new dt({props:{name:"list"}}),n=new dt({props:{name:"times"}}),{c(){Xe(t.$$.fragment),Xe(n.$$.fragment),u=V(),r=K("span"),o=J(a),te(r,"class","tooltip is-left")},m(e,a){et(t,e,a),et(n,e,a),W(e,u,a),W(e,r,a),z(r,o),i=!0},p(e,t){(!i||16&t)&&a!==(a=tn(e[4]("See all connection profiles"))+"")&&ue(o,a)},i(e){i||(We(t.$$.fragment,e),We(n.$$.fragment,e),i=!0)},o(e){Ye(t.$$.fragment,e),Ye(n.$$.fragment,e),i=!1},d(e){tt(t,e),tt(n,e),e&&Y(u),e&&Y(r)}}}function Ud(e){let t,n,u,r,o,i=("add"==e[0]?e[4]("Add connection profile"):e[4]("Edit connection profile"))+"";return r=new Ic({props:{href:"/settings/connections",class:"btn-hallow can-toggle is-active has-tooltip",$$slots:{default:[Id]},$$scope:{ctx:e}}}),{c(){t=K("h1"),n=J(i),u=V(),Xe(r.$$.fragment)},m(e,i){W(e,t,i),z(t,n),W(e,u,i),et(r,e,i),o=!0},p(e,t){(!o||17&t)&&i!==(i=("add"==e[0]?e[4]("Add connection profile"):e[4]("Edit connection profile"))+"")&&ue(n,i);const u={};67108880&t&&(u.$$scope={dirty:t,ctx:e}),r.$set(u)},i(e){o||(We(r.$$.fragment,e),o=!0)},o(e){Ye(r.$$.fragment,e),o=!1},d(e){e&&Y(t),e&&Y(u),tt(r,e)}}}function zd(e){let t,n,u=e[4]("Host and port")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Host and port")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function qd(e){let t,n,u=e[4]("Will match connections on hostname.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Will match connections on hostname.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Hd(e){let t,n,u=e[4]("Secure connection (TLS)")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Secure connection (TLS)")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Wd(e){let t,n,u=e[4]("Verify certificate (TLS)")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Verify certificate (TLS)")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Yd(e){let t,n,u=e[4]("Conversation name")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Conversation name")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Gd(e){let t,n,u=e[4]("Service accounts")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Service accounts")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Kd(e){let t,n,u=e[4]("Messages from these nicks will be shown in the connection conversation.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Messages from these nicks will be shown in the connection conversation.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Zd(e){let t,n,u=e[4]("Default connection")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Default connection")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Jd(e){let t,n,u=e[4]("Force default connection")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Force default connection")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Vd(e){let t,n,u,r=e[4]("Tick this box if you want to prevent users from creating custom connections.")+"";return{c(){t=K("p"),n=J(r),te(t,"class","help"),t.hidden=u=!e[1].is_default},m(e,u){W(e,t,u),z(t,n)},p(e,o){16&o&&r!==(r=e[4]("Tick this box if you want to prevent users from creating custom connections.")+"")&&ue(n,r),2&o&&u!==(u=!e[1].is_default)&&(t.hidden=u)},d(e){e&&Y(t)}}}function Qd(e){let t,n,u=e[4]("Advanced settings")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Advanced settings")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Xd(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v=e[4]("This might result in flood ban.")+"";function $(t){e[19](t)}let y={name:"max_bulk_message_size",type:"number",readonly:!e[3],$$slots:{help:[tf],label:[ef]},$$scope:{ctx:e}};function b(t){e[20](t)}void 0!==e[1].max_bulk_message_size&&(y.value=e[1].max_bulk_message_size),n=new Ks({props:y}),we.push((()=>Qe(n,"value",$)));let A={name:"max_message_length",type:"number",readonly:!e[3],$$slots:{help:[uf],label:[nf]},$$scope:{ctx:e}};function E(t){e[21](t)}void 0!==e[1].max_message_length&&(A.value=e[1].max_message_length),o=new Ks({props:A}),we.push((()=>Qe(o,"value",b)));let C={name:"webirc_password",type:"password",readonly:!e[3],$$slots:{label:[rf]},$$scope:{ctx:e}};function F(t){e[22](t)}void 0!==e[1].webirc_password&&(C.value=e[1].webirc_password),s=new Ks({props:C}),we.push((()=>Qe(s,"value",E)));let w={name:"skip_queue",disabled:!e[3],$$slots:{label:[of]},$$scope:{ctx:e}};return void 0!==e[1].skip_queue&&(w.value=e[1].skip_queue),d=new As({props:w}),we.push((()=>Qe(d,"value",F))),{c(){t=K("div"),Xe(n.$$.fragment),r=V(),Xe(o.$$.fragment),a=V(),Xe(s.$$.fragment),l=V(),Xe(d.$$.fragment),p=V(),D=K("p"),h=J(v),te(D,"class","help"),te(t,"class","form-group")},m(e,u){W(e,t,u),et(n,t,null),z(t,r),et(o,t,null),z(t,a),et(s,t,null),z(t,l),et(d,t,null),z(t,p),z(t,D),z(D,h),g=!0},p(e,t){const r={};8&t&&(r.readonly=!e[3]),67108880&t&&(r.$$scope={dirty:t,ctx:e}),!u&&2&t&&(u=!0,r.value=e[1].max_bulk_message_size,je((()=>u=!1))),n.$set(r);const a={};8&t&&(a.readonly=!e[3]),67108880&t&&(a.$$scope={dirty:t,ctx:e}),!i&&2&t&&(i=!0,a.value=e[1].max_message_length,je((()=>i=!1))),o.$set(a);const l={};8&t&&(l.readonly=!e[3]),67108880&t&&(l.$$scope={dirty:t,ctx:e}),!c&&2&t&&(c=!0,l.value=e[1].webirc_password,je((()=>c=!1))),s.$set(l);const p={};8&t&&(p.disabled=!e[3]),67108880&t&&(p.$$scope={dirty:t,ctx:e}),!f&&2&t&&(f=!0,p.value=e[1].skip_queue,je((()=>f=!1))),d.$set(p),(!g||16&t)&&v!==(v=e[4]("This might result in flood ban.")+"")&&ue(h,v)},i(e){g||(We(n.$$.fragment,e),We(o.$$.fragment,e),We(s.$$.fragment,e),We(d.$$.fragment,e),Ne((()=>{m||(m=Ke(t,Ma,{duration:150},!0)),m.run(1)})),g=!0)},o(e){Ye(n.$$.fragment,e),Ye(o.$$.fragment,e),Ye(s.$$.fragment,e),Ye(d.$$.fragment,e),m||(m=Ke(t,Ma,{duration:150},!1)),m.run(0),g=!1},d(e){e&&Y(t),tt(n),tt(o),tt(s),tt(d),e&&m&&m.end()}}}function ef(e){let t,n,u=e[4]("Max number of pasted lines")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Max number of pasted lines")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function tf(e){let t,n,u=e[4]("Setting this value too high might get you banned from the server.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Setting this value too high might get you banned from the server.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function nf(e){let t,n,u=e[4]("Max message length")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Max message length")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function uf(e){let t,n,u=e[4]("Messages longer than this will be split into multiple messages.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Messages longer than this will be split into multiple messages.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function rf(e){let t,n,u=e[4]("WEBIRC password")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("WEBIRC password")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function of(e){let t,n,u=e[4]("Skip connection queue")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Skip connection queue")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function af(e){let t,n,u=e[4]("Only administrators can edit this section.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","error")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Only administrators can edit this section.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function sf(e){let t,n;return t=new ms({props:{icon:"plus-circle",op:e[7],$$slots:{default:[lf]},$$scope:{ctx:e}}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};67108880&n&&(u.$$scope={dirty:n,ctx:e}),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function cf(e){let t,n,u,r;return t=new ms({props:{icon:"save",op:e[7],disabled:!e[3],$$slots:{default:[df]},$$scope:{ctx:e}}}),u=new ms({props:{icon:"trash",type:"button",op:e[6],disabled:!e[3],$$slots:{default:[ff]},$$scope:{ctx:e}}}),u.$on("click",e[8]),{c(){Xe(t.$$.fragment),n=V(),Xe(u.$$.fragment)},m(e,o){et(t,e,o),W(e,n,o),et(u,e,o),r=!0},p(e,n){const r={};8&n&&(r.disabled=!e[3]),67108880&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const o={};8&n&&(o.disabled=!e[3]),67108880&n&&(o.$$scope={dirty:n,ctx:e}),u.$set(o)},i(e){r||(We(t.$$.fragment,e),We(u.$$.fragment,e),r=!0)},o(e){Ye(t.$$.fragment,e),Ye(u.$$.fragment,e),r=!1},d(e){tt(t,e),e&&Y(n),tt(u,e)}}}function lf(e){let t,n,u=e[4]("Add")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Add")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function df(e){let t,n,u=e[4]("Update")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Update")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function ff(e){let t,n,u=e[4]("Delete")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Delete")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function pf(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,C,F,w,_,B,k,x,S,O,N,j,R,T,P,L,M,I,U;function q(t){e[11](t)}t=new Et({props:{$$slots:{default:[Ud]},$$scope:{ctx:e}}});let H={name:"host",placeholder:e[4]("Ex: irc.libera.chat:6697"),readonly:!e[3],$$slots:{help:[qd],label:[zd]},$$scope:{ctx:e}};function G(t){e[12](t)}void 0!==e[1].host&&(H.value=e[1].host),o=new Ks({props:H}),we.push((()=>Qe(o,"value",q)));let Z={name:"tls",disabled:!e[3],$$slots:{label:[Hd]},$$scope:{ctx:e}};function J(t){e[13](t)}void 0!==e[1].tls&&(Z.value=e[1].tls),s=new As({props:Z}),we.push((()=>Qe(s,"value",G)));let Q={name:"tls_verify",disabled:!e[1].tls||!e[3],hidden:!e[1].tls,$$slots:{label:[Wd]},$$scope:{ctx:e}};function ne(t){e[14](t)}void 0!==e[1].tls_verify&&(Q.value=e[1].tls_verify),d=new As({props:Q}),we.push((()=>Qe(d,"value",J)));let ue={name:"conversation_id",placeholder:e[4]("Ex: #convos"),readonly:!e[3],$$slots:{label:[Yd]},$$scope:{ctx:e}};function re(t){e[15](t)}void 0!==e[1].conversation_id&&(ue.value=e[1].conversation_id),D=new Ks({props:ue}),we.push((()=>Qe(D,"value",ne)));let oe={name:"service_accounts",placeholder:e[4]("chanserv, nickserv, ..."),readonly:!e[3],$$slots:{help:[Kd],label:[Gd]},$$scope:{ctx:e}};function ie(t){e[16](t)}void 0!==e[1].service_accounts&&(oe.value=e[1].service_accounts),g=new Ks({props:oe}),we.push((()=>Qe(g,"value",re)));let ae={name:"is_default",disabled:!e[3],$$slots:{label:[Zd]},$$scope:{ctx:e}};function se(t){e[17](t)}void 0!==e[1].is_default&&(ae.value=e[1].is_default),y=new As({props:ae}),we.push((()=>Qe(y,"value",ie)));let ce={name:"is_forced",disabled:!e[3],hidden:!e[1].is_default,$$slots:{label:[Jd]},$$scope:{ctx:e}};void 0!==e[1].is_forced&&(ce.value=e[1].is_forced),E=new As({props:ce}),we.push((()=>Qe(E,"value",se)));let le=e[3]&&Vd(e);function de(t){e[18](t)}let fe={icon:"caret",name:"show_advanced_settings",$$slots:{label:[Qd]},$$scope:{ctx:e}};void 0!==e[2]&&(fe.value=e[2]),_=new As({props:fe}),we.push((()=>Qe(_,"value",de)));let pe=e[2]&&Xd(e),De=!e[3]&&af(e);const he=[cf,sf],me=[];function ge(e,t){return"add"!=e[0]?0:1}return N=ge(e),j=me[N]=he[N](e),T=new Bs({props:{op:e[6],success:"Deleted."}}),L=new Bs({props:{op:e[7]}}),{c(){Xe(t.$$.fragment),n=V(),u=K("main"),r=K("form"),Xe(o.$$.fragment),a=V(),Xe(s.$$.fragment),l=V(),Xe(d.$$.fragment),p=V(),Xe(D.$$.fragment),m=V(),Xe(g.$$.fragment),$=V(),Xe(y.$$.fragment),A=V(),Xe(E.$$.fragment),F=V(),le&&le.c(),w=V(),Xe(_.$$.fragment),k=V(),pe&&pe.c(),x=V(),De&&De.c(),S=V(),O=K("div"),j.c(),R=V(),Xe(T.$$.fragment),P=V(),Xe(L.$$.fragment),te(O,"class","form-actions"),te(r,"method","post"),te(u,"class","main")},m(i,c){et(t,i,c),W(i,n,c),W(i,u,c),z(u,r),et(o,r,null),z(r,a),et(s,r,null),z(r,l),et(d,r,null),z(r,p),et(D,r,null),z(r,m),et(g,r,null),z(r,$),et(y,r,null),z(r,A),et(E,r,null),z(r,F),le&&le.m(r,null),z(r,w),et(_,r,null),z(r,k),pe&&pe.m(r,null),z(r,x),De&&De.m(r,null),z(r,S),z(r,O),me[N].m(O,null),z(r,R),et(T,r,null),z(r,P),et(L,r,null),M=!0,I||(U=X(r,"submit",ee(e[9])),I=!0)},p(e,[n]){const u={};67108881&n&&(u.$$scope={dirty:n,ctx:e}),t.$set(u);const a={};16&n&&(a.placeholder=e[4]("Ex: irc.libera.chat:6697")),8&n&&(a.readonly=!e[3]),67108880&n&&(a.$$scope={dirty:n,ctx:e}),!i&&2&n&&(i=!0,a.value=e[1].host,je((()=>i=!1))),o.$set(a);const l={};8&n&&(l.disabled=!e[3]),67108880&n&&(l.$$scope={dirty:n,ctx:e}),!c&&2&n&&(c=!0,l.value=e[1].tls,je((()=>c=!1))),s.$set(l);const p={};10&n&&(p.disabled=!e[1].tls||!e[3]),2&n&&(p.hidden=!e[1].tls),67108880&n&&(p.$$scope={dirty:n,ctx:e}),!f&&2&n&&(f=!0,p.value=e[1].tls_verify,je((()=>f=!1))),d.$set(p);const m={};16&n&&(m.placeholder=e[4]("Ex: #convos")),8&n&&(m.readonly=!e[3]),67108880&n&&(m.$$scope={dirty:n,ctx:e}),!h&&2&n&&(h=!0,m.value=e[1].conversation_id,je((()=>h=!1))),D.$set(m);const $={};16&n&&($.placeholder=e[4]("chanserv, nickserv, ...")),8&n&&($.readonly=!e[3]),67108880&n&&($.$$scope={dirty:n,ctx:e}),!v&&2&n&&(v=!0,$.value=e[1].service_accounts,je((()=>v=!1))),g.$set($);const A={};8&n&&(A.disabled=!e[3]),67108880&n&&(A.$$scope={dirty:n,ctx:e}),!b&&2&n&&(b=!0,A.value=e[1].is_default,je((()=>b=!1))),y.$set(A);const F={};8&n&&(F.disabled=!e[3]),2&n&&(F.hidden=!e[1].is_default),67108880&n&&(F.$$scope={dirty:n,ctx:e}),!C&&2&n&&(C=!0,F.value=e[1].is_forced,je((()=>C=!1))),E.$set(F),e[3]?le?le.p(e,n):(le=Vd(e),le.c(),le.m(r,w)):le&&(le.d(1),le=null);const k={};67108880&n&&(k.$$scope={dirty:n,ctx:e}),!B&&4&n&&(B=!0,k.value=e[2],je((()=>B=!1))),_.$set(k),e[2]?pe?(pe.p(e,n),4&n&&We(pe,1)):(pe=Xd(e),pe.c(),We(pe,1),pe.m(r,x)):pe&&(qe(),Ye(pe,1,1,(()=>{pe=null})),He()),e[3]?De&&(De.d(1),De=null):De?De.p(e,n):(De=af(e),De.c(),De.m(r,S));let R=N;N=ge(e),N===R?me[N].p(e,n):(qe(),Ye(me[R],1,1,(()=>{me[R]=null})),He(),j=me[N],j?j.p(e,n):(j=me[N]=he[N](e),j.c()),We(j,1),j.m(O,null))},i(e){M||(We(t.$$.fragment,e),We(o.$$.fragment,e),We(s.$$.fragment,e),We(d.$$.fragment,e),We(D.$$.fragment,e),We(g.$$.fragment,e),We(y.$$.fragment,e),We(E.$$.fragment,e),We(_.$$.fragment,e),We(pe),We(j),We(T.$$.fragment,e),We(L.$$.fragment,e),M=!0)},o(e){Ye(t.$$.fragment,e),Ye(o.$$.fragment,e),Ye(s.$$.fragment,e),Ye(d.$$.fragment,e),Ye(D.$$.fragment,e),Ye(g.$$.fragment,e),Ye(y.$$.fragment,e),Ye(E.$$.fragment,e),Ye(_.$$.fragment,e),Ye(pe),Ye(j),Ye(T.$$.fragment,e),Ye(L.$$.fragment,e),M=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u),tt(o),tt(s),tt(d),tt(D),tt(g),tt(y),tt(E),le&&le.d(),tt(_),pe&&pe.d(),De&&De.d(),me[N].d(),tt(T),tt(L),I=!1,U()}}}function Df(e,t,n){let u,r,o;B(e,_a,(e=>n(4,o=e)));let{profile_id:i="add"}=t;const a="add"==i?"Add connection profile":"Edit connection profile",s=Ee("api"),c=Ee("user"),l=c.connectionProfiles;B(e,l,(e=>n(23,r=e)));const d=s("removeConnectionProfile"),f=s("saveConnectionProfile");let p={},D=!1;return $e((async()=>{await l.load(),n(1,p={...r.find(i)||r.defaultProfile()})})),e.$$set=e=>{"profile_id"in e&&n(0,i=e.profile_id)},n(3,u=c.roles.has("admin")),[i,p,D,u,o,l,d,f,async function(){await d.perform({id:i}),await l.load({force:!0}),await Oe(),sa.go("/settings/connections")},async function(){["is_default","is_forced","skip_queue"].forEach((e=>n(1,p[e]=!!p[e],p))),n(1,p.service_accounts=an(p.service_accounts),p),n(1,p.url=new Es("irc://localhost").fromFields(p).toString(),p),await f.perform(p),f.is("error")||(p.is_default&&c.update({default_connection:p.url,forced_connection:p.is_forced}),await l.load({force:!0}),await Oe(),sa.go("/settings/connections"))},a,function(t){e.$$.not_equal(p.host,t)&&(p.host=t,n(1,p))},function(t){e.$$.not_equal(p.tls,t)&&(p.tls=t,n(1,p))},function(t){e.$$.not_equal(p.tls_verify,t)&&(p.tls_verify=t,n(1,p))},function(t){e.$$.not_equal(p.conversation_id,t)&&(p.conversation_id=t,n(1,p))},function(t){e.$$.not_equal(p.service_accounts,t)&&(p.service_accounts=t,n(1,p))},function(t){e.$$.not_equal(p.is_default,t)&&(p.is_default=t,n(1,p))},function(t){e.$$.not_equal(p.is_forced,t)&&(p.is_forced=t,n(1,p))},function(e){D=e,n(2,D)},function(t){e.$$.not_equal(p.max_bulk_message_size,t)&&(p.max_bulk_message_size=t,n(1,p))},function(t){e.$$.not_equal(p.max_message_length,t)&&(p.max_message_length=t,n(1,p))},function(t){e.$$.not_equal(p.webirc_password,t)&&(p.webirc_password=t,n(1,p))},function(t){e.$$.not_equal(p.skip_queue,t)&&(p.skip_queue=t,n(1,p))}]}class hf extends rt{constructor(e){super(),ut(this,e,Df,pf,w,{profile_id:0,title:10})}get title(){return this.$$.ctx[10]}}function mf(e){let t,n,u,r,o,i,a=tn(e[1]("See all connections"))+"";return t=new dt({props:{name:"list"}}),n=new dt({props:{name:"times"}}),{c(){Xe(t.$$.fragment),Xe(n.$$.fragment),u=V(),r=K("span"),o=J(a),te(r,"class","tooltip is-left")},m(e,a){et(t,e,a),et(n,e,a),W(e,u,a),W(e,r,a),z(r,o),i=!0},p(e,t){(!i||2&t)&&a!==(a=tn(e[1]("See all connections"))+"")&&ue(o,a)},i(e){i||(We(t.$$.fragment,e),We(n.$$.fragment,e),i=!0)},o(e){Ye(t.$$.fragment,e),Ye(n.$$.fragment,e),i=!1},d(e){tt(t,e),tt(n,e),e&&Y(u),e&&Y(r)}}}function gf(e){let t,n,u,r,o,i=("add"==e[0]?e[1]("Add connection"):e[1]("Edit connection"))+"";return r=new Ic({props:{href:"/settings/connections",class:"btn-hallow can-toggle is-active has-tooltip",$$slots:{default:[mf]},$$scope:{ctx:e}}}),{c(){t=K("h1"),n=J(i),u=V(),Xe(r.$$.fragment)},m(e,i){W(e,t,i),z(t,n),W(e,u,i),et(r,e,i),o=!0},p(e,t){(!o||3&t)&&i!==(i=("add"==e[0]?e[1]("Add connection"):e[1]("Edit connection"))+"")&&ue(n,i);const u={};10&t&&(u.$$scope={dirty:t,ctx:e}),r.$set(u)},i(e){o||(We(r.$$.fragment,e),o=!0)},o(e){Ye(r.$$.fragment,e),o=!1},d(e){e&&Y(t),e&&Y(u),tt(r,e)}}}function vf(e){let t,n,u,r,o;return t=new Et({props:{$$slots:{default:[gf]},$$scope:{ctx:e}}}),r=new xc({props:{id:e[0],is_page:!0}}),{c(){Xe(t.$$.fragment),n=V(),u=K("main"),Xe(r.$$.fragment),te(u,"class","main")},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),et(r,u,null),o=!0},p(e,[n]){const u={};11&n&&(u.$$scope={dirty:n,ctx:e}),t.$set(u);const o={};1&n&&(o.id=e[0]),r.$set(o)},i(e){o||(We(t.$$.fragment,e),We(r.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),Ye(r.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u),tt(r)}}}function $f(e,t,n){let u;B(e,_a,(e=>n(1,u=e)));let{connection_id:r="add"}=t;const o="add"==r?"Add connection":"Edit connection";return e.$$set=e=>{"connection_id"in e&&n(0,r=e.connection_id)},[r,u,o]}class yf extends rt{constructor(e){super(),ut(this,e,$f,vf,w,{connection_id:0,title:2})}get title(){return this.$$.ctx[2]}}function bf(e,t,n){const u=e.slice();return u[16]=t[n],u}function Af(e){let t,n,u=e[4]("Add conversation")+"";return{c(){t=K("h1"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Add conversation")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Ef(e){let t,n,u=e[4]("Connection")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Connection")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Cf(e){let t,n,u=e[4](e[1].conversations.length?"Refresh":"Load")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){18&t&&u!==(u=e[4](e[1].conversations.length?"Refresh":"Load")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Ff(e){let t,n,u=e[4]("Conversation name")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Conversation name")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function wf(e){let t,n,u=e[4]("Add")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Add")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function _f(e){let t,n,u,r,o=e[1].error+"";return{c(){t=K("p"),n=J(e[0]),u=J(": "),r=J(o),te(t,"class","error")},m(e,o){W(e,t,o),z(t,n),z(t,u),z(t,r)},p(e,t){1&t&&ue(n,e[0]),2&t&&o!==(o=e[1].error+"")&&ue(r,o)},d(e){e&&Y(t)}}}function Bf(e){let t,n,u;function r(e,t){return e[1].done?xf:kf}let o=r(e),i=o(e),a=e[1].conversations,s=[];for(let t=0;t<a.length;t+=1)s[t]=Sf(bf(e,a,t));return{c(){t=K("p"),i.c(),n=V(),u=K("div");for(let e=0;e<s.length;e+=1)s[e].c();te(u,"class","conversation-add-list")},m(e,r){W(e,t,r),i.m(t,null),W(e,n,r),W(e,u,r);for(let e=0;e<s.length;e+=1)s[e].m(u,null)},p(e,n){if(o===(o=r(e))&&i?i.p(e,n):(i.d(1),i=o(e),i&&(i.c(),i.m(t,null))),66&n){let t;for(a=e[1].conversations,t=0;t<a.length;t+=1){const r=bf(e,a,t);s[t]?s[t].p(r,n):(s[t]=Sf(r),s[t].c(),s[t].m(u,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=a.length}},d(e){e&&Y(t),i.d(),e&&Y(n),e&&Y(u),G(s,e)}}}function kf(e){let t,n=e[4]("Showing %1 of %2 conversations, but the list is still loading.",e[1].conversations.length,e[1].n_conversations)+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){18&u&&n!==(n=e[4]("Showing %1 of %2 conversations, but the list is still loading.",e[1].conversations.length,e[1].n_conversations)+"")&&ue(t,n)},d(e){e&&Y(t)}}}function xf(e){let t,n=e[4]("Showing %1 of %2 conversations.",e[1].conversations.length,e[1].n_conversations)+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){18&u&&n!==(n=e[4]("Showing %1 of %2 conversations.",e[1].conversations.length,e[1].n_conversations)+"")&&ue(t,n)},d(e){e&&Y(t)}}}function Sf(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D=e[16].n_users+"",h=e[16].name+"",m=(e[16].topic||"No topic.")+"";return{c(){t=K("a"),n=K("span"),u=J(D),r=V(),o=K("b"),i=J(h),a=V(),s=K("i"),c=J(m),l=V(),te(n,"class","conversation-add-list__n-users"),te(o,"class","conversation-add-list__name"),te(s,"class","conversation-add-list__title"),te(t,"href",d="#add:"+e[16].name)},m(d,D){W(d,t,D),z(t,n),z(n,u),z(t,r),z(t,o),z(o,i),z(t,a),z(t,s),z(s,c),z(t,l),f||(p=X(t,"click",ee(e[6])),f=!0)},p(e,n){2&n&&D!==(D=e[16].n_users+"")&&ue(u,D),2&n&&h!==(h=e[16].name+"")&&ue(i,h),2&n&&m!==(m=(e[16].topic||"No topic.")+"")&&ue(c,m),2&n&&d!==(d="#add:"+e[16].name)&&te(t,"href",d)},d(e){e&&Y(t),f=!1,p()}}}function Of(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,C,F,w=e[4]("Enter the name of an exising conversation, or create a new conversation.")+"";function _(t){e[11](t)}t=new Et({props:{$$slots:{default:[Af]},$$scope:{ctx:e}}});let B={name:"connection_id",options:e[3],placeholder:e[4]("Select..."),$$slots:{label:[Ef]},$$scope:{ctx:e}};function k(t){e[12](t)}void 0!==e[0]&&(B.value=e[0]),c=new Rs({props:B}),we.push((()=>Qe(c,"value",_))),p=new ms({props:{type:"button",icon:"sync-alt",disabled:!e[0]||!1===e[1].done,$$slots:{default:[Cf]},$$scope:{ctx:e}}}),p.$on("click",e[7]);let x={name:"conversation_id",placeholder:e[4]("#room or nick"),autocomplete:"off",$$slots:{label:[Ff]},$$scope:{ctx:e}};void 0!==e[2]&&(x.value=e[2]),m=new Ks({props:x}),we.push((()=>Qe(m,"value",k))),m.$on("keyup",e[8]),y=new ms({props:{icon:"comment",disabled:!e[0]||!e[2],$$slots:{default:[wf]},$$scope:{ctx:e}}});let S=e[1].error&&_f(e),O=null!==e[1].done&&Bf(e);return{c(){Xe(t.$$.fragment),n=V(),u=K("main"),r=K("p"),o=J(w),i=V(),a=K("form"),s=K("div"),Xe(c.$$.fragment),d=V(),f=K("div"),Xe(p.$$.fragment),D=V(),h=K("div"),Xe(m.$$.fragment),v=V(),$=K("div"),Xe(y.$$.fragment),b=V(),S&&S.c(),A=V(),O&&O.c(),te(f,"class","flex-basis-30"),te(s,"class","inputs-side-by-side"),te($,"class","flex-basis-30"),te(h,"class","inputs-side-by-side"),te(a,"method","post"),te(u,"class","main")},m(l,g){et(t,l,g),W(l,n,g),W(l,u,g),z(u,r),z(r,o),z(u,i),z(u,a),z(a,s),et(c,s,null),z(s,d),z(s,f),et(p,f,null),z(a,D),z(a,h),et(m,h,null),z(h,v),z(h,$),et(y,$,null),z(a,b),S&&S.m(a,null),z(a,A),O&&O.m(a,null),E=!0,C||(F=X(a,"submit",ee(e[6])),C=!0)},p(e,[n]){const u={};524304&n&&(u.$$scope={dirty:n,ctx:e}),t.$set(u),(!E||16&n)&&w!==(w=e[4]("Enter the name of an exising conversation, or create a new conversation.")+"")&&ue(o,w);const r={};8&n&&(r.options=e[3]),16&n&&(r.placeholder=e[4]("Select...")),524304&n&&(r.$$scope={dirty:n,ctx:e}),!l&&1&n&&(l=!0,r.value=e[0],je((()=>l=!1))),c.$set(r);const i={};3&n&&(i.disabled=!e[0]||!1===e[1].done),524306&n&&(i.$$scope={dirty:n,ctx:e}),p.$set(i);const s={};16&n&&(s.placeholder=e[4]("#room or nick")),524304&n&&(s.$$scope={dirty:n,ctx:e}),!g&&4&n&&(g=!0,s.value=e[2],je((()=>g=!1))),m.$set(s);const d={};5&n&&(d.disabled=!e[0]||!e[2]),524304&n&&(d.$$scope={dirty:n,ctx:e}),y.$set(d),e[1].error?S?S.p(e,n):(S=_f(e),S.c(),S.m(a,A)):S&&(S.d(1),S=null),null!==e[1].done?O?O.p(e,n):(O=Bf(e),O.c(),O.m(a,null)):O&&(O.d(1),O=null)},i(e){E||(We(t.$$.fragment,e),We(c.$$.fragment,e),We(p.$$.fragment,e),We(m.$$.fragment,e),We(y.$$.fragment,e),E=!0)},o(e){Ye(t.$$.fragment,e),Ye(c.$$.fragment,e),Ye(p.$$.fragment,e),Ye(m.$$.fragment,e),Ye(y.$$.fragment,e),E=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u),tt(c),tt(p),tt(m),tt(y),S&&S.d(),O&&O.d(),C=!1,F()}}}function Nf(e,t,n){let u,r,o;B(e,_a,(e=>n(4,o=e)));const i=Ee("socket"),a=Ee("user");B(e,a,(e=>n(10,r=e)));let s,c={conversations:[],done:null,n_conversations:0},l="",d="";async function f(e){let t="/list"+(d.length?" /"+d+"/":"");"click"==e.type&&c.done&&(t+=" refresh"),s&&clearTimeout(s),i.send({connection_id:l,message:t,method:"send"},(t=>{const u=Zt(t);n(1,c=u?{conversations:[],done:!0,n_conversations:0,error:u}:t);let r=e.interval?e.interval+500:500;r>2e3&&(r=2e3),u||t.done||(s=setTimeout((()=>f({interval:r})),r))}))}const p=Kt(f,250);return e.$$.update=()=>{1024&e.$$.dirty&&n(3,u=Array.from(r.connections.keys()).map((e=>[e]))),1&e.$$.dirty&&(l||(n(0,l=sa.param("connection_id")||u[0][0]||""),n(2,d=sa.param("conversation_id")||"")))},[l,c,d,u,o,a,function(e){const t=e&&e.target&&e.target.closest("a");t&&t.href&&n(2,d=t.href.replace(/.*#add:/,""));const u=a.findConversation({connection_id:l});u&&d&&u.send("/join "+d)},f,p,"Add conversation",r,function(e){l=e,n(0,l)},function(e){d=e,n(2,d)}]}class jf extends rt{constructor(e){super(),ut(this,e,Nf,Of,w,{title:9})}get title(){return this.$$.ctx[9]}}function Rf(e){let t,n,u,r,o,i,a,s,c=e[4]("Yikes! we are so sorry for the inconvenience. Please submit an [issue](%1), if the problem does not go away.","https://github.com/convos-chat/convos/issues")+"",l=e[2]("Go to start page")+"";return o=new dt({props:{name:"play"}}),{c(){t=K("p"),n=V(),u=K("p"),r=K("a"),Xe(o.$$.fragment),i=V(),a=J(l),te(r,"href",e[1]),te(r,"target","_self"),te(r,"class","btn")},m(e,l){W(e,t,l),t.innerHTML=c,W(e,n,l),W(e,u,l),z(u,r),et(o,r,null),z(r,i),z(r,a),s=!0},p(e,n){(!s||16&n)&&c!==(c=e[4]("Yikes! we are so sorry for the inconvenience. Please submit an [issue](%1), if the problem does not go away.","https://github.com/convos-chat/convos/issues")+"")&&(t.innerHTML=c),(!s||4&n)&&l!==(l=e[2]("Go to start page")+"")&&ue(a,l),(!s||2&n)&&te(r,"href",e[1])},i(e){s||(We(o.$$.fragment,e),s=!0)},o(e){Ye(o.$$.fragment,e),s=!1},d(e){e&&Y(t),e&&Y(n),e&&Y(u),tt(o)}}}function Tf(e){let t,n,u,r,o,i,a,s,c,l=e[2]("The Convos Team have been searching and searching, but the requested page could not be found.")+"",d=e[2]("Go to start page")+"";return i=new dt({props:{name:"play"}}),{c(){t=K("p"),n=J(l),u=V(),r=K("p"),o=K("a"),Xe(i.$$.fragment),a=V(),s=J(d),te(o,"href",e[1]),te(o,"target","_self"),te(o,"class","btn")},m(e,l){W(e,t,l),z(t,n),W(e,u,l),W(e,r,l),z(r,o),et(i,o,null),z(o,a),z(o,s),c=!0},p(e,t){(!c||4&t)&&l!==(l=e[2]("The Convos Team have been searching and searching, but the requested page could not be found.")+"")&&ue(n,l),(!c||4&t)&&d!==(d=e[2]("Go to start page")+"")&&ue(s,d),(!c||2&t)&&te(o,"href",e[1])},i(e){c||(We(i.$$.fragment,e),c=!0)},o(e){Ye(i.$$.fragment,e),c=!1},d(e){e&&Y(t),e&&Y(u),e&&Y(r),tt(i)}}}function Pf(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b=e[2]("Downloaded Convos.")+"",A=e[2]("Started Convos.")+"",E=e[2]("Contact admin")+"";n=new dt({props:{name:"download"}}),a=new dt({props:{name:"rocket"}});const C=[Mf,Lf],F=[];function w(e,t){return e[3].error?0:1}d=w(e),f=F[d]=C[d](e),m=new dt({props:{name:"paper-plane"}});let _={ctx:e,current:null,token:null,hasCatch:!1,pending:zf,then:Uf,catch:If,blocks:[,,,]};return Ze(e[8],_),{c(){t=K("p"),Xe(n.$$.fragment),u=V(),r=J(b),o=V(),i=K("p"),Xe(a.$$.fragment),s=V(),c=J(A),l=V(),f.c(),p=V(),D=K("p"),h=K("a"),Xe(m.$$.fragment),g=V(),v=J(E),$=V(),_.block.c(),te(h,"class","btn"),te(h,"href",rn("contact"))},m(e,f){W(e,t,f),et(n,t,null),z(t,u),z(t,r),W(e,o,f),W(e,i,f),et(a,i,null),z(i,s),z(i,c),W(e,l,f),F[d].m(e,f),W(e,p,f),W(e,D,f),z(D,h),et(m,h,null),z(h,g),z(h,v),z(D,$),_.block.m(D,_.anchor=null),_.mount=()=>D,_.anchor=null,y=!0},p(t,n){e=t,(!y||4&n)&&b!==(b=e[2]("Downloaded Convos.")+"")&&ue(r,b),(!y||4&n)&&A!==(A=e[2]("Started Convos.")+"")&&ue(c,A);let u=d;d=w(e),d===u?F[d].p(e,n):(qe(),Ye(F[u],1,1,(()=>{F[u]=null})),He(),f=F[d],f?f.p(e,n):(f=F[d]=C[d](e),f.c()),We(f,1),f.m(p.parentNode,p)),(!y||4&n)&&E!==(E=e[2]("Contact admin")+"")&&ue(v,E),Je(_,e,n)},i(e){y||(We(n.$$.fragment,e),We(a.$$.fragment,e),We(f),We(m.$$.fragment,e),We(_.block),y=!0)},o(e){Ye(n.$$.fragment,e),Ye(a.$$.fragment,e),Ye(f),Ye(m.$$.fragment,e);for(let e=0;e<3;e+=1){Ye(_.blocks[e])}y=!1},d(e){e&&Y(t),tt(n),e&&Y(o),e&&Y(i),tt(a),e&&Y(l),F[d].d(e),e&&Y(p),e&&Y(D),tt(m),_.block.d(),_.token=null,_=null}}}function Lf(e){let t,n,u,r,o,i=e[2]("Loading user data...")+"";return n=new dt({props:{name:"spinner fa-spin"}}),{c(){t=K("p"),Xe(n.$$.fragment),u=V(),r=J(i)},m(e,i){W(e,t,i),et(n,t,null),z(t,u),z(t,r),o=!0},p(e,t){(!o||4&t)&&i!==(i=e[2]("Loading user data...")+"")&&ue(r,i)},i(e){o||(We(n.$$.fragment,e),o=!0)},o(e){Ye(n.$$.fragment,e),o=!1},d(e){e&&Y(t),tt(n)}}}function Mf(e){let t,n,u,r,o,i=e[2]("Loading user data failed: %1",e[2](e[3].error))+"";return n=new dt({props:{name:"exclamation-triangle"}}),{c(){t=K("p"),Xe(n.$$.fragment),u=V(),r=J(i)},m(e,i){W(e,t,i),et(n,t,null),z(t,u),z(t,r),o=!0},p(e,t){(!o||12&t)&&i!==(i=e[2]("Loading user data failed: %1",e[2](e[3].error))+"")&&ue(r,i)},i(e){o||(We(n.$$.fragment,e),o=!0)},o(e){Ye(n.$$.fragment,e),o=!1},d(e){e&&Y(t),tt(n)}}}function If(e){return{c:y,m:y,p:y,i:y,o:y,d:y}}function Uf(e){let t,n,u,r,o,i,a=e[2]("Retry")+"";return n=new dt({props:{name:"redo"}}),{c(){t=K("a"),Xe(n.$$.fragment),u=V(),r=J(a),te(t,"href",e[1]),te(t,"target","_self"),te(t,"class","btn is-secondary")},m(e,o){W(e,t,o),et(n,t,null),z(t,u),z(t,r),i=!0},p(e,n){(!i||4&n)&&a!==(a=e[2]("Retry")+"")&&ue(r,a),(!i||2&n)&&te(t,"href",e[1])},i(e){i||(We(n.$$.fragment,e),Ne((()=>{o||(o=Ke(t,Pa,{},!0)),o.run(1)})),i=!0)},o(e){Ye(n.$$.fragment,e),o||(o=Ke(t,Pa,{},!1)),o.run(0),i=!1},d(e){e&&Y(t),tt(n),e&&o&&o.end()}}}function zf(e){return{c:y,m:y,p:y,i:y,o:y,d:y}}function qf(e){let t,n,u,r,o,i,a,s=e[2](e[5][e[0]])+"";const c=[Pf,Tf,Rf],l=[];function d(e,t){return"loading"==e[0]?0:"not_found"==e[0]?1:2}return o=d(e),i=l[o]=c[o](e),{c(){t=K("main"),n=K("h2"),u=J(s),r=V(),i.c(),te(t,"class","cms-main")},m(e,i){W(e,t,i),z(t,n),z(n,u),z(t,r),l[o].m(t,null),a=!0},p(e,[n]){(!a||5&n)&&s!==(s=e[2](e[5][e[0]])+"")&&ue(u,s);let r=o;o=d(e),o===r?l[o].p(e,n):(qe(),Ye(l[r],1,1,(()=>{l[r]=null})),He(),i=l[o],i?i.p(e,n):(i=l[o]=c[o](e),i.c()),We(i,1),i.m(t,null))},i(e){a||(We(i),a=!0)},o(e){Ye(i),a=!1},d(e){e&&Y(t),l[o].d()}}}function Hf(e,t,n){let u,r,o,i,a,s,c;B(e,sa,(e=>n(11,i=e))),B(e,_a,(e=>n(2,a=e))),B(e,Ba,(e=>n(4,c=e)));let{title:l="Loading..."}=t;const d={loading:"Loading...",not_found:"Not Found"},f=Ee("socket");B(e,f,(e=>n(3,s=e)));const p=Ee("user");B(e,p,(e=>n(10,o=e)));const D=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(n,u){setTimeout((function(){"function"==typeof t?n(t()):"string"==typeof t?u(t):n(t)}),e)}))}(5e3);return e.$$set=e=>{"title"in e&&n(9,l=e.title)},e.$$.update=()=>{3072&e.$$.dirty&&n(0,u=function(e,t){const n=e.path.match(/\/err\/(\w+)/);return n?n[1]:t.is("pending")||t.is("loading")?"loading":"not_found"}(i,o)),1&e.$$.dirty&&n(9,l=d[u])},n(1,r=sa.urlFor(p.email?"/chat":"/login")),[u,r,a,s,c,d,f,p,D,l,o,i]}class Wf extends rt{constructor(e){super(),ut(this,e,Hf,qf,w,{title:9})}}function Yf(e,t,n){const u=e.slice();return u[5]=t[n],u}function Gf(e){let t,n,u,r,o,i,a,s=e[0]("Help")+"",c=rn("version")+"";return{c(){t=K("h1"),n=J(s),u=V(),r=K("small"),o=K("a"),i=J("v"),a=J(c),te(o,"href",e[2]),te(o,"target","_blank")},m(e,s){W(e,t,s),z(t,n),z(t,u),z(t,r),z(r,o),z(o,i),z(o,a)},p(e,t){1&t&&s!==(s=e[0]("Help")+"")&&ue(n,s)},d(e){e&&Y(t)}}}function Kf(e){let t,n,u,r,o=e[5].example+"",i=e[0](e[5].description)+"";return{c(){t=K("dt"),n=J(o),u=K("dd"),r=J(i)},m(e,o){W(e,t,o),z(t,n),W(e,u,o),z(u,r)},p(e,t){1&t&&i!==(i=e[0](e[5].description)+"")&&ue(r,i)},d(e){e&&Y(t),e&&Y(u)}}}function Zf(e){let t;return{c(){t=J("Loading")},m(e,n){W(e,t,n)},d(e){e&&Y(t)}}}function Jf(e){let t;return{c(){t=J("Not found")},m(e,n){W(e,t,n)},d(e){e&&Y(t)}}}function Vf(e){let t;return{c(){t=J("Unknown")},m(e,n){W(e,t,n)},d(e){e&&Y(t)}}}function Qf(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,b,A,E,C,F,w,_,B,k,x,S,O,N,j,R,T,P,L,M,I,U,q,H,Z,Q,X,ee,ne,re,oe,ie,ae,se,ce,de,fe,pe,De,he,me,ge,ve,$e,ye,be,Ae,Ee,Ce,Fe,we,_e,Be,ke,xe,Se,Oe,Ne,je,Re,Te,Pe,Le,Me,Ie,Ue,ze,qe,He,Ge,Ke,Ze,Je,Ve,Qe,nt,ut,rt,ot,it,at,st,ct,lt,dt,ft,pt,Dt,ht,mt,gt,vt,$t,yt,bt,At,Ct,Ft,wt,_t,Bt=e[1]('Got any questions? Come and talk to us in the "#convos" channel on https://libera.chat.')+"",kt=e[1]("More information can also be found on https://convos.chat.")+"",xt=e[0]("Quick search")+"",St=e[0]("Pressing `shift+enter` will shift focus between chat input and search in sidebar.")+"",Ot=e[0]("Filter conversations with unread messages.")+"",Nt=e[0]("Filter private conversations with unread messages.")+"",jt=e[0]("Filter channels with unread messages.")+"",Rt=e[0]("Any other combination")+"",Tt=e[0]("Filter channels, private conversations or search for a string.")+"",Pt=e[0]("Autocomplete")+"",Lt=e[0]("The following rules apply when typing a message:")+"",Mt=e[0]('"@" followed by a character will show matching nicks in the current conversation.')+"",It=e[0]('":" followed by a character will show matching emojis.')+"",Ut=e[0]('"/" will show the available commands.')+"",zt=e[0]('"#" will show the matching conversation names.')+"",qt=e[0]("Text formatting")+"",Ht=e[0]("Convos supports some special way of formatting text:")+"",Wt=e[0]("Will be automatically converted into emojis.")+"",Yt=e[0]("> some text")+"",Gt=e[0]('A line starting with ">" will be converted into a quote.')+"",Kt=e[0]("*some text*, **some text**, ***some text***")+"",Zt=e[1]('Using "*" around some text, will convert it into *italic*, **bold** or ***italic bold***.')+"",Jt=e[0]("`some fragment`")+"",Vt=e[1]("Using backticks around some text, will format it as a `code fragment`.")+"",Qt=e[0]("URLs will be converted to links, and might be embedded in the chat.")+"",Xt=e[0]("Available commands")+"",en=e[1]('Any message starting with a-z is prefixed with "`/quote`", when sending from a connection conversation.')+"",tn=e[0]("Other resources")+"",nn=e[0]("Changelog for v%1",rn("version"))+"",un=e[0]("Project homepage")+"",on=e[0]("Bug/issue tracker")+"",an=e[0]("Source code")+"",sn="Convos"!=rn("organization_name")&&"https://convos.chat"!=rn("organization_url"),cn=e[0]("Contact admin")+"",ln=e[0]("Demo error pages")+"";t=new Et({props:{$$slots:{default:[Gf]},$$scope:{ctx:e}}});let dn=ka,fn=[];for(let t=0;t<dn.length;t+=1)fn[t]=Kf(Yf(e,dn,t));let pn=sn&&function(e){let t,n,u,r=rn("organization_name")+"";return{c(){t=K("li"),n=K("a"),u=J(r),te(n,"href",rn("organization_url")),te(n,"target","_blank")},m(e,r){W(e,t,r),z(t,n),z(n,u)},p:y,d(e){e&&Y(t)}}}();return $t=new Ic({props:{href:"/err/loading",$$slots:{default:[Zf]},$$scope:{ctx:e}}}),At=new Ic({props:{href:"/err/not_found",$$slots:{default:[Jf]},$$scope:{ctx:e}}}),wt=new Ic({props:{href:"/err/unknown",$$slots:{default:[Vf]},$$scope:{ctx:e}}}),{c(){Xe(t.$$.fragment),n=V(),u=K("main"),r=K("p"),o=new le(!1),i=V(),a=new le(!1),s=V(),c=K("h2"),l=J(xt),d=V(),f=K("p"),p=J(St),D=V(),h=K("dl"),m=K("dt"),m.textContent="+",g=K("dd"),v=J(Ot),$=K("dt"),$.textContent="+@",b=K("dd"),A=J(Nt),E=K("dt"),E.textContent="+#",C=K("dd"),F=J(jt),w=K("dt"),_=J(Rt),B=K("dd"),k=J(Tt),x=V(),S=K("h2"),O=J(Pt),N=V(),j=K("p"),R=J(Lt),T=V(),P=K("dl"),L=K("dt"),L.textContent="@nick",M=K("dd"),I=J(Mt),U=K("dt"),U.textContent=":emoji_name",q=K("dd"),H=J(It),Z=K("dt"),Z.textContent="/command",Q=K("dd"),X=J(Ut),ee=K("dt"),ee.textContent="#conversation",ne=K("dd"),re=J(zt),oe=V(),ie=K("h2"),ae=J(qt),se=V(),ce=K("p"),de=J(Ht),fe=V(),pe=K("dl"),De=K("dt"),he=K("dd"),me=J(Wt),ge=K("dt"),ve=J(Yt),$e=K("dd"),ye=J(Gt),be=K("dt"),Ae=J(Kt),Ee=K("dd"),Ce=K("dt"),Fe=J(Jt),we=K("dd"),_e=K("dt"),_e.textContent="https://...",Be=K("dd"),ke=J(Qt),xe=V(),Se=K("h2"),Oe=J(Xt),Ne=V(),je=K("p"),Re=V(),Te=K("dl");for(let e=0;e<fn.length;e+=1)fn[e].c();Pe=V(),Le=K("h2"),Me=J(tn),Ie=V(),Ue=K("ul"),ze=K("li"),qe=K("a"),He=J(nn),Ge=V(),Ke=K("li"),Ze=K("a"),Je=J(un),Ve=V(),Qe=K("li"),nt=K("a"),ut=J(on),rt=V(),ot=K("li"),it=K("a"),at=J(an),st=V(),pn&&pn.c(),ct=V(),lt=K("li"),dt=K("a"),ft=J(cn),pt=V(),Dt=K("h2"),ht=J(ln),mt=V(),gt=K("ul"),vt=K("li"),Xe($t.$$.fragment),yt=V(),bt=K("li"),Xe(At.$$.fragment),Ct=V(),Ft=K("li"),Xe(wt.$$.fragment),o.a=i,a.a=null,te(c,"id","quick-search"),te(S,"id","autocomplete"),te(ie,"id","formatting"),te(Se,"id","commands"),te(Le,"id","resources"),te(qe,"href",e[2]),te(qe,"target","_blank"),te(Ze,"href","https://convos.chat"),te(Ze,"target","_blank"),te(nt,"href","https://github.com/convos-chat/convos/issues"),te(nt,"target","_blank"),te(it,"href","https://github.com/convos-chat/convos"),te(it,"target","_blank"),te(dt,"href",rn("contact")),te(dt,"target","_blank"),te(Dt,"id","fallback"),te(u,"class","main")},m(y,Y){et(t,y,Y),W(y,n,Y),W(y,u,Y),z(u,r),o.m(Bt,r),z(r,i),a.m(kt,r),z(u,s),z(u,c),z(c,l),z(u,d),z(u,f),z(f,p),z(u,D),z(u,h),z(h,m),z(h,g),z(g,v),z(h,$),z(h,b),z(b,A),z(h,E),z(h,C),z(C,F),z(h,w),z(w,_),z(h,B),z(B,k),z(u,x),z(u,S),z(S,O),z(u,N),z(u,j),z(j,R),z(u,T),z(u,P),z(P,L),z(P,M),z(M,I),z(P,U),z(P,q),z(q,H),z(P,Z),z(P,Q),z(Q,X),z(P,ee),z(P,ne),z(ne,re),z(u,oe),z(u,ie),z(ie,ae),z(u,se),z(u,ce),z(ce,de),z(u,fe),z(u,pe),z(pe,De),De.innerHTML=e[3],z(pe,he),z(he,me),z(pe,ge),z(ge,ve),z(pe,$e),z($e,ye),z(pe,be),z(be,Ae),z(pe,Ee),Ee.innerHTML=Zt,z(pe,Ce),z(Ce,Fe),z(pe,we),we.innerHTML=Vt,z(pe,_e),z(pe,Be),z(Be,ke),z(u,xe),z(u,Se),z(Se,Oe),z(u,Ne),z(u,je),je.innerHTML=en,z(u,Re),z(u,Te);for(let e=0;e<fn.length;e+=1)fn[e].m(Te,null);z(u,Pe),z(u,Le),z(Le,Me),z(u,Ie),z(u,Ue),z(Ue,ze),z(ze,qe),z(qe,He),z(Ue,Ge),z(Ue,Ke),z(Ke,Ze),z(Ze,Je),z(Ue,Ve),z(Ue,Qe),z(Qe,nt),z(nt,ut),z(Ue,rt),z(Ue,ot),z(ot,it),z(it,at),z(Ue,st),pn&&pn.m(Ue,null),z(Ue,ct),z(Ue,lt),z(lt,dt),z(dt,ft),z(u,pt),z(u,Dt),z(Dt,ht),z(u,mt),z(u,gt),z(gt,vt),et($t,vt,null),z(gt,yt),z(gt,bt),et(At,bt,null),z(gt,Ct),z(gt,Ft),et(wt,Ft,null),_t=!0},p(e,[n]){const u={};if(257&n&&(u.$$scope={dirty:n,ctx:e}),t.$set(u),(!_t||2&n)&&Bt!==(Bt=e[1]('Got any questions? Come and talk to us in the "#convos" channel on https://libera.chat.')+"")&&o.p(Bt),(!_t||2&n)&&kt!==(kt=e[1]("More information can also be found on https://convos.chat.")+"")&&a.p(kt),(!_t||1&n)&&xt!==(xt=e[0]("Quick search")+"")&&ue(l,xt),(!_t||1&n)&&St!==(St=e[0]("Pressing `shift+enter` will shift focus between chat input and search in sidebar.")+"")&&ue(p,St),(!_t||1&n)&&Ot!==(Ot=e[0]("Filter conversations with unread messages.")+"")&&ue(v,Ot),(!_t||1&n)&&Nt!==(Nt=e[0]("Filter private conversations with unread messages.")+"")&&ue(A,Nt),(!_t||1&n)&&jt!==(jt=e[0]("Filter channels with unread messages.")+"")&&ue(F,jt),(!_t||1&n)&&Rt!==(Rt=e[0]("Any other combination")+"")&&ue(_,Rt),(!_t||1&n)&&Tt!==(Tt=e[0]("Filter channels, private conversations or search for a string.")+"")&&ue(k,Tt),(!_t||1&n)&&Pt!==(Pt=e[0]("Autocomplete")+"")&&ue(O,Pt),(!_t||1&n)&&Lt!==(Lt=e[0]("The following rules apply when typing a message:")+"")&&ue(R,Lt),(!_t||1&n)&&Mt!==(Mt=e[0]('"@" followed by a character will show matching nicks in the current conversation.')+"")&&ue(I,Mt),(!_t||1&n)&&It!==(It=e[0]('":" followed by a character will show matching emojis.')+"")&&ue(H,It),(!_t||1&n)&&Ut!==(Ut=e[0]('"/" will show the available commands.')+"")&&ue(X,Ut),(!_t||1&n)&&zt!==(zt=e[0]('"#" will show the matching conversation names.')+"")&&ue(re,zt),(!_t||1&n)&&qt!==(qt=e[0]("Text formatting")+"")&&ue(ae,qt),(!_t||1&n)&&Ht!==(Ht=e[0]("Convos supports some special way of formatting text:")+"")&&ue(de,Ht),(!_t||1&n)&&Wt!==(Wt=e[0]("Will be automatically converted into emojis.")+"")&&ue(me,Wt),(!_t||1&n)&&Yt!==(Yt=e[0]("> some text")+"")&&ue(ve,Yt),(!_t||1&n)&&Gt!==(Gt=e[0]('A line starting with ">" will be converted into a quote.')+"")&&ue(ye,Gt),(!_t||1&n)&&Kt!==(Kt=e[0]("*some text*, **some text**, ***some text***")+"")&&ue(Ae,Kt),(!_t||2&n)&&Zt!==(Zt=e[1]('Using "*" around some text, will convert it into *italic*, **bold** or ***italic bold***.')+"")&&(Ee.innerHTML=Zt),(!_t||1&n)&&Jt!==(Jt=e[0]("`some fragment`")+"")&&ue(Fe,Jt),(!_t||2&n)&&Vt!==(Vt=e[1]("Using backticks around some text, will format it as a `code fragment`.")+"")&&(we.innerHTML=Vt),(!_t||1&n)&&Qt!==(Qt=e[0]("URLs will be converted to links, and might be embedded in the chat.")+"")&&ue(ke,Qt),(!_t||1&n)&&Xt!==(Xt=e[0]("Available commands")+"")&&ue(Oe,Xt),(!_t||2&n)&&en!==(en=e[1]('Any message starting with a-z is prefixed with "`/quote`", when sending from a connection conversation.')+"")&&(je.innerHTML=en),1&n){let t;for(dn=ka,t=0;t<dn.length;t+=1){const u=Yf(e,dn,t);fn[t]?fn[t].p(u,n):(fn[t]=Kf(u),fn[t].c(),fn[t].m(Te,null))}for(;t<fn.length;t+=1)fn[t].d(1);fn.length=dn.length}(!_t||1&n)&&tn!==(tn=e[0]("Other resources")+"")&&ue(Me,tn),(!_t||1&n)&&nn!==(nn=e[0]("Changelog for v%1",rn("version"))+"")&&ue(He,nn),(!_t||1&n)&&un!==(un=e[0]("Project homepage")+"")&&ue(Je,un),(!_t||1&n)&&on!==(on=e[0]("Bug/issue tracker")+"")&&ue(ut,on),(!_t||1&n)&&an!==(an=e[0]("Source code")+"")&&ue(at,an),sn&&pn.p(e,n),(!_t||1&n)&&cn!==(cn=e[0]("Contact admin")+"")&&ue(ft,cn),(!_t||1&n)&&ln!==(ln=e[0]("Demo error pages")+"")&&ue(ht,ln);const r={};256&n&&(r.$$scope={dirty:n,ctx:e}),$t.$set(r);const i={};256&n&&(i.$$scope={dirty:n,ctx:e}),At.$set(i);const s={};256&n&&(s.$$scope={dirty:n,ctx:e}),wt.$set(s)},i(e){_t||(We(t.$$.fragment,e),We($t.$$.fragment,e),We(At.$$.fragment,e),We(wt.$$.fragment,e),_t=!0)},o(e){Ye(t.$$.fragment,e),Ye($t.$$.fragment,e),Ye(At.$$.fragment,e),Ye(wt.$$.fragment,e),_t=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u),G(fn,e),pn&&pn.d(),tt($t),tt(At),tt(wt)}}}function Xf(e,t,n){let u,r;B(e,_a,(e=>n(0,u=e))),B(e,Ba,(e=>n(1,r=e)));const o="https://github.com/convos-chat/convos/blob/v"+rn("version")+"/Changes#L3",i=Object.keys(wa.emojis.aliases).sort().join(", ");return[u,r,o,i,"Help"]}class ep extends rt{constructor(e){super(),ut(this,e,Xf,Qf,w,{title:4})}get title(){return this.$$.ctx[4]}}function tp(e,t,n){const u=e.slice();return u[23]=t[n],u}function np(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h=e[2]("Sign up")+"",m=e[2]("Please ask your Convos admin for an invite link to sign up, or sign in if you already have an account.")+"",g=e[2]("Contact admin")+"";return c=new dt({props:{name:"paper-plane"}}),p=new Ic({props:{href:"/login",$$slots:{default:[ip]},$$scope:{ctx:e}}}),{c(){t=K("h2"),n=J(h),u=V(),r=K("p"),o=J(m),i=V(),a=K("div"),s=K("a"),Xe(c.$$.fragment),l=V(),d=J(g),f=V(),Xe(p.$$.fragment),te(s,"class","btn"),te(s,"href",rn("contact")),te(a,"class","form-actions")},m(e,h){W(e,t,h),z(t,n),W(e,u,h),W(e,r,h),z(r,o),W(e,i,h),W(e,a,h),z(a,s),et(c,s,null),z(s,l),z(s,d),z(a,f),et(p,a,null),D=!0},p(e,t){(!D||4&t)&&h!==(h=e[2]("Sign up")+"")&&ue(n,h),(!D||4&t)&&m!==(m=e[2]("Please ask your Convos admin for an invite link to sign up, or sign in if you already have an account.")+"")&&ue(o,m),(!D||4&t)&&g!==(g=e[2]("Contact admin")+"")&&ue(d,g);const u={};67108868&t&&(u.$$scope={dirty:t,ctx:e}),p.$set(u)},i(e){D||(We(c.$$.fragment,e),We(p.$$.fragment,e),D=!0)},o(e){Ye(c.$$.fragment,e),Ye(p.$$.fragment,e),D=!1},d(e){e&&Y(t),e&&Y(u),e&&Y(r),e&&Y(i),e&&Y(a),tt(c),tt(p)}}}function up(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g=e[2]("Sign in")+"";function v(t){e[17](t)}let $={type:"email",name:"email",placeholder:e[2]("Ex: john@doe.com"),$$slots:{label:[ap]},$$scope:{ctx:e}};function y(t){e[18](t)}void 0!==e[0].email&&($.value=e[0].email),r=new Ks({props:$}),we.push((()=>Qe(r,"value",v)));let b={type:"password",name:"password",autocomplete:"current-password",$$slots:{help:[cp],label:[sp]},$$scope:{ctx:e}};return void 0!==e[0].password&&(b.value=e[0].password),a=new Ks({props:b}),we.push((()=>Qe(a,"value",y))),d=new ms({props:{icon:"sign-in-alt",op:e[6],$$slots:{default:[lp]},$$scope:{ctx:e}}}),p=new Ic({props:{href:"/register",$$slots:{default:[dp]},$$scope:{ctx:e}}}),h=new Bs({props:{op:e[6],success:"Loading Convos..."}}),{c(){t=K("h2"),n=J(g),u=V(),Xe(r.$$.fragment),i=V(),Xe(a.$$.fragment),c=V(),l=K("div"),Xe(d.$$.fragment),f=V(),Xe(p.$$.fragment),D=V(),Xe(h.$$.fragment),te(l,"class","form-actions")},m(e,o){W(e,t,o),z(t,n),W(e,u,o),et(r,e,o),W(e,i,o),et(a,e,o),W(e,c,o),W(e,l,o),et(d,l,null),z(l,f),et(p,l,null),W(e,D,o),et(h,e,o),m=!0},p(e,t){(!m||4&t)&&g!==(g=e[2]("Sign in")+"")&&ue(n,g);const u={};4&t&&(u.placeholder=e[2]("Ex: john@doe.com")),67108868&t&&(u.$$scope={dirty:t,ctx:e}),!o&&1&t&&(o=!0,u.value=e[0].email,je((()=>o=!1))),r.$set(u);const i={};67108876&t&&(i.$$scope={dirty:t,ctx:e}),!s&&1&t&&(s=!0,i.value=e[0].password,je((()=>s=!1))),a.$set(i);const c={};67108868&t&&(c.$$scope={dirty:t,ctx:e}),d.$set(c);const l={};67108868&t&&(l.$$scope={dirty:t,ctx:e}),p.$set(l)},i(e){m||(We(r.$$.fragment,e),We(a.$$.fragment,e),We(d.$$.fragment,e),We(p.$$.fragment,e),We(h.$$.fragment,e),m=!0)},o(e){Ye(r.$$.fragment,e),Ye(a.$$.fragment,e),Ye(d.$$.fragment,e),Ye(p.$$.fragment,e),Ye(h.$$.fragment,e),m=!1},d(e){e&&Y(t),e&&Y(u),tt(r,e),e&&Y(i),tt(a,e),e&&Y(c),e&&Y(l),tt(d),tt(p),e&&Y(D),tt(h,e)}}}function rp(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E=("recover"==e[1]?e[2]("Recover account"):e[2]("Sign up"))+"",F=rn("first_user"),w=!rn("first_user"),_=F&&function(e){let t,n,u=e[2]('As you are the first user, you do not need any invitation link. Just fill in the form below, hit "Sign up" to start chatting.')+"";return{c(){t=K("p"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]('As you are the first user, you do not need any invitation link. Just fill in the form below, hit "Sign up" to start chatting.')+"")&&ue(n,u)},d(e){e&&Y(t)}}}(e);function B(t){e[15](t)}let k={type:"email",name:"email",placeholder:e[2]("Ex: john@doe.com"),readonly:"register"!=e[1],$$slots:{help:[pp],label:[fp]},$$scope:{ctx:e}};function x(t){e[16](t)}void 0!==e[0].email&&(k.value=e[0].email),c=new Ks({props:k}),we.push((()=>Qe(c,"value",B)));let S={type:"password",name:"password",$$slots:{help:[hp],label:[Dp]},$$scope:{ctx:e}};void 0!==e[0].password&&(S.value=e[0].password),f=new Ks({props:S}),we.push((()=>Qe(f,"value",x))),m=new ms({props:{icon:"save",op:e[7],$$slots:{default:[mp]},$$scope:{ctx:e}}});let O=w&&function(e){let t,n;return t=new Ic({props:{href:"/login",$$slots:{default:[gp]},$$scope:{ctx:e}}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};67108868&n&&(u.$$scope={dirty:n,ctx:e}),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}(e);return $=new Bs({props:{op:e[7],success:"Loading Convos..."}}),{c(){t=K("h2"),n=J(E),u=V(),_&&_.c(),r=V(),o=K("input"),i=V(),a=K("input"),s=V(),Xe(c.$$.fragment),d=V(),Xe(f.$$.fragment),D=V(),h=K("div"),Xe(m.$$.fragment),g=V(),O&&O.c(),v=V(),Xe($.$$.fragment),te(o,"type","hidden"),te(o,"name","exp"),te(a,"type","hidden"),te(a,"name","token"),te(h,"class","form-actions")},m(l,p){W(l,t,p),z(t,n),W(l,u,p),_&&_.m(l,p),W(l,r,p),W(l,o,p),re(o,e[0].exp),W(l,i,p),W(l,a,p),re(a,e[0].token),W(l,s,p),et(c,l,p),W(l,d,p),et(f,l,p),W(l,D,p),W(l,h,p),et(m,h,null),z(h,g),O&&O.m(h,null),W(l,v,p),et($,l,p),y=!0,b||(A=[X(o,"input",e[13]),X(a,"input",e[14])],b=!0)},p(e,t){(!y||6&t)&&E!==(E=("recover"==e[1]?e[2]("Recover account"):e[2]("Sign up"))+"")&&ue(n,E),F&&_.p(e,t),1&t&&re(o,e[0].exp),1&t&&re(a,e[0].token);const u={};4&t&&(u.placeholder=e[2]("Ex: john@doe.com")),2&t&&(u.readonly="register"!=e[1]),67108870&t&&(u.$$scope={dirty:t,ctx:e}),!l&&1&t&&(l=!0,u.value=e[0].email,je((()=>l=!1))),c.$set(u);const r={};67108868&t&&(r.$$scope={dirty:t,ctx:e}),!p&&1&t&&(p=!0,r.value=e[0].password,je((()=>p=!1))),f.$set(r);const i={};67108870&t&&(i.$$scope={dirty:t,ctx:e}),m.$set(i),w&&O.p(e,t)},i(e){y||(We(c.$$.fragment,e),We(f.$$.fragment,e),We(m.$$.fragment,e),We(O),We($.$$.fragment,e),y=!0)},o(e){Ye(c.$$.fragment,e),Ye(f.$$.fragment,e),Ye(m.$$.fragment,e),Ye(O),Ye($.$$.fragment,e),y=!1},d(e){e&&Y(t),e&&Y(u),_&&_.d(e),e&&Y(r),e&&Y(o),e&&Y(i),e&&Y(a),e&&Y(s),tt(c,e),e&&Y(d),tt(f,e),e&&Y(D),e&&Y(h),tt(m),O&&O.d(),e&&Y(v),tt($,e),b=!1,C(A)}}}function op(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m=e[2]("Invalid invite/recover URL")+"",g=e[2](410==rn("status")?"The link has expired.":"The link is invalid.")+"",v=e[2]("Please ask your Convos admin for a new link.")+"",$=e[2]("Contact admin")+"";return D=new Ic({props:{href:"/login",$$slots:{default:[vp]},$$scope:{ctx:e}}}),{c(){t=K("h2"),n=J(m),u=V(),r=K("p"),o=J(g),i=V(),a=K("p"),s=J(v),c=V(),l=K("p"),d=K("a"),f=J($),p=V(),Xe(D.$$.fragment),te(d,"class","btn"),te(d,"href",rn("contact"))},m(e,m){W(e,t,m),z(t,n),W(e,u,m),W(e,r,m),z(r,o),W(e,i,m),W(e,a,m),z(a,s),W(e,c,m),W(e,l,m),z(l,d),z(d,f),z(l,p),et(D,l,null),h=!0},p(e,t){(!h||4&t)&&m!==(m=e[2]("Invalid invite/recover URL")+"")&&ue(n,m),(!h||4&t)&&g!==(g=e[2](410==rn("status")?"The link has expired.":"The link is invalid.")+"")&&ue(o,g),(!h||4&t)&&v!==(v=e[2]("Please ask your Convos admin for a new link.")+"")&&ue(s,v),(!h||4&t)&&$!==($=e[2]("Contact admin")+"")&&ue(f,$);const u={};67108868&t&&(u.$$scope={dirty:t,ctx:e}),D.$set(u)},i(e){h||(We(D.$$.fragment,e),h=!0)},o(e){Ye(D.$$.fragment,e),h=!1},d(e){e&&Y(t),e&&Y(u),e&&Y(r),e&&Y(i),e&&Y(a),e&&Y(c),e&&Y(l),tt(D)}}}function ip(e){let t,n=e[2]("Sign in")+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){4&u&&n!==(n=e[2]("Sign in")+"")&&ue(t,n)},d(e){e&&Y(t)}}}function ap(e){let t,n,u=e[2]("Email")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Email")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function sp(e){let t,n,u=e[2]("Password")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Password")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function cp(e){let t,n=e[3]("Contact your [Convos admin](%1) if you have forgotten your password.",rn("contact"))+"";return{c(){t=K("p"),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),t.innerHTML=n},p(e,u){8&u&&n!==(n=e[3]("Contact your [Convos admin](%1) if you have forgotten your password.",rn("contact"))+"")&&(t.innerHTML=n)},d(e){e&&Y(t)}}}function lp(e){let t,n,u=e[2]("Sign in")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Sign in")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function dp(e){let t,n=e[2]("Sign up")+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){4&u&&n!==(n=e[2]("Sign up")+"")&&ue(t,n)},d(e){e&&Y(t)}}}function fp(e){let t,n,u=e[2]("Email")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Email")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function pp(e){let t,n,u=("invitation"==e[1]?e[2]("Your email is from the invite link."):e[2]("Your email will be used if you forget your password."))+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){6&t&&u!==(u=("invitation"==e[1]?e[2]("Your email is from the invite link."):e[2]("Your email will be used if you forget your password."))+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Dp(e){let t,n,u=e[2]("Password")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Password")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function hp(e){let t,n,u=e[2]("Hint: Use a phrase from a book.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Hint: Use a phrase from a book.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function mp(e){let t,n,u=("recover"==e[1]?e[2]("Set new password"):e[2]("Sign up"))+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){6&t&&u!==(u=("recover"==e[1]?e[2]("Set new password"):e[2]("Sign up"))+"")&&ue(n,u)},d(e){e&&Y(t)}}}function gp(e){let t,n=e[2]("Sign in")+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){4&u&&n!==(n=e[2]("Sign in")+"")&&ue(t,n)},d(e){e&&Y(t)}}}function vp(e){let t,n=e[2]("Sign in")+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){4&u&&n!==(n=e[2]("Sign in")+"")&&ue(t,n)},d(e){e&&Y(t)}}}function $p(e){let t,n,u,r,o,i=e[23][1]+"";function a(){return e[19](e[23])}return{c(){t=K("a"),n=J(i),te(t,"href",u="#"+e[23][0])},m(e,u){W(e,t,u),z(t,n),r||(o=X(t,"click",a),r=!0)},p(r,o){e=r,16&o&&i!==(i=e[23][1]+"")&&ue(n,i),16&o&&u!==(u="#"+e[23][0])&&te(t,"href",u)},d(e){e&&Y(t),r=!1,o()}}}function yp(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h;const m=[op,rp,up,np],g=[];function v(e,t){return 2&t&&(o=null),"invalid_invitation"==e[1]?0:(null==o&&(o=!(-1==["recover","invitation","register"].indexOf(e[1]))),o?1:"login"==e[1]?2:3)}i=v(e,-1),a=g[i]=m[i](e),d=new dt({props:{name:"globe"}});let $=e[4].languageOptions,y=[];for(let t=0;t<$.length;t+=1)y[t]=$p(tp(e,$,t));return{c(){t=K("main"),n=K("form"),u=K("input"),r=V(),a.c(),s=V(),c=K("div"),l=K("footer"),Xe(d.$$.fragment),f=V();for(let e=0;e<y.length;e+=1)y[e].c();te(u,"type","hidden"),te(u,"name","mode"),te(n,"method","post"),te(t,"class","cms-main"),te(l,"class","footer language-selector"),te(c,"class","footer--wrapper is-small")},m(o,a){W(o,t,a),z(t,n),z(n,u),re(u,e[0].mode),z(n,r),g[i].m(n,null),W(o,s,a),W(o,c,a),z(c,l),et(d,l,null),z(l,f);for(let e=0;e<y.length;e+=1)y[e].m(l,null);p=!0,D||(h=[X(u,"input",e[12]),X(n,"submit",ee(e[8]))],D=!0)},p(e,[t]){1&t&&re(u,e[0].mode);let r=i;if(i=v(e,t),i===r?g[i].p(e,t):(qe(),Ye(g[r],1,1,(()=>{g[r]=null})),He(),a=g[i],a?a.p(e,t):(a=g[i]=m[i](e),a.c()),We(a,1),a.m(n,null)),16&t){let n;for($=e[4].languageOptions,n=0;n<$.length;n+=1){const u=tp(e,$,n);y[n]?y[n].p(u,t):(y[n]=$p(u),y[n].c(),y[n].m(l,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=$.length}},i(e){p||(We(a),We(d.$$.fragment,e),p=!0)},o(e){Ye(a),Ye(d.$$.fragment,e),p=!1},d(e){e&&Y(t),g[i].d(),e&&Y(s),e&&Y(c),tt(d),G(y,e),D=!1,C(h)}}}function bp(e,t,n){let u,r,o,i,a,s;B(e,sa,(e=>n(10,r=e))),B(e,_a,(e=>n(2,i=e))),B(e,Ba,(e=>n(3,a=e))),B(e,wa,(e=>n(4,s=e)));let{title:c="Sign in"}=t;const l=Ee("api"),d=Ee("user");B(e,d,(e=>n(11,o=e)));const f=l("loginUser"),p=l("registerUser");let D={};return e.$$set=e=>{"title"in e&&n(9,c=e.title)},e.$$.update=()=>{2048&e.$$.dirty&&function(e){if(e.is("loading")||!e.email)return;const t=e.conversations()[0],n=e.lastUrl?e.lastUrl:t?t.path:"/settings/connections";sa.go(n,{replace:!0})}(o),1024&e.$$.dirty&&n(1,u=function(e){const t=-1!=e.path.indexOf("register"),u=!D.mode&&rn("status")>=400?"invalid_invitation":e.param("email")&&rn("existing_user")?"recover":e.param("email")?"invitation":rn("first_user")||t&&rn("open_to_public")?"register":t?"invalid":"login";return n(0,D={email:e.param("email")||D.email||"",exp:e.param("exp")||"",mode:u,password:"",token:e.param("token")||""}),n(9,c="login"==u?"Sign in":"Sign up"),"ontouchstart"in window||setTimeout((()=>nn(document,".text-field input").reverse().map((e=>e.readOnly||e.focus()))),1),u}(r))},[D,u,i,a,s,d,f,p,async function(e){const t="login"==u?f:p,r=e.target.closest("form");n(0,D.email=r.email.value,D),n(0,D.password=r.password.value,D),await t.perform(D),"login"!=u&&sa.update({lastUrl:""}),t.error()||await d.load()},c,r,o,function(){D.mode=this.value,n(0,D)},function(){D.exp=this.value,n(0,D)},function(){D.token=this.value,n(0,D)},function(t){e.$$.not_equal(D.email,t)&&(D.email=t,n(0,D))},function(t){e.$$.not_equal(D.password,t)&&(D.password=t,n(0,D))},function(t){e.$$.not_equal(D.email,t)&&(D.email=t,n(0,D))},function(t){e.$$.not_equal(D.password,t)&&(D.password=t,n(0,D))},e=>s.load(e[0])]}class Ap extends rt{constructor(e){super(),ut(this,e,bp,yp,w,{title:9})}}function Ep(e,t,n){const u=e.slice();return u[8]=t[n],u[10]=n,u}function Cp(e){let t,n;return t=new dt({props:{name:"user-cog"}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p:y,i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function Fp(e){let t,n,u,r,o,i=e[3]("Notifications")+"";return r=new Ic({props:{href:"/settings/account",class:"btn-hallow",$$slots:{default:[Cp]},$$scope:{ctx:e}}}),{c(){t=K("h1"),n=J(i),u=V(),Xe(r.$$.fragment)},m(e,i){W(e,t,i),z(t,n),W(e,u,i),et(r,e,i),o=!0},p(e,t){(!o||8&t)&&i!==(i=e[3]("Notifications")+"")&&ue(n,i);const u={};2048&t&&(u.$$scope={dirty:t,ctx:e}),r.$set(u)},i(e){o||(We(r.$$.fragment,e),o=!0)},o(e){Ye(r.$$.fragment,e),o=!1},d(e){e&&Y(t),e&&Y(u),tt(r,e)}}}function wp(e){let t,n,u=e[3]("No notifications.")+"";return{c(){t=K("h2"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){8&t&&u!==(u=e[3]("No notifications.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function _p(e){let t,n,u,r,o,i,a,s=e[8].ts.getHumanDate()+"";return u=new dt({props:{name:"calendar-alt"}}),{c(){t=K("div"),n=K("span"),Xe(u.$$.fragment),r=V(),o=K("i"),i=J(s),te(t,"class","message__status-line for-day-changed")},m(e,s){W(e,t,s),z(t,n),et(u,n,null),z(n,r),z(n,o),z(o,i),a=!0},p(e,t){(!a||16&t)&&s!==(s=e[8].ts.getHumanDate()+"")&&ue(i,s)},i(e){a||(We(u.$$.fragment,e),a=!0)},o(e){Ye(u.$$.fragment,e),a=!1},d(e){e&&Y(t),tt(u)}}}function Bp(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b=e[8].ts.format("%H:%M")+"",A=tn(e[8].ts.toLocaleString())+"",E=e[3]("%1 in %2",e[8].from,e[8].conversation_id)+"",C=e[8].html+"",F=(!e[10]||e[8].dayChanged)&&_p(e);return u=new dt({props:{name:"pick:"+e[8].from,color:e[8].color}}),{c(){F&&F.c(),t=V(),n=K("div"),Xe(u.$$.fragment),r=V(),o=K("div"),i=K("span"),a=J(b),s=V(),c=K("span"),l=J(A),d=V(),f=K("a"),p=J(E),h=V(),m=K("div"),te(c,"class","tooltip"),te(o,"class","message__ts has-tooltip"),te(f,"href",D=zc(e[8])),te(f,"class","message__from"),oe(f,"color",e[8].color),te(m,"class","message__text"),te(n,"class",g=e[8].className)},m(e,D){F&&F.m(e,D),W(e,t,D),W(e,n,D),et(u,n,null),z(n,r),z(n,o),z(o,i),z(i,a),z(o,s),z(o,c),z(c,l),z(n,d),z(n,f),z(f,p),z(n,h),z(n,m),m.innerHTML=C,v=!0,$||(y=X(n,"click",qc),$=!0)},p(e,r){!e[10]||e[8].dayChanged?F?(F.p(e,r),16&r&&We(F,1)):(F=_p(e),F.c(),We(F,1),F.m(t.parentNode,t)):F&&(qe(),Ye(F,1,1,(()=>{F=null})),He());const o={};16&r&&(o.name="pick:"+e[8].from),16&r&&(o.color=e[8].color),u.$set(o),(!v||16&r)&&b!==(b=e[8].ts.format("%H:%M")+"")&&ue(a,b),(!v||16&r)&&A!==(A=tn(e[8].ts.toLocaleString())+"")&&ue(l,A),(!v||24&r)&&E!==(E=e[3]("%1 in %2",e[8].from,e[8].conversation_id)+"")&&ue(p,E),(!v||16&r&&D!==(D=zc(e[8])))&&te(f,"href",D),(!v||16&r)&&oe(f,"color",e[8].color),(!v||16&r)&&C!==(C=e[8].html+"")&&(m.innerHTML=C),(!v||16&r&&g!==(g=e[8].className))&&te(n,"class",g)},i(e){v||(We(F),We(u.$$.fragment,e),v=!0)},o(e){Ye(F),Ye(u.$$.fragment,e),v=!1},d(e){F&&F.d(e),e&&Y(t),e&&Y(n),tt(u),$=!1,y()}}}function kp(e){let t,n,u,r,o,i,a,s=e[3]("Loading...")+"";return u=new dt({props:{name:"spinner",animation:"spin"}}),{c(){t=K("div"),n=K("span"),Xe(u.$$.fragment),r=V(),o=K("i"),i=J(s),te(t,"class","message__status-line for-loading")},m(e,s){W(e,t,s),z(t,n),et(u,n,null),z(n,r),z(n,o),z(o,i),a=!0},p(e,t){(!a||8&t)&&s!==(s=e[3]("Loading...")+"")&&ue(i,s)},i(e){a||(We(u.$$.fragment,e),a=!0)},o(e){Ye(u.$$.fragment,e),a=!1},d(e){e&&Y(t),tt(u)}}}function xp(e){let t,n,u,r,o=0==e[4].length&&!e[5].is("loading"),i=e[1].is("loading"),a=o&&wp(e),s=e[4].render(),c=[];for(let t=0;t<s.length;t+=1)c[t]=Bp(Ep(e,s,t));const l=e=>Ye(c[e],1,1,(()=>{c[e]=null}));let d=i&&kp(e);return{c(){a&&a.c(),t=V();for(let e=0;e<c.length;e+=1)c[e].c();n=V(),d&&d.c(),u=Q()},m(e,o){a&&a.m(e,o),W(e,t,o);for(let t=0;t<c.length;t+=1)c[t].m(e,o);W(e,n,o),d&&d.m(e,o),W(e,u,o),r=!0},p(e,r){if(16&r&&(o=0==e[4].length&&!e[5].is("loading")),o?a?a.p(e,r):(a=wp(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),24&r){let t;for(s=e[4].render(),t=0;t<s.length;t+=1){const u=Ep(e,s,t);c[t]?(c[t].p(u,r),We(c[t],1)):(c[t]=Bp(u),c[t].c(),We(c[t],1),c[t].m(n.parentNode,n))}for(qe(),t=s.length;t<c.length;t+=1)l(t);He()}2&r&&(i=e[1].is("loading")),i?d?(d.p(e,r),2&r&&We(d,1)):(d=kp(e),d.c(),We(d,1),d.m(u.parentNode,u)):d&&(qe(),Ye(d,1,1,(()=>{d=null})),He())},i(e){if(!r){for(let e=0;e<s.length;e+=1)We(c[e]);We(d),r=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)Ye(c[e]);Ye(d),r=!1},d(e){a&&a.d(e),e&&Y(t),G(c,e),e&&Y(n),d&&d.d(e),e&&Y(u)}}}function Sp(e){let t,n,u,r;return t=new Et({props:{$$slots:{default:[Fp]},$$scope:{ctx:e}}}),u=new _l({props:{class:e[2].join(" "),$$slots:{default:[xp]},$$scope:{ctx:e}}}),u.$on("rendered",Op),{c(){Xe(t.$$.fragment),n=V(),Xe(u.$$.fragment)},m(e,o){et(t,e,o),W(e,n,o),et(u,e,o),r=!0},p(e,[n]){const r={};2056&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const o={};4&n&&(o.class=e[2].join(" ")),2074&n&&(o.$$scope={dirty:n,ctx:e}),u.$set(o)},i(e){r||(We(t.$$.fragment,e),We(u.$$.fragment,e),r=!0)},o(e){Ye(t.$$.fragment,e),Ye(u.$$.fragment,e),r=!1},d(e){tt(t,e),e&&Y(n),tt(u,e)}}}const Op=e=>e.detail.scrollTo(-1);function Np(e,t,n){let u,r,o,i,a,s=y;B(e,_a,(e=>n(3,i=e))),e.$$.on_destroy.push((()=>s()));const c=Ee("user").notifications;return B(e,c,(e=>n(1,o=e))),$e((async()=>{await c.load(),await c.markAsRead()})),e.$$.update=()=>{2&e.$$.dirty&&(n(0,r=o.messages),s(),s=_(r,(e=>n(4,a=e)))),1&e.$$.dirty&&n(2,u=["main",r.length&&"has-results"].filter((e=>e)))},[r,o,u,i,a,c,"Notifications"]}class jp extends rt{constructor(e){super(),ut(this,e,Np,Sp,w,{title:6})}get title(){return this.$$.ctx[6]}}function Rp(e,t,n){const u=e.slice();return u[13]=t[n],u[15]=n,u}function Tp(e){let t,n,u,r,o,i,a=e[6]("Clear")+"";return t=new dt({props:{name:"search"}}),n=new dt({props:{name:"times"}}),{c(){Xe(t.$$.fragment),Xe(n.$$.fragment),u=V(),r=K("span"),o=J(a),te(r,"class","tooltip is-left")},m(e,a){et(t,e,a),et(n,e,a),W(e,u,a),W(e,r,a),z(r,o),i=!0},p(e,t){(!i||64&t)&&a!==(a=e[6]("Clear")+"")&&ue(o,a)},i(e){i||(We(t.$$.fragment,e),We(n.$$.fragment,e),i=!0)},o(e){Ye(t.$$.fragment,e),Ye(n.$$.fragment,e),i=!1},d(e){tt(t,e),tt(n,e),e&&Y(u),e&&Y(r)}}}function Pp(e){let t,n,u,r,o,i=e[6](e[8].name)+"";return r=new Ic({props:{href:"/search",class:"btn-hallow can-toggle "+(e[4]?"has-tooltip is-active":""),$$slots:{default:[Tp]},$$scope:{ctx:e}}}),r.$on("click",e[9]),{c(){t=K("h1"),n=J(i),u=V(),Xe(r.$$.fragment)},m(e,i){W(e,t,i),z(t,n),W(e,u,i),et(r,e,i),o=!0},p(e,t){(!o||64&t)&&i!==(i=e[6](e[8].name)+"")&&ue(n,i);const u={};16&t&&(u.class="btn-hallow can-toggle "+(e[4]?"has-tooltip is-active":"")),65600&t&&(u.$$scope={dirty:t,ctx:e}),r.$set(u)},i(e){o||(We(r.$$.fragment,e),o=!0)},o(e){Ye(r.$$.fragment,e),o=!1},d(e){e&&Y(t),e&&Y(u),tt(r,e)}}}function Lp(e){let t,n,u,r,o;const i=[Ip,Mp],a=[];function s(e,n){return 4&n&&(t=null),null==t&&(t=!!e[2].param("q")),t?0:1}return n=s(e,-1),u=a[n]=i[n](e),{c(){u.c(),r=Q()},m(e,t){a[n].m(e,t),W(e,r,t),o=!0},p(e,t){let o=n;n=s(e,t),n===o?a[n].p(e,t):(qe(),Ye(a[o],1,1,(()=>{a[o]=null})),He(),u=a[n],u?u.p(e,t):(u=a[n]=i[n](e),u.c()),We(u,1),u.m(r.parentNode,r))},i(e){o||(We(u),o=!0)},o(e){Ye(u),o=!1},d(e){a[n].d(e),e&&Y(r)}}}function Mp(e){let t,n,u,r,o,i=e[7]("You can enter a channel name like #cool_beans to narrow down the search, or enter @some_nick to filter messages sent by a given user.")+"";return n=new dt({props:{name:"info-circle"}}),{c(){t=K("p"),Xe(n.$$.fragment),u=V(),r=new le(!1),r.a=null},m(e,a){W(e,t,a),et(n,t,null),z(t,u),r.m(i,t),o=!0},p(e,t){(!o||128&t)&&i!==(i=e[7]("You can enter a channel name like #cool_beans to narrow down the search, or enter @some_nick to filter messages sent by a given user.")+"")&&r.p(i)},i(e){o||(We(n.$$.fragment,e),o=!0)},o(e){Ye(n.$$.fragment,e),o=!1},d(e){e&&Y(t),tt(n)}}}function Ip(e){let t,n,u,r,o,i=e[6]('No search results for "%1".',e[2].param("q"))+"";return n=new dt({props:{name:"info-circle"}}),{c(){t=K("p"),Xe(n.$$.fragment),u=V(),r=J(i)},m(e,i){W(e,t,i),et(n,t,null),z(t,u),z(t,r),o=!0},p(e,t){(!o||68&t)&&i!==(i=e[6]('No search results for "%1".',e[2].param("q"))+"")&&ue(r,i)},i(e){o||(We(n.$$.fragment,e),o=!0)},o(e){Ye(n.$$.fragment,e),o=!1},d(e){e&&Y(t),tt(n)}}}function Up(e){let t,n,u,r,o,i,a,s=e[13].ts.getHumanDate()+"";return u=new dt({props:{name:"calendar-alt"}}),{c(){t=K("div"),n=K("span"),Xe(u.$$.fragment),r=V(),o=K("i"),i=J(s),te(t,"class","message__status-line for-day-changed")},m(e,s){W(e,t,s),z(t,n),et(u,n,null),z(n,r),z(n,o),z(o,i),a=!0},p(e,t){(!a||2&t)&&s!==(s=e[13].ts.getHumanDate()+"")&&ue(i,s)},i(e){a||(We(u.$$.fragment,e),a=!0)},o(e){Ye(u.$$.fragment,e),a=!1},d(e){e&&Y(t),tt(u)}}}function zp(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A=e[13].ts.format("%H:%M")+"",E=tn(e[13].ts.toLocaleString())+"",C=e[6]("%1 in %2",e[13].from,e[13].conversation_id)+"",F=e[13].html+"",w=(!e[15]||e[13].dayChanged)&&Up(e);return u=new dt({props:{name:"pick:"+e[13].from,color:e[13].color}}),{c(){w&&w.c(),t=V(),n=K("div"),Xe(u.$$.fragment),r=V(),o=K("div"),i=K("span"),a=J(A),s=V(),c=K("span"),l=J(E),d=V(),f=K("a"),p=J(C),h=V(),m=K("div"),g=V(),te(c,"class","tooltip"),te(o,"class","message__ts has-tooltip"),te(f,"href",D=zc(e[13])),te(f,"class","message__from"),oe(f,"color",e[13].color),te(m,"class","message__text"),te(n,"class",v=e[13].className)},m(e,D){w&&w.m(e,D),W(e,t,D),W(e,n,D),et(u,n,null),z(n,r),z(n,o),z(o,i),z(i,a),z(o,s),z(o,c),z(c,l),z(n,d),z(n,f),z(f,p),z(n,h),z(n,m),m.innerHTML=F,z(n,g),$=!0,y||(b=X(n,"click",qc),y=!0)},p(e,r){!e[15]||e[13].dayChanged?w?(w.p(e,r),2&r&&We(w,1)):(w=Up(e),w.c(),We(w,1),w.m(t.parentNode,t)):w&&(qe(),Ye(w,1,1,(()=>{w=null})),He());const o={};2&r&&(o.name="pick:"+e[13].from),2&r&&(o.color=e[13].color),u.$set(o),(!$||2&r)&&A!==(A=e[13].ts.format("%H:%M")+"")&&ue(a,A),(!$||2&r)&&E!==(E=tn(e[13].ts.toLocaleString())+"")&&ue(l,E),(!$||66&r)&&C!==(C=e[6]("%1 in %2",e[13].from,e[13].conversation_id)+"")&&ue(p,C),(!$||2&r&&D!==(D=zc(e[13])))&&te(f,"href",D),(!$||2&r)&&oe(f,"color",e[13].color),(!$||2&r)&&F!==(F=e[13].html+"")&&(m.innerHTML=F),(!$||2&r&&v!==(v=e[13].className))&&te(n,"class",v)},i(e){$||(We(w),We(u.$$.fragment,e),$=!0)},o(e){Ye(w),Ye(u.$$.fragment,e),$=!1},d(e){w&&w.d(e),e&&Y(t),e&&Y(n),tt(u),y=!1,b()}}}function qp(e){let t,n,u,r,o,i,a,s=e[6]("Loading...")+"";return u=new dt({props:{name:"spinner",animation:"spin"}}),{c(){t=K("div"),n=K("span"),Xe(u.$$.fragment),r=V(),o=K("i"),i=J(s),te(t,"class","message__status-line for-loading")},m(e,s){W(e,t,s),z(t,n),et(u,n,null),z(n,r),z(n,o),z(o,i),a=!0},p(e,t){(!a||64&t)&&s!==(s=e[6]("Loading...")+"")&&ue(i,s)},i(e){a||(We(u.$$.fragment,e),a=!0)},o(e){Ye(u.$$.fragment,e),a=!1},d(e){e&&Y(t),tt(u)}}}function Hp(e){let t,n,u,r,o=0==e[1].length&&!e[8].is("loading"),i=e[3].is("loading"),a=o&&Lp(e),s=e[1].render(),c=[];for(let t=0;t<s.length;t+=1)c[t]=zp(Rp(e,s,t));const l=e=>Ye(c[e],1,1,(()=>{c[e]=null}));let d=i&&qp(e);return{c(){a&&a.c(),t=V();for(let e=0;e<c.length;e+=1)c[e].c();n=V(),d&&d.c(),u=Q()},m(e,o){a&&a.m(e,o),W(e,t,o);for(let t=0;t<c.length;t+=1)c[t].m(e,o);W(e,n,o),d&&d.m(e,o),W(e,u,o),r=!0},p(e,r){if(2&r&&(o=0==e[1].length&&!e[8].is("loading")),o?a?(a.p(e,r),2&r&&We(a,1)):(a=Lp(e),a.c(),We(a,1),a.m(t.parentNode,t)):a&&(qe(),Ye(a,1,1,(()=>{a=null})),He()),66&r){let t;for(s=e[1].render(),t=0;t<s.length;t+=1){const u=Rp(e,s,t);c[t]?(c[t].p(u,r),We(c[t],1)):(c[t]=zp(u),c[t].c(),We(c[t],1),c[t].m(n.parentNode,n))}for(qe(),t=s.length;t<c.length;t+=1)l(t);He()}8&r&&(i=e[3].is("loading")),i?d?(d.p(e,r),8&r&&We(d,1)):(d=qp(e),d.c(),We(d,1),d.m(u.parentNode,u)):d&&(qe(),Ye(d,1,1,(()=>{d=null})),He())},i(e){if(!r){We(a);for(let e=0;e<s.length;e+=1)We(c[e]);We(d),r=!0}},o(e){Ye(a),c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)Ye(c[e]);Ye(d),r=!1},d(e){a&&a.d(e),e&&Y(t),G(c,e),e&&Y(n),d&&d.d(e),e&&Y(u)}}}function Wp(e){let t,n,u,r,o,i,a=e[8].is("search");t=new Et({props:{$$slots:{default:[Pp]},$$scope:{ctx:e}}}),u=new _l({props:{class:e[5].join(" "),$$slots:{default:[Hp]},$$scope:{ctx:e}}}),u.$on("rendered",Yp);let s=a&&function(e){let t,n;return t=new Va({props:{conversation:e[8]}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p:y,i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}(e);return{c(){Xe(t.$$.fragment),n=V(),Xe(u.$$.fragment),r=V(),s&&s.c(),o=Q()},m(e,a){et(t,e,a),W(e,n,a),et(u,e,a),W(e,r,a),s&&s.m(e,a),W(e,o,a),i=!0},p(e,[n]){const r={};65616&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const o={};32&n&&(o.class=e[5].join(" ")),65742&n&&(o.$$scope={dirty:n,ctx:e}),u.$set(o),a&&s.p(e,n)},i(e){i||(We(t.$$.fragment,e),We(u.$$.fragment,e),We(s),i=!0)},o(e){Ye(t.$$.fragment,e),Ye(u.$$.fragment,e),Ye(s),i=!1},d(e){tt(t,e),e&&Y(n),tt(u,e),e&&Y(r),s&&s.d(e),e&&Y(o)}}}const Yp=e=>e.detail.scrollTo(-1);function Gp(e,t,n){let u,r,o,i,a,s,c,l,d=y;B(e,sa,(e=>n(2,a=e))),B(e,_a,(e=>n(6,c=e))),B(e,Ba,(e=>n(7,l=e))),e.$$.on_destroy.push((()=>d()));const f=Ee("user"),p=f.search;function D(e){const t=e.message;return p.update({userInput:t}),sa.go("/search?q="+encodeURIComponent(t),{replace:!0}),t?p.load({match:t}):u.clear()}return B(e,p,(e=>n(3,s=e))),$e((()=>{f.search.on("send",D),sa.param("q")&&D({message:sa.param("q")})})),e.$$.update=()=>{8&e.$$.dirty&&(n(0,u=s.messages),d(),d=_(u,(e=>n(1,i=e)))),9&e.$$.dirty&&n(5,r=["main",u.length&&"has-results",s.is("search")&&"is-above-chat-input"].filter((e=>e))),6&e.$$.dirty&&n(4,o=a.param("q")||i.length)},[u,i,a,s,o,r,c,l,p,function(e){if(o)return i.clear();e.preventDefault(),document.querySelector(".is-primary-input").focus()},"Search"]}class Kp extends rt{constructor(e){super(),ut(this,e,Gp,Wp,w,{title:10})}get title(){return this.$$.ctx[10]}}function Zp(e){let t,n,u=e[2]("Account")+"";return{c(){t=K("h1"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Account")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Jp(e){let t,n,u=e[2]("Email")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Email")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Vp(e){let t,n,u=e[2]("Notification keywords")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Notification keywords")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Qp(e){let t,n,u=e[2]("Enable notifications")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Enable notifications")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function Xp(e){let t,n,u=e[2]("Notification sound volume")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Notification sound volume")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function eD(e){let t,n,u=e[2]("Test")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Test")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function tD(e){let t,n,u=e[2]("Ignore join/part messages")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Ignore join/part messages")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function nD(e){let t,n,u=e[2]("Expand URL to media")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Expand URL to media")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function uD(e){let t,n,u=e[2]("Enable compact message display")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Enable compact message display")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function rD(e){let t,n,u=e[2]("Theme")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Theme")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function oD(e){let t,n,u=e[2]("Color scheme")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Color scheme")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function iD(e){let t,n,u,r,o,i=e[2]("Language")+"";return r=new dt({props:{name:"globe"}}),{c(){t=K("span"),n=J(i),u=V(),Xe(r.$$.fragment),te(t,"slot","label")},m(e,i){W(e,t,i),z(t,n),z(t,u),et(r,t,null),o=!0},p(e,t){(!o||4&t)&&i!==(i=e[2]("Language")+"")&&ue(n,i)},i(e){o||(We(r.$$.fragment,e),o=!0)},o(e){Ye(r.$$.fragment,e),o=!1},d(e){e&&Y(t),tt(r)}}}function aD(e){let t,n,u=e[2]("Password")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Password")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function sD(e){let t,n,u=e[2]("Repeat password")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Repeat password")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function cD(e){let t,n,u=e[2]("Save settings")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("Save settings")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function lD(e){let t,n,u=e[2]("irc://")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("irc://")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function dD(e){let t,n,u=e[2]("ircs://")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){4&t&&u!==(u=e[2]("ircs://")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function fD(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,C,F,w,_,B,k,x,S,O,N,j,R,T,P,L,M,I,U,q,H,G,Z,Q,ne,re,oe,ie,ae,se,ce,le,de,fe,pe,De=e[3]('Leave this unchecked, and hit "Save" to disable notifications.')+"",he=e[2]("Leave the password fields empty to keep the current password.")+"";function me(t){e[12](t)}t=new Et({props:{$$slots:{default:[Zp]},$$scope:{ctx:e}}});let ge={type:"email",name:"email",readonly:!0,$$slots:{label:[Jp]},$$scope:{ctx:e}};function ve(t){e[13](t)}void 0!==e[0].email&&(ge.value=e[0].email),o=new Ks({props:ge}),we.push((()=>Qe(o,"value",me)));let $e={name:"highlightKeywords",placeholder:e[2]("whatever, keywords"),$$slots:{label:[Vp]},$$scope:{ctx:e}};function ye(t){e[14](t)}void 0!==e[0].highlightKeywords&&($e.value=e[0].highlightKeywords),s=new Ks({props:$e}),we.push((()=>Qe(s,"value",ve)));let be={name:"wantNotifications",$$slots:{label:[Qp]},$$scope:{ctx:e}};function Ae(t){e[15](t)}void 0!==e[0].wantNotifications&&(be.value=e[0].wantNotifications),d=new As({props:be}),we.push((()=>Qe(d,"value",ye)));let Ee={name:"volume",options:Nl.volumeOptions,$$slots:{label:[Xp]},$$scope:{ctx:e}};function Ce(t){e[17](t)}void 0!==e[0].volume&&(Ee.value=e[0].volume),g=new Rs({props:Ee}),we.push((()=>Qe(g,"value",Ae))),b=new ms({props:{icon:"play",disabled:!parseInt(e[0].volume,10),type:"button",$$slots:{default:[eD]},$$scope:{ctx:e}}}),b.$on("click",e[16]);let Fe={name:"ignoreStatuses",$$slots:{label:[tD]},$$scope:{ctx:e}};function _e(t){e[18](t)}void 0!==e[0].ignoreStatuses&&(Fe.value=e[0].ignoreStatuses),E=new As({props:Fe}),we.push((()=>Qe(E,"value",Ce)));let Be={name:"expandUrlToMedia",$$slots:{label:[nD]},$$scope:{ctx:e}};function ke(t){e[19](t)}void 0!==e[0].expandUrlToMedia&&(Be.value=e[0].expandUrlToMedia),w=new As({props:Be}),we.push((()=>Qe(w,"value",_e)));let xe={name:"compactDisplay",$$slots:{label:[uD]},$$scope:{ctx:e}};function Se(t){e[20](t)}void 0!==e[0].compactDisplay&&(xe.value=e[0].compactDisplay),k=new As({props:xe}),we.push((()=>Qe(k,"value",ke)));let Oe={name:"activeTheme",options:e[6].themeOptions,$$slots:{label:[rD]},$$scope:{ctx:e}};function Ne(t){e[21](t)}void 0!==e[0].activeTheme&&(Oe.value=e[0].activeTheme),O=new Rs({props:Oe}),we.push((()=>Qe(O,"value",Se)));let Re={name:"colorScheme",readonly:e[1],options:e[6].colorSchemeOptions,$$slots:{label:[oD]},$$scope:{ctx:e}};function Te(t){e[22](t)}void 0!==e[0].colorScheme&&(Re.value=e[0].colorScheme),R=new Rs({props:Re}),we.push((()=>Qe(R,"value",Ne)));let Pe={name:"lang",options:e[4].languageOptions,$$slots:{label:[iD]},$$scope:{ctx:e}};function Le(t){e[23](t)}void 0!==e[0].lang&&(Pe.value=e[0].lang),L=new Rs({props:Pe}),we.push((()=>Qe(L,"value",Te)));let Me={type:"password",name:"password",autocomplete:"new-password",$$slots:{label:[aD]},$$scope:{ctx:e}};function Ie(t){e[24](t)}void 0!==e[0].password&&(Me.value=e[0].password),U=new Ks({props:Me}),we.push((()=>Qe(U,"value",Le)));let Ue={type:"password",name:"password_again",autocomplete:"new-password",$$slots:{label:[sD]},$$scope:{ctx:e}};void 0!==e[0].password_again&&(Ue.value=e[0].password_again),G=new Ks({props:Ue}),we.push((()=>Qe(G,"value",Ie))),ae=new ms({props:{icon:"save",op:e[7],$$slots:{default:[cD]},$$scope:{ctx:e}}}),ce=new Bs({props:{op:e[7]}});let ze=e[5]&&function(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b=e[2]("Mark the protocols below that you want %1 to handle, and a popup should ask you for confirmation.",e[2]("Convos"))+"",A=e[2]("If you do not see any popup, then it probably means %1 already handles the protocol.",e[2]("Convos"))+"",E=e[3]("Test it by clicking on %1.","irc://localhost:6667")+"",C=e[3]("Test it by clicking on %1.","ircs://irc.libera.chat:6697/%23convos")+"";function F(t){e[25](t)}let w={name:"handle_protocol_irc",$$slots:{label:[lD]},$$scope:{ctx:e}};function _(t){e[26](t)}void 0!==e[0].handle_protocol_irc&&(w.value=e[0].handle_protocol_irc),c=new As({props:w}),we.push((()=>Qe(c,"value",F)));let B={name:"handle_protocol_ircs",$$slots:{label:[dD]},$$scope:{ctx:e}};return void 0!==e[0].handle_protocol_ircs&&(B.value=e[0].handle_protocol_ircs),D=new As({props:B}),we.push((()=>Qe(D,"value",_))),{c(){t=K("form"),n=K("h2"),n.textContent="Protocol handlers",u=V(),r=K("p"),o=J(b),i=V(),a=J(A),s=V(),Xe(c.$$.fragment),d=V(),f=K("p"),p=V(),Xe(D.$$.fragment),m=V(),g=K("p"),te(f,"class","help"),te(g,"class","help")},m(l,h){W(l,t,h),z(t,n),z(t,u),z(t,r),z(r,o),z(r,i),z(r,a),z(t,s),et(c,t,null),z(t,d),z(t,f),f.innerHTML=E,z(t,p),et(D,t,null),z(t,m),z(t,g),g.innerHTML=C,v=!0,$||(y=X(t,"submit",ee(e[11])),$=!0)},p(e,t){(!v||4&t)&&b!==(b=e[2]("Mark the protocols below that you want %1 to handle, and a popup should ask you for confirmation.",e[2]("Convos"))+"")&&ue(o,b),(!v||4&t)&&A!==(A=e[2]("If you do not see any popup, then it probably means %1 already handles the protocol.",e[2]("Convos"))+"")&&ue(a,A);const n={};1073741828&t&&(n.$$scope={dirty:t,ctx:e}),!l&&1&t&&(l=!0,n.value=e[0].handle_protocol_irc,je((()=>l=!1))),c.$set(n),(!v||8&t)&&E!==(E=e[3]("Test it by clicking on %1.","irc://localhost:6667")+"")&&(f.innerHTML=E);const u={};1073741828&t&&(u.$$scope={dirty:t,ctx:e}),!h&&1&t&&(h=!0,u.value=e[0].handle_protocol_ircs,je((()=>h=!1))),D.$set(u),(!v||8&t)&&C!==(C=e[3]("Test it by clicking on %1.","ircs://irc.libera.chat:6697/%23convos")+"")&&(g.innerHTML=C)},i(e){v||(We(c.$$.fragment,e),We(D.$$.fragment,e),v=!0)},o(e){Ye(c.$$.fragment,e),Ye(D.$$.fragment,e),v=!1},d(e){e&&Y(t),tt(c),tt(D),$=!1,y()}}}(e);return{c(){Xe(t.$$.fragment),n=V(),u=K("main"),r=K("form"),Xe(o.$$.fragment),a=V(),Xe(s.$$.fragment),l=V(),Xe(d.$$.fragment),p=V(),D=K("p"),h=V(),m=K("div"),Xe(g.$$.fragment),$=V(),y=K("div"),Xe(b.$$.fragment),A=V(),Xe(E.$$.fragment),F=V(),Xe(w.$$.fragment),B=V(),Xe(k.$$.fragment),S=V(),Xe(O.$$.fragment),j=V(),Xe(R.$$.fragment),P=V(),Xe(L.$$.fragment),I=V(),Xe(U.$$.fragment),H=V(),Xe(G.$$.fragment),Q=V(),ne=K("p"),re=J(he),oe=V(),ie=K("div"),Xe(ae.$$.fragment),se=V(),Xe(ce.$$.fragment),le=V(),ze&&ze.c(),te(D,"class","help"),te(y,"class","flex-basis-30"),te(m,"class","inputs-side-by-side"),te(ie,"class","form-actions"),te(r,"method","post"),te(u,"class","main")},m(i,c){et(t,i,c),W(i,n,c),W(i,u,c),z(u,r),et(o,r,null),z(r,a),et(s,r,null),z(r,l),et(d,r,null),z(r,p),z(r,D),D.innerHTML=De,z(r,h),z(r,m),et(g,m,null),z(m,$),z(m,y),et(b,y,null),z(r,A),et(E,r,null),z(r,F),et(w,r,null),z(r,B),et(k,r,null),z(r,S),et(O,r,null),z(r,j),et(R,r,null),z(r,P),et(L,r,null),z(r,I),et(U,r,null),z(r,H),et(G,r,null),z(r,Q),z(r,ne),z(ne,re),z(r,oe),z(r,ie),et(ae,ie,null),z(r,se),et(ce,r,null),z(u,le),ze&&ze.m(u,null),de=!0,fe||(pe=X(r,"submit",ee(e[8])),fe=!0)},p(e,[n]){const u={};1073741828&n&&(u.$$scope={dirty:n,ctx:e}),t.$set(u);const r={};1073741828&n&&(r.$$scope={dirty:n,ctx:e}),!i&&1&n&&(i=!0,r.value=e[0].email,je((()=>i=!1))),o.$set(r);const a={};4&n&&(a.placeholder=e[2]("whatever, keywords")),1073741828&n&&(a.$$scope={dirty:n,ctx:e}),!c&&1&n&&(c=!0,a.value=e[0].highlightKeywords,je((()=>c=!1))),s.$set(a);const l={};1073741828&n&&(l.$$scope={dirty:n,ctx:e}),!f&&1&n&&(f=!0,l.value=e[0].wantNotifications,je((()=>f=!1))),d.$set(l),(!de||8&n)&&De!==(De=e[3]('Leave this unchecked, and hit "Save" to disable notifications.')+"")&&(D.innerHTML=De);const p={};1073741828&n&&(p.$$scope={dirty:n,ctx:e}),!v&&1&n&&(v=!0,p.value=e[0].volume,je((()=>v=!1))),g.$set(p);const h={};1&n&&(h.disabled=!parseInt(e[0].volume,10)),1073741828&n&&(h.$$scope={dirty:n,ctx:e}),b.$set(h);const m={};1073741828&n&&(m.$$scope={dirty:n,ctx:e}),!C&&1&n&&(C=!0,m.value=e[0].ignoreStatuses,je((()=>C=!1))),E.$set(m);const $={};1073741828&n&&($.$$scope={dirty:n,ctx:e}),!_&&1&n&&(_=!0,$.value=e[0].expandUrlToMedia,je((()=>_=!1))),w.$set($);const y={};1073741828&n&&(y.$$scope={dirty:n,ctx:e}),!x&&1&n&&(x=!0,y.value=e[0].compactDisplay,je((()=>x=!1))),k.$set(y);const A={};1073741828&n&&(A.$$scope={dirty:n,ctx:e}),!N&&1&n&&(N=!0,A.value=e[0].activeTheme,je((()=>N=!1))),O.$set(A);const F={};2&n&&(F.readonly=e[1]),1073741828&n&&(F.$$scope={dirty:n,ctx:e}),!T&&1&n&&(T=!0,F.value=e[0].colorScheme,je((()=>T=!1))),R.$set(F);const B={};16&n&&(B.options=e[4].languageOptions),1073741828&n&&(B.$$scope={dirty:n,ctx:e}),!M&&1&n&&(M=!0,B.value=e[0].lang,je((()=>M=!1))),L.$set(B);const S={};1073741828&n&&(S.$$scope={dirty:n,ctx:e}),!q&&1&n&&(q=!0,S.value=e[0].password,je((()=>q=!1))),U.$set(S);const j={};1073741828&n&&(j.$$scope={dirty:n,ctx:e}),!Z&&1&n&&(Z=!0,j.value=e[0].password_again,je((()=>Z=!1))),G.$set(j),(!de||4&n)&&he!==(he=e[2]("Leave the password fields empty to keep the current password.")+"")&&ue(re,he);const P={};1073741828&n&&(P.$$scope={dirty:n,ctx:e}),ae.$set(P),e[5]&&ze.p(e,n)},i(e){de||(We(t.$$.fragment,e),We(o.$$.fragment,e),We(s.$$.fragment,e),We(d.$$.fragment,e),We(g.$$.fragment,e),We(b.$$.fragment,e),We(E.$$.fragment,e),We(w.$$.fragment,e),We(k.$$.fragment,e),We(O.$$.fragment,e),We(R.$$.fragment,e),We(L.$$.fragment,e),We(U.$$.fragment,e),We(G.$$.fragment,e),We(ae.$$.fragment,e),We(ce.$$.fragment,e),We(ze),de=!0)},o(e){Ye(t.$$.fragment,e),Ye(o.$$.fragment,e),Ye(s.$$.fragment,e),Ye(d.$$.fragment,e),Ye(g.$$.fragment,e),Ye(b.$$.fragment,e),Ye(E.$$.fragment,e),Ye(w.$$.fragment,e),Ye(k.$$.fragment,e),Ye(O.$$.fragment,e),Ye(R.$$.fragment,e),Ye(L.$$.fragment,e),Ye(U.$$.fragment,e),Ye(G.$$.fragment,e),Ye(ae.$$.fragment,e),Ye(ce.$$.fragment,e),Ye(ze),de=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u),tt(o),tt(s),tt(d),tt(g),tt(b),tt(E),tt(w),tt(k),tt(O),tt(R),tt(L),tt(U),tt(G),tt(ae),tt(ce),ze&&ze.d(),fe=!1,pe()}}}function pD(e,t,n){let u,r,o,i,a;B(e,_a,(e=>n(2,r=e))),B(e,Ba,(e=>n(3,i=e))),B(e,wa,(e=>n(4,a=e)));const s=Ee("api"),c="registerProtocolHandler"in navigator,l=Ee("themeManager");B(e,l,(e=>n(10,o=e)));const d=Ee("user"),f=s("updateUser");let p={};function D(e){navigator.registerProtocolHandler(e,sa.urlFor("/register?uri=%s"),r("Convos %1 handler",e))}$e((()=>{n(0,p={activeTheme:l.activeTheme,colorScheme:l.colorScheme,compactDisplay:l.compactDisplay,email:d.email,expandUrlToMedia:d.expandUrlToMedia,highlightKeywords:d.highlightKeywords.join(", "),ignoreStatuses:d.ignoreStatuses,lang:wa.lang,password:"",password_again:"",volume:Nl.volume,wantNotifications:Nl.wantNotifications})})),ye(Nl.on("update",((e,t)=>{(t.wantNotifications||t.desktopAccess)&&e.wantNotifications&&e.show(r("You have enabled notifications."))})));return e.$$.update=()=>{1025&e.$$.dirty&&n(1,u=!o.hasColorScheme(p.activeTheme)),1&e.$$.dirty&&wa.load(p.lang),1&e.$$.dirty&&p.handle_protocol_irc&&D("irc"),1&e.$$.dirty&&p.handle_protocol_ircs&&D("ircs")},[p,u,r,i,a,c,l,f,function(){const e=[p.password,p.password_again];if(e.join("").length&&e[0]!=e[1])return f.error("Passwords does not match.");p.wantNotifications||n(0,p.wantNotifications=!1,p),p.wantNotifications&&Nl.requestDesktopAccess(),Nl.update(p),u&&n(0,p.colorScheme="auto",p),l.update(p);const t=an(p.highlightKeywords),r={email:d.email,highlight_keywords:t};e[0]&&(r.password=e[0]),d.update(p).update({highlightKeywords:t}),f.perform(r)},"Account",o,function(t){Ce.call(this,e,t)},function(t){e.$$.not_equal(p.email,t)&&(p.email=t,n(0,p))},function(t){e.$$.not_equal(p.highlightKeywords,t)&&(p.highlightKeywords=t,n(0,p))},function(t){e.$$.not_equal(p.wantNotifications,t)&&(p.wantNotifications=t,n(0,p))},function(t){e.$$.not_equal(p.volume,t)&&(p.volume=t,n(0,p))},()=>Nl.play({volume:p.volume}),function(t){e.$$.not_equal(p.ignoreStatuses,t)&&(p.ignoreStatuses=t,n(0,p))},function(t){e.$$.not_equal(p.expandUrlToMedia,t)&&(p.expandUrlToMedia=t,n(0,p))},function(t){e.$$.not_equal(p.compactDisplay,t)&&(p.compactDisplay=t,n(0,p))},function(t){e.$$.not_equal(p.activeTheme,t)&&(p.activeTheme=t,n(0,p))},function(t){e.$$.not_equal(p.colorScheme,t)&&(p.colorScheme=t,n(0,p))},function(t){e.$$.not_equal(p.lang,t)&&(p.lang=t,n(0,p))},function(t){e.$$.not_equal(p.password,t)&&(p.password=t,n(0,p))},function(t){e.$$.not_equal(p.password_again,t)&&(p.password_again=t,n(0,p))},function(t){e.$$.not_equal(p.handle_protocol_irc,t)&&(p.handle_protocol_irc=t,n(0,p))},function(t){e.$$.not_equal(p.handle_protocol_ircs,t)&&(p.handle_protocol_ircs=t,n(0,p))}]}class DD extends rt{constructor(e){super(),ut(this,e,pD,fD,w,{title:9})}get title(){return this.$$.ctx[9]}}function hD(e){let t,n,u=e[5]("Global settings")+"";return{c(){t=K("h1"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("Global settings")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function mD(e){let t,n,u=e[5]("Organization name")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("Organization name")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function gD(e){let t,n,u=e[5]("Can be changed if you want to add a touch of your organization.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("Can be changed if you want to add a touch of your organization.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function vD(e){let t,n,u=e[5]("Organization URL")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("Organization URL")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function $D(e){let t,n,u=e[5]('Used together with "Organization name" to add a link to your organization on the login screen.')+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]('Used together with "Organization name" to add a link to your organization on the login screen.')+"")&&ue(n,u)},d(e){e&&Y(t)}}}function yD(e){let t,n,u=e[5]("Admin email")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("Admin email")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function bD(e){let t,n,u=e[5]("This email can be used by users to get in touch with the Convos admin.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("This email can be used by users to get in touch with the Convos admin.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function AD(e){let t,n,u=e[5]("Video service")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("Video service")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function ED(e){let t,n=e[6]("This should point to a [%1](%2) instance.","https://meet.jit.si/","https://github.com/jitsi/jitsi-meet")+"";return{c(){t=K("p"),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),t.innerHTML=n},p(e,u){64&u&&n!==(n=e[6]("This should point to a [%1](%2) instance.","https://meet.jit.si/","https://github.com/jitsi/jitsi-meet")+"")&&(t.innerHTML=n)},d(e){e&&Y(t)}}}function CD(e){let t,n,u=e[5]("Registration is open to public")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("Registration is open to public")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function FD(e){let t,n,u=e[5]("Save settings")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("Save settings")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function wD(e){let t,n,u=e[6]("You currently have Convos v%1 installed.",rn("version"))+"";return{c(){t=K("p"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){64&t&&u!==(u=e[6]("You currently have Convos v%1 installed.",rn("version"))+"")&&ue(n,u)},d(e){e&&Y(t)}}}function _D(e){let t,n,u=e[6](e[4]?"You have Convos v%1, which is the latest version.":"Convos v%1 is available.",e[0])+"";return{c(){t=K("p"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){81&t&&u!==(u=e[6](e[4]?"You have Convos v%1, which is the latest version.":"Convos v%1 is available.",e[0])+"")&&ue(n,u)},d(e){e&&Y(t)}}}function BD(e){let t,n,u=e[5](e[1].error())+"";return{c(){t=K("div"),n=J(u),te(t,"class","error")},m(e,u){W(e,t,u),z(t,n)},p(e,t){34&t&&u!==(u=e[5](e[1].error())+"")&&ue(n,u)},d(e){e&&Y(t)}}}function kD(e){let t,n,u=e[5]("Check for updates")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("Check for updates")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function xD(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,C,F,w,_,B=e[5]("Disk usage")+"",k=e[2].blocks_pct+"",x=e[5]("Disk usage")+"",S=e[2].blocks_used+"",O=e[2].blocks_total+"",N=e[2].inodes_pct+"",j=e[5]("Inode usage")+"",R=e[2].inodes_used+"",T=e[2].inodes_total+"";return{c(){t=K("div"),n=K("h2"),u=J(B),r=V(),o=K("div"),i=K("div"),a=J(k),s=J("%"),c=V(),l=K("p"),d=J(x),f=J(": "),p=J(S),D=J(" / "),h=J(O),m=V(),g=K("div"),v=K("div"),$=J(N),y=J("%"),b=V(),A=K("p"),E=J(j),C=J(": "),F=J(R),w=J(" / "),_=J(T),te(i,"class","progress__bar"),oe(i,"width",e[2].blocks_pct+"%"),te(o,"class","progress"),te(l,"class","help"),te(v,"class","progress__bar"),oe(v,"width",e[2].inodes_pct+"%"),te(g,"class","progress"),te(A,"class","help"),te(t,"id","disk-usage")},m(e,B){W(e,t,B),z(t,n),z(n,u),z(t,r),z(t,o),z(o,i),z(i,a),z(i,s),z(t,c),z(t,l),z(l,d),z(l,f),z(l,p),z(l,D),z(l,h),z(t,m),z(t,g),z(g,v),z(v,$),z(v,y),z(t,b),z(t,A),z(A,E),z(A,C),z(A,F),z(A,w),z(A,_)},p(e,t){32&t&&B!==(B=e[5]("Disk usage")+"")&&ue(u,B),4&t&&k!==(k=e[2].blocks_pct+"")&&ue(a,k),4&t&&oe(i,"width",e[2].blocks_pct+"%"),32&t&&x!==(x=e[5]("Disk usage")+"")&&ue(d,x),4&t&&S!==(S=e[2].blocks_used+"")&&ue(p,S),4&t&&O!==(O=e[2].blocks_total+"")&&ue(h,O),4&t&&N!==(N=e[2].inodes_pct+"")&&ue($,N),4&t&&oe(v,"width",e[2].inodes_pct+"%"),32&t&&j!==(j=e[5]("Inode usage")+"")&&ue(E,j),4&t&&R!==(R=e[2].inodes_used+"")&&ue(F,R),4&t&&T!==(T=e[2].inodes_total+"")&&ue(_,T)},d(e){e&&Y(t)}}}function SD(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,F,w,_,B,k,x,S,O,N,j,R,T,P,L,M,I,U,q,H,G,Z,Q=e[5]("Convos settings")+"",ne=e[6]("These settings control what users experience when they visit [%1](%1).",rn("base_url"))+"",re=e[5]("Tick this box if you want users to be able to register without an invite URL.")+"",oe=e[5]("Check for updates")+"";function ie(t){e[11](t)}t=new Et({props:{$$slots:{default:[hD]},$$scope:{ctx:e}}});let ae={name:"organization_name",$$slots:{help:[gD],label:[mD]},$$scope:{ctx:e}};function se(t){e[12](t)}void 0!==e[3].organization_name&&(ae.value=e[3].organization_name),l=new Ks({props:ae}),we.push((()=>Qe(l,"value",ie)));let ce={name:"organization_url",placeholder:e[5]("https://convos.chat"),$$slots:{help:[$D],label:[vD]},$$scope:{ctx:e}};function le(t){e[13](t)}void 0!==e[3].organization_url&&(ce.value=e[3].organization_url),p=new Ks({props:ce}),we.push((()=>Qe(p,"value",se)));let de={name:"contact",placeholder:e[5]("Ex: jhthorsen@cpan.org"),$$slots:{help:[bD],label:[yD]},$$scope:{ctx:e}};function fe(t){e[14](t)}void 0!==e[3].contact&&(de.value=e[3].contact),m=new Ks({props:de}),we.push((()=>Qe(m,"value",le)));let pe={name:"video_service",placeholder:e[5]("Ex: https://meet.jit.si/"),$$slots:{help:[ED],label:[AD]},$$scope:{ctx:e}};function De(t){e[15](t)}void 0!==e[3].video_service&&(pe.value=e[3].video_service),$=new Ks({props:pe}),we.push((()=>Qe($,"value",fe)));let he={name:"open_to_public",$$slots:{label:[CD]},$$scope:{ctx:e}};function me(e,t){return 2&t&&(L=null),2&t&&(M=null),null==L&&(L=!!e[1].is("error")),L?BD:(null==M&&(M=!!e[1].is("success")),M?_D:wD)}void 0!==e[3].open_to_public&&(he.value=e[3].open_to_public),A=new As({props:he}),we.push((()=>Qe(A,"value",De))),x=new ms({props:{icon:"save",op:e[8],$$slots:{default:[FD]},$$scope:{ctx:e}}}),O=new Bs({props:{op:e[8]}});let ge=me(e,-1),ve=ge(e);U=new ms({props:{icon:"sync-alt",op:e[7],$$slots:{default:[kD]},$$scope:{ctx:e}}});let $e=e[2]&&xD(e);return{c(){Xe(t.$$.fragment),n=V(),u=K("main"),r=K("form"),o=K("h2"),i=J(Q),a=V(),s=K("p"),c=V(),Xe(l.$$.fragment),f=V(),Xe(p.$$.fragment),h=V(),Xe(m.$$.fragment),v=V(),Xe($.$$.fragment),b=V(),Xe(A.$$.fragment),F=V(),w=K("p"),_=J(re),B=V(),k=K("div"),Xe(x.$$.fragment),S=V(),Xe(O.$$.fragment),N=V(),j=K("h2"),R=J(oe),T=V(),P=K("form"),ve.c(),I=V(),Xe(U.$$.fragment),q=V(),$e&&$e.c(),te(w,"class","help"),te(k,"class","form-actions"),te(r,"id","convos-settings"),te(r,"method","post"),te(P,"id","convos-updates"),te(P,"method","post"),te(u,"class","main")},m(d,D){et(t,d,D),W(d,n,D),W(d,u,D),z(u,r),z(r,o),z(o,i),z(r,a),z(r,s),s.innerHTML=ne,z(r,c),et(l,r,null),z(r,f),et(p,r,null),z(r,h),et(m,r,null),z(r,v),et($,r,null),z(r,b),et(A,r,null),z(r,F),z(r,w),z(w,_),z(r,B),z(r,k),et(x,k,null),z(r,S),et(O,r,null),z(u,N),z(u,j),z(j,R),z(u,T),z(u,P),ve.m(P,null),z(P,I),et(U,P,null),z(u,q),$e&&$e.m(u,null),H=!0,G||(Z=[X(r,"submit",ee(e[9])),X(P,"submit",ee(e[16]))],G=!0)},p(e,[n]){const r={};1048608&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),(!H||32&n)&&Q!==(Q=e[5]("Convos settings")+"")&&ue(i,Q),(!H||64&n)&&ne!==(ne=e[6]("These settings control what users experience when they visit [%1](%1).",rn("base_url"))+"")&&(s.innerHTML=ne);const o={};1048608&n&&(o.$$scope={dirty:n,ctx:e}),!d&&8&n&&(d=!0,o.value=e[3].organization_name,je((()=>d=!1))),l.$set(o);const a={};32&n&&(a.placeholder=e[5]("https://convos.chat")),1048608&n&&(a.$$scope={dirty:n,ctx:e}),!D&&8&n&&(D=!0,a.value=e[3].organization_url,je((()=>D=!1))),p.$set(a);const c={};32&n&&(c.placeholder=e[5]("Ex: jhthorsen@cpan.org")),1048608&n&&(c.$$scope={dirty:n,ctx:e}),!g&&8&n&&(g=!0,c.value=e[3].contact,je((()=>g=!1))),m.$set(c);const f={};32&n&&(f.placeholder=e[5]("Ex: https://meet.jit.si/")),1048672&n&&(f.$$scope={dirty:n,ctx:e}),!y&&8&n&&(y=!0,f.value=e[3].video_service,je((()=>y=!1))),$.$set(f);const h={};1048608&n&&(h.$$scope={dirty:n,ctx:e}),!E&&8&n&&(E=!0,h.value=e[3].open_to_public,je((()=>E=!1))),A.$set(h),(!H||32&n)&&re!==(re=e[5]("Tick this box if you want users to be able to register without an invite URL.")+"")&&ue(_,re);const v={};1048608&n&&(v.$$scope={dirty:n,ctx:e}),x.$set(v),(!H||32&n)&&oe!==(oe=e[5]("Check for updates")+"")&&ue(R,oe),ge===(ge=me(e,n))&&ve?ve.p(e,n):(ve.d(1),ve=ge(e),ve&&(ve.c(),ve.m(P,I)));const b={};1048608&n&&(b.$$scope={dirty:n,ctx:e}),U.$set(b),e[2]?$e?$e.p(e,n):($e=xD(e),$e.c(),$e.m(u,null)):$e&&($e.d(1),$e=null)},i(e){H||(We(t.$$.fragment,e),We(l.$$.fragment,e),We(p.$$.fragment,e),We(m.$$.fragment,e),We($.$$.fragment,e),We(A.$$.fragment,e),We(x.$$.fragment,e),We(O.$$.fragment,e),We(U.$$.fragment,e),H=!0)},o(e){Ye(t.$$.fragment,e),Ye(l.$$.fragment,e),Ye(p.$$.fragment,e),Ye(m.$$.fragment,e),Ye($.$$.fragment,e),Ye(A.$$.fragment,e),Ye(x.$$.fragment,e),Ye(O.$$.fragment,e),Ye(U.$$.fragment,e),H=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u),tt(l),tt(p),tt(m),tt($),tt(A),tt(x),tt(O),ve.d(),tt(U),$e&&$e.d(),G=!1,C(Z)}}}function OD(e,t,n){let u,r,o,i,a;B(e,_a,(e=>n(5,i=e))),B(e,Ba,(e=>n(6,a=e)));const s=Ee("api"),c=s("checkForUpdates");B(e,c,(e=>n(1,o=e)));const l=s("getSettings"),d=s("updateSettings");let f=null,p={};$e((async()=>{await l.perform();const e=l.res.body;n(2,f=function(e){if(!e)return null;const t=e.block_size||1024;return{blocks_pct:Math.ceil(e.blocks_used/e.blocks_total*100),blocks_total:Vt(t*e.blocks_total,"B"),blocks_used:Vt(t*e.blocks_used,"B"),inodes_pct:Math.ceil(e.inodes_used/e.inodes_total*100),inodes_total:Vt(e.inodes_total),inodes_used:Vt(e.inodes_used)}}(e.disk_usage)),delete e.disk_usage,e.contact=e.contact.replace(/mailto:/,""),n(3,p={...p,...e})}));return e.$$.update=()=>{2&e.$$.dirty&&n(0,u=o.res.body.available),1&e.$$.dirty&&n(4,r=u==rn("version"))},[u,o,f,p,r,i,a,c,d,function(){p.contact&&n(3,p.contact="mailto:"+p.contact,p),rn("contact",p.contact),rn("open_to_public",p.open_to_public),rn("organization_name",p.organization_name),rn("organization_url",p.organization_url),Ua.fromString(p.video_service),d.perform(p)},"Global settings",function(t){e.$$.not_equal(p.organization_name,t)&&(p.organization_name=t,n(3,p))},function(t){e.$$.not_equal(p.organization_url,t)&&(p.organization_url=t,n(3,p))},function(t){e.$$.not_equal(p.contact,t)&&(p.contact=t,n(3,p))},function(t){e.$$.not_equal(p.video_service,t)&&(p.video_service=t,n(3,p))},function(t){e.$$.not_equal(p.open_to_public,t)&&(p.open_to_public=t,n(3,p))},()=>c.perform()]}class ND extends rt{constructor(e){super(),ut(this,e,OD,SD,w,{title:10})}get title(){return this.$$.ctx[10]}}function jD(e,t,n){const u=e.slice();return u[26]=t[n],u}function RD(e){let t,n,u,r,o,i,a=tn(e[4]("See all users"))+"";return t=new dt({props:{name:"list"}}),n=new dt({props:{name:"times"}}),{c(){Xe(t.$$.fragment),Xe(n.$$.fragment),u=V(),r=K("span"),o=J(a),te(r,"class","tooltip is-left")},m(e,a){et(t,e,a),et(n,e,a),W(e,u,a),W(e,r,a),z(r,o),i=!0},p(e,t){(!i||16&t)&&a!==(a=tn(e[4]("See all users"))+"")&&ue(o,a)},i(e){i||(We(t.$$.fragment,e),We(n.$$.fragment,e),i=!0)},o(e){Ye(t.$$.fragment,e),Ye(n.$$.fragment,e),i=!1},d(e){tt(t,e),tt(n,e),e&&Y(u),e&&Y(r)}}}function TD(e){let t,n,u,r,o,i=e[4](e[0].uid?"Account":"Users")+"";return r=new Ic({props:{href:"/settings/users",class:"btn-hallow can-toggle has-tooltip "+(e[0].uid?"is-active":""),$$slots:{default:[RD]},$$scope:{ctx:e}}}),{c(){t=K("h1"),n=J(i),u=V(),Xe(r.$$.fragment)},m(e,i){W(e,t,i),z(t,n),W(e,u,i),et(r,e,i),o=!0},p(e,t){(!o||17&t)&&i!==(i=e[4](e[0].uid?"Account":"Users")+"")&&ue(n,i);const u={};1&t&&(u.class="btn-hallow can-toggle has-tooltip "+(e[0].uid?"is-active":"")),536870928&t&&(u.$$scope={dirty:t,ctx:e}),r.$set(u)},i(e){o||(We(r.$$.fragment,e),o=!0)},o(e){Ye(r.$$.fragment,e),o=!1},d(e){e&&Y(t),e&&Y(u),tt(r,e)}}}function PD(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,C,F,w,_,B,k,x,S,O,N,j,R,T,P,L,M,I=e[4]("Invite or recover password")+"",U=e[4]("Users")+"",q=e[1].length+"",H=e[4]("Email")+"",Z=e[4]("Roles")+"",Q=e[4]("Registered")+"";function ne(t){e[22](t)}let re={type:"email",name:"email",placeholder:e[4]("user@example.com"),$$slots:{help:[ID],label:[MD]},$$scope:{ctx:e}};void 0!==e[0].email&&(re.value=e[0].email),o=new Ks({props:re}),we.push((()=>Qe(o,"value",ne)));let oe=e[3].url&&UD(e);l=new ms({props:{icon:"save",op:e[9],disabled:!e[0].email,$$slots:{default:[zD]},$$scope:{ctx:e}}}),f=new Bs({props:{op:e[9],success:"Link generated."}}),R=new Fd({props:{colspan:"3",op:e[6]}});let ie=e[1],ae=[];for(let t=0;t<ie.length;t+=1)ae[t]=qD(jD(e,ie,t));return{c(){t=K("form"),n=K("h2"),u=J(I),r=V(),Xe(o.$$.fragment),a=V(),oe&&oe.c(),s=V(),c=K("div"),Xe(l.$$.fragment),d=V(),Xe(f.$$.fragment),p=V(),D=K("h2"),h=J(U),m=V(),g=K("small"),v=J("("),$=J(q),y=J(")"),b=V(),A=K("table"),E=K("thead"),C=K("tr"),F=K("th"),w=J(H),_=V(),B=K("th"),k=J(Z),x=V(),S=K("th"),O=J(Q),N=V(),j=K("tbody"),Xe(R.$$.fragment),T=V();for(let e=0;e<ae.length;e+=1)ae[e].c();te(c,"class","form-actions"),te(t,"id","invite"),te(t,"method","post")},m(i,I){W(i,t,I),z(t,n),z(n,u),z(t,r),et(o,t,null),z(t,a),oe&&oe.m(t,null),z(t,s),z(t,c),et(l,c,null),z(t,d),et(f,t,null),W(i,p,I),W(i,D,I),z(D,h),z(D,m),z(D,g),z(g,v),z(g,$),z(g,y),W(i,b,I),W(i,A,I),z(A,E),z(E,C),z(C,F),z(F,w),z(C,_),z(C,B),z(B,k),z(C,x),z(C,S),z(S,O),z(A,N),z(A,j),et(R,j,null),z(j,T);for(let e=0;e<ae.length;e+=1)ae[e].m(j,null);P=!0,L||(M=X(t,"submit",ee(e[13])),L=!0)},p(e,n){(!P||16&n)&&I!==(I=e[4]("Invite or recover password")+"")&&ue(u,I);const r={};16&n&&(r.placeholder=e[4]("user@example.com")),536870928&n&&(r.$$scope={dirty:n,ctx:e}),!i&&1&n&&(i=!0,r.value=e[0].email,je((()=>i=!1))),o.$set(r),e[3].url?oe?oe.p(e,n):(oe=UD(e),oe.c(),oe.m(t,s)):oe&&(oe.d(1),oe=null);const a={};1&n&&(a.disabled=!e[0].email),536870928&n&&(a.$$scope={dirty:n,ctx:e}),l.$set(a),(!P||16&n)&&U!==(U=e[4]("Users")+"")&&ue(h,U),(!P||2&n)&&q!==(q=e[1].length+"")&&ue($,q),(!P||16&n)&&H!==(H=e[4]("Email")+"")&&ue(w,H),(!P||16&n)&&Z!==(Z=e[4]("Roles")+"")&&ue(k,Z),(!P||16&n)&&Q!==(Q=e[4]("Registered")+"")&&ue(O,Q);const c={};if(64&n&&(c.op=e[6]),R.$set(c),2&n){let t;for(ie=e[1],t=0;t<ie.length;t+=1){const u=jD(e,ie,t);ae[t]?ae[t].p(u,n):(ae[t]=qD(u),ae[t].c(),ae[t].m(j,null))}for(;t<ae.length;t+=1)ae[t].d(1);ae.length=ie.length}},i(e){P||(We(o.$$.fragment,e),We(l.$$.fragment,e),We(f.$$.fragment,e),We(R.$$.fragment,e),P=!0)},o(e){Ye(o.$$.fragment,e),Ye(l.$$.fragment,e),Ye(f.$$.fragment,e),Ye(R.$$.fragment,e),P=!1},d(e){e&&Y(t),tt(o),oe&&oe.d(),tt(l),tt(f),e&&Y(p),e&&Y(D),e&&Y(b),e&&Y(A),tt(R),G(ae,e),L=!1,M()}}}function LD(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,F,w,_,B,k,x,S,O,N,j=e[4]("This will permanently remove user settings, chat logs, uploaded files and other user related data.")+"",R=e[5]('Please confirm by entering "**%1**" before hitting **%2**.',e[0].email,e[4]("Delete user"))+"";function T(t){e[19](t)}let P={name:"email",readonly:!0,$$slots:{label:[HD]},$$scope:{ctx:e}};function L(t){e[20](t)}void 0!==e[0].email&&(P.value=e[0].email),r=new Ks({props:P}),we.push((()=>Qe(r,"value",T)));let M={name:"roles",placeholder:e[4]("admin, bot, ..."),$$slots:{help:[YD],label:[WD]},$$scope:{ctx:e}};function I(t){e[21](t)}void 0!==e[0].roles&&(M.value=e[0].roles),a=new Ks({props:M}),we.push((()=>Qe(a,"value",L))),d=new ms({props:{icon:"save",op:e[10],$$slots:{default:[GD]},$$scope:{ctx:e}}}),p=new Bs({props:{op:e[10]}});let U={name:"confirm_email",$$slots:{label:[KD]},$$scope:{ctx:e}};return void 0!==e[2]&&(U.value=e[2]),E=new Ks({props:U}),we.push((()=>Qe(E,"value",I))),B=new ms({props:{icon:"trash",op:e[7],disabled:e[2]!=e[0].email,$$slots:{default:[ZD]},$$scope:{ctx:e}}}),x=new Bs({props:{op:e[7],success:"Deleted."}}),{c(){t=K("form"),n=K("input"),u=V(),Xe(r.$$.fragment),i=V(),Xe(a.$$.fragment),c=V(),l=K("div"),Xe(d.$$.fragment),f=V(),Xe(p.$$.fragment),D=V(),h=K("h2"),h.textContent="Delete account",m=V(),g=K("form"),v=K("p"),$=J(j),y=V(),b=new le(!1),A=V(),Xe(E.$$.fragment),w=V(),_=K("div"),Xe(B.$$.fragment),k=V(),Xe(x.$$.fragment),te(n,"type","hidden"),te(n,"name","uid"),te(l,"class","form-actions"),te(t,"id","edit"),te(t,"method","post"),b.a=null,te(_,"class","form-actions"),te(g,"id","delete"),te(g,"method","post")},m(o,s){W(o,t,s),z(t,n),re(n,e[0].uid),z(t,u),et(r,t,null),z(t,i),et(a,t,null),z(t,c),z(t,l),et(d,l,null),z(t,f),et(p,t,null),W(o,D,s),W(o,h,s),W(o,m,s),W(o,g,s),z(g,v),z(v,$),z(v,y),b.m(R,v),z(g,A),et(E,g,null),z(g,w),z(g,_),et(B,_,null),z(g,k),et(x,g,null),S=!0,O||(N=[X(n,"input",e[18]),X(t,"submit",ee(e[14])),X(g,"submit",ee(e[12]))],O=!0)},p(e,t){1&t&&re(n,e[0].uid);const u={};536870928&t&&(u.$$scope={dirty:t,ctx:e}),!o&&1&t&&(o=!0,u.value=e[0].email,je((()=>o=!1))),r.$set(u);const i={};16&t&&(i.placeholder=e[4]("admin, bot, ...")),536870928&t&&(i.$$scope={dirty:t,ctx:e}),!s&&1&t&&(s=!0,i.value=e[0].roles,je((()=>s=!1))),a.$set(i);const c={};536870928&t&&(c.$$scope={dirty:t,ctx:e}),d.$set(c),(!S||16&t)&&j!==(j=e[4]("This will permanently remove user settings, chat logs, uploaded files and other user related data.")+"")&&ue($,j),(!S||49&t)&&R!==(R=e[5]('Please confirm by entering "**%1**" before hitting **%2**.',e[0].email,e[4]("Delete user"))+"")&&b.p(R);const l={};536870928&t&&(l.$$scope={dirty:t,ctx:e}),!F&&4&t&&(F=!0,l.value=e[2],je((()=>F=!1))),E.$set(l);const f={};5&t&&(f.disabled=e[2]!=e[0].email),536870928&t&&(f.$$scope={dirty:t,ctx:e}),B.$set(f)},i(e){S||(We(r.$$.fragment,e),We(a.$$.fragment,e),We(d.$$.fragment,e),We(p.$$.fragment,e),We(E.$$.fragment,e),We(B.$$.fragment,e),We(x.$$.fragment,e),S=!0)},o(e){Ye(r.$$.fragment,e),Ye(a.$$.fragment,e),Ye(d.$$.fragment,e),Ye(p.$$.fragment,e),Ye(E.$$.fragment,e),Ye(B.$$.fragment,e),Ye(x.$$.fragment,e),S=!1},d(e){e&&Y(t),tt(r),tt(a),tt(d),tt(p),e&&Y(D),e&&Y(h),e&&Y(m),e&&Y(g),tt(E),tt(B),tt(x),O=!1,C(N)}}}function MD(e){let t,n,u=e[4]("User email")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("User email")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function ID(e){let t,n,u=e[4]("Using this form, you can generate a forgotten password or invite link for a user.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Using this form, you can generate a forgotten password or invite link for a user.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function UD(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v=e[4]("A link was generated")+"",$=e[5](e[3].existing?"Copy and send the link to your *existing* user.":"Copy and send the link to your *new* user.")+"",y=e[5]("The link is valid until **%1**.",new Date(e[3].expires).toLocaleString())+"",b=e[3].url+"",A=e[4]("Tip: Clicking on the link will copy it to your clipboard.")+"";return{c(){t=K("h3"),n=J(v),u=V(),r=K("p"),o=new le(!1),i=V(),a=new le(!1),s=V(),c=K("a"),l=J(b),f=V(),p=K("p"),D=K("small"),h=J(A),o.a=i,a.a=null,te(c,"href",d=e[3].url)},m(d,v){W(d,t,v),z(t,n),W(d,u,v),W(d,r,v),o.m($,r),z(r,i),a.m(y,r),W(d,s,v),W(d,c,v),z(c,l),W(d,f,v),W(d,p,v),z(p,D),z(D,h),m||(g=X(c,"click",ee(e[11])),m=!0)},p(e,t){16&t&&v!==(v=e[4]("A link was generated")+"")&&ue(n,v),40&t&&$!==($=e[5](e[3].existing?"Copy and send the link to your *existing* user.":"Copy and send the link to your *new* user.")+"")&&o.p($),40&t&&y!==(y=e[5]("The link is valid until **%1**.",new Date(e[3].expires).toLocaleString())+"")&&a.p(y),8&t&&b!==(b=e[3].url+"")&&ue(l,b),8&t&&d!==(d=e[3].url)&&te(c,"href",d),16&t&&A!==(A=e[4]("Tip: Clicking on the link will copy it to your clipboard.")+"")&&ue(h,A)},d(e){e&&Y(t),e&&Y(u),e&&Y(r),e&&Y(s),e&&Y(c),e&&Y(f),e&&Y(p),m=!1,g()}}}function zD(e){let t,n,u=e[4]("Generate link")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Generate link")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function qD(e){let t,n,u,r,o,i,a,s,c,l,d,f,p=e[26].email+"",D=e[26].roles.join(", ")+"",h=new ps(e[26].registered).getHumanDate({year:!0})+"";return{c(){t=K("tr"),n=K("td"),u=K("a"),r=J(p),i=V(),a=K("td"),s=J(D),c=V(),l=K("td"),d=J(h),f=V(),te(u,"href",o="#"+e[26].uid)},m(e,o){W(e,t,o),z(t,n),z(n,u),z(u,r),z(t,i),z(t,a),z(a,s),z(t,c),z(t,l),z(l,d),z(t,f)},p(e,t){2&t&&p!==(p=e[26].email+"")&&ue(r,p),2&t&&o!==(o="#"+e[26].uid)&&te(u,"href",o),2&t&&D!==(D=e[26].roles.join(", ")+"")&&ue(s,D),2&t&&h!==(h=new ps(e[26].registered).getHumanDate({year:!0})+"")&&ue(d,h)},d(e){e&&Y(t)}}}function HD(e){let t,n,u=e[4]("Email")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Email")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function WD(e){let t,n,u=e[4]("Roles")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Roles")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function YD(e){let t,n,u=e[4]("Roles must be separated by comma.")+"";return{c(){t=K("p"),n=J(u),te(t,"class","help"),te(t,"slot","help")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Roles must be separated by comma.")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function GD(e){let t,n,u=e[4]("Save user")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Save user")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function KD(e){let t,n,u=e[4]("Confirm email")+"";return{c(){t=K("span"),n=J(u),te(t,"slot","label")},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Confirm email")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function ZD(e){let t,n,u=e[4]("Delete user")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){16&t&&u!==(u=e[4]("Delete user")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function JD(e){let t,n,u,r,o,i;t=new Et({props:{$$slots:{default:[TD]},$$scope:{ctx:e}}});const a=[LD,PD],s=[];function c(e,t){return e[0].uid?0:1}return r=c(e),o=s[r]=a[r](e),{c(){Xe(t.$$.fragment),n=V(),u=K("main"),o.c(),te(u,"class","main")},m(e,o){et(t,e,o),W(e,n,o),W(e,u,o),s[r].m(u,null),i=!0},p(e,[n]){const i={};536870929&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);let l=r;r=c(e),r===l?s[r].p(e,n):(qe(),Ye(s[l],1,1,(()=>{s[l]=null})),He(),o=s[r],o?o.p(e,n):(o=s[r]=a[r](e),o.c()),We(o,1),o.m(u,null))},i(e){i||(We(t.$$.fragment,e),We(o),i=!0)},o(e){Ye(t.$$.fragment,e),Ye(o),i=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u),s[r].d()}}}function VD(e,t,n){let u,r,o,i,a,s;B(e,_a,(e=>n(4,r=e))),B(e,sa,(e=>n(17,i=e))),B(e,Ba,(e=>n(5,a=e)));let{title:c="Users"}=t;const l=Ee("api"),d=l("deleteUser"),f=l("getUsers");B(e,f,(e=>n(6,s=e)));const p=l("inviteUser");B(e,p,(e=>n(16,o=e)));const D=l("updateUser");let h="",m={email:""},g=[];async function v(){await f.perform(),n(1,g=f.res.body.users||[]),f.reset()}return $e(v),e.$$set=e=>{"title"in e&&n(15,c=e.title)},e.$$.update=()=>{131074&e.$$.dirty&&function(e,t){const u=e.hash,r=u&&t.filter((e=>e.uid==u))[0];n(0,m=r?{...m,confirm_email:"",...r}:{...m,confirm_email:"",uid:""})}(i,g),65536&e.$$.dirty&&n(3,u=o.res.body||{}),1&e.$$.dirty&&n(15,c=m.uid?m.email:"Users")},[m,g,h,u,r,a,s,d,f,p,D,function(e){const t=Yt(e.target);t&&Nl.showInApp(t,{title:r("Invite link copied")})},async function(){d.reset(),D.reset(),h==m.email&&(await d.perform(m),d.is("success")&&(v(),sa.go("/settings/users",{replace:!0})))},function(){p.perform({email:m.email})},function(){d.reset(),D.perform({email:m.email,roles:an(m.roles)})},c,o,i,function(){m.uid=this.value,n(0,m)},function(t){e.$$.not_equal(m.email,t)&&(m.email=t,n(0,m))},function(t){e.$$.not_equal(m.roles,t)&&(m.roles=t,n(0,m))},function(e){h=e,n(2,h)},function(t){e.$$.not_equal(m.email,t)&&(m.email=t,n(0,m))}]}class QD extends rt{constructor(e){super(),ut(this,e,VD,JD,w,{title:15})}}function XD(e,t,n){const u=e.slice();return u[19]=t[n],u[20]=t,u[21]=n,u}function eh(e){let t,n,u=e[5]("Files")+"";return{c(){t=K("h1"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("Files")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function th(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y=new ps(e[19].saved).getHumanDate({year:!0})+"",b=e[19].name+"",A=Vt(e[19].size,"B")+"";function E(t){e[14](t,e[19])}i=new dt({props:{name:"copy"}}),i.$on("click",e[11]);let C={name:e[19].id};return void 0!==e[19].selected&&(C.value=e[19].selected),g=new As({props:C}),we.push((()=>Qe(g,"value",E))),{c(){t=K("tr"),n=K("td"),u=J(y),r=V(),o=K("td"),Xe(i.$$.fragment),a=V(),s=K("td"),c=K("a"),l=J(b),f=V(),p=K("td"),D=J(A),h=V(),m=K("td"),Xe(g.$$.fragment),te(c,"href",d=sa.urlFor("/file/"+e[8].id+"/"+e[19].id)),te(c,"target","convos_files_file"),te(p,"class","text-right"),te(m,"class","text-right")},m(e,d){W(e,t,d),z(t,n),z(n,u),z(t,r),z(t,o),et(i,o,null),z(t,a),z(t,s),z(s,c),z(c,l),z(t,f),z(t,p),z(p,D),z(t,h),z(t,m),et(g,m,null),$=!0},p(t,n){e=t,(!$||4&n)&&y!==(y=new ps(e[19].saved).getHumanDate({year:!0})+"")&&ue(u,y),(!$||4&n)&&b!==(b=e[19].name+"")&&ue(l,b),(!$||4&n&&d!==(d=sa.urlFor("/file/"+e[8].id+"/"+e[19].id)))&&te(c,"href",d),(!$||4&n)&&A!==(A=Vt(e[19].size,"B")+"")&&ue(D,A);const r={};4&n&&(r.name=e[19].id),!v&&4&n&&(v=!0,r.value=e[19].selected,je((()=>v=!1))),g.$set(r)},i(e){$||(We(i.$$.fragment,e),We(g.$$.fragment,e),$=!0)},o(e){Ye(i.$$.fragment,e),Ye(g.$$.fragment,e),$=!1},d(e){e&&Y(t),tt(i),tt(g)}}}function nh(e){let t,n,u,r=e[5]("No files.")+"";return{c(){t=K("tr"),n=K("td"),u=J(r),te(n,"colspan","5")},m(e,r){W(e,t,r),z(t,n),z(n,u)},p(e,t){32&t&&r!==(r=e[5]("No files.")+"")&&ue(u,r)},d(e){e&&Y(t)}}}function uh(e){let t,n;return t=new Fd({props:{colspan:"5",op:e[10],$$slots:{default:[rh]},$$scope:{ctx:e}}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};4194304&n&&(u.$$scope={dirty:n,ctx:e}),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function rh(e){let t;return{c(){t=K("div"),t.textContent=" "},m(e,n){W(e,t,n)},p:y,d(e){e&&Y(t)}}}function oh(e){let t,n,u=e[5]("Previous")+"";return{c(){t=K("span"),n=J(u),te(t,"class","disabled")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("Previous")+"")&&ue(n,u)},i:y,o:y,d(e){e&&Y(t)}}}function ih(e){let t,n;return t=new Ic({props:{href:"/settings/files?after="+e[4],$$slots:{default:[ah]},$$scope:{ctx:e}}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};16&n&&(u.href="/settings/files?after="+e[4]),4194336&n&&(u.$$scope={dirty:n,ctx:e}),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function ah(e){let t,n=e[5]("Previous")+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){32&u&&n!==(n=e[5]("Previous")+"")&&ue(t,n)},d(e){e&&Y(t)}}}function sh(e){let t,n,u=e[5]("Next")+"";return{c(){t=K("span"),n=J(u),te(t,"class","disabled")},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("Next")+"")&&ue(n,u)},i:y,o:y,d(e){e&&Y(t)}}}function ch(e){let t,n;return t=new Ic({props:{href:"/settings/files?after="+e[3],$$slots:{default:[lh]},$$scope:{ctx:e}}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};8&n&&(u.href="/settings/files?after="+e[3]),4194336&n&&(u.$$scope={dirty:n,ctx:e}),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function lh(e){let t,n=e[5]("Next")+"";return{c(){t=J(n)},m(e,n){W(e,t,n)},p(e,u){32&u&&n!==(n=e[5]("Next")+"")&&ue(t,n)},d(e){e&&Y(t)}}}function dh(e){let t,n,u=e[5]("Delete selected files")+"";return{c(){t=K("span"),n=J(u)},m(e,u){W(e,t,u),z(t,n)},p(e,t){32&t&&u!==(u=e[5]("Delete selected files")+"")&&ue(n,u)},d(e){e&&Y(t)}}}function fh(e){let t,n=e[7]("By deleting the files, you and everyone with the link *should* lose access to the file: Aggressive caching in browsers or proxies between Convos and other users might keep the file around for some time.")+"";return{c(){t=K("p")},m(e,u){W(e,t,u),t.innerHTML=n},p(e,u){128&u&&n!==(n=e[7]("By deleting the files, you and everyone with the link *should* lose access to the file: Aggressive caching in browsers or proxies between Convos and other users might keep the file around for some time.")+"")&&(t.innerHTML=n)},d(e){e&&Y(t)}}}function ph(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,C,F,w,_,B,k,x,S,O,N,j,R,T,P,L,M=e[5]("Uploaded")+"",I=e[5]("Name")+"",U=e[5]("Size")+"",q=!e[6].is("loading");function H(t){e[13](t)}t=new Et({props:{$$slots:{default:[eh]},$$scope:{ctx:e}}});let Z={};void 0!==e[0]&&(Z.value=e[0]),$=new As({props:Z}),we.push((()=>Qe($,"value",H)));let Q=e[2],X=[];for(let t=0;t<Q.length;t+=1)X[t]=th(XD(e,Q,t));const ee=e=>Ye(X[e],1,1,(()=>{X[e]=null}));let ne=0==e[2].length&&nh(e);F=new Fd({props:{colspan:"5",op:e[9]}});let re=q&&uh(e);const oe=[ih,oh],ie=[];function ae(e,t){return e[4]||e[1].query.after?0:1}k=ae(e),x=ie[k]=oe[k](e);const se=[ch,sh],ce=[];function le(e,t){return e[3]?0:1}O=le(e),N=ce[O]=se[O](e),T=new ms({props:{icon:"trash",op:e[9],disabled:!!e[2].find(Dh),$$slots:{default:[dh]},$$scope:{ctx:e}}}),T.$on("click",e[12]);let de=(e[2].length||e[1].query.after)&&fh(e);return{c(){Xe(t.$$.fragment),n=V(),u=K("main"),r=K("table"),o=K("thead"),i=K("tr"),a=K("th"),s=J(M),c=V(),l=K("th"),l.textContent=" ",d=V(),f=K("th"),p=J(I),D=V(),h=K("th"),m=J(U),g=V(),v=K("th"),Xe($.$$.fragment),b=V(),A=K("tbody");for(let e=0;e<X.length;e+=1)X[e].c();E=V(),ne&&ne.c(),C=V(),Xe(F.$$.fragment),w=V(),re&&re.c(),_=V(),B=K("div"),x.c(),S=V(),N.c(),j=V(),R=K("div"),Xe(T.$$.fragment),P=V(),de&&de.c(),te(h,"class","text-right"),te(v,"class","text-right"),te(B,"class","pagination"),te(R,"class","form-actions"),te(u,"class","main")},m(e,y){et(t,e,y),W(e,n,y),W(e,u,y),z(u,r),z(r,o),z(o,i),z(i,a),z(a,s),z(i,c),z(i,l),z(i,d),z(i,f),z(f,p),z(i,D),z(i,h),z(h,m),z(i,g),z(i,v),et($,v,null),z(r,b),z(r,A);for(let e=0;e<X.length;e+=1)X[e].m(A,null);z(A,E),ne&&ne.m(A,null),z(A,C),et(F,A,null),z(A,w),re&&re.m(A,null),z(u,_),z(u,B),ie[k].m(B,null),z(B,S),ce[O].m(B,null),z(u,j),z(u,R),et(T,R,null),z(u,P),de&&de.m(u,null),L=!0},p(e,[n]){const r={};4194336&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),(!L||32&n)&&M!==(M=e[5]("Uploaded")+"")&&ue(s,M),(!L||32&n)&&I!==(I=e[5]("Name")+"")&&ue(p,I),(!L||32&n)&&U!==(U=e[5]("Size")+"")&&ue(m,U);const o={};if(!y&&1&n&&(y=!0,o.value=e[0],je((()=>y=!1))),$.$set(o),2308&n){let t;for(Q=e[2],t=0;t<Q.length;t+=1){const u=XD(e,Q,t);X[t]?(X[t].p(u,n),We(X[t],1)):(X[t]=th(u),X[t].c(),We(X[t],1),X[t].m(A,E))}for(qe(),t=Q.length;t<X.length;t+=1)ee(t);He()}0==e[2].length?ne?ne.p(e,n):(ne=nh(e),ne.c(),ne.m(A,C)):ne&&(ne.d(1),ne=null),64&n&&(q=!e[6].is("loading")),q?re?(re.p(e,n),64&n&&We(re,1)):(re=uh(e),re.c(),We(re,1),re.m(A,null)):re&&(qe(),Ye(re,1,1,(()=>{re=null})),He());let i=k;k=ae(e),k===i?ie[k].p(e,n):(qe(),Ye(ie[i],1,1,(()=>{ie[i]=null})),He(),x=ie[k],x?x.p(e,n):(x=ie[k]=oe[k](e),x.c()),We(x,1),x.m(B,S));let a=O;O=le(e),O===a?ce[O].p(e,n):(qe(),Ye(ce[a],1,1,(()=>{ce[a]=null})),He(),N=ce[O],N?N.p(e,n):(N=ce[O]=se[O](e),N.c()),We(N,1),N.m(B,null));const c={};4&n&&(c.disabled=!!e[2].find(Dh)),4194336&n&&(c.$$scope={dirty:n,ctx:e}),T.$set(c),e[2].length||e[1].query.after?de?de.p(e,n):(de=fh(e),de.c(),de.m(u,null)):de&&(de.d(1),de=null)},i(e){if(!L){We(t.$$.fragment,e),We($.$$.fragment,e);for(let e=0;e<Q.length;e+=1)We(X[e]);We(F.$$.fragment,e),We(re),We(x),We(N),We(T.$$.fragment,e),L=!0}},o(e){Ye(t.$$.fragment,e),Ye($.$$.fragment,e),X=X.filter(Boolean);for(let e=0;e<X.length;e+=1)Ye(X[e]);Ye(F.$$.fragment,e),Ye(re),Ye(x),Ye(N),Ye(T.$$.fragment,e),L=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u),tt($),G(X,e),ne&&ne.d(),tt(F),re&&re.d(),ie[k].d(),ce[O].d(),tt(T),de&&de.d()}}}const Dh=e=>e.selected;function hh(e,t,n){let u,r,o,i,a;B(e,_a,(e=>n(5,r=e))),B(e,sa,(e=>n(1,o=e))),B(e,Ba,(e=>n(7,a=e)));const s=Ee("api"),c=Ee("user"),l=s("deleteFiles");B(e,l,(e=>n(6,i=e)));const d=s("getFiles");B(e,d,(e=>n(15,u=e)));let f=!1,p=[],D="",h="";async function m(e){const t=e.query.after||"";await d.perform({after:t,limit:20}),n(2,p=d.res.body.files||[]),n(0,f=!1),!p.length&&t||(n(3,D=u.res.body.next&&p.slice(-1)[0].id||""),n(4,h=u.res.body.prev||""))}return e.$$.update=()=>{2&e.$$.dirty&&m(o),1&e.$$.dirty&&function(e){n(2,p=p.map((t=>(t.selected=e,t))))}(f)},[f,o,p,D,h,r,i,a,c,l,d,function(e){const t=Yt({value:e.target.closest("tr").querySelector('[target="convos_files_file"]').href});t&&Nl.showInApp(t,{closeAfter:3e3,title:r("File URL copied")})},async function(){const e=p.filter((e=>e.selected));await l.perform({fid:e.map((e=>e.id)).join(","),uid:c.id}),n(2,p=p.filter((e=>!e.selected))),n(0,f=!1),0==p.length&&m(sa)},function(e){f=e,n(0,f)},function(t,u){e.$$.not_equal(u.selected,t)&&(u.selected=t,n(2,p))}]}class mh extends rt{constructor(e){super(),ut(this,e,hh,ph,w,{})}}function gh(e,t,n){const u=e.slice();return u[23]=t[n],u}function vh(e,t,n){const u=e.slice();return u[26]=t[n],u}function $h(e){let t,n,u,r,o,i,a=Uh(e[8])+"";return t=new dt({props:{family:"regular",name:"bell"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("small"),r=J(a),te(u,"class","badge is-important"),u.hidden=o=!e[8].unread},m(e,o){et(t,e,o),W(e,n,o),W(e,u,o),z(u,r),i=!0},p(e,t){(!i||256&t)&&a!==(a=Uh(e[8])+"")&&ue(r,a),(!i||256&t&&o!==(o=!e[8].unread))&&(u.hidden=o)},i(e){i||(We(t.$$.fragment,e),i=!0)},o(e){Ye(t.$$.fragment,e),i=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function yh(e){let t,n;return t=new Ic({props:{href:"/settings/connections",$$slots:{default:[bh]},$$scope:{ctx:e}}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};536871040&n&&(u.$$scope={dirty:n,ctx:e}),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function bh(e){let t,n,u,r,o,i=e[7]("No conversations")+"";return t=new dt({props:{name:"exclamation-circle"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||128&t)&&i!==(i=e[7]("No conversations")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function Ah(e){let t,n,u,r,o,i,a,s,c,l,d,f,p=(e[23].name||e[23].connection_id)+"",D=e[7](e[23].frozen)+"",h=Uh(e[23])+"";return t=new dt({props:{name:"network-wired"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(p),o=V(),i=K("span"),a=J(D),s=V(),c=K("b"),l=J(h),te(i,"class","tooltip"),te(c,"class","badge"),c.hidden=d=!e[23].unread},m(e,d){et(t,e,d),W(e,n,d),W(e,u,d),z(u,r),W(e,o,d),W(e,i,d),z(i,a),W(e,s,d),W(e,c,d),z(c,l),f=!0},p(e,t){(!f||8&t)&&p!==(p=(e[23].name||e[23].connection_id)+"")&&ue(r,p),(!f||136&t)&&D!==(D=e[7](e[23].frozen)+"")&&ue(a,D),(!f||8&t)&&h!==(h=Uh(e[23])+"")&&ue(l,h),(!f||8&t&&d!==(d=!e[23].unread))&&(c.hidden=d)},i(e){f||(We(t.$$.fragment,e),f=!0)},o(e){Ye(t.$$.fragment,e),f=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u),e&&Y(o),e&&Y(i),e&&Y(s),e&&Y(c)}}}function Eh(e){let t,n;return t=new dt({props:{name:e[26].is("private")?"user":"user-friends"}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};8&n&&(u.name=e[26].is("private")?"user":"user-friends"),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function Ch(e){let t,n;return t=new dt({props:{name:"exclamation-triangle"}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p:y,i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function Fh(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h=e[26].name+"",m=e[7](e[26].frozen)+"",g=Uh(e[26])+"";const v=[Ch,Eh],$=[];function y(e,n){return 8&n&&(t=null),null==t&&(t=!(!e[26].frozen||e[26].is("private"))),t?0:1}return n=y(e,-1),u=$[n]=v[n](e),{c(){u.c(),r=V(),o=K("span"),i=J(h),a=V(),s=K("span"),c=J(m),l=V(),d=K("b"),f=J(g),te(s,"class","tooltip"),te(d,"class","badge"),d.hidden=p=!e[26].unread},m(e,t){$[n].m(e,t),W(e,r,t),W(e,o,t),z(o,i),W(e,a,t),W(e,s,t),z(s,c),W(e,l,t),W(e,d,t),z(d,f),D=!0},p(e,t){let o=n;n=y(e,t),n===o?$[n].p(e,t):(qe(),Ye($[o],1,1,(()=>{$[o]=null})),He(),u=$[n],u?u.p(e,t):(u=$[n]=v[n](e),u.c()),We(u,1),u.m(r.parentNode,r)),(!D||8&t)&&h!==(h=e[26].name+"")&&ue(i,h),(!D||136&t)&&m!==(m=e[7](e[26].frozen)+"")&&ue(c,m),(!D||8&t)&&g!==(g=Uh(e[26])+"")&&ue(f,g),(!D||8&t&&p!==(p=!e[26].unread))&&(d.hidden=p)},i(e){D||(We(u),D=!0)},o(e){Ye(u),D=!1},d(e){$[n].d(e),e&&Y(r),e&&Y(o),e&&Y(a),e&&Y(s),e&&Y(l),e&&Y(d)}}}function wh(e){let t,n;return t=new Ic({props:{href:e[26].path,class:Ih(e[23],e[26]),$$slots:{default:[Fh]},$$scope:{ctx:e}}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};8&n&&(u.href=e[26].path),8&n&&(u.class=Ih(e[23],e[26])),536871048&n&&(u.$$scope={dirty:n,ctx:e}),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function _h(e){let t,n,u,r;t=new Ic({props:{href:e[23].path,class:Ih(e[23],e[23]),$$slots:{default:[Ah]},$$scope:{ctx:e}}});let o=e[23].conversations.toArray(),i=[];for(let t=0;t<o.length;t+=1)i[t]=wh(vh(e,o,t));const a=e=>Ye(i[e],1,1,(()=>{i[e]=null}));return{c(){Xe(t.$$.fragment),n=V();for(let e=0;e<i.length;e+=1)i[e].c();u=Q()},m(e,o){et(t,e,o),W(e,n,o);for(let t=0;t<i.length;t+=1)i[t].m(e,o);W(e,u,o),r=!0},p(e,n){const r={};if(8&n&&(r.href=e[23].path),8&n&&(r.class=Ih(e[23],e[23])),536871048&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),136&n){let t;for(o=e[23].conversations.toArray(),t=0;t<o.length;t+=1){const r=vh(e,o,t);i[t]?(i[t].p(r,n),We(i[t],1)):(i[t]=wh(r),i[t].c(),We(i[t],1),i[t].m(u.parentNode,u))}for(qe(),t=o.length;t<i.length;t+=1)a(t);He()}},i(e){if(!r){We(t.$$.fragment,e);for(let e=0;e<o.length;e+=1)We(i[e]);r=!0}},o(e){Ye(t.$$.fragment,e),i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Ye(i[e]);r=!1},d(e){tt(t,e),e&&Y(n),G(i,e),e&&Y(u)}}}function Bh(e){let t,n,u,r,o,i,a,s,c,l=e[7]("Notifications")+"",d=Uh(e[8])+"";return t=new dt({props:{name:"bell"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(l),o=V(),i=K("b"),a=J(d),te(i,"class","badge"),i.hidden=s=!e[8].unread},m(e,s){et(t,e,s),W(e,n,s),W(e,u,s),z(u,r),W(e,o,s),W(e,i,s),z(i,a),c=!0},p(e,t){(!c||128&t)&&l!==(l=e[7]("Notifications")+"")&&ue(r,l),(!c||256&t)&&d!==(d=Uh(e[8])+"")&&ue(a,d),(!c||256&t&&s!==(s=!e[8].unread))&&(i.hidden=s)},i(e){c||(We(t.$$.fragment,e),c=!0)},o(e){Ye(t.$$.fragment,e),c=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u),e&&Y(o),e&&Y(i)}}}function kh(e){let t,n,u,r,o,i=e[7]("Search")+"";return t=new dt({props:{name:"search"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||128&t)&&i!==(i=e[7]("Search")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function xh(e){let t,n,u,r,o,i=e[7]("Add conversation")+"";return t=new dt({props:{name:"comment"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||128&t)&&i!==(i=e[7]("Add conversation")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function Sh(e){let t,n,u,r,o,i=e[7]("Connections")+"";return t=new dt({props:{name:"network-wired"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||128&t)&&i!==(i=e[7]("Connections")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function Oh(e){let t,n,u,r,o,i=e[7]("Account")+"";return t=new dt({props:{name:"user-cog"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||128&t)&&i!==(i=e[7]("Account")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function Nh(e){let t,n,u,r,o,i=e[7]("Files")+"";return t=new dt({props:{name:"folder-open"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||128&t)&&i!==(i=e[7]("Files")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function jh(e){let t,n,u,r;return t=new Ic({props:{href:"/settings",$$slots:{default:[Rh]},$$scope:{ctx:e}}}),u=new Ic({props:{href:"/settings/users",$$slots:{default:[Th]},$$scope:{ctx:e}}}),{c(){Xe(t.$$.fragment),n=V(),Xe(u.$$.fragment)},m(e,o){et(t,e,o),W(e,n,o),et(u,e,o),r=!0},p(e,n){const r={};536871040&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const o={};536871040&n&&(o.$$scope={dirty:n,ctx:e}),u.$set(o)},i(e){r||(We(t.$$.fragment,e),We(u.$$.fragment,e),r=!0)},o(e){Ye(t.$$.fragment,e),Ye(u.$$.fragment,e),r=!1},d(e){tt(t,e),e&&Y(n),tt(u,e)}}}function Rh(e){let t,n,u,r,o,i=e[7]("Settings")+"";return t=new dt({props:{name:"tools"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||128&t)&&i!==(i=e[7]("Settings")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function Th(e){let t,n,u,r,o,i=e[7]("Users")+"";return t=new dt({props:{name:"users"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||128&t)&&i!==(i=e[7]("Users")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function Ph(e){let t,n,u,r,o,i=e[7]("Help")+"";return t=new dt({props:{name:"question-circle"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||128&t)&&i!==(i=e[7]("Help")+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function Lh(e){let t,n,u,r,o,i=e[7]('Search for "%1"',e[5])+"";return t=new dt({props:{name:"search"}}),{c(){Xe(t.$$.fragment),n=V(),u=K("span"),r=J(i)},m(e,i){et(t,e,i),W(e,n,i),W(e,u,i),z(u,r),o=!0},p(e,t){(!o||160&t)&&i!==(i=e[7]('Search for "%1"',e[5])+"")&&ue(r,i)},i(e){o||(We(t.$$.fragment,e),o=!0)},o(e){Ye(t.$$.fragment,e),o=!1},d(e){tt(t,e),e&&Y(n),e&&Y(u)}}}function Mh(e){let t,n,u,r,o,i,a,s,c,l,d,f,p,D,h,m,g,v,$,y,b,A,E,F,w,_,B,k,x,S,O,N,j,R,T,P,L,M,I,U,q,H,Z,Q,ee,ne,oe=e[7]("Conversations")+"",ie=(e[3].email||e[7]("Account"))+"",se=e[3].is("admin"),ce=e[7]("Log out")+"";s=new dt({props:{name:"search"}}),l=new Ic({props:{href:"/chat",class:"btn-hallow for-notifications",$$slots:{default:[$h]},$$scope:{ctx:e}}});let le=!e[3].connections.size&&yh(e),de=e[3].connections.toArray(),fe=[];for(let t=0;t<de.length;t+=1)fe[t]=_h(gh(e,de,t));const pe=e=>Ye(fe[e],1,1,(()=>{fe[e]=null}));b=new Ic({props:{href:"/chat",$$slots:{default:[Bh]},$$scope:{ctx:e}}}),E=new Ic({props:{href:"/search",$$slots:{default:[kh]},$$scope:{ctx:e}}}),w=new Ic({props:{href:e[6],$$slots:{default:[xh]},$$scope:{ctx:e}}}),B=new Ic({props:{href:"/settings/connections",$$slots:{default:[Sh]},$$scope:{ctx:e}}}),x=new Ic({props:{href:"/settings/account",$$slots:{default:[Oh]},$$scope:{ctx:e}}}),O=new Ic({props:{href:"/settings/files",$$slots:{default:[Nh]},$$scope:{ctx:e}}});let De=se&&jh(e);return R=new Ic({props:{href:"/help",$$slots:{default:[Ph]},$$scope:{ctx:e}}}),L=new dt({props:{name:"power-off"}}),H=new Ic({props:{href:"/search?q="+encodeURIComponent(e[5]),class:"for-search hidden",$$slots:{default:[Lh]},$$scope:{ctx:e}}}),{c(){t=K("div"),n=K("div"),u=K("form"),r=K("input"),i=V(),a=K("label"),Xe(s.$$.fragment),c=V(),Xe(l.$$.fragment),d=V(),f=K("nav"),p=K("h3"),D=J(oe),h=V(),le&&le.c(),m=V();for(let e=0;e<fe.length;e+=1)fe[e].c();g=V(),v=K("h3"),$=J(ie),y=V(),Xe(b.$$.fragment),A=V(),Xe(E.$$.fragment),F=V(),Xe(w.$$.fragment),_=V(),Xe(B.$$.fragment),k=V(),Xe(x.$$.fragment),S=V(),Xe(O.$$.fragment),N=V(),De&&De.c(),j=V(),Xe(R.$$.fragment),T=V(),P=K("a"),Xe(L.$$.fragment),M=V(),I=K("span"),U=J(ce),q=V(),Xe(H.$$.fragment),te(r,"type","text"),te(r,"id","search_input"),te(r,"class","is-primary-menu-item"),te(r,"placeholder",o=e[4]?e[7]("Search..."):e[7]("Convos")),te(a,"for","search_input"),te(a,"class","btn-hallow"),te(u,"class","sidebar-header"),ae(u,"has-focus",e[4]),te(n,"class","sidebar-header__wrapper"),te(P,"href",sa.urlFor("/logout")+"?csrf="+rn("csrf")),te(P,"target","_self"),te(f,"class","sidebar-left__nav"),ae(f,"is-filtering",e[1].length>0),te(t,"class","sidebar-left")},m(o,C){W(o,t,C),z(t,n),z(n,u),z(u,r),re(r,e[1]),z(u,i),z(u,a),et(s,a,null),z(u,c),et(l,u,null),z(t,d),z(t,f),z(f,p),z(p,D),z(f,h),le&&le.m(f,null),z(f,m);for(let e=0;e<fe.length;e+=1)fe[e].m(f,null);z(f,g),z(f,v),z(v,$),z(f,y),et(b,f,null),z(f,A),et(E,f,null),z(f,F),et(w,f,null),z(f,_),et(B,f,null),z(f,k),et(x,f,null),z(f,S),et(O,f,null),z(f,N),De&&De.m(f,null),z(f,j),et(R,f,null),z(f,T),z(f,P),et(L,P,null),z(P,M),z(P,I),z(I,U),z(f,q),et(H,f,null),e[19](f),Q=!0,ee||(ne=[X(r,"input",e[18]),X(r,"blur",e[11]),X(r,"focus",e[12]),X(r,"keydown",e[14]),X(u,"submit",zh),X(f,"click",e[13])],ee=!0)},p(t,[n]){e=t,(!Q||144&n&&o!==(o=e[4]?e[7]("Search..."):e[7]("Convos")))&&te(r,"placeholder",o),2&n&&r.value!==e[1]&&re(r,e[1]);const i={};if(536871168&n&&(i.$$scope={dirty:n,ctx:e}),l.$set(i),(!Q||16&n)&&ae(u,"has-focus",e[4]),(!Q||128&n)&&oe!==(oe=e[7]("Conversations")+"")&&ue(D,oe),e[3].connections.size?le&&(qe(),Ye(le,1,1,(()=>{le=null})),He()):le?(le.p(e,n),8&n&&We(le,1)):(le=yh(e),le.c(),We(le,1),le.m(f,m)),136&n){let t;for(de=e[3].connections.toArray(),t=0;t<de.length;t+=1){const u=gh(e,de,t);fe[t]?(fe[t].p(u,n),We(fe[t],1)):(fe[t]=_h(u),fe[t].c(),We(fe[t],1),fe[t].m(f,g))}for(qe(),t=de.length;t<fe.length;t+=1)pe(t);He()}(!Q||136&n)&&ie!==(ie=(e[3].email||e[7]("Account"))+"")&&ue($,ie);const a={};536871296&n&&(a.$$scope={dirty:n,ctx:e}),b.$set(a);const s={};536871040&n&&(s.$$scope={dirty:n,ctx:e}),E.$set(s);const c={};64&n&&(c.href=e[6]),536871040&n&&(c.$$scope={dirty:n,ctx:e}),w.$set(c);const d={};536871040&n&&(d.$$scope={dirty:n,ctx:e}),B.$set(d);const p={};536871040&n&&(p.$$scope={dirty:n,ctx:e}),x.$set(p);const h={};536871040&n&&(h.$$scope={dirty:n,ctx:e}),O.$set(h),8&n&&(se=e[3].is("admin")),se?De?(De.p(e,n),8&n&&We(De,1)):(De=jh(e),De.c(),We(De,1),De.m(f,j)):De&&(qe(),Ye(De,1,1,(()=>{De=null})),He());const v={};536871040&n&&(v.$$scope={dirty:n,ctx:e}),R.$set(v),(!Q||128&n)&&ce!==(ce=e[7]("Log out")+"")&&ue(U,ce);const y={};32&n&&(y.href="/search?q="+encodeURIComponent(e[5])),536871072&n&&(y.$$scope={dirty:n,ctx:e}),H.$set(y),(!Q||2&n)&&ae(f,"is-filtering",e[1].length>0)},i(n){if(!Q){We(s.$$.fragment,n),We(l.$$.fragment,n),We(le);for(let e=0;e<de.length;e+=1)We(fe[e]);We(b.$$.fragment,n),We(E.$$.fragment,n),We(w.$$.fragment,n),We(B.$$.fragment,n),We(x.$$.fragment,n),We(O.$$.fragment,n),We(De),We(R.$$.fragment,n),We(L.$$.fragment,n),We(H.$$.fragment,n),Ne((()=>{Z||(Z=Ke(t,La,e[0],!0)),Z.run(1)})),Q=!0}},o(n){Ye(s.$$.fragment,n),Ye(l.$$.fragment,n),Ye(le),fe=fe.filter(Boolean);for(let e=0;e<fe.length;e+=1)Ye(fe[e]);Ye(b.$$.fragment,n),Ye(E.$$.fragment,n),Ye(w.$$.fragment,n),Ye(B.$$.fragment,n),Ye(x.$$.fragment,n),Ye(O.$$.fragment,n),Ye(De),Ye(R.$$.fragment,n),Ye(L.$$.fragment,n),Ye(H.$$.fragment,n),Z||(Z=Ke(t,La,e[0],!1)),Z.run(0),Q=!1},d(n){n&&Y(t),tt(s),tt(l),le&&le.d(),G(fe,n),tt(b),tt(E),tt(w),tt(B),tt(x),tt(O),De&&De.d(),tt(R),tt(L),tt(H),e[19](null),n&&Z&&Z.end(),ee=!1,C(ne)}}}function Ih(e,t){const n=[t.conversation_id?"for-conversation":"for-connection"];return(t.frozen||"connected"!=e.state)&&n.push("is-frozen"),t.frozen&&n.push("has-tooltip"),t.errors&&n.push("has-errors"),t.notifications&&n.push("has-notifications"),n.join(" ")}function Uh(e,t=60){return e.unread>t?t+"+":e.unread||0}const zh=e=>e.preventDefault();function qh(e,t,n){let u,r,o,i,a,s,c;B(e,vt,(e=>n(20,o=e))),B(e,sa,(e=>n(17,i=e))),B(e,_a,(e=>n(7,s=e)));let{transition:l}=t;const d=Ee("user");B(e,d,(e=>n(3,a=e)));const f=d.notifications;B(e,f,(e=>n(8,c=e)));let p,D=0,h="",m=!1,g=[];function v(){nn(p,"a",(e=>e.classList.remove("has-focus"))),setTimeout((()=>{if(!p)return;n(1,h="");const e=document.activeElement;e&&Wt(e,p)&&nn(p,"a.has-path",(e=>e.focus()))}),100)}return e.$$set=e=>{"transition"in e&&n(0,l=e.transition)},e.$$.update=()=>{2&e.$$.dirty&&function(){if(!p)return;n(15,D=0),n(16,g=[]);const e=[h.match(/^\W+/)?"":"\\b\\W*"];e[0]&&e.push("");for(let t=0;t<e.length;t++){const u="+"==h?new RegExp(/[1-9]\d*\+?\s*$/):"+@"==h?new RegExp(/^\s*\w.*[1-9]\d*\+?\s*$/):"+#"==h?new RegExp(/^\s*#.*[1-9]\d*\+?\s*$/):new RegExp(e[t]+un(h),"i"),r={};if(nn(p,"a",((e,t)=>{const o=e.classList;!h.length&&o.contains("has-path")&&n(15,D=t),o.remove("has-focus");const i=!h.length||!e.href.match(/\/search$/)&&!r[e.href]&&e.textContent.match(u);i&&g.push(e),e.classList[i?"remove":"add"]("hidden"),r[e.href]=!0})),g.length)break}nn(p,".for-connection",(e=>{let t=e;for(;(t=t.nextElementSibling)&&t.classList.contains("for-conversation");)if(!t.classList.contains("hidden"))return e.classList.remove("hidden")}));const t=p.querySelector(".for-search");t.classList[h?"remove":"add"]("hidden"),t.classList.contains("hidden")||g.push(t),nn(p,"h3",(e=>{let t=e;for(;(t=t.nextElementSibling)&&!cn(t,"h3");)if(!t.classList.contains("hidden"))return e.classList.remove("hidden");e.classList.add("hidden")}))}(),8&e.$$.dirty&&n(6,u="/settings/conversation?connection_id="+(a.activeConversation.connection_id||"")),2&e.$$.dirty&&n(5,r=h.replace(/^\//,"")),131076&e.$$.dirty&&p&&v(),98304&e.$$.dirty&&g[D]&&g[D].classList.add("has-focus")},[l,h,p,a,m,r,u,s,c,d,f,function(){n(4,m=!1),0!=h.indexOf("+")&&v()},function(){n(4,m=!0)},function(e){if((e.target.className||"").match(/(network|user)/)){e.target.closest("a").pathname==location.pathname&&e.preventDefault(),setTimeout((()=>{j(vt,o="settings",o)}),50)}else e.target.closest("a")&&setTimeout((()=>{j(vt,o="",o)}),50)},function(e){if(13==e.keyCode)return e.preventDefault(),v(),void(g[D]&&sa.go(g[D].href));const t=38==e.keyCode?-1:40==e.keyCode?1:0;t&&(e.preventDefault(),g[D]&&g[D].classList.remove("has-focus"),n(15,D+=e.ctrlKey?4*t:t)),D<0&&n(15,D=g.length-1),D>=g.length&&n(15,D=0)},D,g,i,function(){h=this.value,n(1,h)},function(e){we[e?"unshift":"push"]((()=>{p=e,n(2,p)}))}]}class Hh extends rt{constructor(e){super(),ut(this,e,qh,Mh,w,{transition:0})}}function Wh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var Yh=function(e){p(u,e);var t=Wh(u);function u(){var e;return g(this,u),(e=t.call(this)).prop("cookie","activeTheme","convos",{key:"theme"}),e.prop("cookie","colorScheme","auto"),e.prop("cookie","compactDisplay",!1),e.prop("ro","colorSchemeOptions",["Auto","Light","Dark"].map((function(e){return[e.toLowerCase(),e]}))),e.prop("ro","themeOptions",(function(){return Array.from(e._stylesheets.entries())})),e.prop("rw","osColorScheme",""),e._stylesheets=new Map([]),e}return $(u,[{key:"hasColorScheme",value:function(e){return nn(document,'link[id$="-'+e+'"]').length>1}},{key:"start",value:function(){var e=this;nn(document,'link[rel="alternate stylesheet"][title]',(function(t){var n=t.title.replace(/\s\([a-z]+\)$/,"");e._stylesheets.set(t.id.replace(/^theme_alt__[a-z]+-/,""),n)}));var t=this.osColorScheme;return this._matchMedia||(this._matchMedia=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):{addListener:function(){}},this._matchMedia.addListener((function(t){return e.update({osColorScheme:t.matches?"dark":"light"})})),t=this._matchMedia.matches?"dark":"light"),this.update({compactDisplay:this.compactDisplay,osColorScheme:t})}},{key:"update",value:function(e){return(e.activeTheme||e.colorScheme||e.osColorScheme)&&this._activateTheme(e),f(n(u.prototype),"update",this).call(this,e)}},{key:"_activateTheme",value:function(e){for(var t,n=e.activeTheme||this.activeTheme,u=e.colorScheme||this.colorScheme,r=e.osColorScheme||this.osColorScheme,o=["auto"==u?r:u,"normal","light"],i=0;i<o.length&&!(t=document.getElementById("theme_alt__"+o[i]+"-"+n));i++);nn(document,'link[rel*="style"][title]',(function(e){t||(t=e),e.disabled=!0,e.disabled=e.href!=t.href,e.setAttribute("media",e==t?"":"none"),e.setAttribute("rel",e==t?"stylesheet":"alternate stylesheet")}))}}]),u}(Dn);function Gh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var Kh={exports:{}};function Zh(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];"object"!=D(n)||Object.isFrozen(n)||Zh(n)})),e}Kh.exports=Zh,Kh.exports.default=Zh;var Jh=function(){function e(t){g(this,e),void 0===t.data&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}return $(e,[{key:"ignoreMatch",value:function(){this.isMatchIgnored=!0}}]),e}();function Vh(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Qh(e){var t=Object.create(null);for(var n in e)t[n]=e[n];for(var u=arguments.length,r=new Array(u>1?u-1:0),o=1;o<u;o++)r[o-1]=arguments[o];return r.forEach((function(e){for(var n in e)t[n]=e[n]})),t}var Xh=function(e){return!!e.scope||e.sublanguage&&e.language},em=function(){function e(t,n){g(this,e),this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}return $(e,[{key:"addText",value:function(e){this.buffer+=Vh(e)}},{key:"openNode",value:function(e){if(Xh(e)){var t="";t=e.sublanguage?"language-".concat(e.language):function(e,t){var n=t.prefix;if(e.includes(".")){var u=e.split(".");return["".concat(n).concat(u.shift())].concat(l(u.map((function(e,t){return"".concat(e).concat("_".repeat(t+1))})))).join(" ")}return"".concat(n).concat(e)}(e.scope,{prefix:this.classPrefix}),this.span(t)}}},{key:"closeNode",value:function(e){Xh(e)&&(this.buffer+="</span>")}},{key:"value",value:function(){return this.buffer}},{key:"span",value:function(e){this.buffer+='<span class="'.concat(e,'">')}}]),e}(),tm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={children:[]};return Object.assign(t,e),t},nm=function(e){p(n,e);var t=Gh(n);function n(e){var u;return g(this,n),(u=t.call(this)).options=e,u}return $(n,[{key:"addKeyword",value:function(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}},{key:"addText",value:function(e){""!==e&&this.add(e)}},{key:"addSublanguage",value:function(e,t){var n=e.root;n.sublanguage=!0,n.language=t,this.add(n)}},{key:"toHTML",value:function(){return new em(this,this.options).value()}},{key:"finalize",value:function(){return!0}}]),n}(function(){function e(){g(this,e),this.rootNode=tm(),this.stack=[this.rootNode]}return $(e,[{key:"top",get:function(){return this.stack[this.stack.length-1]}},{key:"root",get:function(){return this.rootNode}},{key:"add",value:function(e){this.top.children.push(e)}},{key:"openNode",value:function(e){var t=tm({scope:e});this.add(t),this.stack.push(t)}},{key:"closeNode",value:function(){if(this.stack.length>1)return this.stack.pop()}},{key:"closeAllNodes",value:function(){for(;this.closeNode(););}},{key:"toJSON",value:function(){return JSON.stringify(this.rootNode,null,4)}},{key:"walk",value:function(e){return this.constructor._walk(e,this.rootNode)}}],[{key:"_walk",value:function(e,t){var n=this;return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((function(t){return n._walk(e,t)})),e.closeNode(t)),e}},{key:"_collapse",value:function(t){"string"!=typeof t&&t.children&&(t.children.every((function(e){return"string"==typeof e}))?t.children=[t.children.join("")]:t.children.forEach((function(t){e._collapse(t)})))}}]),e}());function um(e){return e?"string"==typeof e?e:e.source:null}function rm(e){return am("(?=",e,")")}function om(e){return am("(?:",e,")*")}function im(e){return am("(?:",e,")?")}function am(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var u=t.map((function(e){return um(e)})).join("");return u}function sm(e){var t=e[e.length-1];return"object"===D(t)&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function cm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var u=sm(t),r="("+(u.capture?"":"?:")+t.map((function(e){return um(e)})).join("|")+")";return r}function lm(e){return new RegExp(e.toString()+"|").exec("").length-1}var dm=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function fm(e,t){var n=t.joinWith,u=0;return e.map((function(e){for(var t=u+=1,n=um(e),r="";n.length>0;){var o=dm.exec(n);if(!o){r+=n;break}r+=n.substring(0,o.index),n=n.substring(o.index+o[0].length),"\\"===o[0][0]&&o[1]?r+="\\"+String(Number(o[1])+t):(r+=o[0],"("===o[0]&&u++)}return r})).map((function(e){return"(".concat(e,")")})).join(n)}var pm="[a-zA-Z]\\w*",Dm="[a-zA-Z_]\\w*",hm="\\b\\d+(\\.\\d+)?",mm="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",gm="\\b(0b[01]+)",vm={begin:"\\\\[\\s\\S]",relevance:0},$m={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[vm]},ym={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[vm]},bm=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=Qh({scope:"comment",begin:e,end:t,contains:[]},n);u.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});var r=cm("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return u.contains.push({begin:am(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),u},Am=bm("//","$"),Em=bm("/\\*","\\*/"),Cm=bm("#","$"),Fm={scope:"number",begin:hm,relevance:0},wm={scope:"number",begin:mm,relevance:0},_m={scope:"number",begin:gm,relevance:0},Bm={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[vm,{begin:/\[/,end:/\]/,relevance:0,contains:[vm]}]}]},km={scope:"title",begin:pm,relevance:0},xm={scope:"title",begin:Dm,relevance:0},Sm={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0},Om=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:pm,UNDERSCORE_IDENT_RE:Dm,NUMBER_RE:hm,C_NUMBER_RE:mm,BINARY_NUMBER_RE:gm,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=/^#![ ]*\//;return e.binary&&(e.begin=am(t,/.*\b/,e.binary,/\b.*/)),Qh({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":function(e,t){0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:vm,APOS_STRING_MODE:$m,QUOTE_STRING_MODE:ym,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT:bm,C_LINE_COMMENT_MODE:Am,C_BLOCK_COMMENT_MODE:Em,HASH_COMMENT_MODE:Cm,NUMBER_MODE:Fm,C_NUMBER_MODE:wm,BINARY_NUMBER_MODE:_m,REGEXP_MODE:Bm,TITLE_MODE:km,UNDERSCORE_TITLE_MODE:xm,METHOD_GUARD:Sm,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":function(e,t){t.data._beginMatch=e[1]},"on:end":function(e,t){t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}});function Nm(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function jm(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function Rm(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Nm,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function Tm(e,t){Array.isArray(e.illegal)&&(e.illegal=cm.apply(void 0,l(e.illegal)))}function Pm(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Lm(e,t){void 0===e.relevance&&(e.relevance=1)}var Mm=function(e,t){if(e.beforeMatch){if(e.starts)throw new Error("beforeMatch cannot be used with starts");var n=Object.assign({},e);Object.keys(e).forEach((function(t){delete e[t]})),e.keywords=n.keywords,e.begin=am(n.beforeMatch,rm(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch}},Im=["of","and","for","in","not","or","if","then","parent","list","value"],Um="keyword";function zm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Um,u=Object.create(null);return"string"==typeof e?r(n,e.split(" ")):Array.isArray(e)?r(n,e):Object.keys(e).forEach((function(n){Object.assign(u,zm(e[n],t,n))})),u;function r(e,n){t&&(n=n.map((function(e){return e.toLowerCase()}))),n.forEach((function(t){var n=t.split("|");u[n[0]]=[e,qm(n[0],n[1])]}))}}function qm(e,t){return t?Number(t):function(e){return Im.includes(e.toLowerCase())}(e)?0:1}var Hm={},Wm=function(e){console.error(e)},Ym=function(e){for(var t,n=arguments.length,u=new Array(n>1?n-1:0),r=1;r<n;r++)u[r-1]=arguments[r];(t=console).log.apply(t,["WARN: ".concat(e)].concat(u))},Gm=function(e,t){Hm["".concat(e,"/").concat(t)]||(console.log("Deprecated as of ".concat(e,". ").concat(t)),Hm["".concat(e,"/").concat(t)]=!0)},Km=new Error;function Zm(e,t,n){for(var u=n.key,r=0,o=e[u],i={},a={},s=1;s<=t.length;s++)a[s+r]=o[s],i[s+r]=!0,r+=lm(t[s-1]);e[u]=a,e[u]._emit=i,e[u]._multi=!0}function Jm(e){!function(e){e.scope&&"object"===D(e.scope)&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Wm("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Km;if("object"!==D(e.beginScope)||null===e.beginScope)throw Wm("beginScope must be object"),Km;Zm(e,e.begin,{key:"beginScope"}),e.begin=fm(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Wm("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Km;if("object"!==D(e.endScope)||null===e.endScope)throw Wm("endScope must be object"),Km;Zm(e,e.end,{key:"endScope"}),e.end=fm(e.end,{joinWith:""})}}(e)}function Vm(e){function t(t,n){return new RegExp(um(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}var n=function(){function e(){g(this,e),this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}return $(e,[{key:"addRule",value:function(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=lm(e)+1}},{key:"compile",value:function(){0===this.regexes.length&&(this.exec=function(){return null});var e=this.regexes.map((function(e){return e[1]}));this.matcherRe=t(fm(e,{joinWith:"|"}),!0),this.lastIndex=0}},{key:"exec",value:function(e){this.matcherRe.lastIndex=this.lastIndex;var t=this.matcherRe.exec(e);if(!t)return null;var n=t.findIndex((function(e,t){return t>0&&void 0!==e})),u=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,u)}}]),e}(),u=function(){function e(){g(this,e),this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}return $(e,[{key:"getMatcher",value:function(e){if(this.multiRegexes[e])return this.multiRegexes[e];var t=new n;return this.rules.slice(e).forEach((function(e){var n=kt(e,2),u=n[0],r=n[1];return t.addRule(u,r)})),t.compile(),this.multiRegexes[e]=t,t}},{key:"resumingScanAtSamePosition",value:function(){return 0!==this.regexIndex}},{key:"considerAll",value:function(){this.regexIndex=0}},{key:"addRule",value:function(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}},{key:"exec",value:function(e){var t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;var n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{var u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,n=u.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}]),e}();if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Qh(e.classNameAliases||{}),function n(r,o){var i,a=r;if(r.isCompiled)return a;[jm,Pm,Jm,Mm].forEach((function(e){return e(r,o)})),e.compilerExtensions.forEach((function(e){return e(r,o)})),r.__beforeBegin=null,[Rm,Tm,Lm].forEach((function(e){return e(r,o)})),r.isCompiled=!0;var s=null;return"object"===D(r.keywords)&&r.keywords.$pattern&&(r.keywords=Object.assign({},r.keywords),s=r.keywords.$pattern,delete r.keywords.$pattern),s=s||/\w+/,r.keywords&&(r.keywords=zm(r.keywords,e.case_insensitive)),a.keywordPatternRe=t(s,!0),o&&(r.begin||(r.begin=/\B|\b/),a.beginRe=t(a.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(a.endRe=t(a.end)),a.terminatorEnd=um(a.end)||"",r.endsWithParent&&o.terminatorEnd&&(a.terminatorEnd+=(r.end?"|":"")+o.terminatorEnd)),r.illegal&&(a.illegalRe=t(r.illegal)),r.contains||(r.contains=[]),r.contains=(i=[]).concat.apply(i,l(r.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return Qh(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(Qm(e))return Qh(e,{starts:e.starts?Qh(e.starts):null});if(Object.isFrozen(e))return Qh(e);return e}("self"===e?r:e)})))),r.contains.forEach((function(e){n(e,a)})),r.starts&&n(r.starts,o),a.matcher=function(e){var t=new u;return e.contains.forEach((function(e){return t.addRule(e.begin,{rule:e,type:"begin"})})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(a),a}(e)}function Qm(e){return!!e&&(e.endsWithParent||Qm(e.starts))}var Xm=function(e){p(n,e);var t=Gh(n);function n(e,u){var r;return g(this,n),(r=t.call(this,e)).name="HTMLInjectionError",r.html=u,r}return $(n)}(i(Error)),eg=Vh,tg=Qh,ng=Symbol("nomatch"),ug=function(e){var t=Object.create(null),n=Object.create(null),u=[],r=!0,o="Could not find the language '{}', did you forget to load/include a language module?",i={disableAutodetect:!0,name:"Plain text",contains:[]},a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:nm};function s(e){return a.noHighlightRe.test(e)}function c(e,t,n){var u="",r="";"object"===D(t)?(u=e,n=t.ignoreIllegals,r=t.language):(Gm("10.7.0","highlight(lang, code, ...args) has been deprecated."),Gm("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),r=e,u=t),void 0===n&&(n=!0);var o={code:u,language:r};$("before:highlight",o);var i=o.result?o.result:l(o.language,o.code,n);return i.code=o.code,$("after:highlight",i),i}function l(e,n,u,i){var s=Object.create(null);function c(){if(C.keywords){var e=0;C.keywordPatternRe.lastIndex=0;for(var t,n=C.keywordPatternRe.exec(_),u="";n;){u+=_.substring(e,n.index);var r=b.case_insensitive?n[0].toLowerCase():n[0],o=(t=r,C.keywords[t]);if(o){var i=kt(o,2),a=i[0],c=i[1];if(w.addText(u),u="",s[r]=(s[r]||0)+1,s[r]<=7&&(B+=c),a.startsWith("_"))u+=n[0];else{var l=b.classNameAliases[a]||a;w.addKeyword(n[0],l)}}else u+=n[0];e=C.keywordPatternRe.lastIndex,n=C.keywordPatternRe.exec(_)}u+=_.substring(e),w.addText(u)}else w.addText(_)}function f(){null!=C.subLanguage?function(){if(""!==_){var e=null;if("string"==typeof C.subLanguage){if(!t[C.subLanguage])return void w.addText(_);e=l(C.subLanguage,_,!0,F[C.subLanguage]),F[C.subLanguage]=e._top}else e=d(_,C.subLanguage.length?C.subLanguage:null);C.relevance>0&&(B+=e.relevance),w.addSublanguage(e._emitter,e.language)}}():c(),_=""}function p(e,t){for(var n=1,u=t.length-1;n<=u;)if(e._emit[n]){var r=b.classNameAliases[e[n]]||e[n],o=t[n];r?w.addKeyword(o,r):(_=o,c(),_=""),n++}else n++}function D(e,t){return e.scope&&"string"==typeof e.scope&&w.openNode(b.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(w.addKeyword(_,b.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),_=""):e.beginScope._multi&&(p(e.beginScope,t),_="")),C=Object.create(e,{parent:{value:C}})}function h(e,t,n){var u=function(e,t){var n=e&&e.exec(t);return n&&0===n.index}(e.endRe,n);if(u){if(e["on:end"]){var r=new Jh(e);e["on:end"](t,r),r.isMatchIgnored&&(u=!1)}if(u){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return h(e.parent,t,n)}function g(e){return 0===C.matcher.regexIndex?(_+=e[0],1):(S=!0,0)}function v(e){var t=e[0],u=n.substring(e.index),r=h(C,e,u);if(!r)return ng;var o=C;C.endScope&&C.endScope._wrap?(f(),w.addKeyword(t,C.endScope._wrap)):C.endScope&&C.endScope._multi?(f(),p(C.endScope,e)):o.skip?_+=t:(o.returnEnd||o.excludeEnd||(_+=t),f(),o.excludeEnd&&(_=t));do{C.scope&&w.closeNode(),C.skip||C.subLanguage||(B+=C.relevance),C=C.parent}while(C!==r.parent);return r.starts&&D(r.starts,e),o.returnEnd?0:t.length}var $={};function y(t,o){var i=o&&o[0];if(_+=t,null==i)return f(),0;if("begin"===$.type&&"end"===o.type&&$.index===o.index&&""===i){if(_+=n.slice(o.index,o.index+1),!r){var a=new Error("0 width match regex (".concat(e,")"));throw a.languageName=e,a.badRule=$.rule,a}return 1}if($=o,"begin"===o.type)return function(e){for(var t=e[0],n=e.rule,u=new Jh(n),r=0,o=[n.__beforeBegin,n["on:begin"]];r<o.length;r++){var i=o[r];if(i&&(i(e,u),u.isMatchIgnored))return g(t)}return n.skip?_+=t:(n.excludeBegin&&(_+=t),f(),n.returnBegin||n.excludeBegin||(_=t)),D(n,e),n.returnBegin?0:t.length}(o);if("illegal"===o.type&&!u){var s=new Error('Illegal lexeme "'+i+'" for mode "'+(C.scope||"<unnamed>")+'"');throw s.mode=C,s}if("end"===o.type){var c=v(o);if(c!==ng)return c}if("illegal"===o.type&&""===i)return 1;if(x>1e5&&x>3*o.index)throw new Error("potential infinite loop, way more iterations than matches");return _+=i,i.length}var b=m(e);if(!b)throw Wm(o.replace("{}",e)),new Error('Unknown language: "'+e+'"');var A=Vm(b),E="",C=i||A,F={},w=new a.__emitter(a);!function(){for(var e=[],t=C;t!==b;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((function(e){return w.openNode(e)}))}();var _="",B=0,k=0,x=0,S=!1;try{for(C.matcher.considerAll();;){x++,S?S=!1:C.matcher.considerAll(),C.matcher.lastIndex=k;var O=C.matcher.exec(n);if(!O)break;var N=y(n.substring(k,O.index),O);k=O.index+N}return y(n.substring(k)),w.closeAllNodes(),w.finalize(),E=w.toHTML(),{language:e,value:E,relevance:B,illegal:!1,_emitter:w,_top:C}}catch(t){if(t.message&&t.message.includes("Illegal"))return{language:e,value:eg(n),illegal:!0,relevance:0,_illegalBy:{message:t.message,index:k,context:n.slice(k-100,k+100),mode:t.mode,resultSoFar:E},_emitter:w};if(r)return{language:e,value:eg(n),illegal:!1,relevance:0,errorRaised:t,_emitter:w,_top:C};throw t}}function d(e,n){n=n||a.languages||Object.keys(t);var u=function(e){var t={value:eg(e),illegal:!1,relevance:0,_top:i,_emitter:new a.__emitter(a)};return t._emitter.addText(e),t}(e),r=n.filter(m).filter(v).map((function(t){return l(t,e,!1)}));r.unshift(u);var o=kt(r.sort((function(e,t){if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(m(e.language).supersetOf===t.language)return 1;if(m(t.language).supersetOf===e.language)return-1}return 0})),2),s=o[0],c=o[1],d=s;return d.secondBest=c,d}function f(e){var t=function(e){var t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";var n=a.languageDetectRe.exec(t);if(n){var u=m(n[1]);return u||(Ym(o.replace("{}",n[1])),Ym("Falling back to no-highlight mode for this block.",e)),u?n[1]:"no-highlight"}return t.split(/\s+/).find((function(e){return s(e)||m(e)}))}(e);if(!s(t)){if($("before:highlightElement",{el:e,language:t}),e.children.length>0)if(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),a.throwUnescapedHTML)throw new Xm("One of your code blocks includes unescaped HTML.",e.innerHTML);var u=e.textContent,r=t?c(u,{language:t,ignoreIllegals:!0}):d(u);e.innerHTML=r.value,function(e,t,u){var r=t&&n[t]||u;e.classList.add("hljs"),e.classList.add("language-".concat(r))}(e,t,r.language),e.result={language:r.language,re:r.relevance,relevance:r.relevance},r.secondBest&&(e.secondBest={language:r.secondBest.language,relevance:r.secondBest.relevance}),$("after:highlightElement",{el:e,result:r,text:u})}}var p=!1;function h(){"loading"!==document.readyState?document.querySelectorAll(a.cssSelector).forEach(f):p=!0}function m(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function g(e,t){var u=t.languageName;"string"==typeof e&&(e=[e]),e.forEach((function(e){n[e.toLowerCase()]=u}))}function v(e){var t=m(e);return t&&!t.disableAutodetect}function $(e,t){var n=e;u.forEach((function(e){e[n]&&e[n](t)}))}for(var y in"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){p&&h()}),!1),Object.assign(e,{highlight:c,highlightAuto:d,highlightAll:h,highlightElement:f,highlightBlock:function(e){return Gm("10.7.0","highlightBlock will be removed entirely in v12.0"),Gm("10.7.0","Please use highlightElement now."),f(e)},configure:function(e){a=tg(a,e)},initHighlighting:function(){h(),Gm("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){h(),Gm("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(n,u){var o=null;try{o=u(e)}catch(e){if(Wm("Language definition for '{}' could not be registered.".replace("{}",n)),!r)throw e;Wm(e),o=i}o.name||(o.name=n),t[n]=o,o.rawDefinition=u.bind(null,e),o.aliases&&g(o.aliases,{languageName:n})},unregisterLanguage:function(e){delete t[e];for(var u=0,r=Object.keys(n);u<r.length;u++){var o=r[u];n[o]===e&&delete n[o]}},listLanguages:function(){return Object.keys(t)},getLanguage:m,registerAliases:g,autoDetection:v,inherit:tg,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=function(t){e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=function(t){e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),u.push(e)}}),e.debugMode=function(){r=!1},e.safeMode=function(){r=!0},e.versionString="11.6.0",e.regex={concat:am,lookahead:rm,either:cm,optional:im,anyNumberOfTimes:om},Om)"object"===D(Om[y])&&Kh.exports(Om[y]);return Object.assign(e,Om),e}({}),rg=ug;ug.HighlightJS=ug,ug.default=ug;var og=rg;var ig="hljs-ln",ag="hljs-ln-line",sg="hljs-ln-code",cg="hljs-ln-numbers",lg="hljs-ln-n",dg="data-line-number",fg=/\r\n|\r|\n/g;function pg(e){var t=e.childNodes;for(var n in t)if(t.hasOwnProperty(n)){var u=t[n];mg(u.textContent)>0&&(u.childNodes.length>0?pg(u):Dg(u.parentNode))}}function Dg(e){var t=e.className;if(/hljs-/.test(t)){for(var n=hg(e.innerHTML),u=0,r="";u<n.length;u++){var o=n[u].length>0?n[u]:" ";r+='<span class="'.concat(t,'">').concat(o,"</span>\n")}e.innerHTML=r.trim()}}function hg(e){return 0===e.length?[]:e.split(fg)}function mg(e){return(e.trim().match(fg)||[]).length}document.addEventListener("copy",(function(e){var t,n=window.getSelection();(function(e){for(var t=e;t;){if(t.className&&-1!==t.className.indexOf("hljs-ln-code"))return!0;t=t.parentNode}return!1})(n.anchorNode)&&(t=-1!==window.navigator.userAgent.indexOf("Edge")?function(e){for(var t=e.toString(),n=e.anchorNode;"TD"!==n.nodeName;)n=n.parentNode;for(var u=e.focusNode;"TD"!==u.nodeName;)u=u.parentNode;var r=parseInt(n.dataset.lineNumber,10),o=parseInt(u.dataset.lineNumber,10);if(r!=o){var i=n.textContent,a=u.textContent;if(r>o){var s=r;r=o,o=s,s=i,i=a,a=s}for(;0!==t.indexOf(i);)i=i.slice(1);for(;-1===t.lastIndexOf(a);)a=a.slice(0,-1);for(var c=i,l=function(e){for(var t=e;"TABLE"!==t.nodeName;)t=t.parentNode;return t}(n),d=r+1;d<o;++d){var f=".".concat(sg,"[").concat(dg,'="').concat(d,'"]');c+="\n"+l.querySelector(f).textContent}return c+"\n"+a}return t}(n):n.toString(),e.clipboardData.setData("text/plain",t),e.preventDefault())}));var gg="[A-Za-z$_][0-9A-Za-z$_]*",vg=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],$g=["true","false","null","undefined","NaN","Infinity"],yg=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],bg=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Ag=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Eg=["arguments","this","super","console","window","document","localStorage","module","global"],Cg=[].concat(Ag,yg,bg);var Fg=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],wg=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],_g=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Bg=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],kg=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();var xg,Sg=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Og=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Ng=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],jg=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Rg=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();og.registerLanguage("css",(function(e){var t=e.regex,n=function(e){return{IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}}(e),u=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Ng.join("|")+")"},{begin:":(:)?("+jg.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Rg.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE].concat(u,[{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[].concat(u,[{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}])},n.FUNCTION_DISPATCH])},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:Og.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"}].concat(u,[n.CSS_NUMBER_MODE])}]},{className:"selector-tag",begin:"\\b("+Sg.join("|")+")\\b"}]}})),og.registerLanguage("diff",(function(e){var t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}})),og.registerLanguage("dockerfile",(function(e){return{name:"Dockerfile",aliases:["docker"],case_insensitive:!0,keywords:["from","maintainer","expose","env","arg","user","onbuild","stopsignal"],contains:[e.HASH_COMMENT_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{beginKeywords:"run cmd entrypoint volume add copy workdir label healthcheck shell",starts:{end:/[^\\]$/,subLanguage:"bash"}}],illegal:"</"}})),og.registerLanguage("go",(function(e){var t={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,illegal:/["']/}]}]}})),og.registerLanguage("http",(function(e){var t="HTTP/(2|1\\.[01])",n={className:"attribute",begin:e.regex.concat("^",/[A-Za-z][A-Za-z0-9-]*/,"(?=\\:\\s)"),starts:{contains:[{className:"punctuation",begin:/: /,relevance:0,starts:{end:"$",relevance:0}}]}},u=[n,{begin:"\\n\\n",starts:{subLanguage:[],endsWithParent:!0}}];return{name:"HTTP",aliases:["https"],illegal:/\S/,contains:[{begin:"^(?="+t+" \\d{3})",end:/$/,contains:[{className:"meta",begin:t},{className:"number",begin:"\\b\\d{3}\\b"}],starts:{end:/\b\B/,illegal:/\S/,contains:u}},{begin:"(?=^[A-Z]+ (.*?) "+t+"$)",end:/$/,contains:[{className:"string",begin:" ",end:" ",excludeBegin:!0,excludeEnd:!0},{className:"meta",begin:t},{className:"keyword",begin:"[A-Z]+"}],starts:{end:/\b\B/,illegal:/\S/,contains:u}},e.inherit(n,{relevance:0})]}})),og.registerLanguage("javascript",(function(e){var t=e.regex,n=gg,u="<>",r="</>",o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:function(e,t){var n,u=e[0].length+e.index,r=e.input[u];"<"!==r&&","!==r?(">"===r&&(function(e,t){var n=t.after,u="</"+e[0].slice(1);return-1!==e.input.indexOf(u,n)}(e,{after:u})||t.ignoreMatch()),(n=e.input.substring(u).match(/^\s+extends\s+/))&&0===n.index&&t.ignoreMatch()):t.ignoreMatch()}},i={$pattern:gg,keyword:vg,literal:$g,built_in:Cg,"variable.language":Eg},a="[0-9](_?[0-9])*",s="\\.(".concat(a,")"),c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",l={className:"number",variants:[{begin:"(\\b(".concat(c,")((").concat(s,")|\\.)?|(").concat(s,"))")+"[eE][+-]?(".concat(a,")\\b")},{begin:"\\b(".concat(c,")\\b((").concat(s,")\\b|\\.)?|(").concat(s,")\\b")},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},f={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},p={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},D={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},h={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},m=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,D,l];d.contains=m.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(m)});var g,v=[].concat(h,d.contains),$=v.concat([{begin:/\(/,end:/\)/,keywords:i,contains:["self"].concat(v)}]),y={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:$},b={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},A={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[].concat(yg,bg)}},E={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[y],illegal:/%/},C={match:t.concat(/\b/,(g=[].concat(Ag,["super"]),t.concat("(?!",g.join("|"),")")),n,t.lookahead(/\(/)),className:"title.function",relevance:0},F={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},w={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},y]},_="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",B={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(_)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[y]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:$,CLASS_REFERENCE:A},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,D,h,l,A,{className:"attr",begin:n+t.lookahead(":"),relevance:0},B,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[h,e.REGEXP_MODE,{className:"function",begin:_,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:$}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:u,end:r},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},E,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[y,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},F,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[y]},C,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},b,w,{match:/\$[(.]/}]}})),og.registerLanguage("markdown",(function(e){var t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}/,end:/_{2}/},{begin:/\*{2}/,end:/\*{2}/}]},r={className:"emphasis",contains:[],variants:[{begin:/\*(?!\*)/,end:/\*/},{begin:/_(?!_)/,end:/_/,relevance:0}]},o=e.inherit(u,{contains:[]}),i=e.inherit(r,{contains:[]});u.contains.push(i),r.contains.push(o);var a=[t,n];return[u,r,o,i].forEach((function(e){e.contains=e.contains.concat(a)})),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:a=a.concat(u,r)},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:a}]}]},t,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},u,r,{className:"quote",begin:"^>\\s+",contains:a,end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},n,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}})),og.registerLanguage("mojolicious",(function(e){return{name:"Mojolicious",subLanguage:"xml",contains:[{className:"meta",begin:"^__(END|DATA)__$"},{begin:"^\\s*%{1,2}={0,2}",end:"$",subLanguage:"perl"},{begin:"<%{1,2}={0,2}",end:"={0,1}%>",subLanguage:"perl",excludeBegin:!0,excludeEnd:!0}]}})),og.registerLanguage("nginx",(function(e){var t=e.regex,n={className:"variable",variants:[{begin:/\$\d+/},{begin:/\$\{\w+\}/},{begin:t.concat(/[$@]/,e.UNDERSCORE_IDENT_RE)}]},u={endsWithParent:!0,keywords:{$pattern:/[a-z_]{2,}|\/dev\/poll/,literal:["on","off","yes","no","true","false","none","blocked","debug","info","notice","warn","error","crit","select","break","last","permanent","redirect","kqueue","rtsig","epoll","poll","/dev/poll"]},relevance:0,illegal:"=>",contains:[e.HASH_COMMENT_MODE,{className:"string",contains:[e.BACKSLASH_ESCAPE,n],variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/}]},{begin:"([a-z]+):/",end:"\\s",endsWithParent:!0,excludeEnd:!0,contains:[n]},{className:"regexp",contains:[e.BACKSLASH_ESCAPE,n],variants:[{begin:"\\s\\^",end:"\\s|\\{|;",returnEnd:!0},{begin:"~\\*?\\s+",end:"\\s|\\{|;",returnEnd:!0},{begin:"\\*(\\.[a-z\\-]+)+"},{begin:"([a-z\\-]+\\.)+\\*"}]},{className:"number",begin:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{className:"number",begin:"\\b\\d+[kKmMgGdshdwy]?\\b",relevance:0},n]};return{name:"Nginx config",aliases:["nginxconf"],contains:[e.HASH_COMMENT_MODE,{beginKeywords:"upstream location",end:/;|\{/,contains:u.contains,keywords:{section:"upstream location"}},{className:"section",begin:t.concat(e.UNDERSCORE_IDENT_RE+t.lookahead(/\s+\{/)),relevance:0},{begin:t.lookahead(e.UNDERSCORE_IDENT_RE+"\\s"),end:";|\\{",contains:[{className:"attribute",begin:e.UNDERSCORE_IDENT_RE,starts:u}],relevance:0}],illegal:"[^\\s\\}\\{]"}})),og.registerLanguage("perl",(function(e){var t=e.regex,n=/[dualxmsipngr]{0,12}/,u={$pattern:/[\w.]+/,keyword:["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"].join(" ")},r={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:u},o={begin:/->\{/,end:/\}/},i={variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},a=[e.BACKSLASH_ESCAPE,r,i],s=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],c=function(e,u){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\\1",o="\\1"===r?r:t.concat(r,u);return t.concat(t.concat("(?:",e,")"),u,/(?:\\.|[^\\\/])*?/,o,/(?:\\.|[^\\\/])*?/,r,n)},l=function(e,u,r){return t.concat(t.concat("(?:",e,")"),u,/(?:\\.|[^\\\/])*?/,r,n)},d=[i,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:a,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:c("s|tr|y",t.either.apply(t,s.concat([{capture:!0}])))},{begin:c("s|tr|y","\\(","\\)")},{begin:c("s|tr|y","\\[","\\]")},{begin:c("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:l("(?:m|qr)?",/\//,/\//)},{begin:l("m|qr",t.either.apply(t,s.concat([{capture:!0}])),/\1/)},{begin:l("m|qr",/\(/,/\)/)},{begin:l("m|qr",/\[/,/\]/)},{begin:l("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return r.contains=d,o.contains=d,{name:"Perl",aliases:["pl","pm"],keywords:u,contains:d}})),og.registerLanguage("python",(function(e){var t=e.regex,n=/(?:[A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037B-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFC5D\uFC64-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDF9\uFE71\uFE73\uFE77\uFE79\uFE7B\uFE7D\uFE7F-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037B-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088E\u0898-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFC5D\uFC64-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDF9\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE71\uFE73\uFE77\uFE79\uFE7B\uFE7D\uFE7F-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]|\uDB40[\uDD00-\uDDEF])*/,u=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],r={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:u,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},o={className:"meta",begin:/^(>>>|\.\.\.) /},i={className:"subst",begin:/\{/,end:/\}/,keywords:r,illegal:/#/},a={begin:/\{\{/,relevance:0},s={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o,a,i]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o,a,i]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,a,i]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,a,i]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},c="[0-9](_?[0-9])*",l="(\\b(".concat(c,"))?\\.(").concat(c,")|\\b(").concat(c,")\\."),d="\\b|".concat(u.join("|")),f={className:"number",relevance:0,variants:[{begin:"(\\b(".concat(c,")|(").concat(l,"))[eE][+-]?(").concat(c,")[jJ]?(?=").concat(d,")")},{begin:"(".concat(l,")[jJ]?")},{begin:"\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=".concat(d,")")},{begin:"\\b0[bB](_?[01])+[lL]?(?=".concat(d,")")},{begin:"\\b0[oO](_?[0-7])+[lL]?(?=".concat(d,")")},{begin:"\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=".concat(d,")")},{begin:"\\b(".concat(c,")[jJ](?=").concat(d,")")}]},p={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:r,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},D={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:r,contains:["self",o,f,s,e.HASH_COMMENT_MODE]}]};return i.contains=[s,f,o],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:r,illegal:/(<\/|->|\?)|=>/,contains:[o,f,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},s,p,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[D]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[f,D,s]}]}})),og.registerLanguage("scss",(function(e){var t=function(e){return{IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}}(e),n=Bg,u=_g,r="@[a-z-]+",o={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+Fg.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+u.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+kg.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,o,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:r,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:wg.join(" ")},contains:[{begin:r,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}})),og.registerLanguage("shell",(function(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}})),og.registerLanguage("xml",(function(e){var t=e.regex,n=t.concat(/(?:[A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,t.optional(/(?:[\x2D\.0-9A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*:/),/(?:[\x2D\.0-9A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*/),u={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},r={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(r,{begin:/\(/,end:/\)/}),i=e.inherit(e.APOS_STRING_MODE,{className:"string"}),a=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),s={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/(?:[\x2D\.0-:A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])+/,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[u]},{begin:/'/,end:/'/,contains:[u]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[r,a,i,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[r,o,a,i]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},u,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[a]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[s],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[s],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:s}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}})),og.registerLanguage("yaml",(function(e){var t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",u={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},r=e.inherit(u,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),o={className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},i={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},a={begin:/\{/,end:/\}/,contains:[i],illegal:"\\n",relevance:0},s={begin:"\\[",end:"\\]",contains:[i],illegal:"\\n",relevance:0},c=[{className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},o,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},a,s,u],l=[].concat(c);return l.pop(),l.push(r),i.contains=l,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:c}})),(xg=og).lineNumbersBlock=function(e,t){xg.highlightBlock(e,t),e.innerHTML=function(e,t){var n=(t=t||{singleLine:!1}).singleLine?0:1;return pg(e),function(e,t){var n=hg(e);if(""===n[n.length-1].trim()&&n.pop(),n.length>t){for(var u="",r=0,o=n.length;r<o;r++){var i=r+1;u+="<tr>"+'<td class="'.concat(ag," ").concat(cg,'" ').concat(dg,'="').concat(i,'">')+'<div class="'.concat(lg,'" ').concat(dg,'="').concat(i,'"></div>')+"</td>"+'<td class="'.concat(ag," ").concat(sg,'" ').concat(dg,'="').concat(i,'">')+(n[r].length>0?n[r]:" ")+"</td></tr>"}return'<table class="'.concat(ig,'">').concat(u,"</table>")}return e}(e.innerHTML,n)}(e,t)};var Tg={exports:{}};function Pg(e){for(var t=document.createElement("div"),n=[[e,t]],u=[];n.length;){var r=kt(n.shift(),2),o=r[0],i=r[1],a=void 0,s=void 0,c=D(o);if(null===o||"undefined"==c?c="null":Array.isArray(o)&&(c="array"),"array"==c?(s=function(e){return e},s.len=o.length,(a=document.createElement("div")).className="json-array "+(s.len?"has-items":"is-empty")):"object"==c?function(){var e=Object.keys(o).sort();s=function(t){return e[t]},s.len=e.length,(a=document.createElement("div")).className="json-object "+(s.len?"has-items":"is-empty")}():((a=document.createElement("span")).className="json-"+c,a.textContent="null"==c?"null":"boolean"!=c?o:o?"true":"false"),s){var l=document.createElement("span");if(l.className="json-type",l.textContent=s.len?c+"["+s.len+"]":"{}",i.appendChild(l),-1!=u.indexOf(o))t.classList.add("has-recursive-items"),a.classList.add("is-seen");else{for(var d=0;d<s.len;d++){var f=s(d),p=document.createElement("div"),h=document.createElement("span");h.className="json-key",h.textContent=f,p.appendChild(h),a.appendChild(p),n.push([o[f],p])}u.push(o)}}i.className="json-item "+a.className.replace(/^json-/,"contains-"),i.appendChild(a)}return t}try{Tg.exports={jsonhtmlify:Pg}}catch(e){window.jsonhtmlify=Pg}function Lg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,u)}return n}function Mg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lg(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ig(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ug(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ug(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,r=function(){};return{s:r,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function Ug(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}function zg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}function qg(e,t){var n=t.vars?wa.l.apply(wa,[t.message].concat(l(t.vars))):t.message;return e?wa.raw(n):wa.md(n)}var Hg={},Wg=0,Yg=function(e){p(r,e);var t,u=zg(r);function r(e){var t;g(this,r),t=u.call(this);var n=e.connection_id;return e.conversation_id&&(n+=":"+e.conversation_id),t.prop("ro","length",(function(){return t.messages.length})),t.prop("ro","messages",[]),t.prop("rw","expandUrlToMedia",!0),t.prop("persist","raw",!1,{key:n+":raw"}),t.embedCache=Hg,t}return $(r,[{key:"clear",value:function(){return this.messages.length=0,this.update({messages:!0})}},{key:"get",value:function(e){return e<0?this.messages.slice(e)[0]:this.messages[e]}},{key:"push",value:function(e){return[].push.apply(this.messages,this._fill(e)),this.update({messages:!0})}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(-1!=t){var n=this.get(t);return n&&!n.hasBeenSeen&&(n.embeds=this.raw?[]:this._embeds(n),n.hasBeenSeen=!0,this.update({messages:!0})),this.messages}var u={};return this.messages.map((function(t,n){return t.index=n,t.embeds||(t.dayChanged=e._dayChanged(t,u),t.className=e._className(t,u),t.embeds=[],t.html=qg(e.raw,t)),u=t}))}},{key:"toArray",value:function(){return this.messages}},{key:"update",value:function(e){if(this._changed(e,"expandUrlToMedia")||this._changed(e,"raw")){var t,u=e.hasOwnProperty("raw")?e.raw:this.raw,o=Ig(this.messages);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.hasBeenSeen&&(i.embeds=this._embeds(i)),i.html=qg(u,i)}}catch(e){o.e(e)}finally{o.f()}this.update({messages:!0})}return f(n(r.prototype),"update",this).call(this,e)}},{key:"unshift",value:function(e){return[].unshift.apply(this.messages,this._fill(e)),this.update({messages:!0})}},{key:"_changed",value:function(e,t){return e.hasOwnProperty(t)&&e[t]!=this[t]}},{key:"_className",value:function(e,t){var n=["message"];e.type&&n.push("is-type-"+e.type),e.highlight&&n.push("is-highlighted");var u=e.from==t.from&&e.conversation_id==t.conversation_id&&e.connection_id==t.connection_id;return n.push(!e.dayChanged&&u?"has-same-from":"has-not-same-from"),n.join(" ")}},{key:"_dayChanged",value:function(e,t){return!(!t.ts||e.ts.getDate()==t.ts.getDate())}},{key:"_embeds",value:function(e){var t=this,n=[];return this._msgDetails(e)&&n.push(Promise.resolve({className:"le-details",details:!0,nodes:[Tg.exports.jsonhtmlify(e.details).lastChild]})),this.expandUrlToMedia&&"notice"!=e.type?((e.message.match(/https?:\/\/(\S+)/g)||[]).forEach((function(u){u=u.replace(/(\W)?$/,""),t.embedCache[u]||(t.embedCache[u]=t._loadEmbed(e,u)),n.push(t.embedCache[u])})),this._embedsPromises(n)):this._embedsPromises(n)}},{key:"_embedsPromises",value:function(e){var t=this;return e.map((function(e){return e.finally((function(){return t.update({messages:!0})})),e.catch((function(e){return console.error("[Messages:embed]",msg,e)}))}))}},{key:"_fill",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];if(!n.from){var u=[!0,"Convos"];n.internal=u[0],n.from=u[1]}n.type||(n.type="notice"),n.color="Convos"==n.from?"inherit":sn(n.from.toLowerCase()),n.ts=new ps(n.ts),n.id=++Wg}return e}},{key:"_isProbablyConvosVideoLink",value:function(e){return!!e.match(/\/video\/[^/]+\/[^/]+($|\?)/)}},{key:"_loadEmbed",value:(t=vn(En.mark((function e(t,n){var u,r,o;return En.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma("/api","embed",{url:n}).perform();case 2:if(u=e.sent,(r=u.res.body).nodes=[],r.provider=(r.provider_name||"").toLowerCase(),r.html){e.next=8;break}return e.abrupt("return",r);case 8:if(o=document.createRange().createContextualFragment(r.html).firstChild){e.next=11;break}return e.abrupt("return",r);case 11:return nn(o=this._renderVideoChat(t,r,o)||this._renderPaste(t,r,o)||o,"img",["error",function(e){return e.target.style.display="none"}]),nn(o,".le-goto-link",(function(e){return 1==e.parentNode.children.length&&e.parentNode.remove()})),delete r.html,r.className=o.className,r.nodes="iframe"==o.tagName.toLowerCase()?[o]:[].slice.call(o.childNodes,0),e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"_msgDetails",value:function(e){if(e.hasOwnProperty("details"))return e.details;if("error"!=e.type&&"notice"!=e.type)return e.details=null;var t=Mg({},e.sent||e);return["bubbles","className","command","connection_id","dispatchTo","color","dayChanged","hasBeenSeen","embeds","event","fresh","highlight","html","id","index","internal","method","silent","stopPropagation","ts"].forEach((function(e){return delete t[e]})),"from:message:type"==Object.keys(t).sort().join(":")?e.details=null:e.details=t}},{key:"_renderPaste",value:function(e,t,n){var u=n.querySelector("pre");u&&og.lineNumbersBlock(u);var r=n.querySelector(".le-meta");return r&&r.appendChild(Gt("a",{href:"#action:expand:"+e.index,innerHTML:'<i class="fas fa-angle-down"/>'})),n}},{key:"_renderVideoChat",value:function(e,t,n){var u=new URL(t.url).pathname.replace(/\/+$/,"").split("/");if(u.length&&(n.classList.contains("le-video-chat")||this._isProbablyConvosVideoLink(t.url))){var r=decodeURIComponent(u.slice(-1)[0]).replace(/\s-\s[\w-]+$/,"").replace(/[_.-]+/g," ").replace(/([a-z ])([A-Z])/g,(function(e,t,n){return t+" "+n.toUpperCase()})).replace(/((?:^|[ ])\w)/g,(function(e){return e.toUpperCase()})),o=wa.l('Do you want to join the %1 video chat with "%2"?',t.provider_name,r);return(n=document.createElement("div")).className="le-card le-rich le-join-request le-provider-"+t.provider,n.innerHTML='<a class="le-thumbnail" href="'+t.url+'" target="convos_video"><i class="fas fa-video"></i></a><h3>'+o+'</h3><p class="le-description"><a href="'+t.url+'" target="convos_video">'+wa.l("Yes, I want to join.")+"</a></p>",e.fresh&&this.emit("notify",Mg(Mg({},e),{},{message:o})),n}}}]),r}(Dn);function Gg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var Kg=function(e,t){return e.name.localeCompare(t.name)},Zg=function(e){p(u,e);var t=Gg(u);function u(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(this,u),(e=t.call(this,n)).sorter=r.sorter||Kg,e._sort(),e}return $(u,[{key:"filter",value:function(e){return Array.from(this.values()).filter(e)}},{key:"set",value:function(e,t){f(n(u.prototype),"set",this).call(this,e,t),this._sort()}},{key:"toArray",value:function(){return Array.from(this.values())}},{key:"_sort",value:function(){var e=this,t=Array.from(this.entries()),r=this.sorter;return this.clear(),t.sort((function(e,t){return r(e[1],t[1])})).forEach((function(t){var r=kt(t,2),o=r[0],i=r[1];return f(n(u.prototype),"set",e).call(e,o,i)})),t}}]),u}(i(Map));function Jg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var Vg=function(e){p(n,e);var t=Jg(n);function n(){var e;return g(this,n),(e=t.call(this)).prop("ro","length",(function(){return e._map.size})),e.prop("ro","_map",new Zg([],{sorter:function(e,t){return t.modes.admin||!1-e.modes.admin||t.modes.operator||!1-e.modes.operator||t.modes.voice||!1-e.modes.voice||e.nick.localeCompare(t.nick)}})),e}return $(n,[{key:"clear",value:function(){var e=this.me();return this._map.clear(),this.add(e),this}},{key:"delete",value:function(e){return this._map.delete(this._id(e)),this.update({})}},{key:"get",value:function(e){return this._map.get(this._id(e))}},{key:"has",value:function(e){return this._map.has(this._id(e))}},{key:"me",value:function(){return Array.from(this._map.values()).filter((function(e){return e.me}))[0]||this._defaultParticipant()}},{key:"nicks",value:function(){return Array.from(this._map.values()).map((function(e){return e.nick}))}},{key:"rename",value:function(e,t){var n=this.get(e)||{};return delete n.id,n.nick=t,this.delete(e),this.add(n)}},{key:"add",value:function(e){var t=this;if(Array.isArray(e))return e.forEach((function(e){return t.add(e)})),this;e.id=this._id(e.nick),e.color=sn(e.id),Qt.string(e.mode)&&(e.modes=Ht(Kc,e.mode));var n=this._map.get(e.id);return n&&Object.keys(n).forEach((function(t){return e[t]||(e[t]=n[t])})),e.modes||(e.modes={}),e.nick||(e.nick=e.name),this._map.set(e.id,e),this.update({length:!0})}},{key:"toArray",value:function(){return this._map.toArray()}},{key:"_defaultParticipant",value:function(){return{color:"#000000",id:"",modes:{},nick:""}}},{key:"_id",value:function(e){return e.toLowerCase()}}]),n}(Dn);function Qg(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Xg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xg(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,r=function(){};return{s:r,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function Xg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,u)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var uv=Tt("socket"),rv=function e(t){return e.singletons[t]||(e.singletons[t]=new iv)};rv.singletons={};var ov=[];ov[WebSocket.CONNECTING]="connecting",ov[WebSocket.OPEN]="open",ov[WebSocket.CLOSING]="closing",ov[WebSocket.CLOSED]="closed";var iv=function(e){p(n,e);var t=nv(n);function n(){var e;return g(this,n),(e=t.call(this)).prop("ro","readyState",(function(){return e.ws.readyState})),e.prop("ro","readyStateHuman",(function(){return ov[e.ws.readyState]})),e.prop("ro","waiting",new Map),e.prop("rw","closed",0),e.prop("rw","error",""),e.prop("rw","keepaliveInterval",1e4),e.prop("rw","url",""),e.id=0,e.queue=[],e.keepClosed=!0,e._resetWebSocket(),e}return $(n,[{key:"close",value:function(e,t){if("number"!=typeof e){var n=[1e3,e];e=n[0],t=n[1]}return this.ws.close&&this.ws.close(e,t),this.keepClosed=!0,this._keepAliveStop(),this._reconnectStop(),this._resetWebSocket(),this}},{key:"deflateMessage",value:function(e){return JSON.stringify(e)}},{key:"deleteWaitingMessage",value:function(e){this.waiting.delete(e),this.update({waiting:!0})}},{key:"getWaitingMessages",value:function(e){var t=this;return 0==arguments.length?Array.from(this.waiting.values()):e.map((function(e){return t.waiting.get(e)}))}},{key:"inflateMessage",value:function(e){return JSON.parse(e)}},{key:"is",value:function(e){return this.ws.readyState==WebSocket[e.toUpperCase()]}},{key:"open",value:function(){var e=this;if(this.ws.close)return this;try{if(!this.url)throw"Can't open WebSocket connection without URL.";this.ws=new WebSocket(this.url),this.ws.onclose=function(t){return e._onClose(t)},this.ws.onerror=function(t){return e._onError(t)},this.ws.onmessage=function(t){return e._onMessage(t)},this.ws.onopen=function(t){return e._onOpen(t)},this.keepClosed=!1,this._keepAliveStart(),this._reconnectStop(),this.update({error:"",readyState:!0})}catch(e){this._onError(e.message?e:{message:String(e)})}return this}},{key:"reconnectIn",value:function(e){return 1008!==e.code&&1011!==e.code&&(this.closed<=1?1e3:this.closed>5?1e4:2*this.closed*1e3)}},{key:"send",value:function(e,t){var n=e.id||String(++this.id);return this.queue.push(tv(tv({},e),{},{id:n})),this.open(),this._dequeue(),t&&this.on("message_"+n,t),this}},{key:"_dequeue",value:function(){var e=this.queue;for(e.length&&this.update({waiting:!0});e.length;){if(this.ws.readyState!=WebSocket.OPEN)return;var t=e.shift();uv.trace("<<<",t),this.ws.send(this.deflateMessage(t)),t.waitingForResponse=!0,t.ts||(t.ts=new ps),this.waiting.set(t.id,t)}}},{key:"_keepAliveStart",value:function(){var e=this;this._keepAliveStop(),this.keepaliveTid=setInterval((function(){return e.ws.readyState==WebSocket.OPEN&&e.ws.send("{}")}),this.keepaliveInterval)}},{key:"_keepAliveStop",value:function(){this.keepaliveTid&&clearTimeout(this.keepaliveTid),delete this.keepaliveTid}},{key:"_onClose",value:function(e){uv.debug("close",e);var t,n=Qg(this.waiting);try{for(n.s();!(t=n.n()).done;){var u=kt(t.value,2),r=u[0],o=u[1];Object.keys(o).length<=1&&this.waiting.delete(r),o.waitingForResponse=!1}}catch(e){n.e(e)}finally{n.f()}this._keepAliveStop(),this._resetWebSocket(),this.update({closed:this.closed+1,readyState:!0,waiting:!0}),this._reconnectStart(this.reconnectIn(e))}},{key:"_onError",value:function(e){var t=String(e.message||e);t&&0!=t.indexOf("[")||(t="Could not connect."),uv.error("error",t,e),this.update({error:t})}},{key:"_onMessage",value:function(e){var t=this.inflateMessage(e.data);if(uv.trace(">>>",t),t.bubbles=!0,t.stopPropagation=function(){t.bubbles=!1},t.id&&(this.emit("message_"+t.id,t),this.waiting.delete(t.id)),t.bubbles&&this.emit("message",t),this.update({waiting:!0}),t.errors&&!t.id){var n,u=Qg(this.waiting.keys());try{for(u.s();!(n=u.n()).done;){var r=n.value;this.emit("message_"+r,t)}}catch(e){u.e(e)}finally{u.f()}this.waiting.clear()}}},{key:"_onOpen",value:function(e){uv.info("open",e),this.update({closed:0,error:"",readyState:!0}),this._dequeue()}},{key:"_reconnectStart",value:function(e){var t=this;return this._reconnectStop(),uv.info("reconnect in",e),!0===e?this.open():"number"!=typeof e?this.keepClosed=!0:void(this.reconnectTid=setTimeout((function(){return t.open()}),e))}},{key:"_reconnectStop",value:function(){this.reconnectTid&&clearTimeout(this.reconnectTid),delete this.reconnectTid}},{key:"_resetWebSocket",value:function(){this.ws={readyState:WebSocket.CLOSED}}}]),n}(Dn);function av(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,u)}return n}function sv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?av(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):av(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var lv=new RegExp("^[#&]"),dv=function(e){p(o,e);var t,u,r=cv(o);function o(e){var t;g(this,o),t=r.call(this);var n=[e.connection_id,e.conversation_id,""].filter(Qt.defined).join(":");return t.prop("persist","userInput","",{key:n+"userInput"}),t.prop("ro","color",sn(e.conversation_id||e.connection_id||"")),t.prop("ro","connection_id",e.connection_id||""),t.prop("ro","messages",new Yg(e)),t.prop("ro","participants",new Vg),t.prop("ro","path",sa.conversationPath(e)),t.prop("rw","historyStartAt",null),t.prop("rw","historyStopAt",null),t.prop("rw","info",e.info||{}),t.prop("rw","modes",{}),t.prop("rw","name",e.name||e.conversation_id||e.connection_id||"ERR"),t.prop("rw","notifications",e.notifications||0),t.prop("rw","status","pending"),t.prop("rw","topic",e.topic||""),t.prop("rw","unread",e.unread||0),e.hasOwnProperty("conversation_id")?(t.prop("ro","conversation_id",e.conversation_id),t.prop("ro","title",(function(){return[t.name,t.connection_id.replace(/^\w+-/,"")].join(" - ")})),t.prop("rw","frozen",e.frozen||"")):(t.prop("ro","frozen",(function(){return t._calculateFrozen()})),t.prop("ro","title",(function(){return t.name}))),e.conversation_id&&t.prop("persist","wantNotifications",t.is("private"),{key:e.conversation_id+":wantNotifications"}),t.socket=e.socket||rv("/events"),t.messages.on("notify",(function(e){return t.notify(e)})),t._addOperations(),t}return $(o,[{key:"addMessages",value:function(e,t){if(!Array.isArray(e)){if(this._maybeIncreaseUnread(e),this._maybeNotify(e),!this.historyStopAt&&-1!=["action","private"].indexOf(e.type))return;e.fresh=!0,e=[e]}return this.messages[t||"push"](e),this}},{key:"is",value:function(e){return"connection"==e?!this.conversation_id:"conversation"==e?this.conversation_id&&!this.is("notifications"):"frozen"==e?this.frozen&&!0:"locked"==e?"Invalid password."==this.frozen:"not_found"==e?"Not found."==this.frozen:"notifications"!=e&&("pending"==e?this.frozen.match(/pending invitation/i):"private"==e?this.conversation_id&&!lv.test(this.conversation_id)||!1:"search"!=e&&("unread"==e?this.unread&&!0:this.status==e))}},{key:"load",value:(u=vn(En.mark((function e(){var t,n,u,r,o=arguments;return En.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},!this._skipLoad(t)){e.next=3;break}return e.abrupt("return",this);case 3:return this.update({status:"loading"}),t.limit||(t.limit=40),n=sv(sv({},t),{},{connection_id:this.connection_id,conversation_id:this.conversation_id}),e.next=8,this.messagesOp.perform(n);case 8:return this.update({status:this.messagesOp.status}),(u=this.messagesOp.res.body).messages||(u.messages=[]),r=[],(t.around||!t.after&&!t.before)&&(r.push.apply(r,this.messages.toArray().filter((function(e){return e.internal}))),this.messages.clear()),this.addMessages(u.messages,t.before?"unshift":"push"),this.addMessages(r,"push"),this._setEndOfStream(t,u),e.abrupt("return",this);case 17:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"notify",value:function(e){if(!Nl.appHasFocus){var t=e.from==this.name?e.from:wa.l("%1 in %2",e.from,this.name);this.lastNotification=Nl.show(e.message,{path:this.path,title:t})}}},{key:"send",value:function(e,t){return Qt.string(e)&&(e={message:e}),this.socket.send(sv({method:"send",connection_id:this.connection_id,conversation_id:this.conversation_id||""},e),t)}},{key:"markAsRead",value:(t=vn(En.mark((function e(){return En.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.markAsReadOp){e.next=2;break}return e.abrupt("return");case 2:return this.update({notifications:0}),e.next=5,this.markAsReadOp.perform({connection_id:this.connection_id,conversation_id:this.conversation_id});case 5:return e.abrupt("return",this);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"update",value:function(e){return this._loadInformation(),f(n(o.prototype),"update",this).call(this,e),(e.hasOwnProperty("notifications")||e.hasOwnProperty("unread"))&&this.emit("unread",e),this}},{key:"wsEventMode",value:function(e){var t=["banlist","exceptlist","invitelist","quietlist"].filter((function(t){return e[t]}))[0];if(t){var n=e[t].length,u=1==n?"entry":"entries";this.addMessages(sv(sv({},e),{},{message:"%1 has %2 "+u+" in %3.",vars:[this.name,n,wa.l(t)]}))}else e.nick?(this.participants.add({nick:e.nick,mode:e.mode}),this.addMessages(sv(sv({},e),{},{message:"%1 got mode %2 from %3.",vars:[e.nick,e.mode,e.from]}))):e.mode_changed?(this.addMessages(sv(sv({},e),{},{message:"%1 received mode %2.",vars:[this.name,e.mode]})),this.update({modes:Object.assign({},this.modes,Ht(Yc,e.mode))})):(this.addMessages(sv(sv({},e),{},{message:"%1 got mode %2.",vars:[this.name,e.mode]})),this.update({modes:Object.assign({},this.modes,Ht(Yc,e.mode))}))}},{key:"wsEventNickChange",value:function(e){if(this.participants.has(e.old_nick)&&e.old_nick!=e.new_nick){this.participants.rename(e.old_nick,e.new_nick);var t="me"==e.type?"You (%1) changed nick to %2.":"%1 changed nick to %2.";this.addMessages({message:t,vars:[e.old_nick,e.new_nick]})}}},{key:"wsEventPart",value:function(e){var t=this.participants.get(e.nick);t&&!t.me&&(this.participants.delete(e.nick),this.update({participants:!0}),e.silent||this.addMessages(this._partMessage(e)))}},{key:"wsEventSentClear",value:function(e){e.errors||(this.messages.clear(),this.addMessages({message:"History was cleared for %1.",vars:[this.name]}))}},{key:"wsEventSentNames",value:function(e){this.participants.add(e.participants);var t=sv(sv({},e),{},{message:"Participants (%1): %2",vars:[]}),n=this.participants.nicks();n.length>1&&(t.message+=" and %3.",t.vars[2]=n.pop()),t.vars[0]=n.length,t.vars[1]=n.join(", "),this.addMessages(t)}},{key:"wsEventSentTopic",value:function(e){var t=e.topic?"Topic for %1 is: %2":"No topic is set for %1.";this.addMessages({message:t,vars:[this.name,e.topic]}),this.update({topic:e.topic})}},{key:"_addOperations",value:function(){this.prop("ro","messagesOp",ma("/api","conversationMessages")),this.prop("ro","markAsReadOp",ma("/api","markConversationAsRead"))}},{key:"_calculateFrozen",value:function(){return""}},{key:"_loadInformation",value:function(){var e=this;if(!this.participantsLoaded&&this.conversation_id&&this.messagesOp&&!this.is("frozen")&&this.messagesOp.is("success"))if(this.participantsLoaded=!0,this.is("private")){if(this.info.ts&&this.info.ts>(new ps).toEpoch()-300)return;this.send("/whois "+this.conversation_id,(function(t){t.stopPropagation(),e.update({frozen:t.errors&&t.errors.length?t.errors[0].message:""})}))}else this.send("/names "+this.conversation_id,(function(t){t.stopPropagation(),e.participants.clear(),t.participants&&e.participants.add(t.participants)}))}},{key:"_maybeIncreaseUnread",value:function(e){return!e.from||e.yourself||-1==["action","error","private"].indexOf(e.type)?this:void this.update({unread:this.unread+1})}},{key:"_maybeNotify",value:function(e){e.from&&!e.yourself&&-1!=["action","error","private"].indexOf(e.type)&&(e.highlight||this.wantNotifications)&&this.notify(e)}},{key:"_noop",value:function(){}},{key:"_partMessage",value:function(e){var t={message:"%1 parted.",vars:[e.nick]};return e.kicker?(t.message="%1 was kicked by %2"+(e.message?": %3":""),t.vars.push(e.kicker),t.vars.push(e.message)):e.message&&(t.message+=" Reason: %2",t.vars.push(e.message)),t}},{key:"_setEndOfStream",value:function(e,t){if(!e.before&&!t.after){var n=t.messages.slice(-1)[0];this.update({historyStopAt:new ps(n&&n.ts)})}if(!e.after&&!t.before){var u=t.messages[0];this.update({historyStartAt:new ps(u&&u.ts)})}t.after&&this.update({historyStopAt:null}),t.before&&this.update({historyStartAt:null}),t.messages&&t.messages.length<=1&&this.update({historyStartAt:new ps,historyStopAt:new ps})}},{key:"_skipLoad",value:function(e){return!(this.messagesOp&&!this.is("loading"))||(this.messages.length?e.around?!!this.messages.toArray().find((function(t){return t.ts.toISOString()==e.around})):!(!e.before||!this.historyStartAt)||!(!e.after||!this.historyStopAt):this.is("success"))}}]),o}(Dn);function fv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,u)}return n}function pv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fv(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var hv=function(e,t){return e.is("private")-t.is("private")||e.name.localeCompare(t.name)},mv=function(e){p(u,e);var t=Dv(u);function u(e){var n;g(this,u),(n=t.call(this,e)).prop("rw","certificate",{}),n.prop("ro","conversations",new Zg([],{sorter:hv})),n.prop("rw","on_connect_commands",e.on_connect_commands||[]),n.prop("rw","state",e.state||"disconnected"),n.prop("rw","wanted_state",e.wanted_state||"connected"),n.prop("rw","url",Qt.string(e.url)?new Es(e.url):e.url||new Es("irc://localhost"));var r=n.url.searchParams.get("nick")||"guest";return n.prop("rw","nick",r),n.prop("rw","real_host",n.url.hostname),n.prop("rw","server_op",!1),e.info&&n.wsEventInfo(e.info),n}return $(u,[{key:"ensureConversation",value:function(e){var t=this,n=this.conversations.get(e.conversation_id);return n?n.update(e):(!e.frozen&&this.frozen&&(e.frozen=this.frozen),(n=new dv(pv(pv({},e),{},{connection_id:this.connection_id}))).on("message",(function(e){return t.emit("message",e)})),n.on("update",(function(){return t.update({conversations:!0})})),n.on("unread",(function(){return t.emit("unread")})),e.frozen||this._addDefaultParticipants(n),this.conversations.set(n.conversation_id,n),this.update({conversations:!0}),this.emit("conversationadd",n),n)}},{key:"findConversation",value:function(e){return this.conversations.get(e.conversation_id)||null}},{key:"is",value:function(e){return this.state==e||f(n(u.prototype),"is",this).call(this,e)}},{key:"removeConversation",value:function(e){var t=this.findConversation(e)||e;return this.conversations.delete(t.conversation_id),this.emit("conversationremove",t),this.update({conversations:!0})}},{key:"send",value:function(e){Qt.string(e)&&(e={message:e});var t=new RegExp("^"+this.participants.toArray().map((function(e){return un(e.id)})).join("|")+":","i");return 0==e.message.indexOf("/")||e.message.match(t)||(e.message="/quote "+e.message),f(n(u.prototype),"send",this).call(this,e)}},{key:"update",value:function(e){return e.url&&Qt.string(e.url)&&(e.url=new Es(e.url)),f(n(u.prototype),"update",this).call(this,e)}},{key:"wsEventSentAway",value:function(e){(this.findConversation(e)||this).addMessages({message:e.reason,sent:e,type:"notice"})}},{key:"wsEventConnection",value:function(e){this.update({state:e.state})}},{key:"wsEventFrozen",value:function(e){var t=this.findConversation(e),n=t&&t.frozen,u=this.ensureConversation(e);!e.frozen&&n&&t.addMessages({message:"Connected.",vars:[]}),e.frozen||u.participants.add({nick:this.nick,me:!0}),e.frozen&&u.is("pending")&&Nl.show(e.frozen,{title:e.name})}},{key:"wsEventInfo",value:function(e){e.nick&&this.wsEventNickChange(e),e.server_op&&this.addMessages({message:"You are an IRC operator.",vars:[],highlight:!0}),e.real_host&&this.participants.add({nick:e.real_host}),this.update(e)}},{key:"wsEventMessage",value:function(e){return e.yourself=e.from==this.nick,e.conversation_id?this.ensureConversation(e).addMessages(e):this.addMessages(e)}},{key:"wsEventNickChange",value:function(e){var t={old_nick:e.old_nick||this.nick,new_nick:e.new_nick||e.nick,type:e.type};e.old_nick==this.nick&&(t.me=!0),f(n(u.prototype),"wsEventNickChange",this).call(this,t),this.conversations.forEach((function(e){return e.wsEventNickChange(t)}))}},{key:"wsEventError",value:function(e){var t={message:Zt(e)||e.frozen||"Unknown error from %1.",sent:e,type:"error",vars:e.command||[e.message]},n=(e.message||"").match(/^\/j(oin)? (\S+)/);if(n)return this.ensureConversation(pv(pv({},e),{},{conversation_id:n[2]}));var u=e.conversation_id&&e.frozen?this.ensureConversation(e):this.findConversation(e)||this;console.error(u.conversation_id,t),u.addMessages(t)}},{key:"wsEventJoin",value:function(e){var t=this.ensureConversation({connection_id:e.connection_id,conversation_id:e.conversation_id}),n=e.nick||this.nick;n==this.nick||e.silent||t.addMessages({message:"%1 joined.",vars:[n]}),t.participants.add({nick:n})}},{key:"wsEventPart",value:function(e){if(e.nick==this.nick)return this.removeConversation(e);e.conversation_id||this.conversations.forEach((function(t){return t.wsEventPart(e)}))}},{key:"wsEventQuit",value:function(e){this.wsEventPart(e)}},{key:"wsEventSentJoin",value:function(e){this.wsEventJoin(e)}},{key:"wsEventSentList",value:function(e){var t=e.args||"/*/";this.addMessages(e.done?{message:"Found %1 of %2 conversations from %3.",vars:[e.conversations.length,e.n_conversations,t]}:{message:"Found %1 of %2 conversations from %3, but conversations are still loading.",vars:[e.conversations.length,e.n_conversations,t]})}},{key:"wsEventSentMode",value:function(e){var t=this.findConversation(e);return t?t.wsEventMode(e):this.addMessages({message:"%1 received mode %2.",vars:[e.target,e.mode]})}},{key:"wsEventSentQuery",value:function(e){this.ensureConversation(e)}},{key:"wsEventSentWhois",value:function(e){var t,n=Uc(e),u=_t(t=n)||s(t)||c(t)||Bt(),r=u[0],o=u.slice(1);(this.findConversation(e)||this).addMessages({message:r,vars:o,sent:e})}},{key:"wsEventSentNames",value:function(){}},{key:"_addDefaultParticipants",value:function(e){var t=[{nick:this.nick,me:!0}];e.is("private")&&t.push({nick:e.name}),e.participants.add(t)}},{key:"_addOperations",value:function(){this.prop("ro","markAsReadOp",ma("/api","markConnectionAsRead")),this.prop("ro","messagesOp",ma("/api","connectionMessages"))}},{key:"_calculateFrozen",value:function(){switch(this.state){case"connected":return"";case"connecting":default:return"Connecting...";case"disconnected":return"Disconnected.";case"disconnecting":return"Disconnecting...";case"unreachable":return"Unreachable."}}}]),u}(dv);function gv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var vv=function(e){p(u,e);var t,n=gv(u);function u(e){var t;return g(this,u),(t=n.call(this,e)).prop("ro","op",ma("/api","listConnectionProfiles")),t.prop("rw","profiles",[]),t.prop("rw","status","pending"),t}return $(u,[{key:"find",value:function(e){return this.search((function(t){return t.id==e}))[0]}},{key:"defaultProfile",value:function(){return{max_bulk_message_size:3,max_message_length:512,url:new Es("irc://0.0.0.0")}}},{key:"is",value:function(e){return this.status==e}},{key:"load",value:(t=vn(En.mark((function e(){var t,n=this,u=arguments;return En.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},!this.is("loading")){e.next=3;break}return e.abrupt("return",this);case 3:if(t.force||!this.profiles.length){e.next=5;break}return e.abrupt("return",this);case 5:return this.update({status:"loading"}),e.next=8,this.op.perform();case 8:return this.update({status:this.op.status}),this.is("success")&&this.update({profiles:this.op.res.body.profiles.map((function(e){return n._expand(e)}))}),e.abrupt("return",this);case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return this.profiles.filter(e)}},{key:"_expand",value:function(e){e.url=new Es(e.url),e.service_accounts=e.service_accounts.join(", "),e.url.toFields(e);var t=this.defaultProfile();return Object.keys(t).forEach((function(n){return e.hasOwnProperty(n)||(e[n]=t[n])})),e}}]),u}(Dn);function $v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,u)}return n}function yv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$v(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var Av=function(e){p(r,e);var t,u=bv(r);function r(e){return g(this,r),u.call(this,yv(yv({},e),{},{connection_id:"",conversation_id:"notifications",name:"Notifications"}))}return $(r,[{key:"addMessages",value:function(e,t){return Array.isArray(e)||(e=[e]),this.messages.push(e),this}},{key:"markAsRead",value:(t=vn(En.mark((function e(){return En.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n(r.prototype),"markAsRead",this).call(this);case 2:return this.emit("cleared"),e.abrupt("return",this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"is",value:function(e){return"notifications"==e||f(n(r.prototype),"is",this).call(this,e)}},{key:"send",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Promise.resolve(e)}},{key:"_addOperations",value:function(){this.prop("ro","markAsReadOp",ma("/api","markNotificationsAsRead")),this.prop("ro","messagesOp",ma("/api","notificationMessages"))}},{key:"_skipLoad",value:function(){return!1}}]),r}(dv);function Ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,u)}return n}function Cv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ev(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ev(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var wv=function(e){p(r,e);var t,u=Fv(r);function r(e){var t;return g(this,r),(t=u.call(this,Cv(Cv({},e),{},{connection_id:"",conversation_id:"search",name:"Search"}))).prop("rw","query",""),t.update({status:"success"}),t}return $(r,[{key:"is",value:function(e){return"conversation"!=e&&("search"==e||f(n(r.prototype),"is",this).call(this,e))}},{key:"load",value:(t=vn(En.mark((function e(){var t,n,u,r=arguments;return En.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{},!this.is("loading")){e.next=3;break}return e.abrupt("return",this);case 3:if((n=Cv({},t)).match=t.match||t.message,(n.match||"").match(/\S/)){e.next=7;break}return e.abrupt("return",this.messages.clear().push([{message:'Search query "%1" does not contain anything to search for.',vars:[t.message]}]));case 7:return this.update({query:n.match,status:"loading"}),this.messages.clear(),e.next=11,this.messagesOp.perform(n);case 11:return u=this.messagesOp.res.body,this.messages[n.before?"unshift":"push"](u.messages||[]),e.abrupt("return",this.update({status:this.messagesOp.status}));case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"send",value:function(e){return Qt.string(e)&&(e={message:e}),this.emit("send",e),Promise.resolve(e)}},{key:"_addOperations",value:function(){this.prop("ro","messagesOp",ma("/api","searchMessages")),this.prop("ro","markAsReadOp",null)}},{key:"_loadInformation",value:function(){}}]),r}(dv);function _v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Bv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bv(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0,r=function(){};return{s:r,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function Bv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}function kv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,u)}return n}function xv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kv(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var Ov=function(e){p(r,e);var t,u=Sv(r);function r(e){var t;return g(this,r),(t=u.call(this)).prop("ro","connections",new Zg),t.prop("ro","connectionProfiles",new vv),t.prop("ro","notifications",new Av({})),t.prop("ro","search",new wv({})),t.prop("ro","roles",new Set),t.prop("persist","expandUrlToMedia",!0),t.prop("persist","ignoreStatuses",!1),t.prop("persist","lastUrl",""),t.prop("rw","activeConversation",t.notifications),t.prop("rw","email",""),t.prop("rw","forced_connection",!1),t.prop("rw","default_connection","irc://irc.libera.chat:6697/%23convos"),t.prop("rw","highlightKeywords",[]),t.prop("rw","id",""),t.prop("rw","status","pending"),t.prop("rw","unreadIncludePrivateMessages",!1),t.socket=e.socket||rv("/events"),t.socket.on("message",(function(e){return t._dispatchMessage(e)})),t.socket.on("update",(function(e){return t._onConnectionChange(e)})),t.notifications.on("cleared",(function(){return t._calculateUnread("clear")})),t._calculateUnreadDebounced=Kt(t._calculateUnread,25),t}return $(r,[{key:"conversations",value:function(e){var t=[];return this.connections.toArray().forEach((function(n){n.conversations.toArray().forEach((function(n){e&&!e(n)||t.push(n)}))})),t}},{key:"ensureConversation",value:function(e,t){var n=this;if(e.conversation_id){var u=this.ensureConversation({connection_id:e.connection_id},!0);return this._maybeUpgradeActiveConversation(u.ensureConversation(e))}var r=this.findConversation(e);return r?r.update(e):((r=new mv(xv({},e))).on("conversationadd",(function(e){return n._maybeUpgradeActiveConversation(e)})),r.on("conversationremove",(function(e){return e==n.activeConversation&&n.setActiveConversation(e)})),r.on("update",(function(){return n.update({connections:!0})})),r.on("unread",(function(){return n._calculateUnreadDebounced()})),this.connections.set(r.connection_id,r),this.update({connections:!0}),t?r:this._maybeUpgradeActiveConversation(r))}},{key:"findConversation",value:function(e){var t=this.connections.get(e.connection_id);return e.conversation_id?t&&t.findConversation(e)||null:t}},{key:"is",value:function(e){var t=this;return Array.isArray(e)?!!e.filter((function(e){return t.is(e)})).length:!!this.roles.has(e)||this.status==e}},{key:"load",value:(t=vn(En.mark((function e(){var t,n,u,r=this;return En.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.is("loading")){e.next=2;break}return e.abrupt("return",this);case 2:return this.roles.clear(),this.update({status:"loading"}),t=new Promise((function(e){return r.socket.send({method:"load",object:"user",params:{connections:!0,conversations:!0}},e)})),e.next=7,t;case 7:if(!(n=e.sent).errors){e.next=10;break}return e.abrupt("return",this.update({email:"",roles:!0,status:n.errors?"error":"success"}));case 10:return u=n.user||{},this.connections.clear(),(u.connections||[]).forEach((function(e){return r.ensureConversation(xv(xv({},e),{},{status:"pending"}))})),(u.conversations||[]).forEach((function(e){return r.ensureConversation(xv(xv({},e),{},{status:"pending"}))})),(u.roles||[]).forEach((function(e){return r.roles.add(e)})),this.notifications.update({unread:u.unread||0}),Ua.fromString(u.video_service||""),e.abrupt("return",this.update({email:u.email||"",default_connection:u.default_connection||"",forced_connection:u.forced_connection||!1,highlightKeywords:u.highlight_keywords||[],roles:!0,status:n.errors?"error":"success",id:u.uid||""}));case 18:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"removeConversation",value:function(e){var t=this.findConversation({connection_id:e.connection_id});if(e.conversation_id)return t&&t.removeConversation(e);this.connections.delete(e.connection_id),t==this.activeConversation&&this.setActiveConversation(t),this.update({connections:!0})}},{key:"setActiveConversation",value:function(e){var t=!e.connection_id&&!e.conversation_id&&this.notifications;if(t)return this.update({activeConversation:t});if(t=this.findConversation(e))return this.update({activeConversation:t});var n=xv(xv({},e),{},{connection_id:e.connection_id||"",frozen:"Not found."});return["conversation_id","name"].forEach((function(t){return e.hasOwnProperty(t)&&(n[t]=e[t])})),this.update({activeConversation:n.conversation_id?new dv(n):new mv(n)})}},{key:"update",value:function(e){return f(n(r.prototype),"update",this).call(this,e),e.hasOwnProperty("unreadIncludePrivateMessages")&&this._calculateUnreadDebounced(),this}},{key:"_calculateUnread",value:function(e){var t,n=0,u=0,r=_v(this.connections.toArray());try{for(r.s();!(t=r.n()).done;){var o,i=_v(t.value.conversations.toArray());try{for(i.s();!(o=i.n()).done;){var a=o.value;e&&a.update({notifications:0}),n+=a.is("private")?this.unreadIncludePrivateMessages?a.unread:0:a.notifications,u+=a.is("private")?0:a.notifications}}catch(e){i.e(e)}finally{i.f()}}}catch(e){r.e(e)}finally{r.f()}e||(this.notifications.update({notifications:n,unread:u}),this.update({notifications:!0}))}},{key:"_dispatchMessage",value:function(e){e.dispatchTo=("wsEvent_"+this._getEventNameFromMessage(e)).replace(/_(\w)/g,(function(e,t){return t.toUpperCase()})),e.silent=this.ignoreStatuses,this.emit(e.dispatchTo,e);var t=this.findConversation({connection_id:e.connection_id});if(t&&(t[e.dispatchTo]&&t[e.dispatchTo](e),e.bubbles)){var n=t.findConversation(e);n&&n[e.dispatchTo]&&n[e.dispatchTo](e),e.highlight&&!n.is("private")&&(this.notifications.addMessages(e),n==this.activeConversation&&Nl.appHasFocus?n.markAsRead():n.update({notifications:n.notifications+1}))}}},{key:"_getEventNameFromMessage",value:function(e){return e.errors?"error":"state"==e.event?e.type:"sent"==e.event&&e.message.match(/\/\S+/)?(e.command=e.message.split(/\s+/).filter((function(e){return e.length})),e.command[0]=e.command[0].substring(1),"sent_"+e.command[0].toLowerCase()):e.event}},{key:"_maybeUpgradeActiveConversation",value:function(e){var t=this.activeConversation;return e.conversation_id?(e.connection_id&&e.connection_id!=t.connection_id||e.conversation_id&&e.conversation_id!=t.conversation_id||this.update({activeConversation:e}),e):e}},{key:"_onConnectionChange",value:function(e){if(e.is("open")&&this.is("pending"))return this.load();e.is("closed")&&(this.connections.forEach((function(e){return e.update({state:"unreachable"})})),this.is(["error","loading"])||this.update({status:"pending"}))}}]),r}(Dn);const{window:Nv}=Ve;function jv(e){let t,n,u;function r(t){e[27](t)}let o={};return void 0!==e[1]&&(o.title=e[1]),t=new Ap({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Rv(e){let t,n,u,r,o,i,a,s,c,l,d=("nav"==e[5]||!e[2].isSingleColumn)&&Pv(e);const f=[Vv,Jv,Zv,Kv,Gv,Yv,Wv,Hv,qv,zv,Uv,Iv,Mv,Lv],p=[];function D(e,t){return 16&t[0]&&(n=null),16&t[0]&&(u=null),16&t[0]&&(r=null),16&t[0]&&(o=null),null==n&&(n=!!e[4].path.match(/\/chat\/./)),n?0:(null==u&&(u=!(0!=e[4].path.indexOf("/chat"))),u?1:"/help"==e[4].path?2:"/search"==e[4].path?3:"/settings"==e[4].path?4:"/settings/account"==e[4].path?5:"/settings/connections"==e[4].path?6:"/settings/files"==e[4].path?7:(null==r&&(r=!(0!=e[4].path.indexOf("/settings/connection/"))),r?8:(null==o&&(o=!(0!=e[4].path.indexOf("/settings/connection-profile/"))),o?9:"/settings/conversation"==e[4].path?10:"/settings/users"==e[4].path?11:"/login"==e[4].path||"/register"==e[4].path?12:13)))}i=D(e,[-1,-1]),a=p[i]=f[i](e);let h=e[5]&&e[2].haSingleColumn&&Qv(e);return{c(){d&&d.c(),t=V(),a.c(),s=V(),h&&h.c(),c=Q()},m(e,n){d&&d.m(e,n),W(e,t,n),p[i].m(e,n),W(e,s,n),h&&h.m(e,n),W(e,c,n),l=!0},p(e,n){"nav"!=e[5]&&e[2].isSingleColumn?d&&(qe(),Ye(d,1,1,(()=>{d=null})),He()):d?(d.p(e,n),36&n[0]&&We(d,1)):(d=Pv(e),d.c(),We(d,1),d.m(t.parentNode,t));let u=i;i=D(e,n),i===u?p[i].p(e,n):(qe(),Ye(p[u],1,1,(()=>{p[u]=null})),He(),a=p[i],a?a.p(e,n):(a=p[i]=f[i](e),a.c()),We(a,1),a.m(s.parentNode,s)),e[5]&&e[2].haSingleColumn?h?(h.p(e,n),36&n[0]&&We(h,1)):(h=Qv(e),h.c(),We(h,1),h.m(c.parentNode,c)):h&&(qe(),Ye(h,1,1,(()=>{h=null})),He())},i(e){l||(We(d),We(a),We(h),l=!0)},o(e){Ye(d),Ye(a),Ye(h),l=!1},d(e){d&&d.d(e),e&&Y(t),p[i].d(e),e&&Y(s),h&&h.d(e),e&&Y(c)}}}function Tv(e){let t,n;return t=new Wf({}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p:y,i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function Pv(e){let t,n;return t=new Hh({props:{transition:{duration:e[2].isSingleColumn?250:0,x:e[0]}}}),{c(){Xe(t.$$.fragment)},m(e,u){et(t,e,u),n=!0},p(e,n){const u={};5&n[0]&&(u.transition={duration:e[2].isSingleColumn?250:0,x:e[0]}),t.$set(u)},i(e){n||(We(t.$$.fragment,e),n=!0)},o(e){Ye(t.$$.fragment,e),n=!1},d(e){tt(t,e)}}}function Lv(e){let t,n,u;function r(t){e[25](t)}let o={};return void 0!==e[1]&&(o.title=e[1]),t=new Wf({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Mv(e){let t,n,u;function r(t){e[24](t)}let o={};return void 0!==e[1]&&(o.title=e[1]),t=new Ap({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Iv(e){let t,n,u;function r(t){e[23](t)}let o={};return void 0!==e[1]&&(o.title=e[1]),t=new QD({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Uv(e){let t,n,u;function r(t){e[22](t)}let o={};return void 0!==e[1]&&(o.title=e[1]),t=new jf({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function zv(e){let t,n,u;function r(t){e[21](t)}let o={profile_id:e[4].pathParts[2]};return void 0!==e[1]&&(o.title=e[1]),t=new hf({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};16&u[0]&&(r.profile_id=e[4].pathParts[2]),!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function qv(e){let t,n,u;function r(t){e[20](t)}let o={connection_id:e[4].pathParts[2]};return void 0!==e[1]&&(o.title=e[1]),t=new yf({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};16&u[0]&&(r.connection_id=e[4].pathParts[2]),!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Hv(e){let t,n,u;function r(t){e[19](t)}let o={};return void 0!==e[1]&&(o.title=e[1]),t=new mh({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Wv(e){let t,n,u;function r(t){e[18](t)}let o={};return void 0!==e[1]&&(o.title=e[1]),t=new Md({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Yv(e){let t,n,u;function r(t){e[17](t)}let o={};return void 0!==e[1]&&(o.title=e[1]),t=new DD({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Gv(e){let t,n,u;function r(t){e[16](t)}let o={};return void 0!==e[1]&&(o.title=e[1]),t=new ND({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Kv(e){let t,n,u;function r(t){e[15](t)}let o={};return void 0!==e[1]&&(o.title=e[1]),t=new Kp({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Zv(e){let t,n,u;function r(t){e[14](t)}let o={};return void 0!==e[1]&&(o.title=e[1]),t=new ep({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Jv(e){let t,n,u;function r(t){e[13](t)}let o={};return void 0!==e[1]&&(o.title=e[1]),t=new jp({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Vv(e){let t,n,u;function r(t){e[12](t)}let o={connection_id:e[4].pathParts[1],conversation_id:e[4].pathParts[2]};return void 0!==e[1]&&(o.title=e[1]),t=new $d({props:o}),we.push((()=>Qe(t,"title",r))),{c(){Xe(t.$$.fragment)},m(e,n){et(t,e,n),u=!0},p(e,u){const r={};16&u[0]&&(r.connection_id=e[4].pathParts[1]),16&u[0]&&(r.conversation_id=e[4].pathParts[2]),!n&&2&u[0]&&(n=!0,r.title=e[1],je((()=>n=!1))),t.$set(r)},i(e){u||(We(t.$$.fragment,e),u=!0)},o(e){Ye(t.$$.fragment,e),u=!1},d(e){tt(t,e)}}}function Qv(e){let t,n,u,r,o;return{c(){t=K("div"),t.textContent=" ",te(t,"class","overlay")},m(n,i){W(n,t,i),u=!0,r||(o=X(t,"click",e[26]),r=!0)},p:y,i(e){u||(Ne((()=>{n||(n=Ke(t,Pa,{duration:200},!0)),n.run(1)})),u=!0)},o(e){n||(n=Ke(t,Pa,{duration:200},!1)),n.run(0),u=!1},d(e){e&&Y(t),e&&n&&n.end(),r=!1,o()}}}function Xv(e){let t,n,u,r,o,i,a;Ne(e[11]);const s=[Tv,Rv,jv],c=[];function l(e,n){return 8&n[0]&&(t=null),null==t&&(t=!!e[3].is(["loading","pending"])),t?0:e[3].email?1:2}return n=l(e,[-1,-1]),u=c[n]=s[n](e),{c(){u.c(),r=Q()},m(t,u){c[n].m(t,u),W(t,r,u),o=!0,i||(a=[X(Nv,"focus",e[10]),X(Nv,"resize",e[11])],i=!0)},p(e,t){let o=n;n=l(e,t),n===o?c[n].p(e,t):(qe(),Ye(c[o],1,1,(()=>{c[o]=null})),He(),u=c[n],u?u.p(e,t):(u=c[n]=s[n](e),u.c()),We(u,1),u.m(r.parentNode,r))},i(e){o||(We(u),o=!0)},o(e){Ye(u),o=!1},d(e){c[n].d(e),e&&Y(r),i=!1,C(a)}}}function e$(t,n,u){let r,o,i,a,s;B(t,vt,(e=>u(5,r=e))),B(t,$t,(e=>u(2,o=e))),B(t,sa,(e=>u(4,a=e)));const c=rv("/events"),l=(new Yh).start();B(t,l,(e=>u(9,s=e)));const d=new Ov({});B(t,d,(e=>u(3,i=e)));let f=sa.path,p=0,D={closed:!0},h=wa.l("Chat");c.update({debug:"WebSocket"}),window.convosWebSockeet=c,sa.update({baseUrl:rn("base_url"),enabled:!0}),c.update({url:sa.wsUrlFor("/events")}),d.on("wsEventSentJoin",(e=>sa.go(sa.conversationPath(e)))),async function(){if(!navigator.serviceWorker)return{};const e=await navigator.serviceWorker.register(sa.urlFor("/sw.js")),t=await fetch(sa.urlFor("/sw/info")),n=200==t.status&&await t.json()||{mode:"",version:"0.00"};if(n.version==rn("version"))return{};console.info("[serviceWorker.update]",rn("version"),n),e.update()}().catch((e=>console.error("[serviceWorker]",e))),Ae("api",ma("/api").update({url:sa.urlFor("/api")}).toFunction()),Ae("socket",c),Ae("themeManager",l),Ae("user",d),Nl.on("click",(e=>e.path&&sa.go(e.path))),c.on("update",(function(e){if(e.is("open"))return D.close&&D.close();const t=!1===navigator.onLine?wa.l("You seem to be offline."):e.error?wa.l(e.error):e.is("connecting")?wa.l("Connecting to Convos..."):wa.l("Connection to Convos is %1.",wa.l(e.readyStateHuman));if(D.body==t)return;D.close&&D.close();D=Nl.showInApp(t,{closeAfter:-1,title:wa.l("Status")})})),wa.load().then((()=>d.load()));return t.$$.update=()=>{512&t.$$.dirty[0]&&e[s.compactDisplay?"add":"remove"]("compact-display"),24&t.$$.dirty[0]&&async function(t,n){n.email&&wa.emojis.load(),e[n.email?"add":"remove"]("notify"),await Oe();const u=n.is(["loading","pending"])||document.querySelector(".cms-main")?"cms":"app";if(document.body.className=document.body.className.replace(/for-\w+/,"for-"+u),f!=t.path&&(f=t.path,j(vt,r="",r)),0==t.pathParts.length){const e=n.email?n.lastUrl||"/chat":"/login";t.go(e,{replace:!0})}else n.email&&n.update({lastUrl:location.href})}(a,i),10&t.$$.dirty[0]&&function(e,t){if(!document)return;const n=rn("organization_name"),u=t.notifications.notifications?"("+t.notifications.notifications+") ":"";document.title="Convos"==n?wa.l("%1 - Convos",u+wa.l(e)):wa.l("%1 - Convos for %2",u+wa.l(e),n)}(h,i),1&t.$$.dirty[0]&&$t.setWidth(p),4&t.$$.dirty[0]&&d.update({unreadIncludePrivateMessages:o.isSingleColumn})},[p,h,o,i,a,r,c,l,d,s,()=>d.email&&c.open(),function(){u(0,p=Nv.innerWidth)},function(e){h=e,u(1,h)},function(e){h=e,u(1,h)},function(e){h=e,u(1,h)},function(e){h=e,u(1,h)},function(e){h=e,u(1,h)},function(e){h=e,u(1,h)},function(e){h=e,u(1,h)},function(e){h=e,u(1,h)},function(e){h=e,u(1,h)},function(e){h=e,u(1,h)},function(e){h=e,u(1,h)},function(e){h=e,u(1,h)},function(e){h=e,u(1,h)},function(e){h=e,u(1,h)},()=>{j(vt,r="",r)},function(e){h=e,u(1,h)}]}class t$ extends rt{constructor(e){super(),ut(this,e,e$,Xv,w,{},null,[-1,-1])}}function n$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var u,r=n(e);if(t){var o=n(this).constructor;u=Reflect.construct(r,arguments,o)}else u=r.apply(this,arguments);return m(this,u)}}var u$=function(e){p(r,e);var t,n,u=n$(r);function r(e){var t;return g(this,r),(t=u.call(this)).prop("ro","domain",e.domain||"meet.jit.si"),t.prop("ro","email",e.email||""),t.prop("rw","nick",e.nick||""),t.prop("rw","roomName",e.roomName||"convos-default"),t.prop("persist","disableAudioLevels",!0,{key:"video:disableAudioLevels"}),t.prop("persist","disableH264",!0,{key:"video:disableH264"}),t.prop("persist","resolution",720,{key:"video:resolution"}),t}return $(r,[{key:"render",value:(n=vn(En.mark((function e(t){var n,u,r=this;return En.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[].slice.call(t.children,0),this.targetEl=t,e.next=5,this._load();case 5:this.jitsi=e.sent,n.forEach((function(e){return e.remove()})),t.className=t.className.replace(/cms-main/,"video-chat--wrapper"),document.querySelector(".cms-navbar").classList.add("is-full-width"),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("[Jitsi]",{err:e.t0}),(u=document.querySelector(".video-error")).querySelector("span").textContent=String(e.t0).substring(0,350),u.classList.remove("hidden"),nn(document,".cms-main .fa-spin",(function(e){return e.parentNode.classList.add("hidden")}));case 18:if(this.jitsi){e.next=20;break}return e.abrupt("return",this);case 20:return document.addEventListener("keydown",(function(e){"KeyC"==e.code&&r.jitsi.executeCommand("toggleChat"),"KeyD"==e.code&&r.jitsi.executeCommand("toggleShareScreen"),"KeyF"==e.code&&r.jitsi.executeCommand("toggleFilmStrip"),"KeyM"==e.code&&r.jitsi.executeCommand("toggleAudio"),"KeyR"==e.code&&r.jitsi.executeCommand("toggleRaiseHand"),"KeyV"==e.code&&r.jitsi.executeCommand("toggleVideo"),"KeyW"==e.code&&r.jitsi.executeCommand("toggleTileView"),"Space"==e.code&&r.jitsi.isAudioMuted().then((function(e){return e&&r.jitsi.executeCommand("toggleAudio")}))})),document.addEventListener("keyup",(function(e){"Space"==e.code&&r.jitsi.isAudioMuted().then((function(e){return e||r.jitsi.executeCommand("toggleAudio")}))})),e.abrupt("return",this);case 23:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(e){return n.apply(this,arguments)})},{key:"_configOverwrite",value:function(){return{disableAudioLevels:this.disableAudioLevels,disableH264:this.disableH264,enableWelcomePage:!this.nick,prejoinPageEnabled:!this.nick,minParticipants:1,resolution:this.resolution,analytics:{googleAnalyticsTrackingId:"",scriptURLs:[]},e2eping:{analyticsInterval:-1,pingInterval:-1}}}},{key:"_interfaceConfigOverwrite",value:function(){return{DEFAULT_BACKGROUND:window.getComputedStyle(document.querySelector(".cms-navbar--wrapper")).backgroundColor||"#222222",DISABLE_FOCUS_INDICATOR:!0,DISABLE_DOMINANT_SPEAKER_INDICATOR:!0,DISABLE_VIDEO_BACKGROUND:!0,INITIAL_TOOLBAR_TIMEOUT:1e3,SHOW_CHROME_EXTENSION_BANNER:!0,TOOLBAR_ALWAYS_VISIBLE:!1,TOOLBAR_BUTTONS:["camera","chat","closedcaptions","desktop","etherpad","fodeviceselection","fullscreen","hangup","help","microphone","mute-everyone","profile","raisehand","security","settings","sharedvideo","shortcuts","stats","tileview"],TOOLBAR_TIMEOUT:2e3,VERTICAL_FILMSTRIP:!1,VIDEO_QUALITY_LABEL_DISABLED:!0}}},{key:"_load",value:(t=vn(En.mark((function e(){return En.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xt("https://"+this.domain+"/external_api.js");case 2:return e.abrupt("return",new JitsiMeetExternalAPI(this.domain,this._options()));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_options",value:function(){var e={};return this.email&&(e.email=this.email),this.nick&&(e.displayName=this.nick),{configOverwrite:this._configOverwrite(),interfaceConfigOverwrite:this._interfaceConfigOverwrite(),parentNode:this.targetEl,roomName:this.roomName,userInfo:e,height:"100%",width:"100%"}}}]),r}(Dn);if(nn(document,"#hamburger_checkbox_toggle",(function(e){e.checked=!1})),nn(document,".js-close-window",(function(e){e.addEventListener("click",(function(e){window.opener&&(e.preventDefault(),setTimeout((function(){return window.close()}),1),window.opener.focus())}))})),document.querySelector('meta[name="convos:start_app"][content="chat"]'))document.querySelector(".footer--wrapper").remove(),document.querySelector(".cms-main").remove(),new t$({target:document.body});else if(document.querySelector('meta[name="convos:start_app"][content="jitsi"]')){document.querySelector(".footer--wrapper").remove();var r$=document.querySelector(".cms-main");new u$(r$.dataset).render(r$)}else document.addEventListener("DOMContentLoaded",(function(e){nn(document,"pre",(function(e){return og.lineNumbersBlock(e)}))}));function o$(e){if(!("ontouchstart"in window)){var t=function(e){for(var t=0;t<e.length;t++){var n=document.querySelector(e[t]);if(n&&-1!=n.tabIndex)return n}return null},n=e&&t(["input.is-primary-menu-item","a.is-primary-menu-item"]),u=document.activeElement;if(cn(u,["a","input","textarea"])&&n&&u!=n)return n.focus();var r=t([".is-primary-input",'main input[type="text"], article input[type="text"]',"main a, article a"]);return r?r.focus():n?n.focus():void 0}}document.addEventListener("keydown",(function(e){27==e.keyCode&&(nn(document,".fullscreen",(function(e){return e.click()})),o$()),13==e.keyCode&&e.shiftKey&&(e.preventDefault(),o$("toggle"))}))}();
//# sourceMappingURL=convos.631e7c5e.js.map
