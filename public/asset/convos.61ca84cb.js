!function(){"use strict";var e={add:function(e){document.body.classList.remove("no-"+e),document.body.classList.add("has-"+e)},has:function(e){return document.body.classList.contains("has-"+e)},remove:function(e){document.body.classList.add("no-"+e),document.body.classList.remove("has-"+e)}};function t(t,u){document.addEventListener(t,(function n(r){"mousemove"!=t&&e.add(u),"mousemove"!=t||e.has("touch")||e.add(u),document.removeEventListener(t,n)}))}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t,u){return d=r()?Reflect.construct:function(e,t,u){var r=[null];r.push.apply(r,t);var d=new(Function.bind.apply(e,r));return u&&n(d,u.prototype),d},d.apply(null,arguments)}function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return d(e,arguments,u(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),n(a,e)},a(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,n=new Array(t);u<t;u++)n[u]=e[u];return n}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e,t){if(e){if("string"==typeof e)return o(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);return"Object"===u&&e.constructor&&(u=e.constructor.name),"Map"===u||"Set"===u?Array.from(e):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?o(e,t):void 0}}function s(e){return function(e){if(Array.isArray(e))return o(e)}(e)||i(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,u){var n=l(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:u):r.value}},f.apply(this,arguments)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $(e,t,u){return t&&b(e.prototype,t),u&&b(e,u),e}function v(){}t("mousemove","mouse"),t("touchstart","touch"),e.add("js");var y=function(e){return e};function C(e){return e()}function E(){return Object.create(null)}function A(e){e.forEach(C)}function F(e){return"function"==typeof e}function w(e,t){return e!=e?t==t:e!==t||e&&"object"===m(e)||"function"==typeof e}function _(e){if(null==e)return v;for(var t=arguments.length,u=new Array(t>1?t-1:0),n=1;n<t;n++)u[n-1]=arguments[n];var r=e.subscribe.apply(e,u);return r.unsubscribe?function(){return r.unsubscribe()}:r}function x(e){var t;return _(e,(function(e){return t=e}))(),t}function k(e,t,u){e.$$.on_destroy.push(_(t,u))}function B(e,t,u,n){if(e){var r=S(e,t,u,n);return e[0](r)}}function S(e,t,u,n){return e[1]&&n?function(e,t){for(var u in t)e[u]=t[u];return e}(u.ctx.slice(),e[1](n(t))):u.ctx}function O(e,t,u,n){if(e[2]&&n){var r=e[2](n(u));if(void 0===t.dirty)return r;if("object"===m(r)){for(var d=[],a=Math.max(t.dirty.length,r.length),o=0;o<a;o+=1)d[o]=t.dirty[o]|r[o];return d}return t.dirty|r}return t.dirty}function N(e,t,u,n,r,d){if(r){var a=S(t,u,n,d);e.p(a,r)}}function j(e){if(e.ctx.length>32){for(var t=[],u=e.ctx.length/32,n=0;n<u;n++)t[n]=-1;return t}return-1}function T(e,t,u){return e.set(u),t}function R(e){return e&&F(e.destroy)?e.destroy:v}var L,P="undefined"!=typeof window,M=P?function(){return window.performance.now()}:function(){return Date.now()},I=P?function(e){return requestAnimationFrame(e)}:v,U=new Set;function z(e){U.forEach((function(t){t.c(e)||(U.delete(t),t.f())})),0!==U.size&&I(z)}function H(e,t){e.appendChild(t)}function q(e){if(!e)return document;var t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function G(e){var t=Z("style");return function(e,t){H(e.head||e,t)}(q(e),t),t}function K(e,t,u){e.insertBefore(t,u||null)}function W(e){e.parentNode.removeChild(e)}function Y(e,t){for(var u=0;u<e.length;u+=1)e[u]&&e[u].d(t)}function Z(e){return document.createElement(e)}function V(e){return document.createTextNode(e)}function J(){return V(" ")}function Q(){return V("")}function X(e,t,u,n){return e.addEventListener(t,u,n),function(){return e.removeEventListener(t,u,n)}}function ee(e){return function(t){return t.preventDefault(),e.call(this,t)}}function te(e,t,u){null==u?e.removeAttribute(t):e.getAttribute(t)!==u&&e.setAttribute(t,u)}function ue(e){return Array.from(e.childNodes)}function ne(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function re(e,t){e.value=null==t?"":t}function de(e,t,u,n){e.style.setProperty(t,u,n?"important":"")}function ae(){if(void 0===L){L=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){L=!0}}return L}function oe(e,t,u){e.classList[u?"add":"remove"](t)}function ie(e,t){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createEvent("CustomEvent");return n.initCustomEvent(e,u,!1,t),n}var ce,se=function(){function e(){D(this,e),this.e=this.n=null}return $(e,[{key:"c",value:function(e){this.h(e)}},{key:"m",value:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.e||(this.e=Z(t.nodeName),this.t=t,this.c(e)),this.i(u)}},{key:"h",value:function(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}},{key:"i",value:function(e){for(var t=0;t<this.n.length;t+=1)K(this.t,this.n[t],e)}},{key:"p",value:function(e){this.d(),this.h(e),this.i(this.a)}},{key:"d",value:function(){this.n.forEach(W)}}]),e}(),le=new Set,fe=0;function pe(e){for(var t=5381,u=e.length;u--;)t=(t<<5)-t^e.charCodeAt(u);return t>>>0}function me(e,t,u,n,r,d,a){for(var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,i=16.666/n,c="{\n",s=0;s<=1;s+=i){var l=t+(u-t)*d(s);c+=100*s+"%{".concat(a(l,1-l),"}\n")}var f=c+"100% {".concat(a(u,1-u),"}\n}"),p="__svelte_".concat(pe(f),"_").concat(o),m=q(e);le.add(m);var h=m.__svelte_stylesheet||(m.__svelte_stylesheet=G(e).sheet),g=m.__svelte_rules||(m.__svelte_rules={});g[p]||(g[p]=!0,h.insertRule("@keyframes ".concat(p," ").concat(f),h.cssRules.length));var D=e.style.animation||"";return e.style.animation="".concat(D?"".concat(D,", "):"").concat(p," ").concat(n,"ms linear ").concat(r,"ms 1 both"),fe+=1,p}function he(e,t){var u=(e.style.animation||"").split(", "),n=u.filter(t?function(e){return e.indexOf(t)<0}:function(e){return-1===e.indexOf("__svelte")}),r=u.length-n.length;r&&(e.style.animation=n.join(", "),(fe-=r)||I((function(){fe||(le.forEach((function(e){for(var t=e.__svelte_stylesheet,u=t.cssRules.length;u--;)t.deleteRule(u);e.__svelte_rules={}})),le.clear())})))}function ge(e){ce=e}function De(){if(!ce)throw new Error("Function called outside component initialization");return ce}function be(e){De().$$.on_mount.push(e)}function $e(e){De().$$.on_destroy.push(e)}function ve(e,t){De().$$.context.set(e,t)}function ye(e){return De().$$.context.get(e)}function Ce(e,t){var u=this,n=e.$$.callbacks[t.type];n&&n.slice().forEach((function(e){return e.call(u,t)}))}var Ee=[],Ae=[],Fe=[],we=[],_e=Promise.resolve(),xe=!1;function ke(){xe||(xe=!0,_e.then(Re))}function Be(){return ke(),_e}function Se(e){Fe.push(e)}function Oe(e){we.push(e)}var Ne,je=new Set,Te=0;function Re(){var e=ce;do{for(;Te<Ee.length;){var t=Ee[Te];Te++,ge(t),Le(t.$$)}for(ge(null),Ee.length=0,Te=0;Ae.length;)Ae.pop()();for(var u=0;u<Fe.length;u+=1){var n=Fe[u];je.has(n)||(je.add(n),n())}Fe.length=0}while(Ee.length);for(;we.length;)we.pop()();xe=!1,je.clear(),ge(e)}function Le(e){if(null!==e.fragment){e.update(),A(e.before_update);var t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Se)}}function Pe(e,t,u){e.dispatchEvent(ie("".concat(t?"intro":"outro").concat(u)))}var Me,Ie=new Set;function Ue(){Me={r:0,c:[],p:Me}}function ze(){Me.r||A(Me.c),Me=Me.p}function He(e,t){e&&e.i&&(Ie.delete(e),e.i(t))}function qe(e,t,u,n){if(e&&e.o){if(Ie.has(e))return;Ie.add(e),Me.c.push((function(){Ie.delete(e),n&&(u&&e.d(1),n())})),e.o(t)}}var Ge={duration:0};function Ke(e,t,u,n){var r=t(e,u),d=n?0:1,a=null,o=null,i=null;function c(){i&&he(e,i)}function s(e,t){var u=e.b-d;return t*=Math.abs(u),{a:d,b:e.b,d:u,duration:t,start:e.start,end:e.start+t,group:e.group}}function l(t){var u,n=r||Ge,l=n.delay,f=void 0===l?0:l,p=n.duration,m=void 0===p?300:p,h=n.easing,g=void 0===h?y:h,D=n.tick,b=void 0===D?v:D,$=n.css,C={start:M()+f,b:t};t||(C.group=Me,Me.r+=1),a||o?o=C:($&&(c(),i=me(e,d,t,m,f,g,$)),t&&b(0,1),a=s(C,m),Se((function(){return Pe(e,t,"start")})),u=function(t){if(o&&t>o.start&&(a=s(o,m),o=null,Pe(e,a.b,"start"),$&&(c(),i=me(e,d,a.b,a.duration,0,g,r.css))),a)if(t>=a.end)b(d=a.b,1-d),Pe(e,a.b,"end"),o||(a.b?c():--a.group.r||A(a.group.c)),a=null;else if(t>=a.start){var u=t-a.start;d=a.a+a.d*g(u/a.duration),b(d,1-d)}return!(!a&&!o)},0===U.size&&I(z),new Promise((function(e){U.add({c:u,f:e})})))}return{run:function(e){F(r)?(Ne||(Ne=Promise.resolve()).then((function(){Ne=null})),Ne).then((function(){r=r(),l(e)})):l(e)},end:function(){c(),a=o=null}}}function We(e,t){var u,n=t.token={};function r(e,u,r,d){if(t.token===n){t.resolved=d;var a=t.ctx;void 0!==r&&((a=a.slice())[r]=d);var o=e&&(t.current=e)(a),i=!1;t.block&&(t.blocks?t.blocks.forEach((function(e,n){n!==u&&e&&(Ue(),qe(e,1,1,(function(){t.blocks[n]===e&&(t.blocks[n]=null)})),ze())})):t.block.d(1),o.c(),He(o,1),o.m(t.mount(),t.anchor),i=!0),t.block=o,t.blocks&&(t.blocks[u]=o),i&&Re()}}if((u=e)&&"object"===m(u)&&"function"==typeof u.then){var d=De();if(e.then((function(e){ge(d),r(t.then,1,t.value,e),ge(null)}),(function(e){if(ge(d),r(t.catch,2,t.error,e),ge(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function Ye(e,t,u){var n=t.slice(),r=e.resolved;e.current===e.then&&(n[e.value]=r),e.current===e.catch&&(n[e.error]=r),e.block.p(n,u)}var Ze="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Ve(e,t,u){var n=e.$$.props[t];void 0!==n&&(e.$$.bound[n]=u,u(e.$$.ctx[n]))}function Je(e){e&&e.c()}function Qe(e,t,u,n){var r=e.$$,d=r.fragment,a=r.on_mount,o=r.on_destroy,i=r.after_update;d&&d.m(t,u),n||Se((function(){var t=a.map(C).filter(F);o?o.push.apply(o,s(t)):A(t),e.$$.on_mount=[]})),i.forEach(Se)}function Xe(e,t){var u=e.$$;null!==u.fragment&&(A(u.on_destroy),u.fragment&&u.fragment.d(t),u.on_destroy=u.fragment=null,u.ctx=[])}function et(e,t){-1===e.$$.dirty[0]&&(Ee.push(e),ke(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function tt(e,t,u,n,r,d,a){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],i=ce;ge(e);var c=e.$$={fragment:null,ctx:null,props:d,update:v,not_equal:r,bound:E(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(i?i.$$.context:[])),callbacks:E(),dirty:o,skip_bound:!1,root:t.target||i.$$.root};a&&a(c.root);var s=!1;if(c.ctx=u?u(e,t.props||{},(function(t,u){var n=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:u;return c.ctx&&r(c.ctx[t],c.ctx[t]=n)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](n),s&&et(e,t)),u})):[],c.update(),s=!0,A(c.before_update),c.fragment=!!n&&n(c.ctx),t.target){if(t.hydrate){var l=ue(t.target);c.fragment&&c.fragment.l(l),l.forEach(W)}else c.fragment&&c.fragment.c();t.intro&&He(e.$$.fragment),Qe(e,t.target,t.anchor,t.customElement),Re()}ge(i)}var ut=function(){function e(){D(this,e)}return $(e,[{key:"$destroy",value:function(){Xe(this,1),this.$destroy=v}},{key:"$on",value:function(e,t){var u=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return u.push(t),function(){var e=u.indexOf(t);-1!==e&&u.splice(e,1)}}},{key:"$set",value:function(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}]),e}();function nt(e){let t,u,n,r,d,a;return{c(){t=Z("i"),te(t,"class",u=e[3](e[2],e[1])),te(t,"style",n=ot(e[2],e[0])),t.hidden=r=!e[2]},m(u,n){K(u,t,n),d||(a=X(t,"click",e[6]),d=!0)},p(e,[d]){6&d&&u!==(u=e[3](e[2],e[1]))&&te(t,"class",u),5&d&&n!==(n=ot(e[2],e[0]))&&te(t,"style",n),4&d&&r!==(r=!e[2])&&(t.hidden=r)},i:v,o:v,d(e){e&&W(t),d=!1,a()}}}const rt={brand:"fab",regular:"far",solid:"fas"},dt={batman:"https://www.gravatar.com/avatar/ab1839667863f31e359d98364cfdef61",marcusr:"https://www.gravatar.com/avatar/6c056546d802b1a9ac186ab63f9fb632"},at=["fas fa-anchor","fas fa-atom","fas fa-award","fas fa-balance-scale","fas fa-baseball-ball","fas fa-basketball-ball","fas fa-bicycle","fas fa-bolt","fas fa-book-reader","fas fa-candy-cane","fas fa-carrot","fas fa-cat","fas fa-chess-knight","fas fa-child","fas fa-coffee","fas fa-cookie-bite","fas fa-crow","fas fa-dice","fas fa-dog","fas fa-dove","fas fa-feather","fas fa-fish","fas fa-gem","fas fa-ghost","fas fa-hard-hat","fas fa-hat-cowboy","fas fa-hat-wizard","fas fa-hiking","fas fa-horse-head","fas fa-horse","fas fa-id-badge","fas fa-igloo","fas fa-mask","fas fa-meteor","fas fa-paint-brush","fas fa-paw","fas fa-pepper-hot","fas fa-pizza-slice","fas fa-portrait","fas fa-puzzle-piece","fas fa-rainbow","fas fa-robot","fas fa-rocket","fas fa-running","fas fa-seedling","fas fa-skating","fas fa-skiing","fas fa-smile","fas fa-snowboarding","fas fa-snowflake","fas fa-snowman","fas fa-swimmer","fas fa-umbrella","fas fa-user-astronaut","fas fa-user-graduate","fas fa-user-ninja","fas fa-user-secret","fas fa-walking","fas fa-yin-yang"];function ot(e,t){const u=[];let n="color:";const r=e.match(/^pick:(.+)$/);return r&&dt[r[1]]&&(n="background-color:",u.push('background-image:url("'+dt[r[1]]+'")')),t&&u.push(n+t),u.join(";")}function it(e,t,u){let{class:n=""}=t,{animation:r=""}=t,{color:d=""}=t,{family:a=""}=t,{name:o}=t;return e.$$set=e=>{"class"in e&&u(4,n=e.class),"animation"in e&&u(5,r=e.animation),"color"in e&&u(0,d=e.color),"family"in e&&u(1,a=e.family),"name"in e&&u(2,o=e.name)},[d,a,o,function(e,t){const u=[],d=e.match(/^pick:(.+)$/);if(d){if("Convos"==d[1])return"fas fa-info-circle";if(dt[d[1]])return"fas fa-contributor for-"+d[1].toLowerCase();u.push(function(e){if(e.match(/^\d+$/))return at[e];let t=0;for(let u=0;u<e.length;u++)t=e.charCodeAt(u)+((t<<5)-t),t&=t;return t=Math.abs(t),at[t%at.length]}(d[1]))}else u.push(rt[t]||"fas"),u.push("fa-"+e);return r&&u.push(r.split(" ").map((e=>"fa-"+e))),n&&u.push(n.split(" ")),u.join(" ")},n,r,function(t){Ce.call(this,e,t)}]}class ct extends ut{constructor(e){super(),tt(this,e,it,nt,w,{class:4,animation:5,color:0,family:1,name:2})}}function st(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return lt(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return lt(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,a=!0,o=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return a=e.done,e},e:function(e){o=!0,d=e},f:function(){try{a||null==u.return||u.return()}finally{if(o)throw d}}}}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,n=new Array(t);u<t;u++)n[u]=e[u];return n}var ft=[];function pt(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,n=new Set;function r(u){if(w(e,u)&&(e=u,t)){var r,d=!ft.length,a=st(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;o[1](),ft.push(o,e)}}catch(e){a.e(e)}finally{a.f()}if(d){for(var i=0;i<ft.length;i+=2)ft[i][0](ft[i+1]);ft.length=0}}}function d(t){r(t(e))}function a(d){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,o=[d,a];return n.add(o),1===n.size&&(t=u(r)||v),d(e),function(){n.delete(o),0===n.size&&(t(),t=null)}}return{set:r,update:d,subscribe:a}}function mt(e,t,u){var n,r=!Array.isArray(e),d=r?[e]:e,a=t.length<2;return n=function(e){var u=!1,n=[],o=0,i=v,c=function(){if(!o){i();var u=t(r?n[0]:n,e);a?e(u):i=F(u)?u:v}},s=d.map((function(e,t){return _(e,(function(e){n[t]=e,o&=~(1<<t),u&&c()}),(function(){o|=1<<t}))}));return u=!0,c(),function(){A(s),i()}},{subscribe:pt(u,n).subscribe}}var ht={},gt=bt("menu"),Dt=pt({nColumns:1,width:0});function bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(ht[e])return ht[e];var u=ht[e]=pt(t);return u.toggle=function(e){var n=e.target.closest("a");if(!n)return setTimeout((function(){return u.set(t)}),50);e.preventDefault();var r=n.href.replace(/.*#/,"");0==n.href.indexOf("#")||0==n.href.indexOf(location.href)?u.set(x(u)==r?"":r):setTimeout((function(){return u.set(r)}),100)},u}function $t(e){let t,u,n,r,d,a,o,i,c,s,l,f=e[2].notifications+"";return u=new ct({props:{name:"bars"}}),r=new ct({props:{name:"times"}}),{c(){t=Z("a"),Je(u.$$.fragment),n=J(),Je(r.$$.fragment),d=J(),a=Z("small"),o=V(f),te(a,"class","badge is-important"),a.hidden=i=!e[2].notifications,te(t,"href","#nav"),te(t,"class","btn-hallow"),oe(t,"is-active","nav"==e[1])},m(e,i){K(e,t,i),Qe(u,t,null),H(t,n),Qe(r,t,null),H(t,d),H(t,a),H(a,o),c=!0,s||(l=X(t,"click",gt.toggle),s=!0)},p(e,u){(!c||4&u)&&f!==(f=e[2].notifications+"")&&ne(o,f),(!c||4&u&&i!==(i=!e[2].notifications))&&(a.hidden=i),2&u&&oe(t,"is-active","nav"==e[1])},i(e){c||(He(u.$$.fragment,e),He(r.$$.fragment,e),c=!0)},o(e){qe(u.$$.fragment,e),qe(r.$$.fragment,e),c=!1},d(e){e&&W(t),Xe(u),Xe(r),s=!1,l()}}}function vt(e){let t,u,n;const r=e[5].default,d=B(r,e,e[4],null);let a=e[0].nColumns<=1&&$t(e);return{c(){t=Z("header"),d&&d.c(),u=J(),a&&a.c(),te(t,"class","chat-header")},m(e,r){K(e,t,r),d&&d.m(t,null),H(t,u),a&&a.m(t,null),n=!0},p(e,[u]){d&&d.p&&(!n||16&u)&&N(d,r,e,e[4],n?O(r,e[4],u,null):j(e[4]),null),e[0].nColumns<=1?a?(a.p(e,u),1&u&&He(a,1)):(a=$t(e),a.c(),He(a,1),a.m(t,null)):a&&(Ue(),qe(a,1,1,(()=>{a=null})),ze())},i(e){n||(He(d,e),He(a),n=!0)},o(e){qe(d,e),qe(a),n=!1},d(e){e&&W(t),d&&d.d(e),a&&a.d()}}}function yt(e,t,u){let n,r,d;k(e,Dt,(e=>u(0,n=e))),k(e,gt,(e=>u(1,r=e)));let{$$slots:a={},$$scope:o}=t;const i=ye("user").notifications;return k(e,i,(e=>u(2,d=e))),e.$$set=e=>{"$$scope"in e&&u(4,o=e.$$scope)},[n,r,d,i,o,a]}class Ct extends ut{constructor(e){super(),tt(this,e,yt,vt,w,{})}}function Et(e,t,u){return t in e?Object.defineProperty(e,t,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[t]=u,e}var At,Ft={exports:{}};
/*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   */At=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var u=arguments[e];for(var n in u)t[n]=u[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function u(n){function r(){}function d(t,u,d){if("undefined"!=typeof document){"number"==typeof(d=e({path:"/"},r.defaults,d)).expires&&(d.expires=new Date(1*new Date+864e5*d.expires)),d.expires=d.expires?d.expires.toUTCString():"";try{var a=JSON.stringify(u);/^[\{\[]/.test(a)&&(u=a)}catch(e){}u=n.write?n.write(u,t):encodeURIComponent(String(u)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var i in d)d[i]&&(o+="; "+i,!0!==d[i]&&(o+="="+d[i].split(";")[0]));return document.cookie=t+"="+u+o}}function a(e,u){if("undefined"!=typeof document){for(var r={},d=document.cookie?document.cookie.split("; "):[],a=0;a<d.length;a++){var o=d[a].split("="),i=o.slice(1).join("=");u||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var c=t(o[0]);if(i=(n.read||n)(i,c)||t(i),u)try{i=JSON.parse(i)}catch(e){}if(r[c]=i,e===c)break}catch(e){}}return e?r[e]:r}}return r.set=d,r.get=function(e){return a(e,!1)},r.getJSON=function(e){return a(e,!0)},r.remove=function(t,u){d(t,"",e(u,{expires:-1}))},r.defaults={},r.withConverter=u,r}((function(){}))},Ft.exports=At();var wt=Ft.exports;function _t(e){if(Array.isArray(e))return e}function xt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kt(e,t){return _t(e)||function(e,t){var u=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=u){var n,r,d=[],a=!0,o=!1;try{for(u=u.call(e);!(a=(n=u.next()).done)&&(d.push(n.value),!t||d.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw r}}return d}}(e,t)||c(e,t)||xt()}var Bt=["trace","debug","info","warn","error"],St={},Ot={},Nt=function(){};function jt(e){var t=this,u=e.name;this.name=u,this.isLevel=function(e){var u=Bt.indexOf(e)||e||e.length;return t.numLevel>=u},this.setLevel=function(e){var u=Bt.indexOf(e);return-1==u&&(u=2),t.numLevel=u,Bt.forEach((function(e,n){var r=!console||n<u?Nt:console["trace"==e||"debug"==e?"log":e]||console.log||Nt;t[e]=r.bind(t,"["+t.name+"]")})),t},this.setLevel(function(e){return void 0===Ot.root&&(Object.entries(JSON.parse(localStorage.getItem("logger:nameToLevel")||"{}")).forEach((function(e){var t=kt(e,2),u=t[0],n=t[1];Ot[u]=n||"debug"})),((location.href.match(/_debug=([a-z,:]+)/)||[]).pop()||"").split(",").forEach((function(e){var t=kt(e.split(":"),2),u=t[0],n=t[1];Ot[u]=n||"debug"})),localStorage.setItem("logger:nameToLevel",JSON.stringify(Ot))),Ot[e]||Ot.root||"info"}(u))}function Tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return St[e]||(St[e]=new jt({name:e}))}function Rt(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return Lt(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Lt(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,a=!0,o=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return a=e.done,e},e:function(e){o=!0,d=e},f:function(){try{a||null==u.return||u.return()}finally{if(o)throw d}}}}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,n=new Array(t);u<t;u++)n[u]=e[u];return n}St.root=new jt({name:"root"});var Pt=Tt("util"),Mt=.618033988749,It=1e3,Ut=1e3*It,zt=1e3*Ut;function Ht(e,t){if(t&&!t.match(/^[+-]\w/)&&(t="+"+t),!t)return{};var u,n={},r=!0,d=Rt(t);try{for(d.s();!(u=d.n()).done;){var a=u.value;"+"==a?r=!0:"-"==a?r=!1:n[e[a]||a]=r}}catch(e){d.e(e)}finally{d.f()}return n}function qt(e,t){for(;e;){if(t.tagName?e==t:e.matches&&e.matches(t))return e;e=e.parentNode}return null}function Gt(e){var t=document.createElement("textarea");t.value=e.textContent||e.value,t.style.opacity=0,t.style.position="absolute",document.body.appendChild(t);try{t.focus(),t.select(),document.execCommand("copy")}catch(e){t.value="",Pt.error("copyToClipboard() failed:",e)}return document.body.removeChild(t),t.value}function Kt(e,t){var u=function u(){for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];var a=this;u.debounceTid&&clearTimeout(u.debounceTid),u.debounceTid=setTimeout((function(){e.apply(a,r),u.debounceTid=0}),t)};return u.debounceTid=0,u}function Wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"message",u=e.errors||e;return u&&u[0]?u[0][t]||"Unknown error.":""}function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.95,n=Math.floor(6*e),r=6*e-n,d=u*(1-t),a=u*(1-r*t),o=u*(1-(1-r)*t),i=255,c=255,s=255;switch(n){case 0:i=u,c=o,s=d;break;case 1:i=a,c=u,s=d;break;case 2:i=d,c=u,s=o;break;case 3:i=d,c=a,s=u;break;case 4:i=o,c=d,s=u;break;case 5:i=u,c=d,s=a}return[Math.floor(255*i),Math.floor(255*c),Math.floor(255*s)]}function Zt(e,t){var u=e<It?[e,""]:e<Ut?[e/It,"k"]:e<zt?[e/Ut,"M"]:[e/zt,"G"],n=String(Math.round(10*u[0])/10);return(n.match(/\./)?n:n+".0")+u[1]+(t||"")}var Vt={array:function(e){return Array.isArray(e)},defined:function(e){return!Vt.undefined(e)},false:function(e){return!Vt.true(e)},function:function(e){return"function"==typeof e},number:function(e){return"number"==typeof e},object:function(e){return"object"===m(e)&&null!==e},string:function(e){return"string"==typeof e},stringable:function(e){return"number"==typeof e||"string"==typeof e},true:function(e){return Vt.string(e)?!!e.length&&"0"!=e:!!e},undefined:function(e){return null==e}};function Jt(e){var t=document,u=e.replace(/\W/g,"_");if(!t.getElementById(u)){var n=t.createElement("script"),r=[u,e];return n.id=r[0],n.src=r[1],t.getElementsByTagName("head")[0].appendChild(n),new Promise((function(e,t){n.addEventListener("error",t),n.addEventListener("load",e)}))}}function Qt(e){return Object.keys(e).filter((function(t){return e[t]})).sort().map((function(e){return"has-mode-"+e})).join(" ")}function Xt(e,t,u){var n=":children"==t?e.children:e.querySelectorAll(t);if(!u)return[].slice.call(n,0);if(Array.isArray(u))return[].forEach.call(n,(function(e){return e.addEventListener(u[0],u[1])}));for(var r=[],d=0;d<n.length;d++)r.push(u(n[d],d));return r}function eu(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function tu(e,t){var u=function(e){return document.querySelector('meta[name="convos:'+e+'"]')||document.querySelector('meta[name="'+e+'"]')};if(1==arguments.length){"organization_name"==e&&(e="contactorganization"),"organization_url"==e&&(e="contactnetworkaddress");var n=u(e);if(!n)throw'Cannot get settings for "'+e+'".';var r={no:!1,yes:!0};return"contact"==e?atob(n.content||""):r.hasOwnProperty(n.content)?r[n.content]:n.content}"organization_name"==e&&(e="contactorganization"),"organization_url"==e&&(e="contactnetworkaddress"),"contact"==e&&(t=btoa(t)),"boolean"==typeof t&&(t=t?"yes":"no"),u(e).content=t}function uu(e,t){e&&e.preventDefault&&e.preventDefault();var u,n,r,d,a=(u=document.body,n="fullscreen",r=function(e){e.addEventListener("click",(function(t){return t.target==e&&e.hide()})),e.hide=function(){return a.classList.add("hidden")}},(d=u&&u.querySelector("."+n.split(" ").join(".")))||((d=document.createElement("div")).className=n,u&&u.appendChild(d),r&&r(d),d));return function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(a),t?(a.classList.remove("hidden"),a.appendChild(t.cloneNode(!0)),a):a.hide()}function nu(e){return(Vt.string(e)?e:"").split(/[.,\s]+/).map((function(e){return e.trim()})).filter((function(e){return e.length}))}function ru(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(0==e.length)return"#000";for(var u=0,n=0;n<e.length;n++)u=e.charCodeAt(n)+((u<<5)-u),u&=u;return"#"+Yt(((u=Math.abs(u%t/t))+Mt)%1,.4,.7).map((function(e){return e.toString(16)})).join("")}function du(e,t){return Vt.array(t)?t.find((function(t){return du(e,t)}))||!1:e&&e.tagName&&e.tagName.toLowerCase()===t||!1}function au(e){return e.slice(0,1).toUpperCase()+e.slice(1)}function ou(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function iu(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,n)}return u}function cu(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?iu(Object(u),!0).forEach((function(t){Et(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):iu(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}var su=Tt("reactive"),lu=function(){function e(){D(this,e),this.cookieName="convos_js",this._on={},this._props={}}return $(e,[{key:"emit",value:function(e){for(var t=this._on[e],u=arguments.length,n=new Array(u>1?u-1:0),r=1;r<u;r++)n[r-1]=arguments[r];for(var d=0;d<(t||[]).length;d++){var a;(a=t[d])[0].apply(a,n)}return this}},{key:"on",value:function(e,t){var u=t?null:new Promise((function(e){t=e})),n=this._on[e]||(this._on[e]=[]),r=[t];n.push(r);var d=function(){var e=n.indexOf(r);-1!=e&&n.splice(e,1)};return u?u.finally(d):d}},{key:"prop",value:function(e,t,u){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=cu(cu({},n),{},{defaultValue:u,name:t,type:e,value:u});switch(this._props[t]=r,r.updateable=-1!=["cookie","persist","rw"].indexOf(e),e){case"cookie":return this._cookieProp(r);case"persist":return this._localStorageProp(r);case"ro":return this._readOnlyProp(r);case"rw":return this._updateableProp(r)}throw"["+this.constructor.name+'] Unknown prop type "'+e+'" for prop "'+t+'".'}},{key:"subscribe",value:function(e){return e(this),this.on("update",e)}},{key:"update",value:function(e){var t=this;return Object.keys(e).forEach((function(u){var n=t._props[u];if(!n)return su.trace("["+t.constructor.name+'] Unknown prop "'+u+'".');n.hasOwnProperty("prev")||(n.prev="ro"==n.type?void 0:n.value),n.updateable&&(n.value=e[u])})),this._updatedTid||(this._updatedTid=setTimeout(this._delayedUpdate.bind(this),1)),this}},{key:"_cookie",value:function(e,t){var u=e.key||e.name,n=document.decodedB64JSONCookies||(document.decodedB64JSONCookies={});if(!n[this.cookieName])try{var r=wt.get(this.cookieName);n[this.cookieName]=JSON.parse(r?atob(r):"{}")}catch(e){su.error(Et({},u,e))}var d=n[this.cookieName]||{};if(1==arguments.length)return d[u];t===e.defaultValue?delete d[u]:d[u]=t;var a=0==location.href.indexOf("https:");wt.set(this.cookieName,btoa(JSON.stringify(d)),{expires:365,SameSite:"Lax",secure:a})}},{key:"_cookieProp",value:function(e){var t=this._cookie(e);Vt.defined(t)&&(e.value=t),Vt.undefined(t)&&this._cookie(e,e.value),this._updateableProp(e)}},{key:"_delayedUpdate",value:function(){var e=this,t={};return Object.keys(this._props).forEach((function(u){var n=e._props[u];if(n.hasOwnProperty("prev")){var r=n.prev;delete n.prev,n.value!==r&&("cookie"==n.type&&e._cookie(n,n.value),"persist"==n.type&&e._localStorage(n,n.value),t[u]="ro"!=n.type)}})),delete this._updatedTid,Object.keys(t).length&&this.emit("update",this,t),t}},{key:"_localStorage",value:function(e,t){var u="convos:"+(e.key||e.name);if(2==arguments.length)return t===e.defaultValue?localStorage.removeItem(u):localStorage.setItem(u,JSON.stringify(t));try{return localStorage.hasOwnProperty(u)?JSON.parse(localStorage.getItem(u)):void 0}catch(e){return void su.error(Et({},u,localStorage.getItem(u)),e)}}},{key:"_localStorageProp",value:function(e){var t=this._localStorage(e);Vt.defined(t)&&(e.value=t),Vt.undefined(t)&&this._localStorage(e,e.value),this._updateableProp(e)}},{key:"_readOnlyProp",value:function(e){if(void 0===e.value)throw"["+this.constructor.name+'] Read-only attribute "'+e.name+'" cannot be undefined';var t=Vt.function(e.value)?e.value:function(){return e.value};Object.defineProperty(this,e.name,{get:t})}},{key:"_updateableProp",value:function(e){Object.defineProperty(this,e.name,{get:function(){return e.value}})}}]),e}();function fu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var pu=function(e){p(n,e);var t=fu(n);function n(){var e;return D(this,n),(e=t.call(this)).prop("persist","history",[],{key:"command_history"}),e.prop("rw","conversation",null),e.prop("rw","index",-1),e}return $(n,[{key:"add",value:function(e){if(!e.length)return this;var t=this.history.slice(0,19);return t.unshift(e),this.update({history:t,index:-1})}},{key:"attach",value:function(e){this.inputEl=e}},{key:"render",value:function(e,t){(t=this.index+t)<-1&&(t=-1),t>=this.history.length&&(t=this.history.length-1);var u=this.inputEl.value;return this.inputEl.selectionStart==u.length&&((!u.length||u==this.history[this.index])&&(e.preventDefault(),this.update({index:t}),this.inputEl.value=-1==t?"":this.history[t],!0))}},{key:"update",value:function(e){return e.conversation&&e.conversation!=this.conversation&&this.update({index:-1}),f(u(n.prototype),"update",this).call(this,e)}}]),n}(lu);function mu(e,t,u,n,r,d,a){try{var o=e[d](a),i=o.value}catch(e){return void u(e)}o.done?t(i):Promise.resolve(i).then(n,r)}function hu(e){return function(){var t=this,u=arguments;return new Promise((function(n,r){var d=e.apply(t,u);function a(e){mu(d,n,r,a,o,"next",e)}function o(e){mu(d,n,r,a,o,"throw",e)}a(void 0)}))}}var gu={exports:{}};!function(e){var t=function(e){var t,u=Object.prototype,n=u.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},d=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function i(e,t,u){return Object.defineProperty(e,t,{value:u,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,u){return e[t]=u}}function c(e,t,u,n){var r=t&&t.prototype instanceof D?t:D,d=Object.create(r.prototype),a=new k(n||[]);return d._invoke=function(e,t,u){var n=l;return function(r,d){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===r)throw d;return S()}for(u.method=r,u.arg=d;;){var a=u.delegate;if(a){var o=w(a,u);if(o){if(o===g)continue;return o}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(n===l)throw n=h,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);n=p;var i=s(e,t,u);if("normal"===i.type){if(n=u.done?h:f,i.arg===g)continue;return{value:i.arg,done:u.done}}"throw"===i.type&&(n=h,u.method="throw",u.arg=i.arg)}}}(e,u,a),d}function s(e,t,u){try{return{type:"normal",arg:e.call(t,u)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",f="suspendedYield",p="executing",h="completed",g={};function D(){}function b(){}function $(){}var v={};i(v,d,(function(){return this}));var y=Object.getPrototypeOf,C=y&&y(y(B([])));C&&C!==u&&n.call(C,d)&&(v=C);var E=$.prototype=D.prototype=Object.create(v);function A(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function F(e,t){function u(r,d,a,o){var i=s(e[r],e,d);if("throw"!==i.type){var c=i.arg,l=c.value;return l&&"object"===m(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){u("next",e,a,o)}),(function(e){u("throw",e,a,o)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return u("throw",e,a,o)}))}o(i.arg)}var r;this._invoke=function(e,n){function d(){return new t((function(t,r){u(e,n,t,r)}))}return r=r?r.then(d,d):d()}}function w(e,u){var n=e.iterator[u.method];if(n===t){if(u.delegate=null,"throw"===u.method){if(e.iterator.return&&(u.method="return",u.arg=t,w(e,u),"throw"===u.method))return g;u.method="throw",u.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=s(n,e.iterator,u.arg);if("throw"===r.type)return u.method="throw",u.arg=r.arg,u.delegate=null,g;var d=r.arg;return d?d.done?(u[e.resultName]=d.value,u.next=e.nextLoc,"return"!==u.method&&(u.method="next",u.arg=t),u.delegate=null,g):d:(u.method="throw",u.arg=new TypeError("iterator result is not an object"),u.delegate=null,g)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function B(e){if(e){var u=e[d];if(u)return u.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function u(){for(;++r<e.length;)if(n.call(e,r))return u.value=e[r],u.done=!1,u;return u.value=t,u.done=!0,u};return a.next=a}}return{next:S}}function S(){return{value:t,done:!0}}return b.prototype=$,i(E,"constructor",$),i($,"constructor",b),b.displayName=i($,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,$):(e.__proto__=$,i(e,o,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},A(F.prototype),i(F.prototype,a,(function(){return this})),e.AsyncIterator=F,e.async=function(t,u,n,r,d){void 0===d&&(d=Promise);var a=new F(c(t,u,n,r),d);return e.isGeneratorFunction(u)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(E),i(E,o,"Generator"),i(E,d,(function(){return this})),i(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var u in e)t.push(u);return t.reverse(),function u(){for(;t.length;){var n=t.pop();if(n in e)return u.value=n,u.done=!1,u}return u.done=!0,u}},e.values=B,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var u in this)"t"===u.charAt(0)&&n.call(this,u)&&!isNaN(+u.slice(1))&&(this[u]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var u=this;function r(n,r){return o.type="throw",o.arg=e,u.next=n,r&&(u.method="next",u.arg=t),!!r}for(var d=this.tryEntries.length-1;d>=0;--d){var a=this.tryEntries[d],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var i=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(i&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var u=this.tryEntries.length-1;u>=0;--u){var r=this.tryEntries[u];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var d=r;break}}d&&("break"===e||"continue"===e)&&d.tryLoc<=t&&t<=d.finallyLoc&&(d=null);var a=d?d.completion:{};return a.type=e,a.arg=t,d?(this.method="next",this.next=d.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var u=this.tryEntries[t];if(u.finallyLoc===e)return this.complete(u.completion,u.afterLoc),x(u),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var u=this.tryEntries[t];if(u.tryLoc===e){var n=u.completion;if("throw"===n.type){var r=n.arg;x(u)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,u,n){return this.delegate={iterator:B(e),resultName:u,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"===("undefined"==typeof globalThis?"undefined":m(globalThis))?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(gu);var Du=gu.exports,bu=function(){var e={base:"https://twemoji.maxcdn.com/v/12.1.6/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(e){var t="string"==typeof e?parseInt(e,16):e;if(t<65536)return o(t);return o(55296+((t-=65536)>>10),56320+(1023&t))},toCodePoint:D},onerror:function(){this.parentNode&&this.parentNode.replaceChild(i(this.alt,!1),this)},parse:function(t,u){u&&"function"!=typeof u||(u={callback:u});return("string"==typeof t?p:f)(t,{callback:u.callback||c,attributes:"function"==typeof u.attributes?u.attributes:h,base:"string"==typeof u.base?u.base:e.base,ext:u.ext||e.ext,size:u.folder||(n=u.size||e.size,"number"==typeof n?n+"x"+n:n),className:u.className||e.className,onerror:u.onerror||e.onerror});var n},replace:g,test:function(e){u.lastIndex=0;var t=u.test(e);return u.lastIndex=0,t}},t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},u=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5\udeeb\udeec\udef4-\udefa\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddb4\uddb7\uddba\uddbc-\uddca\uddd0\uddde-\uddff\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,n=/\uFE0F/g,r=String.fromCharCode(8205),d=/[&<>'"]/g,a=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,o=String.fromCharCode;return e;function i(e,t){return document.createTextNode(t?e.replace(n,""):e)}function c(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function s(e,t){for(var u,n,r=e.childNodes,d=r.length;d--;)3===(n=(u=r[d]).nodeType)?t.push(u):1!==n||"ownerSVGElement"in u||a.test(u.nodeName.toLowerCase())||s(u,t);return t}function l(e){return D(e.indexOf(r)<0?e.replace(n,""):e)}function f(e,t){for(var n,r,d,a,o,c,f,p,m,h,g,D,b,$=s(e,[]),v=$.length;v--;){for(d=!1,a=document.createDocumentFragment(),c=(o=$[v]).nodeValue,p=0;f=u.exec(c);){if((m=f.index)!==p&&a.appendChild(i(c.slice(p,m),!0)),D=l(g=f[0]),p=m+g.length,b=t.callback(D,t),D&&b){for(r in(h=new Image).onerror=t.onerror,h.setAttribute("draggable","false"),n=t.attributes(g,D))n.hasOwnProperty(r)&&0!==r.indexOf("on")&&!h.hasAttribute(r)&&h.setAttribute(r,n[r]);h.className=t.className,h.alt=g,h.src=b,d=!0,a.appendChild(h)}h||a.appendChild(i(g,!1)),h=null}d&&(p<c.length&&a.appendChild(i(c.slice(p),!0)),o.parentNode.replaceChild(a,o))}return e}function p(e,t){return g(e,(function(e){var u,n,r=e,a=l(e),o=t.callback(a,t);if(a&&o){for(n in r="<img ".concat('class="',t.className,'" ','draggable="false" ','alt="',e,'"',' src="',o,'"'),u=t.attributes(e,a))u.hasOwnProperty(n)&&0!==n.indexOf("on")&&-1===r.indexOf(" "+n+"=")&&(r=r.concat(" ",n,'="',u[n].replace(d,m),'"'));r=r.concat("/>")}return r}))}function m(e){return t[e]}function h(){return null}function g(e,t){return String(e).replace(u,t)}function D(e,t){for(var u=[],n=0,r=0,d=0;d<e.length;)n=e.charCodeAt(d++),r?(u.push((65536+(r-55296<<10)+(n-56320)).toString(16)),r=0):55296<=n&&n<=56319?r=n:u.push(n.toString(16));return u.join(t||"-")}}(),$u=Object.prototype.hasOwnProperty,vu=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),yu=function(e,t){for(var u=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(u[n]=e[n]);return u},Cu={arrayToObject:yu,assign:function(e,t){return Object.keys(t).reduce((function(e,u){return e[u]=t[u],e}),e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],u=[],n=0;n<t.length;++n)for(var r=t[n],d=r.obj[r.prop],a=Object.keys(d),o=0;o<a.length;++o){var i=a[o],c=d[i];"object"===m(c)&&null!==c&&-1===u.indexOf(c)&&(t.push({obj:d,prop:i}),u.push(c))}return function(e){for(var t;e.length;){var u=e.pop();if(t=u.obj[u.prop],Array.isArray(t)){for(var n=[],r=0;r<t.length;++r)void 0!==t[r]&&n.push(t[r]);u.obj[u.prop]=n}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),u="",n=0;n<t.length;++n){var r=t.charCodeAt(n);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122?u+=t.charAt(n):r<128?u+=vu[r]:r<2048?u+=vu[192|r>>6]+vu[128|63&r]:r<55296||r>=57344?u+=vu[224|r>>12]+vu[128|r>>6&63]+vu[128|63&r]:(n+=1,r=65536+((1023&r)<<10|1023&t.charCodeAt(n)),u+=vu[240|r>>18]+vu[128|r>>12&63]+vu[128|r>>6&63]+vu[128|63&r])}return u},isBuffer:function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,u,n){if(!u)return t;if("object"!==m(u)){if(Array.isArray(t))t.push(u);else{if("object"!==m(t))return[t,u];(n.plainObjects||n.allowPrototypes||!$u.call(Object.prototype,u))&&(t[u]=!0)}return t}if("object"!==m(t))return[t].concat(u);var r=t;return Array.isArray(t)&&!Array.isArray(u)&&(r=yu(t,n)),Array.isArray(t)&&Array.isArray(u)?(u.forEach((function(u,r){$u.call(t,r)?t[r]&&"object"===m(t[r])?t[r]=e(t[r],u,n):t.push(u):t[r]=u})),t):Object.keys(u).reduce((function(t,r){var d=u[r];return $u.call(t,r)?t[r]=e(t[r],d,n):t[r]=d,t}),r)}},Eu=String.prototype.replace,Au=/%20/g,Fu={default:"RFC3986",formatters:{RFC1738:function(e){return Eu.call(e,Au,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},wu=Cu,_u=Fu,xu={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},ku=Date.prototype.toISOString,Bu={delimiter:"&",encode:!0,encoder:wu.encode,encodeValuesOnly:!1,serializeDate:function(e){return ku.call(e)},skipNulls:!1,strictNullHandling:!1},Su=function e(t,u,n,r,d,a,o,i,c,s,l,f){var p=t;if("function"==typeof o)p=o(u,p);else if(p instanceof Date)p=s(p);else if(null===p){if(r)return a&&!f?a(u,Bu.encoder):u;p=""}if("string"==typeof p||"number"==typeof p||"boolean"==typeof p||wu.isBuffer(p))return a?[l(f?u:a(u,Bu.encoder))+"="+l(a(p,Bu.encoder))]:[l(u)+"="+l(String(p))];var m,h=[];if(void 0===p)return h;if(Array.isArray(o))m=o;else{var g=Object.keys(p);m=i?g.sort(i):g}for(var D=0;D<m.length;++D){var b=m[D];d&&null===p[b]||(h=Array.isArray(p)?h.concat(e(p[b],n(u,b),n,r,d,a,o,i,c,s,l,f)):h.concat(e(p[b],u+(c?"."+b:"["+b+"]"),n,r,d,a,o,i,c,s,l,f)))}return h},Ou=Cu,Nu=Object.prototype.hasOwnProperty,ju={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:Ou.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},Tu=function(e,t,u){if(e){var n=u.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,r=/(\[[^[\]]*])/g,d=/(\[[^[\]]*])/.exec(n),a=d?n.slice(0,d.index):n,o=[];if(a){if(!u.plainObjects&&Nu.call(Object.prototype,a)&&!u.allowPrototypes)return;o.push(a)}for(var i=0;null!==(d=r.exec(n))&&i<u.depth;){if(i+=1,!u.plainObjects&&Nu.call(Object.prototype,d[1].slice(1,-1))&&!u.allowPrototypes)return;o.push(d[1])}return d&&o.push("["+n.slice(d.index)+"]"),function(e,t,u){for(var n=t,r=e.length-1;r>=0;--r){var d,a=e[r];if("[]"===a)d=(d=[]).concat(n);else{d=u.plainObjects?Object.create(null):{};var o="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,i=parseInt(o,10);!isNaN(i)&&a!==o&&String(i)===o&&i>=0&&u.parseArrays&&i<=u.arrayLimit?(d=[])[i]=n:d[o]=n}n=d}return n}(o,t,u)}},Ru=function(e,t){var u=e,n=t?wu.assign({},t):{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var r=void 0===n.delimiter?Bu.delimiter:n.delimiter,d="boolean"==typeof n.strictNullHandling?n.strictNullHandling:Bu.strictNullHandling,a="boolean"==typeof n.skipNulls?n.skipNulls:Bu.skipNulls,o="boolean"==typeof n.encode?n.encode:Bu.encode,i="function"==typeof n.encoder?n.encoder:Bu.encoder,c="function"==typeof n.sort?n.sort:null,s=void 0!==n.allowDots&&n.allowDots,l="function"==typeof n.serializeDate?n.serializeDate:Bu.serializeDate,f="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:Bu.encodeValuesOnly;if(void 0===n.format)n.format=_u.default;else if(!Object.prototype.hasOwnProperty.call(_u.formatters,n.format))throw new TypeError("Unknown format option provided.");var p,h,g=_u.formatters[n.format];"function"==typeof n.filter?u=(h=n.filter)("",u):Array.isArray(n.filter)&&(p=h=n.filter);var D,b=[];if("object"!==m(u)||null===u)return"";D=n.arrayFormat in xu?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var $=xu[D];p||(p=Object.keys(u)),c&&p.sort(c);for(var v=0;v<p.length;++v){var y=p[v];a&&null===u[y]||(b=b.concat(Su(u[y],y,$,d,a,o?i:null,h,c,s,l,g,f)))}var C=b.join(r),E=!0===n.addQueryPrefix?"?":"";return C.length>0?E+C:""},Lu={formats:Fu,parse:function(e,t){var u=t?Ou.assign({},t):{};if(null!==u.decoder&&void 0!==u.decoder&&"function"!=typeof u.decoder)throw new TypeError("Decoder has to be a function.");if(u.ignoreQueryPrefix=!0===u.ignoreQueryPrefix,u.delimiter="string"==typeof u.delimiter||Ou.isRegExp(u.delimiter)?u.delimiter:ju.delimiter,u.depth="number"==typeof u.depth?u.depth:ju.depth,u.arrayLimit="number"==typeof u.arrayLimit?u.arrayLimit:ju.arrayLimit,u.parseArrays=!1!==u.parseArrays,u.decoder="function"==typeof u.decoder?u.decoder:ju.decoder,u.allowDots="boolean"==typeof u.allowDots?u.allowDots:ju.allowDots,u.plainObjects="boolean"==typeof u.plainObjects?u.plainObjects:ju.plainObjects,u.allowPrototypes="boolean"==typeof u.allowPrototypes?u.allowPrototypes:ju.allowPrototypes,u.parameterLimit="number"==typeof u.parameterLimit?u.parameterLimit:ju.parameterLimit,u.strictNullHandling="boolean"==typeof u.strictNullHandling?u.strictNullHandling:ju.strictNullHandling,""===e||null==e)return u.plainObjects?Object.create(null):{};for(var n="string"==typeof e?function(e,t){for(var u={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,r=t.parameterLimit===1/0?void 0:t.parameterLimit,d=n.split(t.delimiter,r),a=0;a<d.length;++a){var o,i,c=d[a],s=c.indexOf("]="),l=-1===s?c.indexOf("="):s+1;-1===l?(o=t.decoder(c,ju.decoder),i=t.strictNullHandling?null:""):(o=t.decoder(c.slice(0,l),ju.decoder),i=t.decoder(c.slice(l+1),ju.decoder)),Nu.call(u,o)?u[o]=[].concat(u[o]).concat(i):u[o]=i}return u}(e,u):e,r=u.plainObjects?Object.create(null):{},d=Object.keys(n),a=0;a<d.length;++a){var o=d[a],i=Tu(o,n[o],u);r=Ou.merge(r,i,u)}return Ou.compact(r)},stringify:Ru};
/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */function Pu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var Mu=Tt("route"),Iu=function(e){p(n,e);var t=Pu(n);function n(){var e;return D(this,n),(e=t.call(this)).prop("ro","basePath",(function(){return e._basePath})),e.prop("ro","hash",(function(){return(e._location.hash||"").replace(/^#/,"")})),e.prop("ro","path",(function(){return e._path})),e.prop("ro","pathParts",(function(){return e._pathParts})),e.prop("ro","query",(function(){return e._query})),e.prop("rw","baseUrl",""),e.prop("rw","enabled",!1),e._onClick=e._onClick.bind(h(e)),e._onLocationChange=e._onLocationChange.bind(h(e)),window.addEventListener("click",e._onClick),window.addEventListener("popstate",e._onLocationChange),e._history=window.history,e._location=window.location,e._basePath="",e._path="/",e._pathParts=[],e._query={},e}return $(n,[{key:"conversationPath",value:function(e){var t=["","chat"];return e.connection_id&&t.push(e.connection_id),e.conversation_id&&t.push(e.conversation_id),t.map((function(e){return encodeURIComponent(e)})).join("/")}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};0==e.indexOf(this.baseUrl)&&(e=e.substr(this.baseUrl.length));var u=this.baseUrl+e;if(u==this._location.href)return this;this._history[t.replace?"replaceState":"pushState"]({},document.title,u),t.replace||gt.set(""),this.update({path:!0})._onLocationChange({})}},{key:"param",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",u=this.query;return u.hasOwnProperty(e)?u[e]:t}},{key:"subscribe",value:function(e){return e(this),this.on("update",e)}},{key:"update",value:function(e){return e.baseUrl&&(e.baseUrl=e.baseUrl.replace(/\/+$/,""),this._basePath=new URL(e.baseUrl).pathname.replace(/\/+$/,"")),f(u(n.prototype),"update",this).call(this,e),e.baseUrl&&this._onLocationChange(),this}},{key:"urlFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=e.match(/^\w+:/)||e.match(/^#/)?e:this.basePath+e,n=Object.keys(t).sort().filter((function(e){return Vt.defined(t[e])})).map((function(e){return e+"="+encodeURIComponent(t[e])})).join("&");return u+(n?"?"+n:"")}},{key:"wsUrlFor",value:function(e){return(e.match(/^\w+:/)?e:this.baseUrl+e).replace(/^http/,"ws")}},{key:"_onClick",value:function(e){if(this.enabled&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){var t=e.target&&e.target.closest("a");if(t&&t.href){if("_self"==t.target)if((0==t.href.indexOf("/")?this.baseUrl+t.href:t.href)==location.href)return location.reload();if(!t.hasAttribute("download")&&!t.hasAttribute("target")){var u=t.getAttribute("href")||"";0==u.indexOf("#")&&(u=this.path+u),0==u.indexOf("./")&&(u="/"+this._pathParts.slice(0,-1).join("/")+u.replace(/^\./,"")),0==u.indexOf(this.baseUrl)&&(u=u.substr(this.baseUrl.length)),0==u.indexOf(this.basePath)&&(u=u.substr(this.basePath.length)),0==u.indexOf("/")&&(this.go(u,{},t.hasAttribute("replace")),e.preventDefault())}}}}},{key:"_onLocationChange",value:function(e){if(this.enabled){gt.set("");var t=this._location.href.substr(this.baseUrl.length).split("#")[0].split("?");this._query=2==t.length?Lu.parse(t.pop()):{},this._path=t[0],this._pathParts=t[0].length<=1?[]:t[0].replace(/^\//,"").split("/").map(decodeURIComponent),Mu.info('path="'+this._path+'" '+JSON.stringify(this._pathParts)+", query="+JSON.stringify(this._query)),this.update({path:!0})}}}]),n}(lu),Uu=new Iu;function zu(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return Hu(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Hu(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,a=!0,o=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return a=e.done,e},e:function(e){o=!0,d=e},f:function(){try{a||null==u.return||u.return()}finally{if(o)throw d}}}}function Hu(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,n=new Array(t);u<t;u++)n[u]=e[u];return n}var qu=function(){function e(){D(this,e),this.aliases=this._buildAliases(),this.re=this._buildRe(),this.byShortName={},this.grouped={},this.status="pending"}var t;return $(e,[{key:"load",value:(t=hu(Du.mark((function e(){var t;return Du.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1==["loading","success"].indexOf(this.status)){e.next=2;break}return e.abrupt("return",this);case 2:return this.status="loading",e.next=5,fetch(Uu.urlFor("/emojis/0bf11a9aff0d6da7b46f1490f86a71eb.json"));case 5:return t=e.sent,e.t0=this,e.next=9,t.json();case 9:return e.t1=e.sent.emojis,e.t0._load.call(e.t0,e.t1),this.status="success",e.abrupt("return",this);case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"markup",value:function(e){var t=this;return bu.parse(e.replace(this.re,(function(e,u,n){var r=t.aliases[n]||n,d=t.byShortName[r];return u+(d&&d.emoji||n)})))}},{key:"search",value:function(e){var t=this;e=e.toLowerCase();var u=this.grouped[e]||this.grouped[e.substring(0,2)]||{};return Object.keys(u).sort((function(e,t){return u[e]-u[t]})).map((function(e){return t.byShortName[e]})).filter((function(t){return-1!=(t.shortname+t.name).toLowerCase().indexOf(e)}))}},{key:"_buildAliases",value:function(){return{"&lt;3":":heart:","(Y)":":thumbsup:",":(":":disappointed:",":)":":slight_smile:",":-*":":kissing:",":/":":confused:",":D":":smiley:",":O":":open_mouth:",":P":":stuck_out_tongue:",";)":":wink:",";D":":grin:"}}},{key:"_buildRe",value:function(){var e=Object.keys(this.aliases).sort().map(eu).join("|");return new RegExp("(^|\\s)(:\\w+:|"+e+")(?=\\s|\\,|\\.|$)","gi")}},{key:"_load",value:function(e){this.grouped={};var t,u=zu(e);try{for(u.s();!(t=u.n()).done;){var n=t.value;n.emoji&&n.shortname&&(n.name||(n.name=n.shortname),delete n.category,delete n.html,delete n.order,delete n.unicode,this.byShortName[n.shortname]=n,this._toGrouped(n))}}catch(e){u.e(e)}finally{u.f()}}},{key:"_toGrouped",value:function(e){var t=this.grouped;([e.shortname,e.name].join("-").replace(/\W+/," ").match(/\W(\w{2})/g)||[]).forEach((function(u,n){u=u.substring(1).toLowerCase(),t[u]||(t[u]={}),t[u][e.shortname]=n,u=u[0],t[u]||(t[u]={}),t[u][e.shortname]=n}))}}]),e}();function Gu(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return Ku(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Ku(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,a=!0,o=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return a=e.done,e},e:function(e){o=!0,d=e},f:function(){try{a||null==u.return||u.return()}finally{if(o)throw d}}}}function Ku(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,n=new Array(t);u<t;u++)n[u]=e[u];return n}
/*!
   * XRegExp 5.1.0
   * <xregexp.com>
   * Steven Levithan (c) 2007-present MIT License
   */var Wu={astral:!1,namespacing:!0},Yu={},Zu={},Vu={},Ju=[],Qu="default",Xu="class",en={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},tn=/\$(?:\{([^\}]+)\}|<([^>]+)>|(\d\d?|[\s\S]?))/g,un=void 0===/()??/.exec("")[1],nn=void 0!==/x/.flags;function rn(e){var t=!0;try{if(new RegExp("",e),"y"===e){".."===".a".replace(new RegExp("a","gy"),".")&&(t=!1)}}catch(e){t=!1}return t}var dn=rn("s"),an=rn("u"),on=rn("y"),cn={g:!0,i:!0,m:!0,s:dn,u:an,y:on},sn=dn?/[^gimsuy]+/g:/[^gimuy]+/g;function ln(e,t,u,n,r){if(e.xregexp={captureNames:t},r)return e;if(e.__proto__)e.__proto__=Fn.prototype;else for(var d in Fn.prototype)e[d]=Fn.prototype[d];return e.xregexp.source=u,e.xregexp.flags=n?n.split("").sort().join(""):n,e}function fn(e){return e.replace(/([\s\S])(?=[\s\S]*\1)/g,"")}function pn(e,t){if(!Fn.isRegExp(e))throw new TypeError("Type RegExp expected");var u=e.xregexp||{},n=function(e){return nn?e.flags:/\/([a-z]*)$/i.exec(RegExp.prototype.toString.call(e))[1]}(e),r="",d="",a=null,o=null;return(t=t||{}).removeG&&(d+="g"),t.removeY&&(d+="y"),d&&(n=n.replace(new RegExp("[".concat(d,"]+"),"g"),"")),t.addG&&(r+="g"),t.addY&&(r+="y"),r&&(n=fn(n+r)),t.isInternalOnly||(void 0!==u.source&&(a=u.source),null!=u.flags&&(o=r?fn(u.flags+r):u.flags)),e=ln(new RegExp(t.source||e.source,n),function(e){return!(!e.xregexp||!e.xregexp.captureNames)}(e)?u.captureNames.slice(0):null,a,o,t.isInternalOnly)}function mn(e){return parseInt(e,16)}function hn(e,t,u){var n=e.index+e[0].length,r=e.input[e.index-1],d=e.input[n];return/^[()|]$/.test(r)||/^[()|]$/.test(d)||0===e.index||n===e.input.length||/\(\?(?:[:=!]|<[=!])$/.test(e.input.substring(e.index-4,e.index))||function(e,t,u){var n="\\(\\?#[^)]*\\)",r="#[^#\\n]*",d="[?*+]|{\\d+(?:,\\d*)?}";return(u.includes("x")?new RegExp("^(?:\\s|".concat(r,"|").concat(n,")*(?:").concat(d,")")):new RegExp("^(?:".concat(n,")*(?:").concat(d,")"))).test(e.slice(t))}(e.input,n,u)?"":"(?:)"}function gn(e){return parseInt(e,10).toString(16)}function Dn(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}function bn(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}function $n(e){for(;e.length<4;)e="0".concat(e);return e}function vn(e){var t={};return Dn(e,"String")?(Fn.forEach(e,/[^\s,]+/,(function(e){t[e]=!0})),t):e}function yn(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");cn[e]=!0}function Cn(e,t,u,n,r){for(var d,a,o=Ju.length,i=e[u],c=null;o--;)if(!((a=Ju[o]).leadChar&&a.leadChar!==i||a.scope!==n&&"all"!==a.scope||a.flag&&!t.includes(a.flag))&&(d=Fn.exec(e,a.regex,u,"sticky"))){c={matchLength:d[0].length,output:a.handler.call(r,d,n,t),reparse:a.reparse};break}return c}function En(e){Wu.astral=e}function An(e){Wu.namespacing=e}function Fn(e,t){if(Fn.isRegExp(e)){if(void 0!==t)throw new TypeError("Cannot supply flags when copying a RegExp");return pn(e)}if(e=void 0===e?"":String(e),t=void 0===t?"":String(t),Fn.isInstalled("astral")&&!t.includes("A")&&(t+="A"),Vu[e]||(Vu[e]={}),!Vu[e][t]){for(var u,n={hasNamedCapture:!1,captureNames:[]},r=Qu,d="",a=0,o=function(e,t){if(fn(t)!==t)throw new SyntaxError("Invalid duplicate regex flag ".concat(t));e=e.replace(/^\(\?([\w$]+)\)/,(function(e,u){if(/[gy]/.test(u))throw new SyntaxError("Cannot use flag g or y in mode modifier ".concat(e));return t=fn(t+u),""}));var u,n=Gu(t);try{for(n.s();!(u=n.n()).done;){var r=u.value;if(!cn[r])throw new SyntaxError("Unknown regex flag ".concat(r))}}catch(e){n.e(e)}finally{n.f()}return{pattern:e,flags:t}}(e,t),i=o.pattern,c=o.flags;a<i.length;){do{(u=Cn(i,c,a,r,n))&&u.reparse&&(i=i.slice(0,a)+u.output+i.slice(a+u.matchLength))}while(u&&u.reparse);if(u)d+=u.output,a+=u.matchLength||1;else{var s=kt(Fn.exec(i,en[r],a,"sticky"),1)[0];d+=s,a+=s.length,"["===s&&r===Qu?r=Xu:"]"===s&&r===Xu&&(r=Qu)}}Vu[e][t]={pattern:d.replace(/(?:\(\?:\))+/g,"(?:)"),flags:c.replace(sn,""),captures:n.hasNamedCapture?n.captureNames:null}}var l=Vu[e][t];return ln(new RegExp(l.pattern,l.flags),l.captures,e,t)}Fn.prototype=new RegExp,Fn.version="5.1.0",Fn._clipDuplicates=fn,Fn._hasNativeFlag=rn,Fn._dec=mn,Fn._hex=gn,Fn._pad4=$n,Fn.addToken=function(e,t,u){var n=(u=u||{}).optionalFlags;if(u.flag&&yn(u.flag),n){var r,d=Gu(n=n.split(""));try{for(d.s();!(r=d.n()).done;){yn(r.value)}}catch(e){d.e(e)}finally{d.f()}}Ju.push({regex:pn(e,{addG:!0,addY:on,isInternalOnly:!0}),handler:t,scope:u.scope||Qu,flag:u.flag,reparse:u.reparse,leadChar:u.leadChar}),Fn.cache.flush("patterns")},Fn.cache=function(e,t){return Zu[e]||(Zu[e]={}),Zu[e][t]||(Zu[e][t]=Fn(e,t))},Fn.cache.flush=function(e){"patterns"===e?Vu={}:Zu={}},Fn.escape=function(e){return String(bn(e)).replace(/[\\\[\]{}()*+?.^$|]/g,"\\$&").replace(/[\s#\-,]/g,(function(e){return"\\u".concat($n(gn(e.charCodeAt(0))))}))},Fn.exec=function(e,t,u,n){var r,d,a="g",o=!1;(r=on&&!!(n||t.sticky&&!1!==n))?a+="y":n&&(o=!0,a+="FakeY"),t.xregexp=t.xregexp||{};var i=t.xregexp[a]||(t.xregexp[a]=pn(t,{addG:!0,addY:r,source:o?"".concat(t.source,"|()"):void 0,removeY:!1===n,isInternalOnly:!0}));return u=u||0,i.lastIndex=u,d=Yu.exec.call(i,e),o&&d&&""===d.pop()&&(d=null),t.global&&(t.lastIndex=d?i.lastIndex:0),d},Fn.forEach=function(e,t,u){for(var n,r=0,d=-1;n=Fn.exec(e,t,r);)u(n,++d,e,t),r=n.index+(n[0].length||1)},Fn.globalize=function(e){return pn(e,{addG:!0})},Fn.install=function(e){e=vn(e),!Wu.astral&&e.astral&&En(!0),!Wu.namespacing&&e.namespacing&&An(!0)},Fn.isInstalled=function(e){return!!Wu[e]},Fn.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},Fn.match=function(e,t,u){var n=t.global&&"one"!==u||"all"===u,r=(n?"g":"")+(t.sticky?"y":"")||"noGY";t.xregexp=t.xregexp||{};var d=t.xregexp[r]||(t.xregexp[r]=pn(t,{addG:!!n,removeG:"one"===u,isInternalOnly:!0})),a=String(bn(e)).match(d);return t.global&&(t.lastIndex="one"===u&&a?a.index+a[0].length:0),n?a||[]:a&&a[0]},Fn.matchChain=function(e,t){return function e(u,n){var r=t[n].regex?t[n]:{regex:t[n]},d=[];function a(e){if(r.backref){var t="Backreference to undefined group: ".concat(r.backref),u=isNaN(r.backref);if(u&&Fn.isInstalled("namespacing")){if(!e.groups||!(r.backref in e.groups))throw new ReferenceError(t)}else if(!e.hasOwnProperty(r.backref))throw new ReferenceError(t);var n=u&&Fn.isInstalled("namespacing")?e.groups[r.backref]:e[r.backref];d.push(n||"")}else d.push(e[0])}var o,i=Gu(u);try{for(i.s();!(o=i.n()).done;){var c=o.value;Fn.forEach(c,r.regex,a)}}catch(e){i.e(e)}finally{i.f()}return n!==t.length-1&&d.length?e(d,n+1):d}([e],0)},Fn.replace=function(e,t,u,n){var r=Fn.isRegExp(t),d=t.global&&"one"!==n||"all"===n,a=(d?"g":"")+(t.sticky?"y":"")||"noGY",o=t;r?(t.xregexp=t.xregexp||{},o=t.xregexp[a]||(t.xregexp[a]=pn(t,{addG:!!d,removeG:"one"===n,isInternalOnly:!0}))):d&&(o=new RegExp(Fn.escape(String(t)),"g"));var i=Yu.replace.call(bn(e),o,u);return r&&t.global&&(t.lastIndex=0),i},Fn.replaceEach=function(e,t){var u,n=Gu(t);try{for(n.s();!(u=n.n()).done;){var r=u.value;e=Fn.replace(e,r[0],r[1],r[2])}}catch(e){n.e(e)}finally{n.f()}return e},Fn.split=function(e,t,u){return Yu.split.call(bn(e),t,u)},Fn.test=function(e,t,u,n){return!!Fn.exec(e,t,u,n)},Fn.uninstall=function(e){e=vn(e),Wu.astral&&e.astral&&En(!1),Wu.namespacing&&e.namespacing&&An(!1)},Fn.union=function(e,t,u){var n,r,d=(u=u||{}).conjunction||"or",a=0;function o(e,t,u){var d=r[a-n];if(t){if(++a,d)return"(?<".concat(d,">")}else if(u)return"\\".concat(+u+n);return e}if(!Dn(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");var i,c=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,s=[],l=Gu(e);try{for(l.s();!(i=l.n()).done;){var f=i.value;Fn.isRegExp(f)?(n=a,r=f.xregexp&&f.xregexp.captureNames||[],s.push(Fn(f.source).source.replace(c,o))):s.push(Fn.escape(f))}}catch(e){l.e(e)}finally{l.f()}var p="none"===d?"":"|";return Fn(s.join(p),t)},Yu.exec=function(e){var t=this.lastIndex,u=RegExp.prototype.exec.apply(this,arguments);if(u){if(!un&&u.length>1&&u.includes("")){var n=pn(this,{removeG:!0,isInternalOnly:!0});String(e).slice(u.index).replace(n,(function(){for(var e=arguments.length,t=1;t<e-2;++t)void 0===(t<0||arguments.length<=t?void 0:arguments[t])&&(u[t]=void 0)}))}if(this.xregexp&&this.xregexp.captureNames){var r=u;Fn.isInstalled("namespacing")&&(u.groups=Object.create(null),r=u.groups);for(var d=1;d<u.length;++d){var a=this.xregexp.captureNames[d-1];a&&(r[a]=u[d])}}else!u.groups&&Fn.isInstalled("namespacing")&&(u.groups=void 0);this.global&&!u[0].length&&this.lastIndex>u.index&&(this.lastIndex=u.index)}return this.global||(this.lastIndex=t),u},Yu.test=function(e){return!!Yu.exec.call(this,e)},Yu.match=function(e){if(Fn.isRegExp(e)){if(e.global){var t=String.prototype.match.apply(this,arguments);return e.lastIndex=0,t}}else e=new RegExp(e);return Yu.exec.call(e,bn(this))},Yu.replace=function(e,t){var u,n,r,d=Fn.isRegExp(e);return d?(e.xregexp&&(n=e.xregexp.captureNames),u=e.lastIndex):e+="",r=Dn(t,"Function")?String(this).replace(e,(function(){for(var e=arguments.length,u=new Array(e),r=0;r<e;r++)u[r]=arguments[r];if(n){var d;Fn.isInstalled("namespacing")?(d=Object.create(null),u.push(d)):(u[0]=new String(u[0]),d=u[0]);for(var a=0;a<n.length;++a)n[a]&&(d[n[a]]=u[a+1])}return t.apply(void 0,u)})):String(bn(this)).replace(e,(function(){for(var e=arguments.length,u=new Array(e),r=0;r<e;r++)u[r]=arguments[r];return String(t).replace(tn,d);function d(e,t,r,d){t=t||r;var a=Dn(u[u.length-1],"Object")?4:3,o=u.length-a;if(t){if(/^\d+$/.test(t)){var i=+t;if(i<=o)return u[i]||""}var c=n?n.indexOf(t):-1;if(c<0)throw new SyntaxError("Backreference to undefined group ".concat(e));return u[c+1]||""}if(""===d||" "===d)throw new SyntaxError("Invalid token ".concat(e));if("&"===d||0==+d)return u[0];if("$"===d)return"$";if("`"===d)return u[u.length-1].slice(0,u[u.length-2]);if("'"===d)return u[u.length-1].slice(u[u.length-2]+u[0].length);if(d=+d,!isNaN(d)){if(d>o)throw new SyntaxError("Backreference to undefined group ".concat(e));return u[d]||""}throw new SyntaxError("Invalid token ".concat(e))}})),d&&(e.global?e.lastIndex=0:e.lastIndex=u),r},Yu.split=function(e,t){if(!Fn.isRegExp(e))return String.prototype.split.apply(this,arguments);var u,n=String(this),r=[],d=e.lastIndex,a=0;return t=(void 0===t?-1:t)>>>0,Fn.forEach(n,e,(function(e){e.index+e[0].length>a&&(r.push(n.slice(a,e.index)),e.length>1&&e.index<n.length&&Array.prototype.push.apply(r,e.slice(1)),u=e[0].length,a=e.index+u)})),a===n.length?e.test("")&&!u||r.push(""):r.push(n.slice(a)),e.lastIndex=d,r.length>t?r.slice(0,t):r},Fn.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,(function(e,t){if("B"===e[1]&&t===Qu)return e[0];throw new SyntaxError("Invalid escape ".concat(e[0]))}),{scope:"all",leadChar:"\\"}),Fn.addToken(/\\u{([\dA-Fa-f]+)}/,(function(e,t,u){var n=mn(e[1]);if(n>1114111)throw new SyntaxError("Invalid Unicode code point ".concat(e[0]));if(n<=65535)return"\\u".concat($n(gn(n)));if(an&&u.includes("u"))return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")}),{scope:"all",leadChar:"\\"}),Fn.addToken(/\(\?#[^)]*\)/,hn,{leadChar:"("}),Fn.addToken(/\s+|#[^\n]*\n?/,hn,{flag:"x"}),dn||Fn.addToken(/\./,(function(){return"[\\s\\S]"}),{flag:"s",leadChar:"."}),Fn.addToken(/\\k<([^>]+)>/,(function(e){var t=isNaN(e[1])?this.captureNames.indexOf(e[1])+1:+e[1],u=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError("Backreference to undefined group ".concat(e[0]));return"\\".concat(t).concat(u===e.input.length||isNaN(e.input[u])?"":"(?:)")}),{leadChar:"\\"}),Fn.addToken(/\\(\d+)/,(function(e,t){if(!(t===Qu&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group ".concat(e[0]));return e[0]}),{scope:"all",leadChar:"\\"}),Fn.addToken(/\(\?P?<((?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088E\u0898-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]|\uDB40[\uDD00-\uDDEF])*)>/,(function(e){if(!Fn.isInstalled("namespacing")&&("length"===e[1]||"__proto__"===e[1]))throw new SyntaxError("Cannot use reserved word as capture name ".concat(e[0]));if(this.captureNames.includes(e[1]))throw new SyntaxError("Cannot use same name for multiple groups ".concat(e[0]));return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),{leadChar:"("}),Fn.addToken(/\((?!\?)/,(function(e,t,u){return u.includes("n")?"(?:":(this.captureNames.push(null),"(")}),{optionalFlags:"n",leadChar:"("});function wn(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return _n(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _n(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,a=!0,o=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return a=e.done,e},e:function(e){o=!0,d=e},f:function(){try{a||null==u.return||u.return()}finally{if(o)throw d}}}}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,n=new Array(t);u<t;u++)n[u]=e[u];return n}
/*!
   * XRegExp Unicode Base 5.1.0
   * <xregexp.com>
   * Steven Levithan (c) 2008-present MIT License
   */var xn=[{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0--­͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-؅؜۝܎܏݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࡯࢏-ࢗ࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୔୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺఻౅౉౎-౔౗౛౜౞౟౤౥౰-౶಍಑಩಴಺಻೅೉೎-೔೗-೜೟೤೥೰ೳ-೿഍഑൅൉൐-൓൤൥඀඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅຋຤຦຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿᜖-᜞᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠎᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯᫏-᫿᭍-᭏᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏᳻-᳿἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿​-‏‪-‮⁠-⁯⁲⁳₏₝-₟⃁-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹞-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏㇤-㇯㈟꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ɤ-꟏꟒꟔Ꟛ-꟱꠭-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯꭬-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯃-﯒﶐﶑﷈-﷎﷐-﷯︚-︟﹓﹧﹬-﹯﹵﻽-＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￻￾￿",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9d-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd7b\udd8b\udd93\udd96\udda2\uddb2\uddba\uddbd-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udf7f\udf86\udfb1\udfbb-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude36\ude37\ude3b-\ude3e\ude49-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd28-\udd2f\udd3a-\ude5f\ude7f\udeaa\udeae\udeaf\udeb2-\udeff\udf28-\udf2f\udf5a-\udf6f\udf8a-\udfaf\udfcc-\udfdf\udff7-\udfff]|\ud804[\udc4e-\udc51\udc76-\udc7e\udcbd\udcc3-\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd48-\udd4f\udd77-\udd7f\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5c\udc62-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeba-\udebf\udeca-\udeff\udf1b\udf1c\udf2c-\udf2f\udf47-\udfff]|\ud806[\udc3c-\udc9f\udcf3-\udcfe\udd07\udd08\udd0a\udd0b\udd14\udd17\udd36\udd39\udd3a\udd47-\udd4f\udd5a-\udd9f\udda8\udda9\uddd8\uddd9\udde5-\uddff\ude48-\ude4f\udea3-\udeaf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udcff\udd07\udd0a\udd37-\udd39\udd3b\udd3e\udd48-\udd4f\udd5a-\udd5f\udd66\udd69\udd8f\udd92\udd99-\udd9f\uddaa-\udedf\udef9-\udfaf\udfb1-\udfbf\udff2-\udffe]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80e-\ud810\ud812-\ud819\ud824-\ud82a\ud82d\ud82e\ud830-\ud832\ud83f\ud87b-\ud87d\ud87f\ud885-\udb3f\udb41-\udbff][\udc00-\udfff]|\ud80b[\udc00-\udf8f\udff3-\udfff]|\ud80d[\udc2f-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\udebf\udeca-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\ude3f\ude9b-\udeff\udf4b-\udf4e\udf88-\udf8e\udfa0-\udfdf\udfe5-\udfef\udff2-\udfff]|\ud821[\udff8-\udfff]|\ud823[\udcd6-\udcff\udd09-\udfff]|\ud82b[\udc00-\udfef\udff4\udffc\udfff]|\ud82c[\udd23-\udd4f\udd53-\udd63\udd68-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca0-\udfff]|\ud833[\udc00-\udeff\udf2e\udf2f\udf47-\udf4f\udfc4-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\udd73-\udd7a\uddeb-\uddff\ude46-\udedf\udef4-\udeff\udf57-\udf5f\udf79-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud837[\udc00-\udeff\udf1f-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udcff\udd2d-\udd2f\udd3e\udd3f\udd4a-\udd4d\udd50-\ude8f\udeaf-\udebf\udefa-\udefe\udf00-\udfff]|\ud839[\udc00-\udfdf\udfe7\udfec\udfef\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4c-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\udc70\udcb5-\udd00\udd3e-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\uddae-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\ude5f\ude66-\udeff]|\ud83d[\uded8-\udedc\udeed-\udeef\udefd-\udeff\udf74-\udf7f\udfd9-\udfdf\udfec-\udfef\udff1-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae\udcaf\udcb2-\udcff\ude54-\ude5f\ude6e\ude6f\ude75-\ude77\ude7d-\ude7f\ude87-\ude8f\udead-\udeaf\udebb-\udebf\udec6-\udecf\udeda-\udedf\udee8-\udeef\udef7-\udeff\udf93\udfcb-\udfef\udffa-\udfff]|\ud869[\udee0-\udeff]|\ud86d[\udf39-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|\ud884[\udf4b-\udfff]|\udb40[\udc00-\udcff\uddf0-\udfff]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"­؀-؅؜۝܏࢐࢑࣢᠎​-‏‪-‮⁠-⁤⁦-⁯\ufeff￹-￻",astral:"\ud804[\udcbd\udccd]|\ud80d[\udc30-\udc38]|\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|\udb40[\udc01\udc20-\udc7f]"},{name:"Cn",alias:"Unassigned",bmp:"͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-׿܎݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࡯࢏࢒-ࢗ঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୔୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺఻౅౉౎-౔౗౛౜౞౟౤౥౰-౶಍಑಩಴಺಻೅೉೎-೔೗-೜೟೤೥೰ೳ-೿഍഑൅൉൐-൓൤൥඀඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅຋຤຦຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿᜖-᜞᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯᫏-᫿᭍-᭏᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏᳻-᳿἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥⁲⁳₏₝-₟⃁-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹞-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏㇤-㇯㈟꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ɤ-꟏꟒꟔Ꟛ-꟱꠭-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯꭬-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯃-﯒﶐﶑﷈-﷎﷐-﷯︚-︟﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9d-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd7b\udd8b\udd93\udd96\udda2\uddb2\uddba\uddbd-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udf7f\udf86\udfb1\udfbb-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude36\ude37\ude3b-\ude3e\ude49-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd28-\udd2f\udd3a-\ude5f\ude7f\udeaa\udeae\udeaf\udeb2-\udeff\udf28-\udf2f\udf5a-\udf6f\udf8a-\udfaf\udfcc-\udfdf\udff7-\udfff]|\ud804[\udc4e-\udc51\udc76-\udc7e\udcc3-\udccc\udcce\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd48-\udd4f\udd77-\udd7f\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5c\udc62-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeba-\udebf\udeca-\udeff\udf1b\udf1c\udf2c-\udf2f\udf47-\udfff]|\ud806[\udc3c-\udc9f\udcf3-\udcfe\udd07\udd08\udd0a\udd0b\udd14\udd17\udd36\udd39\udd3a\udd47-\udd4f\udd5a-\udd9f\udda8\udda9\uddd8\uddd9\udde5-\uddff\ude48-\ude4f\udea3-\udeaf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udcff\udd07\udd0a\udd37-\udd39\udd3b\udd3e\udd48-\udd4f\udd5a-\udd5f\udd66\udd69\udd8f\udd92\udd99-\udd9f\uddaa-\udedf\udef9-\udfaf\udfb1-\udfbf\udff2-\udffe]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80e-\ud810\ud812-\ud819\ud824-\ud82a\ud82d\ud82e\ud830-\ud832\ud83f\ud87b-\ud87d\ud87f\ud885-\udb3f\udb41-\udb7f][\udc00-\udfff]|\ud80b[\udc00-\udf8f\udff3-\udfff]|\ud80d[\udc2f\udc39-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\udebf\udeca-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\ude3f\ude9b-\udeff\udf4b-\udf4e\udf88-\udf8e\udfa0-\udfdf\udfe5-\udfef\udff2-\udfff]|\ud821[\udff8-\udfff]|\ud823[\udcd6-\udcff\udd09-\udfff]|\ud82b[\udc00-\udfef\udff4\udffc\udfff]|\ud82c[\udd23-\udd4f\udd53-\udd63\udd68-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca4-\udfff]|\ud833[\udc00-\udeff\udf2e\udf2f\udf47-\udf4f\udfc4-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\uddeb-\uddff\ude46-\udedf\udef4-\udeff\udf57-\udf5f\udf79-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud837[\udc00-\udeff\udf1f-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udcff\udd2d-\udd2f\udd3e\udd3f\udd4a-\udd4d\udd50-\ude8f\udeaf-\udebf\udefa-\udefe\udf00-\udfff]|\ud839[\udc00-\udfdf\udfe7\udfec\udfef\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4c-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\udc70\udcb5-\udd00\udd3e-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\uddae-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\ude5f\ude66-\udeff]|\ud83d[\uded8-\udedc\udeed-\udeef\udefd-\udeff\udf74-\udf7f\udfd9-\udfdf\udfec-\udfef\udff1-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae\udcaf\udcb2-\udcff\ude54-\ude5f\ude6e\ude6f\ude75-\ude77\ude7d-\ude7f\ude87-\ude8f\udead-\udeaf\udebb-\udebf\udec6-\udecf\udeda-\udedf\udee8-\udeef\udef7-\udeff\udf93\udfcb-\udfef\udffa-\udfff]|\ud869[\udee0-\udeff]|\ud86d[\udf39-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|\ud884[\udf4b-\udfff]|\udb40[\udc00\udc02-\udc1f\udc80-\udcff\uddf0-\udfff]|[\udbbf\udbff][\udffe\udfff]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[\udb80-\udbbe\udbc0-\udbfe][\udc00-\udfff]|[\udbbf\udbff][\udc00-\udffd]"},{name:"Cs",alias:"Surrogate",bmp:"\ud800-\udfff"},{name:"L",alias:"Letter",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc\ude00-\udf36\udf40-\udf55\udf60-\udf67\udf80-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\ude80-\udea9\udeb0\udeb1\udf00-\udf1c\udf27\udf30-\udf45\udf70-\udf81\udfb0-\udfc4\udfe0-\udff6]|\ud804[\udc03-\udc37\udc71\udc72\udc75\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd47\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f-\udc61\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a\udf40-\udf46]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff-\udd06\udd09\udd0c-\udd13\udd15\udd16\udd18-\udd2f\udd3f\udd41\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udeb0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67\udd68\udd6a-\udd89\udd98\udee0-\udef2\udfb0]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|\ud80b[\udf90-\udff0]|[\ud80c\ud81c-\ud820\ud822\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879\ud880-\ud883][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude70-\udebe\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0\udfe1\udfe3]|\ud821[\udc00-\udff7]|\ud823[\udc00-\udcd5\udd00-\udd08]|\ud82b[\udff0-\udff3\udff5-\udffb\udffd\udffe]|\ud82c[\udc00-\udd22\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud837[\udf00-\udf1e]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\ude90-\udead\udec0-\udeeb]|\ud839[\udfe0-\udfe6\udfe8-\udfeb\udfed\udfee\udff0-\udffe]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\udedf\udf00-\udfff]|\ud86d[\udc00-\udf38\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\ud884[\udc00-\udf4a]"},{name:"LC",alias:"Cased_Letter",bmp:"A-Za-zµÀ-ÖØ-öø-ƺƼ-ƿǄ-ʓʕ-ʯͰ-ͳͶͷͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՠ-ֈႠ-ჅჇჍა-ჺჽ-ჿᎠ-Ᏽᏸ-ᏽᲀ-ᲈᲐ-ᲺᲽ-Ჿᴀ-ᴫᵫ-ᵷᵹ-ᶚḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-ⱻⱾ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭꙀ-ꙭꚀ-ꚛꜢ-ꝯꝱ-ꞇꞋ-ꞎꞐ-ꟊꟐꟑꟓꟕ-ꟙꟵꟶꟺꬰ-ꭚꭠ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚ",astral:"\ud801[\udc00-\udc4f\udcb0-\udcd3\udcd8-\udcfb\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc]|\ud803[\udc80-\udcb2\udcc0-\udcf2]|\ud806[\udca0-\udcdf]|\ud81b[\ude40-\ude7f]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud837[\udf00-\udf09\udf0b-\udf1e]|\ud83a[\udd00-\udd43]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱟⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꞻꞽꞿꟁꟃꟈꟊꟑꟓꟕꟗꟙꟶꟺꬰ-ꭚꭠ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud81b[\ude60-\ude7f]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud837[\udf00-\udf09\udf0b-\udf1e]|\ud83a[\udd22-\udd43]"},{name:"Lm",alias:"Modifier_Letter",bmp:"ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨࣉॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꚜꚝꜗ-ꜟꝰꞈꟲ-ꟴꟸꟹꧏꧦꩰꫝꫳꫴꭜ-ꭟꭩｰﾞﾟ",astral:"\ud801[\udf80-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud81a[\udf40-\udf43]|\ud81b[\udf93-\udf9f\udfe0\udfe1\udfe3]|\ud82b[\udff0-\udff3\udff5-\udffb\udffd\udffe]|\ud838[\udd37-\udd3d]|𞥋"},{name:"Lo",alias:"Other_Letter",bmp:"ªºƻǀ-ǃʔא-תׯ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣈऄ-हऽॐक़-ॡॲ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳳᳵᳶᳺℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꞏꟷꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧠ-ꧤꧧ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc50-\udc9d\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udd00-\udd23\ude80-\udea9\udeb0\udeb1\udf00-\udf1c\udf27\udf30-\udf45\udf70-\udf81\udfb0-\udfc4\udfe0-\udff6]|\ud804[\udc03-\udc37\udc71\udc72\udc75\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd47\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f-\udc61\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a\udf40-\udf46]|\ud806[\udc00-\udc2b\udcff-\udd06\udd09\udd0c-\udd13\udd15\udd16\udd18-\udd2f\udd3f\udd41\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udeb0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67\udd68\udd6a-\udd89\udd98\udee0-\udef2\udfb0]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|\ud80b[\udf90-\udff0]|[\ud80c\ud81c-\ud820\ud822\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879\ud880-\ud883][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude70-\udebe\uded0-\udeed\udf00-\udf2f\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf4a\udf50]|\ud821[\udc00-\udff7]|\ud823[\udc00-\udcd5\udd00-\udd08]|\ud82c[\udc00-\udd22\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|𝼊|\ud838[\udd00-\udd2c\udd4e\ude90-\udead\udec0-\udeeb]|\ud839[\udfe0-\udfe6\udfe8-\udfeb\udfed\udfee\udff0-\udffe]|\ud83a[\udc00-\udcc4]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\udedf\udf00-\udfff]|\ud86d[\udc00-\udf38\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\ud884[\udc00-\udf4a]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰯⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸꞺꞼꞾꟀꟂꟄ-ꟇꟉꟐꟖꟘꟵＡ-Ｚ",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud81b[\ude40-\ude5f]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]"},{name:"M",alias:"Mark",bmp:"̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣ৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣඁ-ඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍᠏ᢅᢆᢩᤠ-ᤫᤰ-᤻ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-ᫎᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︯",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud803[\udd24-\udd27\udeab\udeac\udf46-\udf50\udf82-\udf85]|\ud804[\udc00-\udc02\udc38-\udc46\udc70\udc73\udc74\udc7f-\udc82\udcb0-\udcba\udcc2\udd00-\udd02\udd27-\udd34\udd45\udd46\udd73\udd80-\udd82\uddb3-\uddc0\uddc9-\uddcc\uddce\uddcf\ude2c-\ude37\ude3e\udedf-\udeea\udf00-\udf03\udf3b\udf3c\udf3e-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc35-\udc46\udc5e\udcb0-\udcc3\uddaf-\uddb5\uddb8-\uddc0\udddc\udddd\ude30-\ude40\udeab-\udeb7\udf1d-\udf2b]|\ud806[\udc2c-\udc3a\udd30-\udd35\udd37\udd38\udd3b-\udd3e\udd40\udd42\udd43\uddd1-\uddd7\uddda-\udde0\udde4\ude01-\ude0a\ude33-\ude39\ude3b-\ude3e\ude47\ude51-\ude5b\ude8a-\ude99]|\ud807[\udc2f-\udc36\udc38-\udc3f\udc92-\udca7\udca9-\udcb6\udd31-\udd36\udd3a\udd3c\udd3d\udd3f-\udd45\udd47\udd8a-\udd8e\udd90\udd91\udd93-\udd97\udef3-\udef6]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf4f\udf51-\udf87\udf8f-\udf92\udfe4\udff0\udff1]|\ud82f[\udc9d\udc9e]|\ud833[\udf00-\udf2d\udf30-\udf46]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd30-\udd36\udeae\udeec-\udeef]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"Mc",alias:"Spacing_Mark",bmp:"ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜ᜕᜴ាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᨙᨚᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡᳷〮〯ꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦾ-꧀ꨯꨰꨳꨴꩍꩻꩽꫫꫮꫯꫵꯣꯤꯦꯧꯩꯪ꯬",astral:"\ud804[\udc00\udc02\udc82\udcb0-\udcb2\udcb7\udcb8\udd2c\udd45\udd46\udd82\uddb3-\uddb5\uddbf\uddc0\uddce\ude2c-\ude2e\ude32\ude33\ude35\udee0-\udee2\udf02\udf03\udf3e\udf3f\udf41-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63]|\ud805[\udc35-\udc37\udc40\udc41\udc45\udcb0-\udcb2\udcb9\udcbb-\udcbe\udcc1\uddaf-\uddb1\uddb8-\uddbb\uddbe\ude30-\ude32\ude3b\ude3c\ude3e\udeac\udeae\udeaf\udeb6\udf20\udf21\udf26]|\ud806[\udc2c-\udc2e\udc38\udd30-\udd35\udd37\udd38\udd3d\udd40\udd42\uddd1-\uddd3\udddc-\udddf\udde4\ude39\ude57\ude58\ude97]|\ud807[\udc2f\udc3e\udca9\udcb1\udcb4\udd8a-\udd8e\udd93\udd94\udd96\udef5\udef6]|\ud81b[\udf51-\udf87\udff0\udff1]|\ud834[\udd65\udd66\udd6d-\udd72]"},{name:"Me",alias:"Enclosing_Mark",bmp:"҈҉᪾⃝-⃠⃢-⃤꙰-꙲"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৾ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣૺ-૿ଁ଼ିୁ-ୄ୍୕ୖୢୣஂீ்ఀఄ఼ా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഀഁ഻഼ു-ൄ്ൢൣඁ්ි-ුූัิ-ฺ็-๎ັິ-ຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲᜳᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍᠏ᢅᢆᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᪿ-ᫎᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꠬꣄ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꦽꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud803[\udd24-\udd27\udeab\udeac\udf46-\udf50\udf82-\udf85]|\ud804[\udc01\udc38-\udc46\udc70\udc73\udc74\udc7f-\udc81\udcb3-\udcb6\udcb9\udcba\udcc2\udd00-\udd02\udd27-\udd2b\udd2d-\udd34\udd73\udd80\udd81\uddb6-\uddbe\uddc9-\uddcc\uddcf\ude2f-\ude31\ude34\ude36\ude37\ude3e\udedf\udee3-\udeea\udf00\udf01\udf3b\udf3c\udf40\udf66-\udf6c\udf70-\udf74]|\ud805[\udc38-\udc3f\udc42-\udc44\udc46\udc5e\udcb3-\udcb8\udcba\udcbf\udcc0\udcc2\udcc3\uddb2-\uddb5\uddbc\uddbd\uddbf\uddc0\udddc\udddd\ude33-\ude3a\ude3d\ude3f\ude40\udeab\udead\udeb0-\udeb5\udeb7\udf1d-\udf1f\udf22-\udf25\udf27-\udf2b]|\ud806[\udc2f-\udc37\udc39\udc3a\udd3b\udd3c\udd3e\udd43\uddd4-\uddd7\uddda\udddb\udde0\ude01-\ude0a\ude33-\ude38\ude3b-\ude3e\ude47\ude51-\ude56\ude59-\ude5b\ude8a-\ude96\ude98\ude99]|\ud807[\udc30-\udc36\udc38-\udc3d\udc3f\udc92-\udca7\udcaa-\udcb0\udcb2\udcb3\udcb5\udcb6\udd31-\udd36\udd3a\udd3c\udd3d\udd3f-\udd45\udd47\udd90\udd91\udd95\udd97\udef3\udef4]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf4f\udf8f-\udf92\udfe4]|\ud82f[\udc9d\udc9e]|\ud833[\udf00-\udf2d\udf30-\udf46]|\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd30-\udd36\udeae\udeec-\udeef]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"N",alias:"Number",bmp:"0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\ud800[\udd07-\udd33\udd40-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23\udf41\udf4a\udfd1-\udfd5]|\ud801[\udca0-\udca9]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude48\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\udd30-\udd39\ude60-\ude7e\udf1d-\udf26\udf51-\udf54\udfc5-\udfcb]|\ud804[\udc52-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udde1-\uddf4\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf3b]|\ud806[\udce0-\udcf2\udd50-\udd59]|\ud807[\udc50-\udc6c\udd50-\udd59\udda0-\udda9\udfc0-\udfd4]|\ud809[\udc00-\udc6e]|\ud81a[\ude60-\ude69\udec0-\udec9\udf50-\udf59\udf5b-\udf61]|\ud81b[\ude80-\ude96]|\ud834[\udee0-\udef3\udf60-\udf78]|\ud835[\udfce-\udfff]|\ud838[\udd40-\udd49\udef0-\udef9]|\ud83a[\udcc7-\udccf\udd50-\udd59]|\ud83b[\udc71-\udcab\udcad-\udcaf\udcb1-\udcb4\udd01-\udd2d\udd2f-\udd3d]|\ud83c[\udd00-\udd0c]|\ud83e[\udff0-\udff9]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\ud801[\udca0-\udca9]|\ud803[\udd30-\udd39]|\ud804[\udc66-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf39]|\ud806[\udce0-\udce9\udd50-\udd59]|\ud807[\udc50-\udc59\udd50-\udd59\udda0-\udda9]|\ud81a[\ude60-\ude69\udec0-\udec9\udf50-\udf59]|\ud835[\udfce-\udfff]|\ud838[\udd40-\udd49\udef0-\udef9]|\ud83a[\udd50-\udd59]|\ud83e[\udff0-\udff9]"},{name:"Nl",alias:"Letter_Number",bmp:"ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ",astral:"\ud800[\udd40-\udd74\udf41\udf4a\udfd1-\udfd5]|\ud809[\udc00-\udc6e]"},{name:"No",alias:"Other_Number",bmp:"²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൘-൞൰-൸༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵",astral:"\ud800[\udd07-\udd33\udd75-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude48\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\ude60-\ude7e\udf1d-\udf26\udf51-\udf54\udfc5-\udfcb]|\ud804[\udc52-\udc65\udde1-\uddf4]|\ud805[\udf3a\udf3b]|\ud806[\udcea-\udcf2]|\ud807[\udc5a-\udc6c\udfc0-\udfd4]|\ud81a[\udf5b-\udf61]|\ud81b[\ude80-\ude96]|\ud834[\udee0-\udef3\udf60-\udf78]|\ud83a[\udcc7-\udccf]|\ud83b[\udc71-\udcab\udcad-\udcaf\udcb1-\udcb4\udd01-\udd2d\udd2f-\udd3d]|\ud83c[\udd00-\udd0c]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؝-؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰౷಄෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᭽᭾᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹏⹒-⹝、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]|𐕯|\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud803[\udead\udf55-\udf59\udf86-\udf89]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc8\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5a\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udeb9\udf3c-\udf3e]|\ud806[\udc3b\udd44-\udd46\udde2\ude3f-\ude46\ude9a-\ude9c\ude9e-\udea2]|\ud807[\udc41-\udc45\udc70\udc71\udef7\udef8\udfff]|\ud809[\udc70-\udc74]|\ud80b[\udff1\udff2]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud81b[\ude97-\ude9a\udfe2]|𛲟|\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_‿⁀⁔︳︴﹍-﹏＿"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\-֊־᐀᠆‐-―⸗⸚⸺⸻⹀⹝〜〰゠︱︲﹘﹣－",astral:"𐺭"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\)\\]\\}༻༽᚜⁆⁾₎⌉⌋〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩⹖⹘⹚⹜〉》」』】〕〗〙〛〞〟﴾︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣"},{name:"Pf",alias:"Final_Punctuation",bmp:"»’”›⸃⸅⸊⸍⸝⸡"},{name:"Pi",alias:"Initial_Punctuation",bmp:"«‘‛“‟‹⸂⸄⸉⸌⸜⸠"},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\*,\\.\\/:;\\?@\\¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؝-؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰౷಄෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᭽᭾᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹⸼-⸿⹁⹃-⹏⹒-⹔、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]|𐕯|\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud803[\udf55-\udf59\udf86-\udf89]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc8\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5a\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udeb9\udf3c-\udf3e]|\ud806[\udc3b\udd44-\udd46\udde2\ude3f-\ude46\ude9a-\ude9c\ude9e-\udea2]|\ud807[\udc41-\udc45\udc70\udc71\udef7\udef8\udfff]|\ud809[\udc70-\udc74]|\ud80b[\udff1\udff2]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud81b[\ude97-\ude9a\udfe2]|𛲟|\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\(\\[\\{༺༼᚛‚„⁅⁽₍⌈⌊〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨⹂⹕⹗⹙⹛〈《「『【〔〖〘〚〝﴿︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢"},{name:"S",alias:"Symbol",bmp:"\\$\\+<->\\^`\\|~¢-¦¨©¬®-±´¸×÷˂-˅˒-˟˥-˫˭˯-˿͵΄΅϶҂֍-֏؆-؈؋؎؏۞۩۽۾߶߾߿࢈৲৳৺৻૱୰௳-௺౿൏൹฿༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᙭៛᥀᧞-᧿᭡-᭪᭴-᭼᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁒⁺-⁼₊-₌₠-⃀℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅏↊↋←-⌇⌌-⌨⌫-␦⑀-⑊⒜-ⓩ─-❧➔-⟄⟇-⟥⟰-⦂⦙-⧗⧜-⧻⧾-⭳⭶-⮕⮗-⯿⳥-⳪⹐⹑⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㏿䷀-䷿꒐-꓆꜀-꜖꜠꜡꞉꞊꠨-꠫꠶-꠹꩷-꩹꭛꭪꭫﬩﮲-﯂﵀-﵏﷏﷼-﷿﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9c\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]|𑜿|\ud807[\udfd5-\udff1]|\ud81a[\udf3c-\udf3f\udf45]|𛲜|\ud833[\udf50-\udfc3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\uddea\ude00-\ude41\ude45\udf00-\udf56]|\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]|\ud838[\udd4f\udeff]|\ud83b[\udcac\udcb0\udd2e\udef0\udef1]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd0d-\uddad\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udfff]|\ud83d[\udc00-\uded7\udedd-\udeec\udef0-\udefc\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb\udff0]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udcb0\udcb1\udd00-\ude53\ude60-\ude6d\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec5\uded0-\uded9\udee0-\udee7\udef0-\udef6\udf00-\udf92\udf94-\udfca]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\$¢-¥֏؋߾߿৲৳৻૱௹฿៛₠-⃀꠸﷼﹩＄￠￡￥￦",astral:"\ud807[\udfdd-\udfe0]|𞋿|𞲰"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\^`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅࢈᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊꭛꭪꭫﮲-﯂＾｀￣",astral:"\ud83c[\udffb-\udfff]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\+<->\\|~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬",astral:"\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud83b[\udef0\udef1]"},{name:"So",alias:"Other_Symbol",bmp:"¦©®°҂֍֎؎؏۞۩۽۾߶৺୰௳-௸௺౿൏൹༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᙭᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↊↋↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭍-⭳⭶-⮕⮗-⯿⳥-⳪⹐⹑⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﵀-﵏﷏﷽-﷿￤￨￭￮￼�",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9c\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]|𑜿|\ud807[\udfd5-\udfdc\udfe1-\udff1]|\ud81a[\udf3c-\udf3f\udf45]|𛲜|\ud833[\udf50-\udfc3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\uddea\ude00-\ude41\ude45\udf00-\udf56]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]|𞅏|\ud83b[\udcac\udd2e]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd0d-\uddad\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udffa]|\ud83d[\udc00-\uded7\udedd-\udeec\udef0-\udefc\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb\udff0]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udcb0\udcb1\udd00-\ude53\ude60-\ude6d\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec5\uded0-\uded9\udee0-\udee7\udef0-\udef6\udf00-\udf92\udf94-\udfca]"},{name:"Z",alias:"Separator",bmp:"    - \u2028\u2029  　"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:"    -   　"}],kn=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͅͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈְ-ׇֽֿׁׂׅׄא-תׯ-ײؐ-ؚؠ-ٗٙ-ٟٮ-ۓە-ۜۡ-ۭۨ-ۯۺ-ۼۿܐ-ܿݍ-ޱߊ-ߪߴߵߺࠀ-ࠗࠚ-ࠬࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉࣔ-ࣣࣟ-ࣰࣩ-ऻऽ-ौॎ-ॐॕ-ॣॱ-ঃঅ-ঌএঐও-নপ-রলশ-হঽ-ৄেৈোৌৎৗড়ঢ়য়-ৣৰৱৼਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੂੇੈੋੌੑਖ਼-ੜਫ਼ੰ-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ૅે-ૉોૌૐૠ-ૣૹ-ૼଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽ-ୄେୈୋୌୖୗଡ଼ଢ଼ୟ-ୣୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-ௌௐௗఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-ౌౕౖౘ-ౚౝౠ-ౣಀ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊ-ೌೕೖೝೞೠ-ೣೱೲഀ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൌൎൔ-ൗൟ-ൣൺ-ൿඁ-ඃඅ-ඖක-නඳ-රලව-ෆා-ුූෘ-ෟෲෳก-ฺเ-ๆํກຂຄຆ-ຊຌ-ຣລວ-ູົ-ຽເ-ໄໆໍໜ-ໟༀཀ-ཇཉ-ཬཱ-ཱྀྈ-ྗྙ-ྼက-ံးျ-ဿၐ-ႏႚ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜓᜟ-ᜳᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-ឳា-ៈៗៜᠠ-ᡸᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-ᤸᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨛᨠ-ᩞᩡ-ᩴᪧᪿᫀᫌ-ᫎᬀ-ᬳᬵ-ᭃᭅ-ᭌᮀ-ᮩᮬ-ᮯᮺ-ᯥᯧ-ᯱᰀ-ᰶᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿᷧ-ᷴḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙴ-ꙻꙿ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠅꠇ-ꠧꡀ-ꡳꢀ-ꣃꣅꣲ-ꣷꣻꣽ-ꣿꤊ-ꤪꤰ-ꥒꥠ-ꥼꦀ-ꦲꦴ-ꦿꧏꧠ-ꧯꧺ-ꧾꨀ-ꨶꩀ-ꩍꩠ-ꩶꩺ-ꪾꫀꫂꫛ-ꫝꫠ-ꫯꫲ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯪ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc\ude00-\udf36\udf40-\udf55\udf60-\udf67\udf80-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\ude80-\udea9\udeab\udeac\udeb0\udeb1\udf00-\udf1c\udf27\udf30-\udf45\udf70-\udf81\udfb0-\udfc4\udfe0-\udff6]|\ud804[\udc00-\udc45\udc71-\udc75\udc82-\udcb8\udcc2\udcd0-\udce8\udd00-\udd32\udd44-\udd47\udd50-\udd72\udd76\udd80-\uddbf\uddc1-\uddc4\uddce\uddcf\uddda\udddc\ude00-\ude11\ude13-\ude34\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udee8\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d-\udf44\udf47\udf48\udf4b\udf4c\udf50\udf57\udf5d-\udf63]|\ud805[\udc00-\udc41\udc43-\udc45\udc47-\udc4a\udc5f-\udc61\udc80-\udcc1\udcc4\udcc5\udcc7\udd80-\uddb5\uddb8-\uddbe\uddd8-\udddd\ude00-\ude3e\ude40\ude44\ude80-\udeb5\udeb8\udf00-\udf1a\udf1d-\udf2a\udf40-\udf46]|\ud806[\udc00-\udc38\udca0-\udcdf\udcff-\udd06\udd09\udd0c-\udd13\udd15\udd16\udd18-\udd35\udd37\udd38\udd3b\udd3c\udd3f-\udd42\udda0-\udda7\uddaa-\uddd7\uddda-\udddf\udde1\udde3\udde4\ude00-\ude32\ude35-\ude3e\ude50-\ude97\ude9d\udeb0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc3e\udc40\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08\udd09\udd0b-\udd36\udd3a\udd3c\udd3d\udd3f-\udd41\udd43\udd46\udd47\udd60-\udd65\udd67\udd68\udd6a-\udd8e\udd90\udd91\udd93-\udd96\udd98\udee0-\udef6\udfb0]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80b[\udf90-\udff0]|[\ud80c\ud81c-\ud820\ud822\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879\ud880-\ud883][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude70-\udebe\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0\udfe1\udfe3\udff0\udff1]|\ud821[\udc00-\udff7]|\ud823[\udc00-\udcd5\udd00-\udd08]|\ud82b[\udff0-\udff3\udff5-\udffb\udffd\udffe]|\ud82c[\udc00-\udd22\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9e]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud837[\udf00-\udf1e]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd00-\udd2c\udd37-\udd3d\udd4e\ude90-\udead\udec0-\udeeb]|\ud839[\udfe0-\udfe6\udfe8-\udfeb\udfed\udfee\udff0-\udffe]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd47\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]|\ud869[\udc00-\udedf\udf00-\udfff]|\ud86d[\udc00-\udf38\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\ud884[\udc00-\udf4a]"},{name:"Any",isBmpLast:!0,bmp:"\0-￿",astral:"[\ud800-\udbff][\udc00-\udfff]"},{name:"Default_Ignorable_Code_Point",bmp:"­͏؜ᅟᅠ឴឵᠋-᠏​-‏‪-‮⁠-⁯ㅤ︀-️\ufeffﾠ￰-￸",astral:"\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|[\udb40-\udb43][\udc00-\udfff]"},{name:"Lowercase",bmp:"a-zªµºß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʸˀˁˠ-ˤͅͱͳͷͺ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᶿḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷⁱⁿₐ-ₜℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎⅰ-ⅿↄⓐ-ⓩⰰ-ⱟⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱽⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛ-ꚝꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꞻꞽꞿꟁꟃꟈꟊꟑꟓꟕꟗꟙꟶꟸ-ꟺꬰ-ꭚꭜ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud81b[\ude60-\ude7f]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud837[\udf00-\udf09\udf0b-\udf1e]|\ud83a[\udd22-\udd43]"},{name:"Noncharacter_Code_Point",bmp:"﷐-﷯￾￿",astral:"[\ud83f\ud87f\ud8bf\ud8ff\ud93f\ud97f\ud9bf\ud9ff\uda3f\uda7f\udabf\udaff\udb3f\udb7f\udbbf\udbff][\udffe\udfff]"},{name:"Uppercase",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅⅠ-ⅯↃⒶ-ⓏⰀ-ⰯⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸꞺꞼꞾꟀꟂꟄ-ꟇꟉꟐꟖꟘꟵＡ-Ｚ",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud81b[\ude40-\ude5f]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]"},{name:"White_Space",bmp:"\t-\r    - \u2028\u2029  　"}],Bn=[{name:"Adlam",astral:"\ud83a[\udd00-\udd4b\udd50-\udd59\udd5e\udd5f]"},{name:"Ahom",astral:"\ud805[\udf00-\udf1a\udf1d-\udf2b\udf30-\udf46]"},{name:"Anatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude46]"},{name:"Arabic",bmp:"؀-؄؆-؋؍-ؚ؜-؞ؠ-ؿف-يٖ-ٯٱ-ۜ۞-ۿݐ-ݿࡰ-ࢎ࢐࢑࢘-ࣣ࣡-ࣿﭐ-﯂ﯓ-ﴽ﵀-ﶏﶒ-ﷇ﷏ﷰ-﷿ﹰ-ﹴﹶ-ﻼ",astral:"\ud803[\ude60-\ude7e]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb\udef0\udef1]"},{name:"Armenian",bmp:"Ա-Ֆՙ-֊֍-֏ﬓ-ﬗ"},{name:"Avestan",astral:"\ud802[\udf00-\udf35\udf39-\udf3f]"},{name:"Balinese",bmp:"ᬀ-ᭌ᭐-᭾"},{name:"Bamum",bmp:"ꚠ-꛷",astral:"\ud81a[\udc00-\ude38]"},{name:"Bassa_Vah",astral:"\ud81a[\uded0-\udeed\udef0-\udef5]"},{name:"Batak",bmp:"ᯀ-᯳᯼-᯿"},{name:"Bengali",bmp:"ঀ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-৾"},{name:"Bhaiksuki",astral:"\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc45\udc50-\udc6c]"},{name:"Bopomofo",bmp:"˪˫ㄅ-ㄯㆠ-ㆿ"},{name:"Brahmi",astral:"\ud804[\udc00-\udc4d\udc52-\udc75\udc7f]"},{name:"Braille",bmp:"⠀-⣿"},{name:"Buginese",bmp:"ᨀ-ᨛ᨞᨟"},{name:"Buhid",bmp:"ᝀ-ᝓ"},{name:"Canadian_Aboriginal",bmp:"᐀-ᙿᢰ-ᣵ",astral:"\ud806[\udeb0-\udebf]"},{name:"Carian",astral:"\ud800[\udea0-\uded0]"},{name:"Caucasian_Albanian",astral:"\ud801[\udd30-\udd63\udd6f]"},{name:"Chakma",astral:"\ud804[\udd00-\udd34\udd36-\udd47]"},{name:"Cham",bmp:"ꨀ-ꨶꩀ-ꩍ꩐-꩙꩜-꩟"},{name:"Cherokee",bmp:"Ꭰ-Ᏽᏸ-ᏽꭰ-ꮿ"},{name:"Chorasmian",astral:"\ud803[\udfb0-\udfcb]"},{name:"Common",bmp:"\0-@\\[-`\\{-©«-¹»-¿×÷ʹ-˟˥-˩ˬ-˿ʹ;΅·؅،؛؟ـ۝࣢।॥฿࿕-࿘჻᛫-᛭᜵᜶᠂᠃᠅᳓᳡ᳩ-ᳬᳮ-ᳳᳵ-᳷ᳺ -​‎-⁤⁦-⁰⁴-⁾₀-₎₠-⃀℀-℥℧-℩ℬ-ℱℳ-⅍⅏-⅟↉-↋←-␦⑀-⑊①-⟿⤀-⭳⭶-⮕⮗-⯿⸀-⹝⿰-⿻　-〄〆〈-〠〰-〷〼-〿゛゜゠・ー㆐-㆟㇀-㇣㈠-㉟㉿-㋏㋿㍘-㏿䷀-䷿꜀-꜡ꞈ-꞊꠰-꠹꤮ꧏ꭛꭪꭫﴾﴿︐-︙︰-﹒﹔-﹦﹨-﹫\ufeff！-＠［-｀｛-･ｰﾞﾟ￠-￦￨-￮￹-�",astral:"\ud800[\udd00-\udd02\udd07-\udd33\udd37-\udd3f\udd90-\udd9c\uddd0-\uddfc\udee1-\udefb]|\ud82f[\udca0-\udca3]|\ud833[\udf50-\udfc3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd66\udd6a-\udd7a\udd83\udd84\udd8c-\udda9\uddae-\uddea\udee0-\udef3\udf00-\udf56\udf60-\udf78]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udfcb\udfce-\udfff]|\ud83b[\udc71-\udcb4\udd01-\udd3d]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd00-\uddad\udde6-\uddff\ude01\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udfff]|\ud83d[\udc00-\uded7\udedd-\udeec\udef0-\udefc\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb\udff0]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udcb0\udcb1\udd00-\ude53\ude60-\ude6d\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec5\uded0-\uded9\udee0-\udee7\udef0-\udef6\udf00-\udf92\udf94-\udfca\udff0-\udff9]|\udb40[\udc01\udc20-\udc7f]"},{name:"Coptic",bmp:"Ϣ-ϯⲀ-ⳳ⳹-⳿"},{name:"Cuneiform",astral:"\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc70-\udc74\udc80-\udd43]"},{name:"Cypriot",astral:"\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f]"},{name:"Cypro_Minoan",astral:"\ud80b[\udf90-\udff2]"},{name:"Cyrillic",bmp:"Ѐ-҄҇-ԯᲀ-ᲈᴫᵸⷠ-ⷿꙀ-ꚟ︮︯"},{name:"Deseret",astral:"\ud801[\udc00-\udc4f]"},{name:"Devanagari",bmp:"ऀ-ॐॕ-ॣ०-ॿ꣠-ꣿ"},{name:"Dives_Akuru",astral:"\ud806[\udd00-\udd06\udd09\udd0c-\udd13\udd15\udd16\udd18-\udd35\udd37\udd38\udd3b-\udd46\udd50-\udd59]"},{name:"Dogra",astral:"\ud806[\udc00-\udc3b]"},{name:"Duployan",astral:"\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9c-\udc9f]"},{name:"Egyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e\udc30-\udc38]"},{name:"Elbasan",astral:"\ud801[\udd00-\udd27]"},{name:"Elymaic",astral:"\ud803[\udfe0-\udff6]"},{name:"Ethiopic",bmp:"ሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፼ᎀ-᎙ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ",astral:"\ud839[\udfe0-\udfe6\udfe8-\udfeb\udfed\udfee\udff0-\udffe]"},{name:"Georgian",bmp:"Ⴀ-ჅჇჍა-ჺჼ-ჿᲐ-ᲺᲽ-Ჿⴀ-ⴥⴧⴭ"},{name:"Glagolitic",bmp:"Ⰰ-ⱟ",astral:"\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]"},{name:"Gothic",astral:"\ud800[\udf30-\udf4a]"},{name:"Grantha",astral:"\ud804[\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3c-\udf44\udf47\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]"},{name:"Greek",bmp:"Ͱ-ͳ͵-ͷͺ-ͽͿ΄ΆΈ-ΊΌΎ-ΡΣ-ϡϰ-Ͽᴦ-ᴪᵝ-ᵡᵦ-ᵪᶿἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ῄῆ-ΐῖ-Ί῝-`ῲ-ῴῶ-῾Ωꭥ",astral:"\ud800[\udd40-\udd8e\udda0]|\ud834[\ude00-\ude45]"},{name:"Gujarati",bmp:"ઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૱ૹ-૿"},{name:"Gunjala_Gondi",astral:"\ud807[\udd60-\udd65\udd67\udd68\udd6a-\udd8e\udd90\udd91\udd93-\udd98\udda0-\udda9]"},{name:"Gurmukhi",bmp:"ਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-੶"},{name:"Han",bmp:"⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶿一-鿿豈-舘並-龎",astral:"\ud81b[\udfe2\udfe3\udff0\udff1]|[\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879\ud880-\ud883][\udc00-\udfff]|\ud869[\udc00-\udedf\udf00-\udfff]|\ud86d[\udc00-\udf38\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\ud884[\udc00-\udf4a]"},{name:"Hangul",bmp:"ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"},{name:"Hanifi_Rohingya",astral:"\ud803[\udd00-\udd27\udd30-\udd39]"},{name:"Hanunoo",bmp:"ᜠ-᜴"},{name:"Hatran",astral:"\ud802[\udce0-\udcf2\udcf4\udcf5\udcfb-\udcff]"},{name:"Hebrew",bmp:"֑-ׇא-תׯ-״יִ-זּטּ-לּמּנּסּףּפּצּ-ﭏ"},{name:"Hiragana",bmp:"ぁ-ゖゝ-ゟ",astral:"\ud82c[\udc01-\udd1f\udd50-\udd52]|🈀"},{name:"Imperial_Aramaic",astral:"\ud802[\udc40-\udc55\udc57-\udc5f]"},{name:"Inherited",bmp:"̀-ًͯ҅҆-ٰٕ॑-॔᪰-ᫎ᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷿‌‍⃐-〪⃰-゙゚〭︀-️︠-︭",astral:"\ud800[\uddfd\udee0]|𑌻|\ud833[\udf00-\udf2d\udf30-\udf46]|\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad]|\udb40[\udd00-\uddef]"},{name:"Inscriptional_Pahlavi",astral:"\ud802[\udf60-\udf72\udf78-\udf7f]"},{name:"Inscriptional_Parthian",astral:"\ud802[\udf40-\udf55\udf58-\udf5f]"},{name:"Javanese",bmp:"ꦀ-꧍꧐-꧙꧞꧟"},{name:"Kaithi",astral:"\ud804[\udc80-\udcc2\udccd]"},{name:"Kannada",bmp:"ಀ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೝೞೠ-ೣ೦-೯ೱೲ"},{name:"Katakana",bmp:"ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ",astral:"\ud82b[\udff0-\udff3\udff5-\udffb\udffd\udffe]|\ud82c[\udc00\udd20-\udd22\udd64-\udd67]"},{name:"Kayah_Li",bmp:"꤀-꤭꤯"},{name:"Kharoshthi",astral:"\ud802[\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f-\ude48\ude50-\ude58]"},{name:"Khitan_Small_Script",astral:"𖿤|\ud822[\udf00-\udfff]|\ud823[\udc00-\udcd5]"},{name:"Khmer",bmp:"ក-៝០-៩៰-៹᧠-᧿"},{name:"Khojki",astral:"\ud804[\ude00-\ude11\ude13-\ude3e]"},{name:"Khudawadi",astral:"\ud804[\udeb0-\udeea\udef0-\udef9]"},{name:"Lao",bmp:"ກຂຄຆ-ຊຌ-ຣລວ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟ"},{name:"Latin",bmp:"A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꟿꬰ-ꭚꭜ-ꭤꭦ-ꭩﬀ-ﬆＡ-Ｚａ-ｚ",astral:"\ud801[\udf80-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud837[\udf00-\udf1e]"},{name:"Lepcha",bmp:"ᰀ-᰷᰻-᱉ᱍ-ᱏ"},{name:"Limbu",bmp:"ᤀ-ᤞᤠ-ᤫᤰ-᤻᥀᥄-᥏"},{name:"Linear_A",astral:"\ud801[\ude00-\udf36\udf40-\udf55\udf60-\udf67]"},{name:"Linear_B",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa]"},{name:"Lisu",bmp:"ꓐ-꓿",astral:"𑾰"},{name:"Lycian",astral:"\ud800[\ude80-\ude9c]"},{name:"Lydian",astral:"\ud802[\udd20-\udd39\udd3f]"},{name:"Mahajani",astral:"\ud804[\udd50-\udd76]"},{name:"Makasar",astral:"\ud807[\udee0-\udef8]"},{name:"Malayalam",bmp:"ഀ-ഌഎ-ഐഒ-ൄെ-ൈൊ-൏ൔ-ൣ൦-ൿ"},{name:"Mandaic",bmp:"ࡀ-࡛࡞"},{name:"Manichaean",astral:"\ud802[\udec0-\udee6\udeeb-\udef6]"},{name:"Marchen",astral:"\ud807[\udc70-\udc8f\udc92-\udca7\udca9-\udcb6]"},{name:"Masaram_Gondi",astral:"\ud807[\udd00-\udd06\udd08\udd09\udd0b-\udd36\udd3a\udd3c\udd3d\udd3f-\udd47\udd50-\udd59]"},{name:"Medefaidrin",astral:"\ud81b[\ude40-\ude9a]"},{name:"Meetei_Mayek",bmp:"ꫠ-꫶ꯀ-꯭꯰-꯹"},{name:"Mende_Kikakui",astral:"\ud83a[\udc00-\udcc4\udcc7-\udcd6]"},{name:"Meroitic_Cursive",astral:"\ud802[\udda0-\uddb7\uddbc-\uddcf\uddd2-\uddff]"},{name:"Meroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"Miao",astral:"\ud81b[\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f]"},{name:"Modi",astral:"\ud805[\ude00-\ude44\ude50-\ude59]"},{name:"Mongolian",bmp:"᠀᠁᠄᠆-᠙ᠠ-ᡸᢀ-ᢪ",astral:"\ud805[\ude60-\ude6c]"},{name:"Mro",astral:"\ud81a[\ude40-\ude5e\ude60-\ude69\ude6e\ude6f]"},{name:"Multani",astral:"\ud804[\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea9]"},{name:"Myanmar",bmp:"က-႟ꧠ-ꧾꩠ-ꩿ"},{name:"Nabataean",astral:"\ud802[\udc80-\udc9e\udca7-\udcaf]"},{name:"Nandinagari",astral:"\ud806[\udda0-\udda7\uddaa-\uddd7\uddda-\udde4]"},{name:"New_Tai_Lue",bmp:"ᦀ-ᦫᦰ-ᧉ᧐-᧚᧞᧟"},{name:"Newa",astral:"\ud805[\udc00-\udc5b\udc5d-\udc61]"},{name:"Nko",bmp:"߀-ߺ߽-߿"},{name:"Nushu",astral:"𖿡|\ud82c[\udd70-\udefb]"},{name:"Nyiakeng_Puachue_Hmong",astral:"\ud838[\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udd4f]"},{name:"Ogham",bmp:" -᚜"},{name:"Ol_Chiki",bmp:"᱐-᱿"},{name:"Old_Hungarian",astral:"\ud803[\udc80-\udcb2\udcc0-\udcf2\udcfa-\udcff]"},{name:"Old_Italic",astral:"\ud800[\udf00-\udf23\udf2d-\udf2f]"},{name:"Old_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"Old_Permic",astral:"\ud800[\udf50-\udf7a]"},{name:"Old_Persian",astral:"\ud800[\udfa0-\udfc3\udfc8-\udfd5]"},{name:"Old_Sogdian",astral:"\ud803[\udf00-\udf27]"},{name:"Old_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"Old_Turkic",astral:"\ud803[\udc00-\udc48]"},{name:"Old_Uyghur",astral:"\ud803[\udf70-\udf89]"},{name:"Oriya",bmp:"ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍୕-ୗଡ଼ଢ଼ୟ-ୣ୦-୷"},{name:"Osage",astral:"\ud801[\udcb0-\udcd3\udcd8-\udcfb]"},{name:"Osmanya",astral:"\ud801[\udc80-\udc9d\udca0-\udca9]"},{name:"Pahawh_Hmong",astral:"\ud81a[\udf00-\udf45\udf50-\udf59\udf5b-\udf61\udf63-\udf77\udf7d-\udf8f]"},{name:"Palmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"Pau_Cin_Hau",astral:"\ud806[\udec0-\udef8]"},{name:"Phags_Pa",bmp:"ꡀ-꡷"},{name:"Phoenician",astral:"\ud802[\udd00-\udd1b\udd1f]"},{name:"Psalter_Pahlavi",astral:"\ud802[\udf80-\udf91\udf99-\udf9c\udfa9-\udfaf]"},{name:"Rejang",bmp:"ꤰ-꥓꥟"},{name:"Runic",bmp:"ᚠ-ᛪᛮ-ᛸ"},{name:"Samaritan",bmp:"ࠀ-࠭࠰-࠾"},{name:"Saurashtra",bmp:"ꢀ-ꣅ꣎-꣙"},{name:"Sharada",astral:"\ud804[\udd80-\udddf]"},{name:"Shavian",astral:"\ud801[\udc50-\udc7f]"},{name:"Siddham",astral:"\ud805[\udd80-\uddb5\uddb8-\udddd]"},{name:"SignWriting",astral:"\ud836[\udc00-\ude8b\ude9b-\ude9f\udea1-\udeaf]"},{name:"Sinhala",bmp:"ඁ-ඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲ-෴",astral:"\ud804[\udde1-\uddf4]"},{name:"Sogdian",astral:"\ud803[\udf30-\udf59]"},{name:"Sora_Sompeng",astral:"\ud804[\udcd0-\udce8\udcf0-\udcf9]"},{name:"Soyombo",astral:"\ud806[\ude50-\udea2]"},{name:"Sundanese",bmp:"ᮀ-ᮿ᳀-᳇"},{name:"Syloti_Nagri",bmp:"ꠀ-꠬"},{name:"Syriac",bmp:"܀-܍܏-݊ݍ-ݏࡠ-ࡪ"},{name:"Tagalog",bmp:"ᜀ-᜕ᜟ"},{name:"Tagbanwa",bmp:"ᝠ-ᝬᝮ-ᝰᝲᝳ"},{name:"Tai_Le",bmp:"ᥐ-ᥭᥰ-ᥴ"},{name:"Tai_Tham",bmp:"ᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪠-᪭"},{name:"Tai_Viet",bmp:"ꪀ-ꫂꫛ-꫟"},{name:"Takri",astral:"\ud805[\ude80-\udeb9\udec0-\udec9]"},{name:"Tamil",bmp:"ஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௺",astral:"\ud807[\udfc0-\udff1\udfff]"},{name:"Tangsa",astral:"\ud81a[\ude70-\udebe\udec0-\udec9]"},{name:"Tangut",astral:"𖿠|[\ud81c-\ud820][\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udeff]|\ud823[\udd00-\udd08]"},{name:"Telugu",bmp:"ఀ-ఌఎ-ఐఒ-నప-హ఼-ౄె-ైొ-్ౕౖౘ-ౚౝౠ-ౣ౦-౯౷-౿"},{name:"Thaana",bmp:"ހ-ޱ"},{name:"Thai",bmp:"ก-ฺเ-๛"},{name:"Tibetan",bmp:"ༀ-ཇཉ-ཬཱ-ྗྙ-ྼ྾-࿌࿎-࿔࿙࿚"},{name:"Tifinagh",bmp:"ⴰ-ⵧⵯ⵰⵿"},{name:"Tirhuta",astral:"\ud805[\udc80-\udcc7\udcd0-\udcd9]"},{name:"Toto",astral:"\ud838[\ude90-\udeae]"},{name:"Ugaritic",astral:"\ud800[\udf80-\udf9d\udf9f]"},{name:"Vai",bmp:"ꔀ-ꘫ"},{name:"Vithkuqi",astral:"\ud801[\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc]"},{name:"Wancho",astral:"\ud838[\udec0-\udef9\udeff]"},{name:"Warang_Citi",astral:"\ud806[\udca0-\udcf2\udcff]"},{name:"Yezidi",astral:"\ud803[\ude80-\udea9\udeab-\udead\udeb0\udeb1]"},{name:"Yi",bmp:"ꀀ-ꒌ꒐-꓆"},{name:"Zanabazar_Square",astral:"\ud806[\ude00-\ude47]"}];function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}!function(e){var t=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,u=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,t],"g",{conjunction:"or"});function n(e){var t=/^(?:\(\?:\))*\^/,u=/\$(?:\(\?:\))*$/;return t.test(e)&&u.test(e)&&u.test(e.replace(/\\[\s\S]/g,""))?e.replace(t,"").replace(u,""):e}function r(t,u){var n=u?"x":"";return e.isRegExp(t)?t.xregexp&&t.xregexp.captureNames?t:e(t.source,n):e(t,n)}function d(t){return t instanceof RegExp?t:e.escape(t)}function a(e,t,u){return e["subpattern".concat(u)]=t,e}function o(e,t,u){return e+(t<u.length-1?"{{subpattern".concat(t,"}}"):"")}e.tag=function(t){return function(u){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var c=r.map(d).reduce(a,{}),s=u.raw.map(o).join("");return e.build(s,c,t)}},e.build=function(d,a,o){var i=(o=o||"").includes("x"),c=/^\(\?([\w$]+)\)/.exec(d);c&&(o=e._clipDuplicates(o+c[1]));var s={};for(var l in a)if(a.hasOwnProperty(l)){var f=r(a[l],i);s[l]={pattern:n(f.source),names:f.xregexp.captureNames||[]}}var p,m=r(d,i),h=0,g=0,D=[0],b=m.xregexp.captureNames||[],$=m.source.replace(u,(function(e,u,n,r,d){var a,o,i,c=u||n;if(c){if(!s.hasOwnProperty(c))throw new ReferenceError("Undefined property ".concat(e));u?(a=b[g],D[++g]=++h,o="(?<".concat(a||c,">")):o="(?:",p=h;var l=s[c].pattern.replace(t,(function(e,t,u){if(t){if(a=s[c].names[h-p],++h,a)return"(?<".concat(a,">")}else if(u)return i=+u-1,s[c].names[i]?"\\k<".concat(s[c].names[i],">"):"\\".concat(+u+p);return e}));return"".concat(o).concat(l,")")}if(r){if(a=b[g],D[++g]=++h,a)return"(?<".concat(a,">")}else if(d)return b[i=+d-1]?"\\k<".concat(b[i],">"):"\\".concat(D[+d]);return e}));return e($,o)}}(Fn),function(e){function t(e,t,u,n){return{name:e,value:t,start:u,end:n}}e.matchRecursive=function(u,n,r,d,a){a=a||{};var o,i=(d=d||"").includes("g"),c=d.includes("y"),s=d.replace(/y/g,"");n=e(n,s),r=e(r,s);var l=a.escapeChar;if(l){if(l.length>1)throw new Error("Cannot use more than one escape character");l=e.escape(l),o=new RegExp("(?:".concat(l,"[\\S\\s]|(?:(?!").concat(e.union([n,r],"",{conjunction:"or"}).source,")[^").concat(l,"])+)+"),d.replace(e._hasNativeFlag("s")?/[^imsu]/g:/[^imu]/g,""))}for(var f,p,m,h,g=0,D=0,b=0,$=0,v=a.valueNames,y=[];;){if(l&&(b+=(e.exec(u,o,b,"sticky")||[""])[0].length),m=e.exec(u,n,b),h=e.exec(u,r,b),m&&h&&(m.index<=h.index?h=null:m=null),m||h)b=(D=(m||h).index)+(m||h)[0].length;else if(!g)break;if(c&&!g&&D>$)break;if(m)g||(f=D,p=b),g+=1;else if(h&&g){if(!(g-=1)&&(v?(v[0]&&f>$&&y.push(t(v[0],u.slice($,f),$,f)),v[1]&&y.push(t(v[1],u.slice(f,p),f,p)),v[2]&&y.push(t(v[2],u.slice(p,D),p,D)),v[3]&&y.push(t(v[3],u.slice(D,b),D,b))):y.push(u.slice(p,D)),$=b,!i))break}else{var C=a.unbalanced||"error";if("skip"!==C&&"skip-lazy"!==C){if("error"===C){var E=h?D:f;throw new Error("Unbalanced ".concat(h?"right":"left"," delimiter found in string at position ").concat(E))}throw new Error("Unsupported value for unbalanced: ".concat(C))}if(h)h=null;else{if("skip"===C)b=f+(e.exec(u,n,f,"sticky")[0].length||1);else b=f+1;g=0}}D===b&&(b+=1)}return i&&y.length>0&&!c&&v&&v[0]&&u.length>$&&y.push(t(v[0],u.slice($),$,u.length)),y}}(Fn),function(e){var t={},u={},n=e._dec,r=e._hex,d=e._pad4;function a(e){return e.replace(/[- _]+/g,"").toLowerCase()}function o(e){var t=/^\\[xu](.+)/.exec(e);return t?n(t[1]):e.charCodeAt("\\"===e[0]?1:0)}function i(u){var n,a,i;return t[u]["b!"]||(t[u]["b!"]=(n=t[u].bmp,a="",i=-1,e.forEach(n,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,(function(e){var t=o(e[1]);t>i+1&&(a+="\\u".concat(d(r(i+1))),t>i+2&&(a+="-\\u".concat(d(r(t-1))))),i=o(e[2]||e[1])})),i<65535&&(a+="\\u".concat(d(r(i+1))),i<65534&&(a+="-\\uFFFF")),a))}function c(e,u){var n=u?"a!":"a=";return t[e][n]||(t[e][n]=function(e,u){var n=t[e],r="";return n.bmp&&!n.isBmpLast&&(r="[".concat(n.bmp,"]").concat(n.astral?"|":"")),n.astral&&(r+=n.astral),n.isBmpLast&&n.bmp&&(r+="".concat(n.astral?"|":"","[").concat(n.bmp,"]")),u?"(?:(?!".concat(r,")(?:[\ud800-\udbff][\udc00-\udfff]|[\0-￿]))"):"(?:".concat(r,")")}(e,u))}e.addToken(/\\([pP])(?:{(\^?)(?:(\w+)=)?([^}]*)}|([A-Za-z]))/,(function(e,n,r){var d="Unknown Unicode token ",o=kt(e,6),s=o[0],l=o[1],f=o[2],p=o[3],m=o[4],h=o[5],g="P"===l||!!f,D=r.includes("A"),b=a(h||m),$=t[b];if("P"===l&&f)throw new SyntaxError("Invalid double negation "+s);if(!t.hasOwnProperty(b))throw new SyntaxError(d+s);if(p&&(!u[p]||!u[p][b]))throw new SyntaxError(d+s);if($.inverseOf){if(b=a($.inverseOf),!t.hasOwnProperty(b))throw new ReferenceError("".concat("Unicode token missing data "+s," -> ").concat($.inverseOf));$=t[b],g=!g}if(!$.bmp&&!D)throw new SyntaxError("Astral mode required for Unicode token "+s);if(D){if("class"===n)throw new SyntaxError("Astral mode does not support Unicode tokens within character classes");return c(b,g)}return"class"===n?g?i(b):$.bmp:"".concat((g?"[^":"[")+$.bmp,"]")}),{scope:"all",optionalFlags:"A",leadChar:"\\"}),e.addUnicodeData=function(n,r){r&&(u[r]={});var d,o=wn(n);try{for(o.s();!(d=o.n()).done;){var i=d.value;if(!i.name)throw new Error("Unicode token requires name");if(!(i.inverseOf||i.bmp||i.astral))throw new Error("Unicode token has no character data "+i.name);var c=a(i.name);if(t[c]=i,r&&(u[r][c]=!0),i.alias){var s=a(i.alias);t[s]=i,r&&(u[r][s]=!0)}}}catch(e){o.e(e)}finally{o.f()}e.cache.flush("patterns")},e._getUnicodeProperty=function(e){var u=a(e);return t[u]}}(Fn),function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.addUnicodeData(xn)}(Fn),function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");var t=kn;t.push({name:"Assigned",inverseOf:"Cn"}),e.addUnicodeData(t)}(Fn),function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");e.addUnicodeData(Bn,"Script")}(Fn);var On=function(e){p(u,e);var t=Sn(u);function u(e){var n;return D(this,u),(n=t.call(this)).prop("ro","api",e.api),n.prop("ro","defaultParams",e.defaultParams||{}),n.prop("ro","id",e.id),n.prop("rw","err",null),n.prop("rw","req",{body:null,headers:{}}),n.prop("rw","res",{body:{},headers:[]}),n.prop("rw","status","pending"),n}return $(u,[{key:"error",value:function(e){if(e)return this.update({err:Array.isArray(e)?e:[{message:e}],status:"error"});if(!this.err||!this.err.length)return"";var t=this.err[0],u=t.path&&t.path.match(/\w$/)&&t.path.split("/").pop();return u?u+": "+t.message:t.message}},{key:"perform",value:function(e){var t,u=this;return this._promise||(this._promise=this.api.spec(this.id).then((function(n){if(!n)throw'Unknown operationId "'+u.id+'".';var r=u._paramsToRequest(n,e||u.defaultParams);return t=new XMLHttpRequest,u.update({req:r,status:"loading"}),u._send(t,r)})).then((function(){var e={};e.body=t.response?JSON.parse(t.response):{},e.headers=(t.getAllResponseHeaders()||"").trim().split(/[\r\n]+/).filter((function(e){return e.length})).map((function(e){return e.split(/:\s*/,2)})),e.status=String(t.status||"201");var n=null;return String(e.status).match(/^[23]/)||(n=e.body&&e.body.errors?e.body.errors:[{message:t.statusText||"Unknown error."}]),u.update({err:n,res:e,status:n?"error":"success"})})).catch((function(e){return e.type&&(e=e.type),console.error(u.req.url+" FAILED "+e),u.update({res:{body:{errors:[{message:String(e)}]},headers:[],status:"599"},status:"error"}),u.error(Array.isArray(e)?e:'Failed fetching operationId "'+u.id+'": '+e)})).finally((function(){delete u._promise})))}},{key:"is",value:function(e){return this.status==e}},{key:"reset",value:function(){return this.res.body={},this.res.headers={},this.res.status=0,this.update({err:null,status:"pending"})}},{key:"_extractValue",value:function(e,t){return t.schema?Object.keys(t.schema.properties).reduce((function(t,u){return t[u]=e[u],t}),{}):e[t.name]}},{key:"_hasProperty",value:function(e,t){return"body"==t.in||("formData"==t.in?e.formData.has(t.name):e.hasOwnProperty(t.name))}},{key:"_paramsToRequest",value:function(e,t){var u=this,n=new URL(e.url),r={headers:this.req.headers,method:e.method.toLowerCase(),url:n},d=[];if((e.parameters||[]).forEach((function(e){if(!u._hasProperty(t,e)&&e.required)d.push({message:"Missing property.",path:"/"+e.name});else{if(!u._hasProperty(t,e)&&!e.required)return;if("path"==e.in){var a=new RegExp("(%7B|\\{)"+eu(e.name)+"(%7D|\\})","i");n.pathname=n.pathname.replace(a,encodeURIComponent(u._extractValue(t,e)))}else if("query"==e.in)n.searchParams.set(e.name,u._extractValue(t,e));else if("formData"==e.in)delete r.headers["Content-Type"],r.body=t.formData;else if("body"==e.in)r.body=u._extractValue(t,e);else{if("header"!=e.in)throw"[Api] Parameter in:"+e.in+" is not supported.";r.header[e.name]=u._extractValue(t,e.name)}}})),d.length)throw d;return r}},{key:"_send",value:function(e,t){var u=this;return e.timeout=15e3,e.open(t.method.toUpperCase(),t.url),Object.keys(t.headers).forEach((function(u){return e.setRequestHeader(u,t.headers[u])})),"post"==t.method?(e.upload.addEventListener("progress",(function(e){return u.emit("progress",e)})),e.send(Vt.object(t.body)&&!Vt.function(t.body.has)?JSON.stringify(t.body):t.body)):e.send(),new Promise((function(t){e.addEventListener("abort",t),e.addEventListener("error",t),e.addEventListener("load",t)}))}}]),u}(lu);function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var jn=function e(t,u,n){var r=e.singletons[t]||(e.singletons[t]=new Tn);return u?r.operation(u,n):r};jn.singletons={};var Tn=function(e){p(n,e);var t,u=Nn(n);function n(){var e;return D(this,n),(e=u.call(this)).prop("rw","protocol",location.protocol||"http"),e.prop("rw","url",""),e}return $(n,[{key:"operation",value:function(e,t){var u=new On({api:this,id:e,defaultParams:t});return u.req.headers={"Content-Type":"application/json"},u}},{key:"spec",value:(t=hu(Du.mark((function e(t){var u,n,r=this;return Du.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ops||!t){e.next=2;break}return e.abrupt("return",this._ops[t]);case 2:if(!this._spec){e.next=4;break}return e.abrupt("return",this._spec);case 4:return e.next=6,fetch(this.url);case 6:return u=e.sent,e.next=9,u.json();case 9:if(n=e.sent,this._ops={},this._spec=n,Object.keys(n.paths).forEach((function(e){Object.keys(n.paths[e]).forEach((function(t){var u=n.paths[e][t],d=u.operationId;d&&(u.method=t.toUpperCase(),u.url=r.protocol+"//"+n.host+n.basePath+e+".json",u.parameters=(u.parameters||[]).map((function(e){return r._resolveRef(e)})),r._ops[d]=u)}))})),!this._ops||!t){e.next=15;break}return e.abrupt("return",this._ops[t]);case 15:if(!this._spec){e.next=17;break}return e.abrupt("return",this._spec);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"toFunction",value:function(){var e=this;return function(t,u){return t?e.operation(t,u):e}}},{key:"_resolveRef",value:function(e){var t=this,u=e;if(e.$ref){var n=e.$ref.replace(/^#\//,"").split("/");for(u=this._spec;n.length;)u=u[n.shift()]}return Vt.object(u)&&Object.keys(u).forEach((function(e){u[e]=t._resolveRef(u[e])})),u}}]),n}(lu);function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var Ln={},Pn={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"},Mn=function(e){p(n,e);var t,u=Rn(n);function n(){var e;return D(this,n),(e=u.call(this)).prop("cookie","lang",""),e.prop("ro","dictionaries",{}),e.prop("ro","emojis",new qu),e.prop("ro","languages",(function(){return e._languages})),e.prop("ro","languageOptions",(function(){return e._languageOptions})),e._languages=[],e._languageOptions=[],e}return $(n,[{key:"l",value:function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),n=1;n<t;n++)u[n-1]=arguments[n];var r=this.dictionaries[this.lang]||{},d=String(r[e]||e);return d.replace(/%(\d)(\D|$)/g,(function(e,t,n){return void 0===u[t-1]?e:u[t-1]+n}))}},{key:"load",value:(t=hu(Du.mark((function e(t){var u,n=this;return Du.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||(t=this.lang||document.documentElement.getAttribute("lang")),!this.dictionaries[t]){e.next=3;break}return e.abrupt("return",this.update({lang:t}));case 3:return e.next=5,jn("/api","getDictionary",{lang:t}).perform();case 5:return u=e.sent,this.dictionaries[t]=u.res.body.dictionary,this._languages=u.res.body.available_languages||{},this._languageOptions=Object.keys(this._languages).sort().map((function(e){return[e,n._languages[e].language_team.replace(/\s*<.*/,"")]})),e.abrupt("return",this.update({lang:t}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"lmd",value:function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),n=1;n<t;n++)u[n-1]=arguments[n];return this.md(this.l.apply(this,[e].concat(u)))}},{key:"lmdRaw",value:function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),n=1;n<t;n++)u[n-1]=arguments[n];return this.md(this.l.apply(this,[e].concat(u)),{raw:!0})}},{key:"md",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._state={},e=this._xmlEscape(e),e=this._nbsp(e),t.raw||(e=this._mdLink(e)),t.raw||(e=this._plainUrlToLink(e)),t.raw||(e=this._extendedFormatting(e)),t.raw||(e=this._mdCode(e)),t.raw||(e=this._mdEmStrong(e)),t.raw||(e=this.emojis.markup(e)),t.raw||(e=this._mdBlockQuote(e)),t.raw||(e=this._mdChannelsAndNicks(e)),e}},{key:"_extendedFormatting",value:function(e){var t="0[0-9]|[1-9][0-9]",u=new RegExp("("+t+")(?:,("+t+"))?([^]*)","g");return e.replace(u,(function(e,t,u,n){return n})).replace(/[\x02\x03\x1d\x1f\x1e\x11\x16\x0f]/g,"")}},{key:"_mdBlockQuote",value:function(e){return e.replace(/^&gt;\s(.*)/,(function(e,t){return"<blockquote>"+t+"</blockquote>"}))}},{key:"_mdChannelsAndNicks",value:function(e){return e.replace(/(^|\s)(#[a-zA-Z][\w.-]+)/g,(function(e,t,u){var n=u.match(/\.$/)?".":"";return n&&(u=u.replace(/\.$/,"")),t+'<a href="./'+Uu.urlFor(encodeURIComponent(u))+'">'+u+"</a>"+n}))}},{key:"_mdCode",value:function(e){return e.replace(/(\\?)`([^` ][^`]*)`/g,(function(e,t,u){return t?e.replace(/^\\/,""):"<code>"+u+"</code>"}))}},{key:"_mdEmStrong",value:function(e){return e.replace(/(^|\s|")(\\?)(\*+)(\w[^<]*?)\3/g,(function(e,t,u,n,r){return 1==n.length?u?e.replace(/^\\/,""):t+"<em>"+r+"</em>":2==n.length?u?e.replace(/^\\/,""):t+"<strong>"+r+"</strong>":3==n.length?u?e.replace(/^\\/,""):t+"<em><strong>"+r+"</strong></em>":e}))}},{key:"_mdLink",value:function(e){var t=this,u=Ln.mdLink||(Ln.mdLink=Fn("\\[ ([a-zA-Z][^\\]]+) \\] \\( ([^)]+) \\)","gx"));return Fn.replace(e,u,(function(e,u,n){var r=n.match(/^\s*(\w+):/)||["",""];if(r[1]&&-1==["http","https","mailto"].indexOf(r[1]))return e;t._state.md=!0;var d=n.substring(0,1),a=-1!=["/","#"].indexOf(d)?"":' target="_blank"';return'<a href="'+Uu.urlFor(n)+'"'+a+">"+u+"</a>"}))}},{key:"_nbsp",value:function(e){return e.length?e.replace(/^\s/,"&nbsp;").replace(/\s{2}/g," &nbsp;"):"&nbsp;"}},{key:"_plainUrlToLink",value:function(e){if(this._state.md)return e;var t=Ln.url||(Ln.url=Fn("(^|\\s) ( (?:http|https)://\\S+ | mailto:\\S+ )","gx")),u=Ln.urlEnd||(Ln.urlEnd=Fn("^(.*)([ ,.:;!\"'])$"));return Fn.replace(e,t,(function(e,t,n){var r=Fn.exec(n,u)||[e,n,""];return t+'<a href="'+r[1]+'" target="_blank">'+r[1].replace(/^mailto:/,"")+"</a>"+r[2]}))}},{key:"_xmlEscape",value:function(e){return e.replace(/[&<>']/g,(function(e){return Pn[e]}))}}]),n}(lu),In=new Mn,Un=mt(In,(function(e){return function(){return e.l.apply(e,arguments)}})),zn=mt(In,(function(e){return function(){return e.lmd.apply(e,arguments)}})),Hn=[],qn={};var Gn=function(e,t,u){return Hn.push({cmd:e,description:u,example:t})};Gn("/me","/me <msg>","Send message as an action."),Gn("/say","/say <msg>",'Used when you want to send a message starting with "/".'),Gn("/whois","/whois <nick>","Show information about a user."),Gn("/query","/query <nick>","Open up a new chat window with nick."),Gn("/msg","/msg <nick> <msg>","Send a direct message to nick."),Gn("/shrug","/shrug <msg>","Add a shrug to end of message. Message is optional."),Gn("/join","/join <#channel>","Join channel and open up a chat window."),Gn("/close","/close [nick|#channel]","Close conversation."),Gn("/nick","/nick <nick>","Change your wanted nick."),Gn("/away","/away <message>","Add or remove an away message"),Gn("/kick","/kick <nick>","Kick a user from the current channel."),Gn("/mode","/mode [+|-][b|o|v] <user>","Change mode of yourself or a user"),Gn("/topic","/topic or /topic <new topic>","Show current topic, or set a new one."),Gn("/names","/names","Show participants in the channel."),Gn("/invite","/invite <nick> [#channel]","Invite a user to a channel."),Gn("/reconnect","/reconnect","Restart the current connection."),Gn("/clear","/clear history <#channel> or /clear history <nick>","Delete all history for the given conversation."),Gn("/oper","/oper <nick> <password>","Gain operator status on a network."),Gn("/cs","/cs <msg>","Send a message to chanserv."),Gn("/ns","/ns <msg>","Send a message to nickserv."),Gn("/ms","/ms <msg>","Send a message to memoserv."),Gn("/hs","/hs <msg>","Send a message to hostserv."),Gn("/bs","/bs <msg>","Send a message to botserv."),Gn("/os","/os <msg>","Send a message to operserv."),Gn("/quote","/quote <irc-command>","Allow you to send any raw IRC message.");var Kn=function(e,t){return qn[e]=t};function Wn(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return Yn(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Yn(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,a=!0,o=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return a=e.done,e},e:function(e){o=!0,d=e},f:function(){try{a||null==u.return||u.return()}finally{if(o)throw d}}}}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,n=new Array(t);u<t;u++)n[u]=e[u];return n}function Zn(e,t){return Zn[e]?Zn[e](t):[]}function Vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}Kn("/close","/part"),Kn("/shrug",(function(e){return"/say "+e.concat("¯\\_(ツ)_/¯").join(" ")})),Kn("/cs","/quote chanserv"),Kn("/ns","/quote nickserv"),Kn("/ms","/quote memoserv"),Kn("/hs","/quote hotserv"),Kn("/bs","/quote botserv"),Kn("/os","/quote operserv"),Kn("/j","/join"),Kn("/raw","/quote"),Zn.commands=function(e){return function(e){for(var t=e.query,u=[],n=0;n<Hn.length;n++)if(0==Hn[n].cmd.indexOf(t)){var r=Hn[n].alias||Hn[n].cmd;u.push({val:r,text:In.md(Hn[n].example)})}return u}({query:e.query})},Zn.conversations=function(e){for(var t=e.conversation,u=e.query,n=e.user,r=n.findConversation({connection_id:t.connection_id}),d=r?r.conversations.toArray():n.conversations(),a=[],o=0;o<d.length&&!(-1!=d[o].name.toLowerCase().indexOf(u)&&(a.push({text:d[o].name,val:d[o].conversation_id}),a.length>=20));o++);return a},Zn.emojis=function(e){var t,u=e.query,n=In.emojis,r=[],d=Wn(n.search(u.substring(1)));try{for(d.s();!(t=d.n()).done;){var a=t.value;if(r.push({val:a.emoji,text:n.markup(a.emoji)}),r.length>=30)break}}catch(e){d.e(e)}finally{d.f()}return r},Zn.nicks=function(e){var t,u=e.conversation,n=e.query,r=new RegExp("^"+eu(n.slice(1)),"i"),d=[],a=Wn(u.participants.toArray());try{for(a.s();!(t=a.n()).done;){var o=t.value;if(d.length>=20)break;o.nick.match(r)&&d.push({val:o.nick})}}catch(e){a.e(e)}finally{a.f()}return d};var Jn={0:"Jan",1:"Feb",2:"March",3:"Apr",4:"May",5:"Jun",6:"July",7:"Aug",8:"Sept",9:"Oct",10:"Nov",11:"Dec"},Qn={H:"_getPaddedHours",M:"_getPaddedMinutes",S:"_getPaddedSeconds",b:"_getMonthAbbr",e:"getDate",Y:"getFullYear"},Xn=function(e){p(n,e);var t=Vn(n);function n(e){return D(this,n),"string"!=typeof e||e.match(/Z$/)||(e+="Z"),t.call(this,e||new Date)}return $(n,[{key:"format",value:function(e){var t=this;return e.replace(/%(\w)/g,(function(e,u){return Qn[u]?t[Qn[u]]():u}))}},{key:"getHumanDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.format("%b %e"),u=new n,r=this.getYear()==u.getYear();return r&&!e.year||(t+=", "+this.getFullYear()),t}},{key:"setDate",value:function(e,t){return t?f(u(n.prototype),"setUTCDate",this).call(this,e):f(u(n.prototype),"setDate",this).call(this,e),this}},{key:"setFullYear",value:function(e,t){return t?f(u(n.prototype),"setUTCFullYear",this).call(this,e):f(u(n.prototype),"setFullYear",this).call(this,e),this}},{key:"setHours",value:function(e,t){return t?f(u(n.prototype),"setUTCHours",this).call(this,e):f(u(n.prototype),"setHours",this).call(this,e),this}},{key:"setMilliseconds",value:function(e,t){return t?f(u(n.prototype),"setUTCMilliseconds",this).call(this,e):f(u(n.prototype),"setMilliseconds",this).call(this,e),this}},{key:"setMinutes",value:function(e,t){return t?f(u(n.prototype),"setUTCMinutes",this).call(this,e):f(u(n.prototype),"setMinutes",this).call(this,e),this}},{key:"setMonth",value:function(e,t){return t?f(u(n.prototype),"setUTCMonth",this).call(this,e):f(u(n.prototype),"setMonth",this).call(this,e),this}},{key:"setSeconds",value:function(e,t){return t?f(u(n.prototype),"setUTCSeconds",this).call(this,e):f(u(n.prototype),"setSeconds",this).call(this,e),this}},{key:"setTime",value:function(e){return f(u(n.prototype),"setTime",this).call(this,e),this}},{key:"setYear",value:function(e){return this.setYear(e),this}},{key:"toEpoch",value:function(){return this.getTime()/1e3}},{key:"_getMonthAbbr",value:function(){return Jn[this.getMonth()]||""}},{key:"_getPaddedHours",value:function(){return String(this.getHours()).padStart(2,"0")}},{key:"_getPaddedMinutes",value:function(){return String(this.getMinutes()).padStart(2,"0")}},{key:"_getPaddedSeconds",value:function(){return String(this.getSeconds()).padStart(2,"0")}}]),n}(a(Date)),er=pt(null);function tr(e){if(!e.nick)return["Loading..."];var t=Object.keys(e.channels||{}).sort(),u=[e.nick,e.name||e.user],n="%1 (%2)";return e.away&&(n+=" is away (%3) and",u.push(e.away)),e.idle_for&&t.length?(n+=" has been idle for %4s in %5.",u.push(e.idle_for),u.push(t.sort().join(", "))):e.idle_for&&!t.length?(n+=" has been idle for %4s, and is not in any channels.",u.push(e.idle_for)):t.length?(n+=" is active in %4.",u.push(t.join(", "))):n+=" is not in any channels.",e.away||(n=n.replace(/%(4|5)/g,(function(e,t){return"%"+(t-1)}))),[n].concat(u)}function ur(e,t){return"onInfinityScrolled"==e?function(){for(var e=arguments.length,u=new Array(e),n=0;n<e;n++)u[n]=arguments[n];return dr.apply(void 0,[t].concat(u))}:"onInfinityVisibility"==e?function(){for(var e=arguments.length,u=new Array(e),n=0;n<e;n++)u[n]=arguments[n];return ar.apply(void 0,[t].concat(u))}:"onMessageClick"==e?function(){for(var e=arguments.length,u=new Array(e),n=0;n<e;n++)u[n]=arguments[n];return or.apply(void 0,[t].concat(u))}:"onVideoLinkClick"==e?function(){for(var e=arguments.length,u=new Array(e),n=0;n<e;n++)u[n]=arguments[n];return ir.apply(void 0,[t].concat(u))}:void 0}function nr(e){var t=["","chat",e.connection_id];return e.conversation_id&&t.push(e.conversation_id),Uu.urlFor(t.map(encodeURIComponent).join("/")+"#"+e.ts.toISOString())}function rr(e){e.target.closest("a")||(e.preventDefault(),Uu.go(e.target.closest(".message").querySelector("a").href))}function dr(e,t){var u=e.conversation,n=t.detail.visibleEls.filter((function(e){return e.dataset.ts}));if(n.length){var r=function(e){return Uu.go(u.path+(e.length?"#"+e:""),{replace:!0})},d=t.detail.pos;if("top"==d){var a=n[0].dataset.ts;u.historyStartAt||u.load({before:a}),r(a)}else if("bottom"==d){var o=n.slice(-1)[0].dataset.ts;u.historyStopAt||u.load({after:o}),r(u.historyStopAt?"":o)}else r(n[0].dataset.ts)}}function ar(e,t){var u=e.conversation,n=e.onLoadHash,r=t.detail,d=r.infinityEl,a=r.scrollHeightChanged,o=r.scrollTo,i=r.visibleEls,c=r.visibleElsChanged,s=u.messages;!(d.scrollHeight>d.offsetHeight)&&s.length&&u.load({before:s.get(0).ts.toISOString()}),a&&(o(Uu.hash?'.message[data-ts="'+Uu.hash+'"]':-1),function(e,t){var u=t&&Uu.hash&&e.querySelector('.message[data-ts="'+Uu.hash+'"]');Xt(e,".has-focus",(function(e){return e.classList.remove("has-focus")})),u&&u.classList.add("has-focus")}(d,n==Uu.hash)),c&&i.forEach((function(e){return s.render(e.dataset.index)}))}function or(e,t){var u=t.target.closest("a");u&&!u.target&&t.target.closest(".embed")&&(u.target="_blank");var n=u&&document.querySelector('[target="convos_video"][href="'+u.href+'"]');if(n)return ir(e,t,n);var r=t.target.closest(".le-meta");if(r)return u||r.parentNode.classList.toggle("is-expanded");var d=u&&u.href.match(/#(action|popover):(\w+):?(.*)/);return d?function(e,t,u){var n=e.conversation,r=e.fillIn,d=e.focusChatInput,a=e.popoverTarget;if(t.preventDefault(),"popover"==u[0])a.set(x(a)==u[1]?null:u[1]);else if("details"==u[1]){var o=n.messages.get(u[2]);o.showDetails=!o.showDetails,n.messages.update({messages:!0})}else"close"==u[1]?(n.send("/close "+(u[2]?decodeURIComponent(u[2]):n.conversation_id)),Uu.go("/settings/conversation")):"join"==u[1]?(a.set(null),n.send("/join "+(u[2]?decodeURIComponent(u[2]):n.conversation_id))):"mention"==u[1]?(a.set(null),r(u[2],{}),d()):"whois"==u[1]?(a.set(null),n.send("/whois "+decodeURIComponent(u[2]),(function(e){var t=Wt(e);t&&n.addMessages({message:t,sent:e,type:"error"})}))):console.warn("Unhandled onMessageActionClick",u)}(e,t,d.slice(1)):du(t.target,"img")?uu(t,t.target):u&&u.classList.contains("le-thumbnail")?uu(t,u.querySelector("img")):void 0}function ir(e,t,u){var n=e.conversation,r=e.user;u||(u=t.target.closest("a"));var d=-1!=u.href.indexOf("#action:video");if(er.close()&&d)return t.preventDefault();var a=u.closest(".le-provider-convosapp")||u.closest(".le-provider-jitsi"),o={nick:n.participants.me().nick};if(d){var i=new URL(r.videoService);i.pathname+="/"+lr(n),i.pathname=i.pathname.replace(/\/+/g,"/"),function(e,t){t=new URL(t,location.href).href;var u=e.messages.toArray().slice(-20).reverse().find((function(e){return-1!=e.message.indexOf(t)}));u&&u.ts.toEpoch()>(new Xn).toEpoch()-600||e.send({method:"send",message:t})}(n,i.toString()),t.preventDefault(),er.open(Uu.urlFor("/video/"+i.hostname+"/"+lr(n),o))}else if(-1!=u.href.indexOf("/video/")){var c=new URL(u.href);t.preventDefault(),er.open(Uu.urlFor(c.pathname.replace(/.*?\/video\//,"/video/"),o))}else if(a){var s=new URL(u.href);t.preventDefault(),er.open(Uu.urlFor("/video/"+s.hostname+s.pathname,o))}}function cr(e,t){var u=t.nodes[0]&&t.nodes[0].parentNode;if(u&&u.classList){var n=u.classList.contains("embed")?"add":"remove";u.classList[n]("hidden")}t.nodes.forEach((function(t){return e.appendChild(t)}))}function sr(e,t){return t.is("not_found")?"":e.frozen?e.frozen:e==t?"Connection messages.":t.info.away?t.info.away:t.info.idle_for?In.l("User has been idle for %1s.",t.info.idle_for):(t.frozen?t.frozen:t.topic)||(t.is("private")?"Private conversation.":"No topic is set.")}function lr(e){var t=e.is("private")?e.participants.nicks().sort().join("-and-"):e.title;return encodeURIComponent(t)}function fr(e){var t=e-1;return t*t*t+1}function pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.delay,n=void 0===u?0:u,r=t.duration,d=void 0===r?400:r,a=t.easing,o=void 0===a?y:a,i=+getComputedStyle(e).opacity;return{delay:n,duration:d,easing:o,css:function(e){return"opacity: ".concat(e*i)}}}function mr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.delay,n=void 0===u?0:u,r=t.duration,d=void 0===r?400:r,a=t.easing,o=void 0===a?fr:a,i=t.x,c=void 0===i?0:i,s=t.y,l=void 0===s?0:s,f=t.opacity,p=void 0===f?0:f,m=getComputedStyle(e),h=+m.opacity,g="none"===m.transform?"":m.transform,D=h*(1-p);return{delay:n,duration:d,easing:o,css:function(e,t){return"\n\t\t\ttransform: ".concat(g," translate(").concat((1-e)*c,"px, ").concat((1-e)*l,"px);\n\t\t\topacity: ").concat(h-D*t)}}}function hr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.delay,n=void 0===u?0:u,r=t.duration,d=void 0===r?400:r,a=t.easing,o=void 0===a?fr:a,i=getComputedStyle(e),c=+i.opacity,s=parseFloat(i.height),l=parseFloat(i.paddingTop),f=parseFloat(i.paddingBottom),p=parseFloat(i.marginTop),m=parseFloat(i.marginBottom),h=parseFloat(i.borderTopWidth),g=parseFloat(i.borderBottomWidth);return{delay:n,duration:d,easing:o,css:function(e){return"overflow: hidden;"+"opacity: ".concat(Math.min(20*e,1)*c,";")+"height: ".concat(e*s,"px;")+"padding-top: ".concat(e*l,"px;")+"padding-bottom: ".concat(e*f,"px;")+"margin-top: ".concat(e*p,"px;")+"margin-bottom: ".concat(e*m,"px;")+"border-top-width: ".concat(e*h,"px;")+"border-bottom-width: ".concat(e*g,"px;")}}}function gr(e,t,u){const n=e.slice();return n[40]=t[u],n[42]=u,n}function Dr(e){let t,u,n,r,d;u=new ct({props:{name:"cloud-upload-alt"}});let a=e[13].videoService&&br(e);return{c(){t=Z("label"),Je(u.$$.fragment),n=J(),a&&a.c(),r=Q(),te(t,"for","upload_files"),te(t,"class","btn-hallow upload")},m(e,o){K(e,t,o),Qe(u,t,null),K(e,n,o),a&&a.m(e,o),K(e,r,o),d=!0},p(e,t){e[13].videoService?a?(a.p(e,t),8192&t[0]&&He(a,1)):(a=br(e),a.c(),He(a,1),a.m(r.parentNode,r)):a&&(Ue(),qe(a,1,1,(()=>{a=null})),ze())},i(e){d||(He(u.$$.fragment,e),He(a),d=!0)},o(e){qe(u.$$.fragment,e),qe(a),d=!1},d(e){e&&W(t),Xe(u),e&&W(n),a&&a.d(e),e&&W(r)}}}function br(e){let t,u,n,r,d,a;return u=new ct({props:{name:e[14]?"video-slash":"video"}}),{c(){t=Z("a"),Je(u.$$.fragment),te(t,"href","#action:video"),te(t,"class","btn-hallow has-tooltip"),te(t,"tooltip",n=e[1]("Start a video conference"))},m(n,o){K(n,t,o),Qe(u,t,null),r=!0,d||(a=X(t,"click",(function(){F(e[8])&&e[8].apply(this,arguments)})),d=!0)},p(d,a){e=d;const o={};16384&a[0]&&(o.name=e[14]?"video-slash":"video"),u.$set(o),(!r||2&a[0]&&n!==(n=e[1]("Start a video conference")))&&te(t,"tooltip",n)},i(e){r||(He(u.$$.fragment,e),r=!0)},o(e){qe(u.$$.fragment,e),r=!1},d(e){e&&W(t),Xe(u),d=!1,a()}}}function $r(e){let t,u,n,r,d,a,o;return u=new ct({props:{name:"plus-circle"}}),r=new ct({props:{name:"times"}}),{c(){t=Z("a"),Je(u.$$.fragment),n=J(),Je(r.$$.fragment),te(t,"href","#actions"),te(t,"class","btn-hallow"),oe(t,"is-active","actions"==e[11])},m(i,c){K(i,t,c),Qe(u,t,null),H(t,n),Qe(r,t,null),d=!0,a||(o=X(t,"click",e[17].toggle),a=!0)},p(e,u){2048&u[0]&&oe(t,"is-active","actions"==e[11])},i(e){d||(He(u.$$.fragment,e),He(r.$$.fragment,e),d=!0)},o(e){qe(u.$$.fragment,e),qe(r.$$.fragment,e),d=!1},d(e){e&&W(t),Xe(u),Xe(r),a=!1,o()}}}function vr(e){let t,u,n,r,d=e[4],a=[];for(let t=0;t<d.length;t+=1)a[t]=Cr(gr(e,d,t));return{c(){t=Z("div");for(let e=0;e<a.length;e+=1)a[e].c();te(t,"class",u="chat-input_menu for-"+e[5])},m(e,u){K(e,t,u);for(let e=0;e<a.length;e+=1)a[e].m(t,null);r=!0},p(n,o){if(e=n,524312&o[0]){let u;for(d=e[4],u=0;u<d.length;u+=1){const n=gr(e,d,u);a[u]?a[u].p(n,o):(a[u]=Cr(n),a[u].c(),a[u].m(t,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=d.length}(!r||32&o[0]&&u!==(u="chat-input_menu for-"+e[5]))&&te(t,"class",u)},i(u){r||(Se((()=>{n||(n=Ke(t,mr,e[15],!0)),n.run(1)})),r=!0)},o(u){n||(n=Ke(t,mr,e[15],!1)),n.run(0),r=!1},d(e){e&&W(t),Y(a,e),e&&n&&n.end()}}}function yr(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h=e[1]("Start a video conference")+"",g=e[1]("Attach a file")+"";return n=new ct({props:{name:e[14]?"video-slash":"video"}}),i=new ct({props:{name:"cloud-upload-alt"}}),{c(){t=Z("div"),u=Z("a"),Je(n.$$.fragment),r=J(),d=V(h),a=J(),o=Z("label"),Je(i.$$.fragment),c=J(),s=V(g),te(u,"href","#action:video"),te(o,"for","upload_files"),te(t,"class","chat-input_menu for-actions")},m(l,h){K(l,t,h),H(t,u),Qe(n,u,null),H(u,r),H(u,d),H(t,a),H(t,o),Qe(i,o,null),H(o,c),H(o,s),f=!0,p||(m=[X(u,"click",(function(){F(e[8])&&e[8].apply(this,arguments)})),X(t,"click",e[17].toggle)],p=!0)},p(t,u){e=t;const r={};16384&u[0]&&(r.name=e[14]?"video-slash":"video"),n.$set(r),(!f||2&u[0])&&h!==(h=e[1]("Start a video conference")+"")&&ne(d,h),(!f||2&u[0])&&g!==(g=e[1]("Attach a file")+"")&&ne(s,g)},i(u){f||(He(n.$$.fragment,u),He(i.$$.fragment,u),Se((()=>{l||(l=Ke(t,mr,e[15],!0)),l.run(1)})),f=!0)},o(u){qe(n.$$.fragment,u),qe(i.$$.fragment,u),l||(l=Ke(t,mr,e[15],!1)),l.run(0),f=!1},d(e){e&&W(t),Xe(n),Xe(i),e&&l&&l.end(),p=!1,A(m)}}}function Cr(e){let t,u,n,r,d=(e[40].text||e[40].val)+"";return{c(){t=Z("a"),te(t,"href",u="#index:"+e[42]),te(t,"tabindex","-1"),oe(t,"has-focus",e[42]==e[3])},m(u,a){K(u,t,a),t.innerHTML=d,n||(r=X(t,"click",ee(e[19])),n=!0)},p(e,u){16&u[0]&&d!==(d=(e[40].text||e[40].val)+"")&&(t.innerHTML=d),8&u[0]&&oe(t,"has-focus",e[42]==e[3])},d(e){e&&W(t),n=!1,r()}}}function Er(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$=e[12].nColumns>1&&e[2].is("conversation"),v=1==e[12].nColumns&&e[0].is("conversation"),y=$&&Dr(e),C=v&&$r(e);l=new ct({props:{name:e[9]}});const E=[yr,vr],w=[];function _(e,t){return(null==p||2049&t[0])&&(p=!("actions"!=e[11]||!e[0].is("conversation"))),p?0:e[4].length?1:-1}return~(m=_(e,[-1,-1]))&&(h=w[m]=E[m](e)),{c(){t=Z("form"),u=Z("input"),n=J(),r=Z("textarea"),d=J(),a=Z("textarea"),o=J(),y&&y.c(),i=J(),C&&C.c(),c=J(),s=Z("button"),Je(l.$$.fragment),f=J(),h&&h.c(),te(u,"type","file"),te(u,"id","upload_files"),te(u,"name","upload_files"),te(u,"class","non-interactive"),te(r,"class","non-interactive"),te(r,"placeholder",e[10]),te(a,"class","is-primary-input"),te(a,"placeholder",e[10]),te(s,"type","buttton"),te(s,"class","btn-hallow chat-input__send"),te(t,"class","chat-input")},m(p,h){K(p,t,h),H(t,u),H(t,n),H(t,r),e[30](r),H(t,d),H(t,a),H(t,o),y&&y.m(t,null),H(t,i),C&&C.m(t,null),H(t,c),H(t,s),Qe(l,s,null),H(t,f),~m&&w[m].m(t,null),g=!0,D||(b=[X(u,"change",(function(){F(e[7])&&e[7].apply(this,arguments)})),R(e[18].call(null,a)),X(s,"click",e[20]),X(t,"submit",ee(e[29]))],D=!0)},p(u,n){e=u,(!g||1024&n[0])&&te(r,"placeholder",e[10]),(!g||1024&n[0])&&te(a,"placeholder",e[10]),4100&n[0]&&($=e[12].nColumns>1&&e[2].is("conversation")),$?y?(y.p(e,n),4100&n[0]&&He(y,1)):(y=Dr(e),y.c(),He(y,1),y.m(t,i)):y&&(Ue(),qe(y,1,1,(()=>{y=null})),ze()),4097&n[0]&&(v=1==e[12].nColumns&&e[0].is("conversation")),v?C?(C.p(e,n),4097&n[0]&&He(C,1)):(C=$r(e),C.c(),He(C,1),C.m(t,c)):C&&(Ue(),qe(C,1,1,(()=>{C=null})),ze());const d={};512&n[0]&&(d.name=e[9]),l.$set(d);let o=m;m=_(e,n),m===o?~m&&w[m].p(e,n):(h&&(Ue(),qe(w[o],1,1,(()=>{w[o]=null})),ze()),~m?(h=w[m],h?h.p(e,n):(h=w[m]=E[m](e),h.c()),He(h,1),h.m(t,null)):h=null)},i(e){g||(He(y),He(C),He(l.$$.fragment,e),He(h),g=!0)},o(e){qe(y),qe(C),qe(l.$$.fragment,e),qe(h),g=!1},d(u){u&&W(t),e[30](null),y&&y.d(),C&&C.d(),Xe(l),~m&&w[m].d(),D=!1,A(b)}}}function Ar(e,t,u){let n,r,d,a,o,i,c,s,l,f,p,m=v,h=()=>(m(),m=_(b,(e=>u(2,c=e))),b);k(e,Un,(e=>u(1,i=e))),k(e,Dt,(e=>u(12,l=e))),k(e,er,(e=>u(14,p=e))),e.$$.on_destroy.push((()=>m()));const g=z;let{uploadProgress:D=0}=t,{conversation:b}=t;h();let $,y,C=0,E=[],A="none",F=0;const w=ye("api"),x=ye("user");k(e,x,(e=>u(13,f=e)));const B=bt("activeChatMenu");k(e,B,(e=>u(11,s=e)));const S=new pu;function O(e,t){const{before:u,middle:n,after:r}=function(e,t){e&&e.hasOwnProperty("val")&&(e=e.val);var u=t.append?t.value.length:t.cursorPos,n=[t.value.substring(0,u),t.value.substring(u)],r=n[0],d=n[1];return Vt.undefined(e)?{before:r,middle:"",after:d}:(t.append&&(r=r.replace(/[ ]$/,"")).length&&(e=" "+e),t.padBefore&&(r=r.replace(/[ ]$/,"")).length&&(e=" "+e),t.padAfter&&(d=d.replace(/^[ ]/,""),e+=" "),t.replace&&(r=r.replace(/\S*\s?$/,"")),{before:r,middle:e,after:d})}(e,{...t,cursorPos:$.selectionStart,value:$.value});M(u+n+r),$.selectionStart=$.selectionEnd=(u+n).length}function N(e,t){E.length&&(e.preventDefault(),u(3,C+=t),C<0&&u(3,C=E.length-1),C>=E.length&&u(3,C=0),O(E[C],{replace:!0}))}function j(e){!e.conversation_id&&b.conversation_id&&(e.conversation_id=b.conversation_id)}function R(e){u(3,C=0),u(25,F=e.selectionStart),b.update({userInput:e.value}),e.value.length||S.update({index:-1})}function L(){y.maxHeight||u(6,y.maxHeight=y.parentNode.offsetHeight,y),u(6,y.value=$.value,y),u(6,y.style.width=$.offsetWidth+"px",y),$.style.height=(y.maxHeight>y.scrollHeight?y.scrollHeight:y.maxHeight)+"px"}function P(e){if(E[C])e.preventDefault(),O(E[C],{replace:!0}),u(25,F=$.selectionStart+1);else if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){e.preventDefault();const u={method:"send"};u.message=(t=$.value,n=t.split(/\s/),r=qn[n[0].toLowerCase()],Vt.function(r)?r(n.slice(1)):r?[r].concat(n.slice(1)).filter((function(e){return Vt.defined(e)&&e.length})).join(" "):t),u.message.length&&b.send(u,j),S.add(u.message),b.is("search")||M(""),setTimeout(L,10)}var t,n,r}function M(e){$&&($.value=e),b.update({userInput:e})}function I(e){$&&(u(4,E=e>$.value.length?[]:function(e,t,u){var n=u.conversation,r=u.user,d="",a="",o=e.substring(0,t).replace(/(\S)(\S*)$/,(function(e,t,u){return d=t,a=u,""})),i=":"==d&&a.length?"emojis":"/"!=d||o.length?"@"==d&&a.length?"nicks":"#"==d||"&"==d?"conversations":"none":"commands",c=Zn(i,{conversation:n,query:d+a,user:r});return c.length&&c.unshift({autocompleteCategory:i,val:d+a}),c}($.value,e,{conversation:b,user:x})),u(5,A=E.length&&E[0].autocompleteCategory||"none"))}function U(e){U.lock!=e.path&&(u(26,U.lock=e.path,U),M(Vt.undefined(e.userInput)?"":e.userInput))}function z(e){const t=e.target&&e.target.files||e.dataTransfer&&e.dataTransfer.files;if(!t||!t.length)return;if(t.length>1)return b.addMessages({message:"Cannot upload more than one file.",type:"error"});const n=new FormData;n.append("file",t[0]),u(7,z.file=t[0],z);const r=w("uploadFile");r.on("progress",(e=>{D<100&&u(21,D=parseInt(100*(e.total?e.loaded/e.total:.02),10)),D>=100&&u(21,D=0)})),u(21,D=1),r.perform({formData:n}).then((e=>{const t=e.res.body;if(u(21,D=0),t.files&&t.files.length)return O(t.files[0].url,{append:!0});t.errors&&b.addMessages({message:"Could not upload file: %1",vars:[i(Wt(t.errors))],type:"error"})}))}return e.$$set=e=>{"uploadProgress"in e&&u(21,D=e.uploadProgress),"conversation"in e&&h(u(0,b=e.conversation))},e.$$.update=()=>{1&e.$$.dirty[0]&&u(28,n=x.findConversation({connection_id:b.connection_id})),1&e.$$.dirty[0]&&b&&T(B,s="",s),268435456&e.$$.dirty[0]&&u(27,r=n&&n.nick),402653187&e.$$.dirty[0]&&u(10,d=b.is("search")?i("What are you looking for?"):n&&n.is("unreachable")?i("Connecting..."):i("What is on your mind %1?",r)),1&e.$$.dirty[0]&&u(9,a=b.is("search")?"search":"paper-plane"),1&e.$$.dirty[0]&&u(8,o=ur("onVideoLinkClick",{conversation:b,user:x})),4&e.$$.dirty[0]&&S.update({conversation:c}),33554432&e.$$.dirty[0]&&I(F),67108865&e.$$.dirty[0]&&U(b)},[b,i,c,C,E,A,y,z,o,a,d,s,l,f,p,{y:-10,duration:200},x,B,function(e){$=e,$.addEventListener("focus",(()=>u(25,F=$.value.length+1))),$.addEventListener("change",(()=>R($))),$.addEventListener("input",L),$.addEventListener("keyup",(e=>{1!=e.key.length&&-1==["ArrowLeft","ArrowRight","Backspace"].indexOf(e.key)||R($)})),$.addEventListener("keydown",(e=>{if(!("ArrowDown"==e.key&&S.render(e,-1)||"ArrowUp"==e.key&&S.render(e,1)))return"ArrowDown"==e.key?N(e,e.shiftKey?4:1):"ArrowUp"==e.key?N(e,e.shiftKey?-4:-1):"Enter"==e.key?P(e):"Tab"==e.key?N(e,e.shiftKey?-1:1):void 0})),S.attach($),M(Vt.undefined(b.userInput)?"":b.userInput)},function(e){u(3,C=parseInt(e.target.closest("a").href.replace(/.*index:/,""),10)),O(E[C],{padAfter:!0,replace:!0}),setTimeout((()=>{R($),$.focus()}),1)},P,D,g,O,function(){$&&$.focus()},F,U,r,n,function(t){Ce.call(this,e,t)},function(e){Ae[e?"unshift":"push"]((()=>{y=e,u(6,y)}))}]}er.close=function(){var e=x(this);return!!e&&[!0,e.close(),this.set(null)][0]},er.open=function(e){var t=this,u=window.open(e.toString(),"convos_video");["beforeunload","close"].forEach((function(e){return u.addEventListener(e,(function(){return t.set(null)}))})),this.set(u)};class Fr extends ut{constructor(e){super(),tt(this,e,Ar,Er,w,{uploader:22,uploadProgress:21,conversation:0,fillIn:23,focus:24},null,[-1,-1])}get uploader(){return this.$$.ctx[22]}get fillIn(){return this.$$.ctx[23]}get focus(){return this.$$.ctx[24]}}function wr(e){let t,u,n,r,d,a,o;u=new ct({props:{animation:e[4],name:e[0]}});const i=e[13].default,c=B(i,e,e[12],null);return{c(){t=Z("button"),Je(u.$$.fragment),n=J(),c&&c.c(),te(t,"class",r=e[5].join(" ")),t.disabled=e[6],te(t,"type",e[3]),te(t,"data-tooltip",e[2]),oe(t,"has-tooltip",!!e[2].length)},m(r,i){K(r,t,i),Qe(u,t,null),H(t,n),c&&c.m(t,null),d=!0,a||(o=X(t,"click",e[14]),a=!0)},p(e,[n]){const a={};16&n&&(a.animation=e[4]),1&n&&(a.name=e[0]),u.$set(a),c&&c.p&&(!d||4096&n)&&N(c,i,e,e[12],d?O(i,e[12],n,null):j(e[12]),null),(!d||32&n&&r!==(r=e[5].join(" ")))&&te(t,"class",r),(!d||64&n)&&(t.disabled=e[6]),(!d||8&n)&&te(t,"type",e[3]),(!d||4&n)&&te(t,"data-tooltip",e[2]),36&n&&oe(t,"has-tooltip",!!e[2].length)},i(e){d||(He(u.$$.fragment,e),He(c,e),d=!0)},o(e){qe(u.$$.fragment,e),qe(c,e),d=!1},d(e){e&&W(t),Xe(u),c&&c.d(e),a=!1,o()}}}function _r(e,t,u){let n,r,d=v,a=()=>(d(),d=_(g,(e=>u(11,r=e))),g);e.$$.on_destroy.push((()=>d()));let{$$slots:o={},$$scope:i}=t,c="",{class:s=""}=t,l=[],f=!1,p=0,{disabled:m=!1}=t,{icon:h=""}=t,{op:g=new On({api:!1,id:""})}=t;a();let{tooltip:D=""}=t,{type:b=""}=t;function $(e){e&&u(10,p=(new Xn).toEpoch()),u(4,c=e?"spin":""),u(9,f=e)}return e.$$set=e=>{"class"in e&&u(7,s=e.class),"disabled"in e&&u(8,m=e.disabled),"icon"in e&&u(0,h=e.icon),"op"in e&&a(u(1,g=e.op)),"tooltip"in e&&u(2,D=e.tooltip),"type"in e&&u(3,b=e.type),"$$scope"in e&&u(12,i=e.$$scope)},e.$$.update=()=>{2048&e.$$.dirty&&r.is("loading")&&$(!0),3072&e.$$.dirty&&(r.is("loading")||setTimeout((()=>$(!1)),700-((new Xn).toEpoch()-p))),129&e.$$.dirty&&u(5,l=["btn","for-"+(h||"default")].concat(s)),768&e.$$.dirty&&u(6,n=m||f)},[h,g,D,b,c,l,n,s,m,f,p,r,i,o,function(t){Ce.call(this,e,t)}]}class xr extends ut{constructor(e){super(),tt(this,e,_r,wr,w,{class:7,disabled:8,icon:0,op:1,tooltip:2,type:3})}}const kr=e=>({}),Br=e=>({});function Sr(e){let t,u;const n=e[14].label,r=B(n,e,e[13],Br);return{c(){t=Z("label"),r&&r.c(),te(t,"for",e[4])},m(e,n){K(e,t,n),r&&r.m(t,null),u=!0},p(e,d){r&&r.p&&(!u||8192&d)&&N(r,n,e,e[13],u?O(n,e[13],d,kr):j(e[13]),Br),(!u||16&d)&&te(t,"for",e[4])},i(e){u||(He(r,e),u=!0)},o(e){qe(r,e),u=!1},d(e){e&&W(t),r&&r.d(e)}}}function Or(e){let t,u,n,r,d,a,o,i;r=new ct({props:{family:"regular",name:e[7]}}),r.$on("click",e[18]);let c=e[9].label&&Sr(e);return{c(){t=Z("div"),u=Z("input"),n=J(),Je(r.$$.fragment),d=J(),c&&c.c(),te(u,"type","checkbox"),te(u,"id",e[4]),te(u,"name",e[3]),u.disabled=e[1],te(t,"class","checkbox"),t.hidden=e[2],oe(t,"has-badge",e[0]),oe(t,"has-focus",e[6]),oe(t,"is-disabled",e[1])},m(s,l){K(s,t,l),H(t,u),u.checked=e[5],H(t,n),Qe(r,t,null),H(t,d),c&&c.m(t,null),a=!0,o||(i=[X(u,"change",e[15]),X(u,"blur",e[16]),X(u,"focus",e[17])],o=!0)},p(e,[n]){(!a||16&n)&&te(u,"id",e[4]),(!a||8&n)&&te(u,"name",e[3]),(!a||2&n)&&(u.disabled=e[1]),32&n&&(u.checked=e[5]);const d={};128&n&&(d.name=e[7]),r.$set(d),e[9].label?c?(c.p(e,n),512&n&&He(c,1)):(c=Sr(e),c.c(),He(c,1),c.m(t,null)):c&&(Ue(),qe(c,1,1,(()=>{c=null})),ze()),(!a||4&n)&&(t.hidden=e[2]),1&n&&oe(t,"has-badge",e[0]),64&n&&oe(t,"has-focus",e[6]),2&n&&oe(t,"is-disabled",e[1])},i(e){a||(He(r.$$.fragment,e),He(c),a=!0)},o(e){qe(r.$$.fragment,e),qe(c),a=!1},d(e){e&&W(t),Xe(r),c&&c.d(),o=!1,A(i)}}}function Nr(e,t,u){let n,r,d,a,o=v;e.$$.on_destroy.push((()=>o()));let{$$slots:i={},$$scope:c}=t;const s=function(e){var t={};for(var u in e)t[u]=!0;return t}(i);let{badge:l=!1}=t,{disabled:f=!1}=t,{form:p}=t,{hidden:m=!1}=t,{icon:h="square"}=t,{name:g=""}=t,{id:D=(g?"form_"+g:ou())}=t,b=!1;return e.$$set=e=>{"badge"in e&&u(0,l=e.badge),"disabled"in e&&u(1,f=e.disabled),"form"in e&&u(10,p=e.form),"hidden"in e&&u(2,m=e.hidden),"icon"in e&&u(11,h=e.icon),"name"in e&&u(3,g=e.name),"id"in e&&u(4,D=e.id),"$$scope"in e&&u(13,c=e.$$scope)},e.$$.update=()=>{1032&e.$$.dirty&&(u(8,n=p.field(g)),o(),o=_(n,(e=>u(5,a=e)))),2048&e.$$.dirty&&u(12,r="caret"==h?["caret-square-down","caret-square-up"]:["square","check-square"]),4128&e.$$.dirty&&u(7,d=r[a?1:0])},[l,f,m,g,D,a,b,d,n,s,p,h,r,c,i,function(){a=this.checked,n.set(a)},()=>{u(6,b=!1)},()=>{u(6,b=!0)},()=>{f||T(n,a=!a,a)}]}class jr extends ut{constructor(e){super(),tt(this,e,Nr,Or,w,{badge:0,disabled:1,form:10,hidden:2,icon:11,name:3,id:4})}}var Tr=function(){function e(){var t=this,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost";D(this,e),this._url=new URL("http://localhost"),Object.defineProperty(this,"href",{get:function(){return t._url.href.replace(/^http:/,t.protocol)},set:function(e){t._url.href=e.replace(/^\w+:/,"http:"),t.protocol=e.match(/^\w+:/)[0]}}),["host","pathname","password","searchParams","username"].forEach((function(e){Object.defineProperty(t,e,{get:function(){return t._url[e]},set:function(u){t._url[e]=u}})})),this.href=u}return $(e,[{key:"fromFields",value:function(e){Vt.string(e.protocol)&&(this.protocol=e.protocol.replace(/:?$/,":")),Vt.string(e.host)&&(this.host=e.host),Vt.string(e.password)&&(this.password=encodeURIComponent(e.password)),Vt.string(e.username)&&(this.username=encodeURIComponent(e.username)),Vt.string(e.conversation_id)&&(this.pathname=encodeURIComponent(e.conversation_id));var t=this.searchParams;return Vt.string(e.local_address)&&t.append("local_address",e.local_address||""),Vt.string(e.nick)&&t.append("nick",e.nick.trim()),Vt.string(e.realname)&&e.realname.length&&t.append("realname",e.realname.trim()),Vt.string(e.sasl)&&t.append("sasl",e.sasl||"none"),t.append("tls",Vt.true(e.tls)?"1":"0"),t.append("tls_verify",Vt.true(e.tls)&&Vt.true(e.tls_verify)?"1":"0"),this}},{key:"toFields",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.protocol=this.protocol.replace(/:$/,""),e.host=this.host,e.password=Vt.string(this.password)?decodeURIComponent(this.password):"",e.username=Vt.string(this.username)?decodeURIComponent(this.username):"",e.conversation_id=decodeURIComponent(this.pathname.split("/").filter((function(e){return e.length}))[0]||"");var t=this.searchParams;return e.local_address=t.get("local_address")||e.local_address||"",e.nick=t.get("nick")||e.nick||"",e.realname=t.get("realname")||e.realname||"",e.sasl=t.get("sasl")||e.sasl||"none",e.realname=t.get("realname")||e.realname||"",e.tls=Vt.true(t.get("tls")),e.tls_verify=Vt.true(t.get("tls_verify")),e}},{key:"toString",value:function(){return this.href.replace(/^http:/,this.protocol)}}]),e}();function Rr(e){let t,u,n,r,d=e[4](e[1])+"";return{c(){t=Z("div"),u=V(d),te(t,"class","success")},m(e,n){K(e,t,n),H(t,u),r=!0},p(e,t){(!r||18&t)&&d!==(d=e[4](e[1])+"")&&ne(u,d)},i(e){r||(Se((()=>{n||(n=Ke(t,pr,{},!0)),n.run(1)})),r=!0)},o(e){n||(n=Ke(t,pr,{},!1)),n.run(0),r=!1},d(e){e&&W(t),e&&n&&n.end()}}}function Lr(e){let t,u,n,r,d=e[4](e[2].error())+"";return{c(){t=Z("div"),u=V(d),te(t,"class","error")},m(e,n){K(e,t,n),H(t,u),r=!0},p(e,t){(!r||20&t)&&d!==(d=e[4](e[2].error())+"")&&ne(u,d)},i(e){r||(Se((()=>{n||(n=Ke(t,pr,{},!0)),n.run(1)})),r=!0)},o(e){n||(n=Ke(t,pr,{},!1)),n.run(0),r=!1},d(e){e&&W(t),e&&n&&n.end()}}}function Pr(e){let t,u,n,r,d,a;const o=[Lr,Rr],i=[];function c(e,n){return(null==t||4&n)&&(t=!!e[2].is("error")),t?0:((null==u||12&n)&&(u=!(!e[2].is("success")||!e[3])),u?1:-1)}return~(n=c(e,-1))&&(r=i[n]=o[n](e)),{c(){r&&r.c(),d=Q()},m(e,t){~n&&i[n].m(e,t),K(e,d,t),a=!0},p(e,[t]){let u=n;n=c(e,t),n===u?~n&&i[n].p(e,t):(r&&(Ue(),qe(i[u],1,1,(()=>{i[u]=null})),ze()),~n?(r=i[n],r?r.p(e,t):(r=i[n]=o[n](e),r.c()),He(r,1),r.m(d.parentNode,d)):r=null)},i(e){a||(He(r),a=!0)},o(e){qe(r),a=!1},d(e){~n&&i[n].d(e),e&&W(d)}}}function Mr(e,t,u){let n,r,d=v,a=()=>(d(),d=_(o,(e=>u(2,n=e))),o);k(e,Un,(e=>u(4,r=e))),e.$$.on_destroy.push((()=>d()));let{op:o=new On({})}=t;a();let i,{success:c="Saved."}=t,s=!1;return $e((()=>i&&clearTimeout(i))),e.$$set=e=>{"op"in e&&a(u(0,o=e.op)),"success"in e&&u(1,c=e.success)},e.$$.update=()=>{4&e.$$.dirty&&function(e){if(!e.is("success"))return u(3,s=!1);s||(u(3,s=!0),i=setTimeout((()=>u(3,s=!1)),2e3))}(n)},[o,c,n,s,r]}class Ir extends ut{constructor(e){super(),tt(this,e,Mr,Pr,w,{op:0,success:1})}}function Ur(e,t,u){const n=e.slice();return n[30]=t[u],n[32]=u,n}const zr=e=>({}),Hr=e=>({});function qr(e){let t,u,n,r,d,a=(e[30].length>1?e[30][1]:e[30][0])+"";function o(){return e[23](e[32])}function i(){return e[24](e[32])}return{c(){t=Z("a"),u=V(a),te(t,"href",n="#"+e[32]+":"+e[30][0]),te(t,"class","select-field__option"),te(t,"tabindex","-1"),oe(t,"is-active",e[32]==e[8])},m(e,n){K(e,t,n),H(t,u),r||(d=[X(t,"focus",o),X(t,"mouseover",i)],r=!0)},p(r,d){e=r,1024&d[0]&&a!==(a=(e[30].length>1?e[30][1]:e[30][0])+"")&&ne(u,a),1024&d[0]&&n!==(n="#"+e[32]+":"+e[30][0])&&te(t,"href",n),256&d[0]&&oe(t,"is-active",e[32]==e[8])},d(e){e&&W(t),r=!1,A(d)}}}function Gr(e){let t,u,n,r,d,a,o,i,c,s,l;const f=e[20].label,p=B(f,e,e[19],Hr),m=p||function(e){let t;return{c(){t=V("Label")},m(e,u){K(e,t,u)},d(e){e&&W(t)}}}();let h=e[10],g=[];for(let t=0;t<h.length;t+=1)g[t]=qr(Ur(e,h,t));return{c(){t=Z("div"),u=Z("label"),m&&m.c(),n=J(),r=Z("input"),d=J(),a=Z("input"),o=J(),i=Z("div");for(let e=0;e<g.length;e+=1)g[e].c();te(u,"for",e[2]),te(r,"type","hidden"),te(r,"name",e[1]),te(a,"type","text"),te(a,"id",e[2]),te(a,"autocomplete","off"),te(a,"placeholder",e[3]),a.readOnly=e[4],te(i,"class","select-field__options"),te(t,"class","select-field text-field"),t.hidden=e[0],oe(t,"is-open",e[6]),oe(t,"is-readonly",e[4])},m(f,p){K(f,t,p),H(t,u),m&&m.m(u,null),H(t,n),H(t,r),re(r,e[7]),H(t,d),H(t,a),e[22](a),H(t,o),H(t,i);for(let e=0;e<g.length;e+=1)g[e].m(i,null);e[25](t),c=!0,s||(l=[X(r,"input",e[21]),X(r,"keydown",e[13]),X(a,"blur",e[12]),X(a,"keydown",e[13]),X(a,"keyup",e[14]),X(a,"click",ee(e[15])),X(i,"click",ee(e[15]))],s=!0)},p(e,n){if(p&&p.p&&(!c||524288&n[0])&&N(p,f,e,e[19],c?O(f,e[19],n,zr):j(e[19]),Hr),(!c||4&n[0])&&te(u,"for",e[2]),(!c||2&n[0])&&te(r,"name",e[1]),128&n[0]&&re(r,e[7]),(!c||4&n[0])&&te(a,"id",e[2]),(!c||8&n[0])&&te(a,"placeholder",e[3]),(!c||16&n[0])&&(a.readOnly=e[4]),1280&n[0]){let t;for(h=e[10],t=0;t<h.length;t+=1){const u=Ur(e,h,t);g[t]?g[t].p(u,n):(g[t]=qr(u),g[t].c(),g[t].m(i,null))}for(;t<g.length;t+=1)g[t].d(1);g.length=h.length}(!c||1&n[0])&&(t.hidden=e[0]),64&n[0]&&oe(t,"is-open",e[6]),16&n[0]&&oe(t,"is-readonly",e[4])},i(e){c||(He(m,e),c=!0)},o(e){qe(m,e),c=!1},d(u){u&&W(t),m&&m.d(u),e[22](null),Y(g,u),e[25](null),s=!1,A(l)}}}function Kr(e,t,u){let n,r,d,{$$slots:a={},$$scope:o}=t,i=0,c=!1,s="",l=[],{form:f}=t,{hidden:p=!1}=t,{name:m=""}=t,{id:h=(m?"form_"+m:ou())}=t,{options:g}=t,{placeholder:D=""}=t,{readonly:b=!1}=t;const $=["ArrowDown","ArrowUp","Enter"],v=f.field(m);function y(e){let t;if("keydown"==e.type)t=l.length&&l[i]||g.filter((e=>e[0]==n))[0];else{const u=qt(e.target,".select-field__option").href.replace(/^.*?#\d+:/,"");t=l.filter((e=>e[0]==u))[0]||[]}t&&t.length||(t=[""]),v.set(t[0]),u(6,c=!1)}function C(e){const t=l.filter((t=>t[0]==e))[0]||[];u(5,r.value=t.length>1?t[1]:t.length?t[0]:e,r)}function E(e){if(b)return;const t=e&&e.target&&qt(e.target,".select-field__option");return c||(u(8,i=l.map((e=>e[0])).indexOf(n)),r.setSelectionRange(0,9999)),t?y(e):u(6,c=!c)}k(e,v,(e=>u(7,n=e)));return e.$$set=e=>{"form"in e&&u(16,f=e.form),"hidden"in e&&u(0,p=e.hidden),"name"in e&&u(1,m=e.name),"id"in e&&u(2,h=e.id),"options"in e&&u(17,g=e.options),"placeholder"in e&&u(3,D=e.placeholder),"readonly"in e&&u(4,b=e.readonly),"$$scope"in e&&u(19,o=e.$$scope)},e.$$.update=()=>{if(64&e.$$.dirty[0]&&0==c&&u(18,s=""),393216&e.$$.dirty[0]&&function(e,t){let n=new RegExp("(?:^|\\s|-)"+eu(t),"i"),r=e.filter((e=>e[0]==t));r.length||(r=e.filter((e=>e[0].match(n))));for(let t=0;t<e.length;t++){const u=e[t];u.length>1&&-1!=r.indexOf(u)&&u[1].match(n)&&-1==e.map((e=>e[0])).indexOf(u[0])&&r.push(u)}u(8,i=0),u(10,l=r)}(g,s),131232&e.$$.dirty[0]&&r&&!r.value&&r!=document.activeElement){const e=g.find((e=>e[0]==n));e&&u(5,r.value=e[1]||e[0],r)}160&e.$$.dirty[0]&&r&&C(n)},[p,m,h,D,b,r,c,n,i,d,l,v,function(){setTimeout((()=>document.activeElement.closest(".select-field__option")||u(6,c=!1)),100),C(n)},function(e){if(-1!=$.indexOf(e.key)&&e.preventDefault(),"Tab"!=e.key){if(!c)return E(e);"ArrowDown"==e.key&&u(8,i++,i),"ArrowUp"==e.key&&u(8,i--,i),"Enter"==e.key&&y(e),i>=g.length&&u(8,i=0),i<0&&u(8,i=g.length-1)}else c&&y(e)},function(e){1!=e.key.length&&"Backspace"!=e.key||u(18,s=r.value)},E,f,g,s,o,a,function(){n=this.value,v.set(n)},function(e){Ae[e?"unshift":"push"]((()=>{r=e,u(5,r),u(17,g),u(7,n)}))},e=>{u(8,i=e)},e=>{u(8,i=e)},function(e){Ae[e?"unshift":"push"]((()=>{d=e,u(9,d)}))}]}class Wr extends ut{constructor(e){super(),tt(this,e,Kr,Gr,w,{form:16,hidden:0,name:1,id:2,options:17,placeholder:3,readonly:4},null,[-1,-1])}}const Yr=e=>({}),Zr=e=>({});function Vr(e){let t,u,n,r,d,a,o;const i=e[9].label,c=B(i,e,e[8],Zr),s=c||function(e){let t;return{c(){t=V("Label")},m(e,u){K(e,t,u)},d(e){e&&W(t)}}}();return{c(){t=Z("div"),u=Z("label"),s&&s.c(),n=J(),r=Z("textarea"),te(u,"for",e[2]),te(r,"id",e[2]),te(r,"name",e[1]),te(r,"placeholder",e[3]),r.readOnly=e[4],te(t,"class","text-area"),t.hidden=e[0]},m(i,c){K(i,t,c),H(t,u),s&&s.m(u,null),H(t,n),H(t,r),re(r,e[5]),d=!0,a||(o=X(r,"input",e[10]),a=!0)},p(e,[n]){c&&c.p&&(!d||256&n)&&N(c,i,e,e[8],d?O(i,e[8],n,Yr):j(e[8]),Zr),(!d||4&n)&&te(u,"for",e[2]),(!d||4&n)&&te(r,"id",e[2]),(!d||2&n)&&te(r,"name",e[1]),(!d||8&n)&&te(r,"placeholder",e[3]),(!d||16&n)&&(r.readOnly=e[4]),32&n&&re(r,e[5]),(!d||1&n)&&(t.hidden=e[0])},i(e){d||(He(s,e),d=!0)},o(e){qe(s,e),d=!1},d(e){e&&W(t),s&&s.d(e),a=!1,o()}}}function Jr(e,t,u){let n,{$$slots:r={},$$scope:d}=t,{form:a}=t,{hidden:o=!1}=t,{name:i=""}=t,{id:c=(i?"form_"+i:ou())}=t,{placeholder:s=""}=t,{readonly:l=!1}=t;const f=a.field(i);return k(e,f,(e=>u(5,n=e))),e.$$set=e=>{"form"in e&&u(7,a=e.form),"hidden"in e&&u(0,o=e.hidden),"name"in e&&u(1,i=e.name),"id"in e&&u(2,c=e.id),"placeholder"in e&&u(3,s=e.placeholder),"readonly"in e&&u(4,l=e.readonly),"$$scope"in e&&u(8,d=e.$$scope)},[o,i,c,s,l,n,f,a,d,r,function(){n=this.value,f.set(n)}]}class Qr extends ut{constructor(e){super(),tt(this,e,Jr,Vr,w,{form:7,hidden:0,name:1,id:2,placeholder:3,readonly:4})}}const Xr=e=>({}),ed=e=>({}),td=e=>({}),ud=e=>({});function nd(e){let t,u,n,r,d;return u=new ct({props:{name:e[7]?"eye-slash":"eye"}}),{c(){t=Z("a"),Je(u.$$.fragment),te(t,"href","#toggle"),te(t,"class","text-field__toggle")},m(a,o){K(a,t,o),Qe(u,t,null),n=!0,r||(d=X(t,"click",ee(e[15])),r=!0)},p(e,t){const n={};128&t&&(n.name=e[7]?"eye-slash":"eye"),u.$set(n)},i(e){n||(He(u.$$.fragment,e),n=!0)},o(e){qe(u.$$.fragment,e),n=!1},d(e){e&&W(t),Xe(u),r=!1,d()}}}function rd(e){let t,u,n,r,d,a,o,i,c,s;const l=e[13].label,f=B(l,e,e[12],ud),p=f||function(e){let t;return{c(){t=V("Label")},m(e,u){K(e,t,u)},d(e){e&&W(t)}}}();let m="password"==e[6]&&!e[5]&&nd(e);const h=e[13].help,g=B(h,e,e[12],ed);return{c(){t=Z("div"),u=Z("label"),p&&p.c(),n=J(),r=Z("input"),a=J(),m&&m.c(),o=J(),g&&g.c(),te(u,"for",e[3]),te(r,"type",d=e[7]?"text":e[6]),te(r,"id",e[3]),te(r,"name",e[2]),te(r,"autocomplete",e[0]),te(r,"placeholder",e[4]),r.readOnly=e[5],r.value=e[8],te(t,"class","text-field"),t.hidden=e[1],oe(t,"has-password","password"==e[6])},m(d,l){K(d,t,l),H(t,u),p&&p.m(u,null),H(t,n),H(t,r),H(t,a),m&&m.m(t,null),K(d,o,l),g&&g.m(d,l),i=!0,c||(s=[X(r,"input",e[9]),X(r,"keyup",e[14])],c=!0)},p(e,[n]){f&&f.p&&(!i||4096&n)&&N(f,l,e,e[12],i?O(l,e[12],n,td):j(e[12]),ud),(!i||8&n)&&te(u,"for",e[3]),(!i||192&n&&d!==(d=e[7]?"text":e[6]))&&te(r,"type",d),(!i||8&n)&&te(r,"id",e[3]),(!i||4&n)&&te(r,"name",e[2]),(!i||1&n)&&te(r,"autocomplete",e[0]),(!i||16&n)&&te(r,"placeholder",e[4]),(!i||32&n)&&(r.readOnly=e[5]),(!i||256&n&&r.value!==e[8])&&(r.value=e[8]),"password"!=e[6]||e[5]?m&&(Ue(),qe(m,1,1,(()=>{m=null})),ze()):m?(m.p(e,n),96&n&&He(m,1)):(m=nd(e),m.c(),He(m,1),m.m(t,null)),(!i||2&n)&&(t.hidden=e[1]),64&n&&oe(t,"has-password","password"==e[6]),g&&g.p&&(!i||4096&n)&&N(g,h,e,e[12],i?O(h,e[12],n,Xr):j(e[12]),ed)},i(e){i||(He(p,e),He(m),He(g,e),i=!0)},o(e){qe(p,e),qe(m),qe(g,e),i=!1},d(e){e&&W(t),p&&p.d(e),m&&m.d(),e&&W(o),g&&g.d(e),c=!1,A(s)}}}function dd(e,t,u){let n,{$$slots:r={},$$scope:d}=t;let a=!1,{autocomplete:o=null}=t,{form:i}=t,{hidden:c=!1}=t,{name:s=""}=t,{id:l=(s?"form_"+s:ou())}=t,{placeholder:f=""}=t,{readonly:p=!1}=t,{type:m="text"}=t;const h=i.field(s);k(e,h,(e=>u(8,n=e)));return e.$$set=e=>{"autocomplete"in e&&u(0,o=e.autocomplete),"form"in e&&u(11,i=e.form),"hidden"in e&&u(1,c=e.hidden),"name"in e&&u(2,s=e.name),"id"in e&&u(3,l=e.id),"placeholder"in e&&u(4,f=e.placeholder),"readonly"in e&&u(5,p=e.readonly),"type"in e&&u(6,m=e.type),"$$scope"in e&&u(12,d=e.$$scope)},[o,c,s,l,f,p,m,a,n,e=>{h.set(m.match(/^(number|range)$/)?parseInt(e.target.value,10):e.target.value)},h,i,d,r,function(t){Ce.call(this,e,t)},()=>{u(7,a=!a)}]}class ad extends ut{constructor(e){super(),tt(this,e,dd,rd,w,{autocomplete:0,form:11,hidden:1,name:2,id:3,placeholder:4,readonly:5,type:6})}}function od(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return id(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return id(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,a=!0,o=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return a=e.done,e},e:function(e){o=!0,d=e},f:function(){try{a||null==u.return||u.return()}finally{if(o)throw d}}}}function id(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,n=new Array(t);u<t;u++)n[u]=e[u];return n}var cd=Tt("form");function sd(e,t){return Vt.undefined(t)&&(t=Object.keys(e)),Vt.array(t)?t.reduce((function(t,u){return t[u]=e[u],t}),{}):e[t]}function ld(e,t){return Object.keys(t).forEach((function(u){return e.field(u).set(Vt.stringable(t[u])?String(t[u]):t[u])})),e}function fd(e,t){var u=[t];return e.push(u),function(){var t=e.indexOf(u);-1!=t&&e.splice(t,1)}}var pd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},u={},n={},r=[];return n.field=function(e){if(u[e])return u[e];var n=pt("");return n.subscribe((function(u){cd.debug(e,"=",u),t[e]=u;var n,d=od(r);try{for(d.s();!(n=d.n()).done;){n.value[0](t)}}catch(e){d.e(e)}finally{d.f()}})),u[e]=n},n.remove=function(e){e.forEach((function(e){return delete t[e],delete u[e],delete r[e]}));var n,d=od(r);try{for(d.s();!(n=d.n()).done;){n.value[0](t)}}catch(e){d.e(e)}finally{d.f()}},n.get=function(e){return sd(t,e)},n.set=function(e){return ld(n,e)},n.subscribe=function(e){return e(t),fd(r,e)},Object.keys(e).forEach((function(t){return n.set(Et({},t,e[t]))})),n};function md(e){let t,u,n=e[1]("Host and port")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Host and port")+"")&&ne(u,n)},d(e){e&&W(t)}}}function hd(e){let t,u,n=e[1]("You cannot create custom connections.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help"),t.hidden=!e[5].forced_connection},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("You cannot create custom connections.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function gd(e){let t,u,n=e[1]("Nickname")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Nickname")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Dd(e){let t,u,n=e[1]("Your name")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Your name")+"")&&ne(u,n)},d(e){e&&W(t)}}}function bd(e){let t,u;return t=new ad({props:{name:"conversation_id",form:e[4],placeholder:e[1]("Ex: #convos"),$$slots:{label:[vd]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};2&u&&(n.placeholder=e[1]("Ex: #convos")),262146&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function $d(e){let t,u;return t=new jr({props:{name:"want_to_be_connected",form:e[4],$$slots:{label:[yd]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};262146&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function vd(e){let t,u,n=e[1]("Conversation name")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Conversation name")+"")&&ne(u,n)},d(e){e&&W(t)}}}function yd(e){let t,u,n=e[1]("Want to be connected")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Want to be connected")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Cd(e){let t,u,n=e[1]("Secure connection (TLS)")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Secure connection (TLS)")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ed(e){let t,u,n=e[1]("Verify certificate (TLS)")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Verify certificate (TLS)")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ad(e){let t,u,n=e[1]("Advanced settings")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Advanced settings")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Fd(e){let t,u,n,r,d;u=new Qr({props:{name:"on_connect_commands",form:e[4],placeholder:e[1]("Put each command on a new line."),$$slots:{label:[wd]},$$scope:{ctx:e}}});let a=!e[5].forced_connection&&function(e){let t,u;return t=new ad({props:{name:"local_address",form:e[4],$$slots:{help:[xd],label:[_d]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};262146&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}(e);return{c(){t=Z("div"),Je(u.$$.fragment),n=J(),a&&a.c(),te(t,"class","form-group")},m(e,r){K(e,t,r),Qe(u,t,null),H(t,n),a&&a.m(t,null),d=!0},p(e,t){const n={};2&t&&(n.placeholder=e[1]("Put each command on a new line.")),262146&t&&(n.$$scope={dirty:t,ctx:e}),u.$set(n),e[5].forced_connection||a.p(e,t)},i(e){d||(He(u.$$.fragment,e),He(a),Se((()=>{r||(r=Ke(t,hr,{duration:150},!0)),r.run(1)})),d=!0)},o(e){qe(u.$$.fragment,e),qe(a),r||(r=Ke(t,hr,{duration:150},!1)),r.run(0),d=!1},d(e){e&&W(t),Xe(u),a&&a.d(),e&&r&&r.end()}}}function wd(e){let t,u,n=e[1]("On-connect commands")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("On-connect commands")+"")&&ne(u,n)},d(e){e&&W(t)}}}function _d(e){let t,u,n=e[1]("Source IP")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Source IP")+"")&&ne(u,n)},d(e){e&&W(t)}}}function xd(e){let t,u,n=e[1]("Leave this blank, unless you know what you are doing.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Leave this blank, unless you know what you are doing.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function kd(e){let t,u,n=e[1]("Authentication settings")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Authentication settings")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Bd(e){let t,u,n,r,d,a,o,i,c;u=new ad({props:{name:"username",form:e[4],placeholder:e[2].nick,$$slots:{help:[Od],label:[Sd]},$$scope:{ctx:e}}});const s=[jd,Nd],l=[];function f(e,t){return"external"==e[2].sasl?0:1}return r=f(e),d=l[r]=s[r](e),o=new Wr({props:{name:"sasl",options:e[6],form:e[4],$$slots:{label:[Md]},$$scope:{ctx:e}}}),{c(){t=Z("div"),Je(u.$$.fragment),n=J(),d.c(),a=J(),Je(o.$$.fragment),te(t,"class","form-group")},m(e,d){K(e,t,d),Qe(u,t,null),H(t,n),l[r].m(t,null),H(t,a),Qe(o,t,null),c=!0},p(e,n){const i={};4&n&&(i.placeholder=e[2].nick),262146&n&&(i.$$scope={dirty:n,ctx:e}),u.$set(i);let c=r;r=f(e),r===c?l[r].p(e,n):(Ue(),qe(l[c],1,1,(()=>{l[c]=null})),ze(),d=l[r],d?d.p(e,n):(d=l[r]=s[r](e),d.c()),He(d,1),d.m(t,a));const p={};262146&n&&(p.$$scope={dirty:n,ctx:e}),o.$set(p)},i(e){c||(He(u.$$.fragment,e),He(d),He(o.$$.fragment,e),Se((()=>{i||(i=Ke(t,hr,{duration:150},!0)),i.run(1)})),c=!0)},o(e){qe(u.$$.fragment,e),qe(d),qe(o.$$.fragment,e),i||(i=Ke(t,hr,{duration:150},!1)),i.run(0),c=!1},d(e){e&&W(t),Xe(u),l[r].d(),Xe(o),e&&i&&i.end()}}}function Sd(e){let t,u,n=e[1]("Username")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Username")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Od(e){let t,u,n=e[1]("SASL and IRC server username.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("SASL and IRC server username.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Nd(e){let t,u;return t=new ad({props:{type:"password",name:"password",form:e[4],$$slots:{help:[Rd],label:[Td]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};262146&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function jd(e){let t,u;return t=new ad({props:{type:"text",name:"fingerprint",form:e[4],readonly:!0,$$slots:{help:[Pd],label:[Ld]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};262146&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function Td(e){let t,u,n=e[1]("Password")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Password")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Rd(e){let t,u,n=e[1]("SASL plain or IRC server password.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("SASL plain or IRC server password.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ld(e){let t,u,n=e[1]("Fingerprint")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Fingerprint")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Pd(e){let t,u,n=e[1]("The certificate fingerprint is used for SASL external authentication.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("The certificate fingerprint is used for SASL external authentication.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Md(e){let t,u,n=e[1]("SASL authentication mechanism")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("SASL authentication mechanism")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Id(e){let t,u;return t=new xr({props:{icon:"plus-circle",op:e[7],$$slots:{default:[zd]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};262146&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function Ud(e){let t,u;return t=new xr({props:{icon:"save",op:e[9],$$slots:{default:[Hd]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};262146&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function zd(e){let t,u,n=e[1]("Add")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Add")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Hd(e){let t,u,n=e[1]("Update")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Update")+"")&&ne(u,n)},d(e){e&&W(t)}}}function qd(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g=e[1]("Delete")+"",D=e[1]("This will permanently remove chat logs and other connection related data.")+"",b=e[3]('Please confirm by entering "**%1**" before hitting **%2**.',e[0],e[1]("Delete"))+"";return c=new ad({props:{name:"confirm_connection_id",form:e[4],$$slots:{label:[Gd]},$$scope:{ctx:e}}}),f=new xr({props:{icon:"trash",op:e[8],disabled:e[2].confirm_connection_id!=e[0],$$slots:{default:[Kd]},$$scope:{ctx:e}}}),f.$on("click",e[10]),m=new Ir({props:{op:e[8],success:"Deleted."}}),{c(){t=Z("h3"),u=V(g),n=J(),r=Z("p"),d=V(D),a=J(),o=new se,i=J(),Je(c.$$.fragment),s=J(),l=Z("div"),Je(f.$$.fragment),p=J(),Je(m.$$.fragment),o.a=null,te(l,"class","form-actions")},m(e,g){K(e,t,g),H(t,u),K(e,n,g),K(e,r,g),H(r,d),H(r,a),o.m(b,r),K(e,i,g),Qe(c,e,g),K(e,s,g),K(e,l,g),Qe(f,l,null),K(e,p,g),Qe(m,e,g),h=!0},p(e,t){(!h||2&t)&&g!==(g=e[1]("Delete")+"")&&ne(u,g),(!h||2&t)&&D!==(D=e[1]("This will permanently remove chat logs and other connection related data.")+"")&&ne(d,D),(!h||11&t)&&b!==(b=e[3]('Please confirm by entering "**%1**" before hitting **%2**.',e[0],e[1]("Delete"))+"")&&o.p(b);const n={};262146&t&&(n.$$scope={dirty:t,ctx:e}),c.$set(n);const r={};5&t&&(r.disabled=e[2].confirm_connection_id!=e[0]),262146&t&&(r.$$scope={dirty:t,ctx:e}),f.$set(r)},i(e){h||(He(c.$$.fragment,e),He(f.$$.fragment,e),He(m.$$.fragment,e),h=!0)},o(e){qe(c.$$.fragment,e),qe(f.$$.fragment,e),qe(m.$$.fragment,e),h=!1},d(e){e&&W(t),e&&W(n),e&&W(r),e&&W(i),Xe(c,e),e&&W(s),e&&W(l),Xe(f),e&&W(p),Xe(m,e)}}}function Gd(e){let t,u,n=e[1]("Confirm connection ID")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Confirm connection ID")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Kd(e){let t,u,n=e[1]("Delete")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Delete")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Wd(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E,A,F,w,_,x,k;u=new ad({props:{name:"host",form:e[4],placeholder:e[1]("Ex: irc.libera.chat:6697"),readonly:e[5].forced_connection,$$slots:{help:[hd],label:[md]},$$scope:{ctx:e}}}),r=new ad({props:{name:"nick",form:e[4],placeholder:e[1]("Ex: superman"),$$slots:{label:[gd]},$$scope:{ctx:e}}}),a=new ad({props:{name:"realname",form:e[4],placeholder:e[1]("Ex: Clark Kent"),$$slots:{label:[Dd]},$$scope:{ctx:e}}});const B=[$d,bd],S=[];function O(e,t){return"add"!=e[0]?0:1}i=O(e),c=S[i]=B[i](e),l=new jr({props:{name:"tls",form:e[4],$$slots:{label:[Cd]},$$scope:{ctx:e}}}),p=new jr({props:{name:"tls_verify",form:e[4],disabled:!e[2].tls,hidden:!e[2].tls,$$slots:{label:[Ed]},$$scope:{ctx:e}}}),h=new jr({props:{icon:"caret",name:"show_advanced_settings",form:e[4],$$slots:{label:[Ad]},$$scope:{ctx:e}}});let N=e[2].show_advanced_settings&&Fd(e),j=!e[5].forced_connection&&function(e){let t,u,n,r;t=new jr({props:{icon:"caret",name:"show_auth_settings",form:e[4],$$slots:{label:[kd]},$$scope:{ctx:e}}});let d=e[2].show_auth_settings&&Bd(e);return{c(){Je(t.$$.fragment),u=J(),d&&d.c(),n=Q()},m(e,a){Qe(t,e,a),K(e,u,a),d&&d.m(e,a),K(e,n,a),r=!0},p(e,u){const r={};262146&u&&(r.$$scope={dirty:u,ctx:e}),t.$set(r),e[2].show_auth_settings?d?(d.p(e,u),4&u&&He(d,1)):(d=Bd(e),d.c(),He(d,1),d.m(n.parentNode,n)):d&&(Ue(),qe(d,1,1,(()=>{d=null})),ze())},i(e){r||(He(t.$$.fragment,e),He(d),r=!0)},o(e){qe(t.$$.fragment,e),qe(d),r=!1},d(e){Xe(t,e),e&&W(u),d&&d.d(e),e&&W(n)}}}(e);const T=[Ud,Id],R=[];function L(e,t){return"add"!=e[0]?0:1}v=L(e),y=R[v]=T[v](e),E=new Ir({props:{op:e[7]}}),F=new Ir({props:{op:e[9]}});let P="add"!=e[0]&&qd(e);return{c(){t=Z("form"),Je(u.$$.fragment),n=J(),Je(r.$$.fragment),d=J(),Je(a.$$.fragment),o=J(),c.c(),s=J(),Je(l.$$.fragment),f=J(),Je(p.$$.fragment),m=J(),Je(h.$$.fragment),g=J(),N&&N.c(),D=J(),j&&j.c(),b=J(),$=Z("div"),y.c(),C=J(),Je(E.$$.fragment),A=J(),Je(F.$$.fragment),w=J(),P&&P.c(),te($,"class","form-actions"),te(t,"method","post")},m(c,y){K(c,t,y),Qe(u,t,null),H(t,n),Qe(r,t,null),H(t,d),Qe(a,t,null),H(t,o),S[i].m(t,null),H(t,s),Qe(l,t,null),H(t,f),Qe(p,t,null),H(t,m),Qe(h,t,null),H(t,g),N&&N.m(t,null),H(t,D),j&&j.m(t,null),H(t,b),H(t,$),R[v].m($,null),H(t,C),Qe(E,t,null),H(t,A),Qe(F,t,null),H(t,w),P&&P.m(t,null),_=!0,x||(k=X(t,"submit",ee(e[11])),x=!0)},p(e,[n]){const d={};2&n&&(d.placeholder=e[1]("Ex: irc.libera.chat:6697")),262146&n&&(d.$$scope={dirty:n,ctx:e}),u.$set(d);const o={};2&n&&(o.placeholder=e[1]("Ex: superman")),262146&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o);const f={};2&n&&(f.placeholder=e[1]("Ex: Clark Kent")),262146&n&&(f.$$scope={dirty:n,ctx:e}),a.$set(f);let m=i;i=O(e),i===m?S[i].p(e,n):(Ue(),qe(S[m],1,1,(()=>{S[m]=null})),ze(),c=S[i],c?c.p(e,n):(c=S[i]=B[i](e),c.c()),He(c,1),c.m(t,s));const g={};262146&n&&(g.$$scope={dirty:n,ctx:e}),l.$set(g);const b={};4&n&&(b.disabled=!e[2].tls),4&n&&(b.hidden=!e[2].tls),262146&n&&(b.$$scope={dirty:n,ctx:e}),p.$set(b);const C={};262146&n&&(C.$$scope={dirty:n,ctx:e}),h.$set(C),e[2].show_advanced_settings?N?(N.p(e,n),4&n&&He(N,1)):(N=Fd(e),N.c(),He(N,1),N.m(t,D)):N&&(Ue(),qe(N,1,1,(()=>{N=null})),ze()),e[5].forced_connection||j.p(e,n);let E=v;v=L(e),v===E?R[v].p(e,n):(Ue(),qe(R[E],1,1,(()=>{R[E]=null})),ze(),y=R[v],y?y.p(e,n):(y=R[v]=T[v](e),y.c()),He(y,1),y.m($,null)),"add"!=e[0]?P?(P.p(e,n),1&n&&He(P,1)):(P=qd(e),P.c(),He(P,1),P.m(t,null)):P&&(Ue(),qe(P,1,1,(()=>{P=null})),ze())},i(e){_||(He(u.$$.fragment,e),He(r.$$.fragment,e),He(a.$$.fragment,e),He(c),He(l.$$.fragment,e),He(p.$$.fragment,e),He(h.$$.fragment,e),He(N),He(j),He(y),He(E.$$.fragment,e),He(F.$$.fragment,e),He(P),_=!0)},o(e){qe(u.$$.fragment,e),qe(r.$$.fragment,e),qe(a.$$.fragment,e),qe(c),qe(l.$$.fragment,e),qe(p.$$.fragment,e),qe(h.$$.fragment,e),qe(N),qe(j),qe(y),qe(E.$$.fragment,e),qe(F.$$.fragment,e),qe(P),_=!1},d(e){e&&W(t),Xe(u),Xe(r),Xe(a),S[i].d(),Xe(l),Xe(p),Xe(h),N&&N.d(),j&&j.d(),R[v].d(),Xe(E),Xe(F),P&&P.d(),x=!1,k()}}}function Yd(e,t,u){let n,r,d,a;k(e,Un,(e=>u(1,r=e))),k(e,zn,(e=>u(3,a=e)));let{id:o="add"}=t,{is_page:i=!1}=t;const c=ye("api"),s=pd();k(e,s,(e=>u(2,d=e)));const l=ye("user");k(e,l,(e=>u(14,n=e)));const f=c("createConnection"),p=c("removeConnection"),m=c("updateConnection");let h={};function g(e){const t=e.url?e.url.toFields():{};Vt.array(e.on_connect_commands)&&(t.on_connect_commands=e.on_connect_commands.join("\n")),t.nick||(t.nick=l.email.replace(/@.*/,"").replace(/\W/g,"_")),t.want_to_be_connected="disconnected"!=e.wanted_state,s.set(t),s.set({fingerprint:e.certificate.fingerprint||""})}return be((()=>{h="add"==o?{}:n.findConversation({connection_id:o})||{},h.connection_id?g(h):function(){const e=new Tr(Uu.query.uri||l.default_connection||"irc://localhost").toFields();e.want_to_be_connected=!0,l.connections.size&&!Uu.query.uri&&(e.host="");e.nick||(e.nick=l.email.replace(/@.*/,"").replace(/\W/g,"_"));s.set(e)}()})),e.$$set=e=>{"id"in e&&u(0,o=e.id),"is_page"in e&&u(12,i=e.is_page)},[o,r,d,a,s,l,[["none","None"],["plain","Plain"],["external","External"]],f,p,m,async function(){await p.perform(h),l.removeConversation(h),Uu.go("/settings/connections")},async function(){const e=s.get();if(e.on_connect_commands=(e.on_connect_commands||"").split(/\n\r?/).filter((e=>e.length)),e.url=new Tr("irc://localhost").fromFields(e).toString(),h.connection_id)e.connection_id=h.connection_id,e.wanted_state=e.want_to_be_connected?"connected":"disconnected",await m.perform(e),h=l.ensureConversation(m.res.body),g(h);else{await f.perform(e);const t=f.res.body;t.connection_id&&Uu.go(l.ensureConversation(t).path)}i&&Uu.go("/settings/connections")},i]}class Zd extends ut{constructor(e){super(),tt(this,e,Yd,Wd,w,{id:0,is_page:12})}}function Vd(e){let t,u,n=e[4]("Currently connecting to %1.",e[3])+"";return{c(){t=Z("p"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){24&t&&n!==(n=e[4]("Currently connecting to %1.",e[3])+"")&&ne(u,n)},d(e){e&&W(t)}}}function Jd(e){let t,u,n=e[4]("Currently connected to %1.",e[3])+"";return{c(){t=Z("p"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){24&t&&n!==(n=e[4]("Currently connected to %1.",e[3])+"")&&ne(u,n)},d(e){e&&W(t)}}}function Qd(e){let t,u,n=e[4]("Currently disconnected from %1.",e[3])+"";return{c(){t=Z("p"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){24&t&&n!==(n=e[4]("Currently disconnected from %1.",e[3])+"")&&ne(u,n)},d(e){e&&W(t)}}}function Xd(e){let t,u,n=e[4]("Connection not found.")+"";return{c(){t=Z("p"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){16&t&&n!==(n=e[4]("Connection not found.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function ea(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h=e[4]("Connection")+"";function g(e,t){return e[2].url?"disconnected"==e[2].state?Qd:"connected"==e[2].state?Jd:Vd:Xd}o=new ct({props:{name:"times"}});let D=g(e),b=D(e);return s=new Zd({props:{id:e[0].connection_id}}),{c(){t=Z("div"),u=Z("div"),n=Z("h2"),r=V(h),d=J(),a=Z("a"),Je(o.$$.fragment),i=J(),b.c(),c=J(),Je(s.$$.fragment),te(a,"href","#settings"),te(a,"class","btn-hallow is-active"),te(u,"class","sidebar-header"),te(t,"class","sidebar-left")},m(e,l){K(e,t,l),H(t,u),H(u,n),H(n,r),H(u,d),H(u,a),Qe(o,a,null),H(t,i),b.m(t,null),H(t,c),Qe(s,t,null),f=!0,p||(m=X(a,"click",gt.toggle),p=!0)},p(u,[n]){e=u,(!f||16&n)&&h!==(h=e[4]("Connection")+"")&&ne(r,h),D===(D=g(e))&&b?b.p(e,n):(b.d(1),b=D(e),b&&(b.c(),b.m(t,c)));const d={};1&n&&(d.id=e[0].connection_id),s.$set(d)},i(u){f||(He(o.$$.fragment,u),He(s.$$.fragment,u),Se((()=>{l||(l=Ke(t,mr,e[1],!0)),l.run(1)})),f=!0)},o(u){qe(o.$$.fragment,u),qe(s.$$.fragment,u),l||(l=Ke(t,mr,e[1],!1)),l.run(0),f=!1},d(e){e&&W(t),Xe(o),b.d(),Xe(s),e&&l&&l.end(),p=!1,m()}}}function ta(e,t,u){let n,r;k(e,Un,(e=>u(4,r=e)));let{conversation:d={}}=t,{transition:a}=t;const o=ye("user");let i={};return be((async()=>{u(2,i=o.findConversation({connection_id:d.connection_id})||{})})),e.$$set=e=>{"conversation"in e&&u(0,d=e.conversation),"transition"in e&&u(1,a=e.transition)},e.$$.update=()=>{4&e.$$.dirty&&u(3,n=i.real_host||i.url&&i.url.host)},[d,a,i,n,r]}class ua extends ut{constructor(e){super(),tt(this,e,ta,ea,w,{conversation:0,transition:1})}}function na(e){let t,u,n,r;const d=e[9].default,a=B(d,e,e[8],null);return{c(){t=Z("a"),a&&a.c(),te(t,"href",e[2]),te(t,"class",e[0]),te(t,"style",e[1]),oe(t,"has-path",e[4])},m(d,o){K(d,t,o),a&&a.m(t,null),e[11](t),u=!0,n||(r=X(t,"click",e[10]),n=!0)},p(e,[n]){a&&a.p&&(!u||256&n)&&N(a,d,e,e[8],u?O(d,e[8],n,null):j(e[8]),null),(!u||4&n)&&te(t,"href",e[2]),(!u||1&n)&&te(t,"class",e[0]),(!u||2&n)&&te(t,"style",e[1]),17&n&&oe(t,"has-path",e[4])},i(e){u||(He(a,e),u=!0)},o(e){qe(a,e),u=!1},d(u){u&&W(t),a&&a.d(u),e[11](null),n=!1,r()}}}function ra(e,t,u){let n,r,d;k(e,Uu,(e=>u(7,d=e)));let a,{$$slots:o={},$$scope:i}=t,{class:c=""}=t,{href:s="/"}=t,{style:l=""}=t;return e.$$set=e=>{"class"in e&&u(0,c=e.class),"href"in e&&u(5,s=e.href),"style"in e&&u(1,l=e.style),"$$scope"in e&&u(8,i=e.$$scope)},e.$$.update=()=>{160&e.$$.dirty&&u(2,n=0==s.indexOf("/")?d.basePath+s:s),132&e.$$.dirty&&u(4,r=d.basePath+d.path==n.replace(/(#|\?).*/,""))},[c,l,n,a,r,s,()=>a.focus(),d,i,o,function(t){Ce.call(this,e,t)},function(e){Ae[e?"unshift":"push"]((()=>{a=e,u(3,a)}))}]}class da extends ut{constructor(e){super(),tt(this,e,ra,na,w,{class:0,href:5,style:1,focus:6})}get focus(){return this.$$.ctx[6]}}var aa={b:"channel_ban",C:"ctcp_block",c:"colour_filter",e:"ban_exemption",F:"enable_forwarding",f:"forward",g:"free_invite",i:"invite_only",I:"invite_exemption",j:"join_throttle",k:"password",l:"join_limit",L:"large_ban_list",m:"moderated",M:"login_to_talk",n:"prevent_external_send",P:"permanent",p:"privat",Q:"block_forwarded_users",q:"quiet",r:"block_unidentified",R:"login_to_join",s:"secret",S:"secure_connection_only",t:"topic_protection"};function oa(e){return aa[e]?aa[e]:Object.keys(aa).filter((function(t){return e==aa[t]}))[0]||""}var ia={a:"admin",B:"bot",h:"half_operator",i:"invisible",I:"whois_hide_online",o:"operator",p:"whois_hide_channels",R:"privmsg_from_registered_only",r:"registered",S:"service_bot",T:"ctcp_block",t:"vhost",v:"voice",W:"whois_notifications",x:"cloaked_hostname",z:"secure_connection",Z:"secure_connection_only"};function ca(e,t,u){const n=e.slice();return n[22]=t[u],n}function sa(e,t,u){const n=e.slice();return n[25]=t[u],n}function la(e){let t,u=e[8]("You are not a channel operator in %1.",e[0].name)+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){257&n&&u!==(u=e[8]("You are not a channel operator in %1.",e[0].name)+"")&&ne(t,u)},d(e){e&&W(t)}}}function fa(e){let t,u=e[8]("You are channel operator in %1.",e[0].name)+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){257&n&&u!==(u=e[8]("You are channel operator in %1.",e[0].name)+"")&&ne(t,u)},d(e){e&&W(t)}}}function pa(e){let t,u,n,r,d,a,o,i,c=e[10](...tr(e[9]))+"",s=e[8]("Update information")+"";return{c(){t=Z("span"),u=J(),n=Z("br"),r=Z("small"),d=Z("a"),a=V(s),oe(t,"fade-in",e[9].loading),te(d,"href","#update")},m(s,l){K(s,t,l),t.innerHTML=c,K(s,u,l),K(s,n,l),K(s,r,l),H(r,d),H(d,a),o||(i=X(d,"click",ee(e[18])),o=!0)},p(e,u){1536&u&&c!==(c=e[10](...tr(e[9]))+"")&&(t.innerHTML=c),512&u&&oe(t,"fade-in",e[9].loading),256&u&&s!==(s=e[8]("Update information")+"")&&ne(a,s)},d(e){e&&W(t),e&&W(u),e&&W(n),e&&W(r),o=!1,i()}}}function ma(e){let t,u=e[8]("Conversation with %1 is frozen. Reason: %2",e[0].name,e[8](e[0].frozen))+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){257&n&&u!==(u=e[8]("Conversation with %1 is frozen. Reason: %2",e[0].name,e[8](e[0].frozen))+"")&&ne(t,u)},d(e){e&&W(t)}}}function ha(e){let t,u,n,r;const d=[Da,ga],a=[];function o(e,t){return e[5]||!e[4].modes.topic_protection?0:1}return t=o(e),u=a[t]=d[t](e),{c(){u.c(),n=Q()},m(e,u){a[t].m(e,u),K(e,n,u),r=!0},p(e,r){let i=t;t=o(e),t===i?a[t].p(e,r):(Ue(),qe(a[i],1,1,(()=>{a[i]=null})),ze(),u=a[t],u?u.p(e,r):(u=a[t]=d[t](e),u.c()),He(u,1),u.m(n.parentNode,n))},i(e){r||(He(u),r=!0)},o(e){qe(u),r=!1},d(e){a[t].d(e),e&&W(n)}}}function ga(e){let t,u,n,r,d,a=e[8]("Topic")+"",o=e[10](e[0].topic||"No topic is set.")+"";return{c(){t=Z("div"),u=Z("label"),n=V(a),r=J(),d=Z("div"),te(u,"for","nothing"),te(d,"class","input"),te(t,"class","text-field")},m(e,a){K(e,t,a),H(t,u),H(u,n),H(t,r),H(t,d),d.innerHTML=o},p(e,t){256&t&&a!==(a=e[8]("Topic")+"")&&ne(n,a),1025&t&&o!==(o=e[10](e[0].topic||"No topic is set.")+"")&&(d.innerHTML=o)},i:v,o:v,d(e){e&&W(t)}}}function Da(e){let t,u;return t=new Qr({props:{name:"topic",form:e[12],placeholder:e[8]("No topic is set."),$$slots:{label:[ba]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};256&u&&(n.placeholder=e[8]("No topic is set.")),268435712&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function ba(e){let t,u,n=e[8]("Topic")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){256&t&&n!==(n=e[8]("Topic")+"")&&ne(u,n)},d(e){e&&W(t)}}}function $a(e){let t,u;return t=new jr({props:{name:"want_notifications",form:e[12],$$slots:{label:[va]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};268435712&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function va(e){let t,u,n=e[8]("Notify me on new messages")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){256&t&&n!==(n=e[8]("Notify me on new messages")+"")&&ne(u,n)},d(e){e&&W(t)}}}function ya(e){let t,u,n=e[8]("Show raw messages")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){256&t&&n!==(n=e[8]("Show raw messages")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ca(e){let t,u,n,r,d,a,o=e[8]("Conversation modes")+"",i=e[15],c=[];for(let t=0;t<i.length;t+=1)c[t]=wa(sa(e,i,t));const s=e=>qe(c[e],1,1,(()=>{c[e]=null}));let l=!e[5]&&_a(e);return{c(){t=Z("nav"),u=Z("h3"),n=V(o),r=J();for(let e=0;e<c.length;e+=1)c[e].c();d=J(),l&&l.c(),te(t,"class","sidebar-left__nav")},m(e,o){K(e,t,o),H(t,u),H(u,n),H(t,r);for(let e=0;e<c.length;e+=1)c[e].m(t,null);H(t,d),l&&l.m(t,null),a=!0},p(e,u){if((!a||256&u)&&o!==(o=e[8]("Conversation modes")+"")&&ne(n,o),37156&u){let n;for(i=e[15],n=0;n<i.length;n+=1){const r=sa(e,i,n);c[n]?(c[n].p(r,u),He(c[n],1)):(c[n]=wa(r),c[n].c(),He(c[n],1),c[n].m(t,d))}for(Ue(),n=i.length;n<c.length;n+=1)s(n);ze()}e[5]?l&&(l.d(1),l=null):l?l.p(e,u):(l=_a(e),l.c(),l.m(t,null))},i(e){if(!a){for(let e=0;e<i.length;e+=1)He(c[e]);a=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)qe(c[e]);a=!1},d(e){e&&W(t),Y(c,e),l&&l.d()}}}function Ea(e){let t,u,n,r,d,a,o=e[8](au(e[25].replace(/_/g," ")))+"",i=e[2]["mode_"+e[25]]?"+":"-",c=oa(e[25])+"";return{c(){t=Z("span"),u=V(o),n=J(),r=Z("b"),d=V(i),a=V(c),te(r,"class","badge"),te(t,"slot","label")},m(e,o){K(e,t,o),H(t,u),H(t,n),H(t,r),H(r,d),H(r,a)},p(e,t){256&t&&o!==(o=e[8](au(e[25].replace(/_/g," ")))+"")&&ne(u,o),4&t&&i!==(i=e[2]["mode_"+e[25]]?"+":"-")&&ne(d,i)},d(e){e&&W(t)}}}function Aa(e){let t,u;return t=new ad({props:{type:"password",name:"password",form:e[12],$$slots:{label:[Fa]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};268435712&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function Fa(e){let t,u,n=e[8]("Password")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){256&t&&n!==(n=e[8]("Password")+"")&&ne(u,n)},d(e){e&&W(t)}}}function wa(e){let t,u,n,r;t=new jr({props:{badge:!0,name:"mode_"+e[25],form:e[12],disabled:!e[5],$$slots:{label:[Ea]},$$scope:{ctx:e}}});let d="password"==e[25]&&e[2].mode_password&&Aa(e);return{c(){Je(t.$$.fragment),u=J(),d&&d.c(),n=Q()},m(e,a){Qe(t,e,a),K(e,u,a),d&&d.m(e,a),K(e,n,a),r=!0},p(e,u){const r={};32&u&&(r.disabled=!e[5]),268435716&u&&(r.$$scope={dirty:u,ctx:e}),t.$set(r),"password"==e[25]&&e[2].mode_password?d?(d.p(e,u),4&u&&He(d,1)):(d=Aa(e),d.c(),He(d,1),d.m(n.parentNode,n)):d&&(Ue(),qe(d,1,1,(()=>{d=null})),ze())},i(e){r||(He(t.$$.fragment,e),He(d),r=!0)},o(e){qe(t.$$.fragment,e),qe(d),r=!1},d(e){Xe(t,e),e&&W(u),d&&d.d(e),e&&W(n)}}}function _a(e){let t,u,n,r=e[8]("Only operators can change modes.")+"";return{c(){t=Z("p"),u=Z("i"),n=V(r)},m(e,r){K(e,t,r),H(t,u),H(u,n)},p(e,t){256&t&&r!==(r=e[8]("Only operators can change modes.")+"")&&ne(n,r)},d(e){e&&W(t)}}}function xa(e){let t,u,n=e[8]("Save")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){256&t&&n!==(n=e[8]("Save")+"")&&ne(u,n)},d(e){e&&W(t)}}}function ka(e){let t,u,n=e[8]("Leave")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){256&t&&n!==(n=e[8]("Leave")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ba(e){let t,u,n,r,d,a=e[8]("Participants (%1)",e[3].length)+"",o=e[3].toArray(),i=[];for(let t=0;t<o.length;t+=1)i[t]=Oa(ca(e,o,t));const c=e=>qe(i[e],1,1,(()=>{i[e]=null}));return{c(){t=Z("nav"),u=Z("h3"),n=V(a),r=J();for(let e=0;e<i.length;e+=1)i[e].c();te(t,"class","sidebar-left__nav")},m(e,a){K(e,t,a),H(t,u),H(u,n),H(t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);d=!0},p(e,u){if((!d||264&u)&&a!==(a=e[8]("Participants (%1)",e[3].length)+"")&&ne(n,a),9&u){let n;for(o=e[3].toArray(),n=0;n<o.length;n+=1){const r=ca(e,o,n);i[n]?(i[n].p(r,u),He(i[n],1)):(i[n]=Oa(r),i[n].c(),He(i[n],1),i[n].m(t,null))}for(Ue(),n=o.length;n<i.length;n+=1)c(n);ze()}},i(e){if(!d){for(let e=0;e<o.length;e+=1)He(i[e]);d=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)qe(i[e]);d=!1},d(e){e&&W(t),Y(i,e)}}}function Sa(e){let t,u,n,r=e[22].nick+"";return{c(){t=Z("div"),u=V(r),n=J()},m(e,r){K(e,t,r),H(t,u),K(e,n,r)},p(e,t){8&t&&r!==(r=e[22].nick+"")&&ne(u,r)},d(e){e&&W(t),e&&W(n)}}}function Oa(e){let t,u;return t=new da({props:{href:"/chat/"+e[0].connection_id+"/"+e[22].id,class:"participant "+Qt(e[22].modes),$$slots:{default:[Sa]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};9&u&&(n.href="/chat/"+e[0].connection_id+"/"+e[22].id),8&u&&(n.class="participant "+Qt(e[22].modes)),268435464&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function Na(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E,F,w,_,x,k=e[8]("Conversation")+"",B=e[0].hasOwnProperty("wantNotifications");function S(e,t){return e[0].frozen?ma:e[6]?pa:e[5]?fa:la}o=new ct({props:{name:"times"}});let O=S(e),N=O(e),j=!e[6]&&ha(e),T=B&&$a(e);m=new jr({props:{name:"raw_messages",form:e[12],$$slots:{label:[ya]},$$scope:{ctx:e}}});let R=!e[6]&&Ca(e);b=new xr({props:{icon:"save",$$slots:{default:[xa]},$$scope:{ctx:e}}}),v=new xr({props:{type:"button",icon:"sign-out-alt",$$slots:{default:[ka]},$$scope:{ctx:e}}}),v.$on("click",e[16]),C=new Ir({props:{op:e[14]}});let L=!e[0].frozen&&e[11].nColumns<3&&Ba(e);return{c(){t=Z("div"),u=Z("div"),n=Z("h2"),r=V(k),d=J(),a=Z("a"),Je(o.$$.fragment),i=J(),c=Z("p"),N.c(),s=J(),l=Z("form"),j&&j.c(),f=J(),T&&T.c(),p=J(),Je(m.$$.fragment),h=J(),R&&R.c(),g=J(),D=Z("div"),Je(b.$$.fragment),$=J(),Je(v.$$.fragment),y=J(),Je(C.$$.fragment),E=J(),L&&L.c(),te(a,"href","#settings"),te(a,"class","btn-hallow is-active"),te(u,"class","sidebar-header"),te(D,"class","form-actions"),te(l,"method","post"),te(t,"class","sidebar-left")},m(A,F){K(A,t,F),H(t,u),H(u,n),H(n,r),H(u,d),H(u,a),Qe(o,a,null),H(t,i),H(t,c),N.m(c,null),H(t,s),H(t,l),j&&j.m(l,null),H(l,f),T&&T.m(l,null),H(l,p),Qe(m,l,null),H(l,h),R&&R.m(l,null),H(l,g),H(l,D),Qe(b,D,null),H(D,$),Qe(v,D,null),H(l,y),Qe(C,l,null),H(t,E),L&&L.m(t,null),w=!0,_||(x=[X(a,"click",gt.toggle),X(l,"submit",ee(e[17]))],_=!0)},p(u,[n]){e=u,(!w||256&n)&&k!==(k=e[8]("Conversation")+"")&&ne(r,k),O===(O=S(e))&&N?N.p(e,n):(N.d(1),N=O(e),N&&(N.c(),N.m(c,null))),e[6]?j&&(Ue(),qe(j,1,1,(()=>{j=null})),ze()):j?(j.p(e,n),64&n&&He(j,1)):(j=ha(e),j.c(),He(j,1),j.m(l,f)),1&n&&(B=e[0].hasOwnProperty("wantNotifications")),B?T?(T.p(e,n),1&n&&He(T,1)):(T=$a(e),T.c(),He(T,1),T.m(l,p)):T&&(Ue(),qe(T,1,1,(()=>{T=null})),ze());const d={};268435712&n&&(d.$$scope={dirty:n,ctx:e}),m.$set(d),e[6]?R&&(Ue(),qe(R,1,1,(()=>{R=null})),ze()):R?(R.p(e,n),64&n&&He(R,1)):(R=Ca(e),R.c(),He(R,1),R.m(l,g));const a={};268435712&n&&(a.$$scope={dirty:n,ctx:e}),b.$set(a);const o={};268435712&n&&(o.$$scope={dirty:n,ctx:e}),v.$set(o),!e[0].frozen&&e[11].nColumns<3?L?(L.p(e,n),2049&n&&He(L,1)):(L=Ba(e),L.c(),He(L,1),L.m(t,null)):L&&(Ue(),qe(L,1,1,(()=>{L=null})),ze())},i(u){w||(He(o.$$.fragment,u),He(j),He(T),He(m.$$.fragment,u),He(R),He(b.$$.fragment,u),He(v.$$.fragment,u),He(C.$$.fragment,u),He(L),Se((()=>{F||(F=Ke(t,mr,e[1],!0)),F.run(1)})),w=!0)},o(u){qe(o.$$.fragment,u),qe(j),qe(T),qe(m.$$.fragment,u),qe(R),qe(b.$$.fragment,u),qe(v.$$.fragment,u),qe(C.$$.fragment,u),qe(L),F||(F=Ke(t,mr,e[1],!1)),F.run(0),w=!1},d(e){e&&W(t),Xe(o),N.d(),j&&j.d(),T&&T.d(),Xe(m),R&&R.d(),Xe(b),Xe(v),Xe(C),L&&L.d(),e&&F&&F.end(),_=!1,A(x)}}}function ja(e,t,u){let n,r,d,a,o,i,c,s,l,f,p,m=v,h=v,g=()=>(h(),h=_(D,(e=>u(4,c=e))),D);k(e,gt,(e=>u(19,a=e))),k(e,Un,(e=>u(8,s=e))),k(e,zn,(e=>u(10,f=e))),k(e,Dt,(e=>u(11,p=e))),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>h()));let{conversation:D}=t;g();let{transition:b}=t;const $=pd({password:""});k(e,$,(e=>u(2,o=e)));const y=pd({});k(e,y,(e=>u(9,l=e)));const C=new On({api:!1,id:"saveConversationSettings"}),E=["invite_only","moderated","password","prevent_external_send","topic_protection"];return be((async()=>{$.set({topic:D.topic,want_notifications:D.wantNotifications}),y.set(D.info),0!=Object.keys(D.modes).length||r||await new Promise((e=>D.send("/mode",e))),await Be();const e={};for(const t of E)e["mode_"+t]=D.modes[t]||!1;$.set(e)})),e.$$set=e=>{"conversation"in e&&g(u(0,D=e.conversation)),"transition"in e&&u(1,b=e.transition)},e.$$.update=()=>{16&e.$$.dirty&&(u(7,n=c.participants),m(),m=_(n,(e=>u(3,i=e)))),16&e.$$.dirty&&u(6,r=c.is("private")),8&e.$$.dirty&&u(5,d=i.me().modes.operator),5&e.$$.dirty&&D.messages.update({raw:o.raw_messages})},[D,b,o,i,c,d,r,n,s,l,f,p,$,y,C,E,function(){D.send("/part",(e=>!e.errrors&&T(gt,a="",a)))},async function(){C.update({status:"loading"}),await C.on("update"),D.update({wantNotifications:$.get("want_notifications")||!1}),function(){const e=[];for(const t of E){const u=$.get("mode_"+t)||!1;if("password"==t&&u){const e=$.get("password");e&&D.send(d?"/mode +k "+e:"/join "+D.name+" "+e),$.set({password:""})}else u!=(D.modes[t]||!1)&&e.push((u?"+":"-")+oa(t))}d&&e.length&&D.send("/mode "+e.join(""))}(),(d||!D.modes.topic_protection)&&$.get("topic")!=D.topic&&D.send("/topic "+$.get("topic")),await Be(),C.update({status:"success"})},function(){y.get("loading")||(y.set({loading:!0}),D.send("/whois "+D.name,(e=>{e.stopPropagation(),setTimeout((()=>y.set({loading:!1})),1e3),y.set(e)})))}]}class Ta extends ut{constructor(e){super(),tt(this,e,ja,Na,w,{conversation:0,transition:1})}}var Ra=function(){function e(){var t=this;D(this,e),this.dragAndDropEvents={drag:this._preventDefault.bind(this),dragend:this.stop.bind(this),dragenter:this.start.bind(this),dragleave:this.stop.bind(this),dragover:this.start.bind(this),dragstart:this._preventDefault.bind(this),drop:this.drop.bind(this)},this.pasteEvents={paste:this.paste.bind(this)},this.dropIndicatorEl=document.createElement("div"),this.dropIndicatorEl.className="drop-area hidden",this.removeDragOverDebounced=Kt((function(){return t._removeDragOver()}),100)}return $(e,[{key:"attach",value:function(e,t){var u=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;this.dropEl=e,this.uploader=t,this.targetEl=n,Object.keys(this.dragAndDropEvents).forEach((function(e){n.addEventListener(e,u.dragAndDropEvents[e])})),Object.keys(this.pasteEvents).forEach((function(e){document.addEventListener(e,u.pasteEvents[e])}))}},{key:"detach",value:function(){var e=this;Object.keys(this.dragAndDropEvents).forEach((function(t){e.targetEl.removeEventListener(t,e.dragAndDropEvents[t])})),Object.keys(this.pasteEvents).forEach((function(t){document.removeEventListener(t,e.pasteEvents[t])}))}},{key:"drop",value:function(e){this.stop(e),this.uploader&&this.uploader(e)}},{key:"paste",value:function(e){var t=(e.clipboardData||e.originalEvent.clipboardData).items;if(this.uploader)for(var u=0;u<t.length;u++)if("file"==t[u].kind)return this.uploader({dataTransfer:{files:[t[u].getAsFile()]}})}},{key:"stop",value:function(e){this._preventDefault(e),this.removeDragOverDebounced()}},{key:"start",value:function(e){if(this.dropEl){this._preventDefault(e);var t=this.dropIndicatorEl.style;t.height=this.dropEl.offsetHeight+"px",t.width=this.dropEl.offsetWidth+"px",t.top=this.dropEl.offsetTop+"px",t.left=this.dropEl.offsetLeft+"px",this.dropIndicatorEl.classList.remove("hidden"),this.dropEl.parentNode.appendChild(this.dropIndicatorEl)}}},{key:"_preventDefault",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"_removeDragOver",value:function(){this.dropIndicatorEl.classList.add("hidden")}}]),e}();function La(e){let t,u,n,r,d,a,o;const i=e[6].default,c=B(i,e,e[5],null);return{c(){t=Z("main"),u=Z("div"),c&&c.c(),Se((()=>e[7].call(u))),te(t,"class",r=e[1].join(" "))},m(r,i){K(r,t,i),H(t,u),c&&c.m(u,null),n=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");var u=Z("iframe");u.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),u.setAttribute("aria-hidden","true"),u.tabIndex=-1;var n,r=ae();return r?(u.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",n=X(window,"message",(function(e){e.source===u.contentWindow&&t()}))):(u.src="about:blank",u.onload=function(){n=X(u.contentWindow,"resize",t)}),H(e,u),function(){(r||n&&u.contentWindow)&&n(),W(u)}}(u,e[7].bind(u)),d=!0,a||(o=R(e[2].call(null,t)),a=!0)},p(e,[u]){c&&c.p&&(!d||32&u)&&N(c,i,e,e[5],d?O(i,e[5],u,null):j(e[5]),null),(!d||2&u&&r!==(r=e[1].join(" ")))&&te(t,"class",r)},i(e){d||(He(c,e),d=!0)},o(e){qe(c,e),d=!1},d(e){e&&W(t),c&&c.d(e),n(),a=!1,o()}}}function Pa(e,t,u){let n,{$$slots:r={},$$scope:d}=t;const a=(o=De(),function(e,t){var u=o.$$.callbacks[e];if(u){var n=ie(e,t);u.slice().forEach((function(e){e.call(o,n)}))}});var o;const i={scrollDelay:80,scrollOffset:80,scrollTop:0,visibleEls:[]};let{class:c=""}=t,l=Date.now(),f=0,{pos:p="top"}=t;function m(){const e=i.infinityEl;if(!e)return;u(3,p=e.scrollTop>f-e.offsetHeight-i.scrollOffset?"bottom":e.scrollTop<i.scrollOffset?"top":"middle"),i.pos=p,i.scrollHeightChanged=i.scrollHeight!=f,i.scrollHeight=f,i.visibleElsChanged=!1;const t=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,u=s(e.childNodes),n=[],r=0;r<u.length;)u[r].nodeType==Node.ELEMENT_NODE?(n.push([r,u[r]]),r++):u.splice(r,1);if(!u.length)return[];for(var d=t.scrollTop;n.length>1;){var a=Math.floor(n.length/2);n[a][1].offsetTop<=d?n.splice(0,a):n.splice(a)}n.length||n.push([0,u[0]]);for(var o=t.offsetHeight,i=n[0][0],c=i;c<u.length&&!(u[c].offsetTop>d+o);)c++;return u.slice(i,c).filter((function(e){return!e.getAttribute("aria-hidden")}))}(e.firstElementChild,e);t.length==i.visibleEls.length&&t[0]==i.visibleEls[0]||(i.visibleEls=t,i.visibleElsChanged=!0),(i.scrollHeightChanged||i.visibleElsChanged)&&a("visibility",i),i.scrollHeightChanged&&a("rendered",i)}function h(e){return!Vt.undefined(e)&&(-1==e&&(e=f),Vt.string(e)&&(e=i.infinityEl.querySelector(e)),e&&e.tagName&&(e=e.offsetTop),!Vt.undefined(e)&&(!(e<0)&&(l=Date.now(),i.infinityEl.scrollTop=e,i.scrollTop=i.infinityEl.scrollTop,!0)))}return e.$$set=e=>{"class"in e&&u(4,c=e.class),"pos"in e&&u(3,p=e.pos),"$$scope"in e&&u(5,d=e.$$scope)},e.$$.update=()=>{24&e.$$.dirty&&u(1,n=[c||"infinity-scroll"].concat(["has-pos-"+p])),1&e.$$.dirty&&f&&m()},[f,n,function(e){i.infinityEl=e,i.scrollTo=h,e.addEventListener("scroll",(()=>function(e){i.scrollTid&&clearTimeout(i.scrollTid);i.scrollTid=setTimeout((()=>function(e){l+500>Date.now()?(Math.abs(e.scrollTop-i.scrollTop)>40&&(e.scrollTop=i.scrollTop),i.scrollTid&&clearTimeout(i.scrollTid),m()):(i.scrollTop=e.scrollTop,m(),a("scrolled",i))}(e)),i.scrollDelay)}(e))),m()},p,c,d,r,function(){f=this.offsetHeight,u(0,f)}]}class Ma extends ut{constructor(e){super(),tt(this,e,Pa,La,w,{class:4,pos:3})}}function Ia(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,n)}return u}function Ua(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(u),!0).forEach((function(t){Et(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):Ia(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}function za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var Ha=function(e){p(u,e);var t=za(u);function u(){var e;return D(this,u),(e=t.call(this)).Notification=window.Notification||{permission:"denied"},e.prop("persist","notificationCloseDelay",5e3),e.prop("persist","wantNotifications",!!e.Notification.requestPermission&&null),e.prop("ro","appHasFocus",(function(){return document.hasFocus()})),e.prop("rw","desktopAccess",e.Notification.permission),e}return $(u,[{key:"requestDesktopAccess",value:function(){var e=this;return this.Notification.requestPermission?(this.Notification.requestPermission((function(t){return e.update({desktopAccess:t})})),this):this.update({desktopAccess:this.Notification.permission})}},{key:"show",value:function(e){var t=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(u.title||(u.title=document.title),!this.wantNotifications)return this._showInConsole(e,u);if("granted"!=this.desktopAccess)return this.showInApp(e,u);var n=new Notification(u.title,Ua(Ua({},u),{},{body:e}));return n.onclick=function(e){return t._onClick(e,n,u)},setTimeout((function(){return n.close()}),this.notificationCloseDelay),n}},{key:"showInApp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.title||(t.title=document.title);var u=document.createElement("div"),n=Ua(Ua({},t),{},{body:e,close:function(){u.remove(),n.closed=!0},target:"app"});return u.className="notify-notification fade-in",u.innerHTML='<a href="#close" class="notify-notification__close"></a><h6 class="notify-notification__title"></h6><div class="notify-notification__content"></div>',u.querySelector("a").addEventListener("click",(function(e){e.preventDefault(),n.close()})),u.querySelector("h6").textContent=t.title,u.querySelector("div").textContent=e,-1==t.closeAfter?u.querySelector("a").remove():setTimeout((function(){return n.close()}),t.closeAfter||this.notificationCloseDelay),setTimeout((function(){return u.classList.add("is-visible")}),1),document.body.appendChild(u),n}},{key:"_onClick",value:function(e,t,u){t.close(),window.focus(),this.emit("click",Ua(Ua({},u),{},{sourceEvent:e}))}},{key:"_showInConsole",value:function(e,t){return console.info("[Notify]",e,t),Ua(Ua({},t),{},{body:e,close:function(){},target:"console"})}}]),u}(lu),qa=new Ha;function Ga(e,t,u){const n=e.slice();return n[40]=t[u],n}function Ka(e,t,u){const n=e.slice();return n[43]=t[u],n[45]=u,n}function Wa(e,t,u){const n=e.slice();return n[46]=t[u],n}function Ya(e){let t,u,n,r,d,a,o;return u=new ct({props:{name:"users-cog"}}),r=new ct({props:{name:"times"}}),{c(){t=Z("a"),Je(u.$$.fragment),n=J(),Je(r.$$.fragment),te(t,"href","#settings"),te(t,"class","btn-hallow"),oe(t,"is-active","settings"==e[17])},m(e,i){K(e,t,i),Qe(u,t,null),H(t,n),Qe(r,t,null),d=!0,a||(o=X(t,"click",gt.toggle),a=!0)},p(e,u){131072&u[0]&&oe(t,"is-active","settings"==e[17])},i(e){d||(He(u.$$.fragment,e),He(r.$$.fragment,e),d=!0)},o(e){qe(u.$$.fragment,e),qe(r.$$.fragment,e),d=!1},d(e){e&&W(t),Xe(u),Xe(r),a=!1,o()}}}function Za(e){let t,u,n,r,d,a,o,i,c,s,l,f=e[15](e[1].name)+"",p=sr(e[16],e[5])+"",m=!e[5].is("not_found"),h=m&&Ya(e);return{c(){t=Z("h1"),u=Z("a"),n=V(f),r=J(),d=Z("span"),a=V(p),o=J(),h&&h.c(),i=Q(),te(u,"href","#settings"),te(t,"class","ellipsis"),te(d,"class","chat-header__topic ellipsis")},m(e,f){K(e,t,f),H(t,u),H(u,n),K(e,r,f),K(e,d,f),H(d,a),K(e,o,f),h&&h.m(e,f),K(e,i,f),c=!0,s||(l=X(u,"click",gt.toggle),s=!0)},p(e,t){(!c||32770&t[0])&&f!==(f=e[15](e[1].name)+"")&&ne(n,f),(!c||65568&t[0])&&p!==(p=sr(e[16],e[5])+"")&&ne(a,p),32&t[0]&&(m=!e[5].is("not_found")),m?h?(h.p(e,t),32&t[0]&&He(h,1)):(h=Ya(e),h.c(),He(h,1),h.m(i.parentNode,i)):h&&(Ue(),qe(h,1,1,(()=>{h=null})),ze())},i(e){c||(He(h),c=!0)},o(e){qe(h),c=!1},d(e){e&&W(t),e&&W(r),e&&W(d),e&&W(o),h&&h.d(e),e&&W(i),s=!1,l()}}}function Va(e){let t,u,n,r;const d=[Qa,Ja],a=[];function o(e,t){return e[0]?0:1}return t=o(e),u=a[t]=d[t](e),{c(){u.c(),n=Q()},m(e,u){a[t].m(e,u),K(e,n,u),r=!0},p(e,r){let i=t;t=o(e),t===i?a[t].p(e,r):(Ue(),qe(a[i],1,1,(()=>{a[i]=null})),ze(),u=a[t],u?u.p(e,r):(u=a[t]=d[t](e),u.c()),He(u,1),u.m(n.parentNode,n))},i(e){r||(He(u),r=!0)},o(e){qe(u),r=!1},d(e){a[t].d(e),e&&W(n)}}}function Ja(e){let t,u;return t=new ua({props:{conversation:e[1],transition:{duration:250,x:e[18].nColumns>1?0:e[18].width}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};2&u[0]&&(n.conversation=e[1]),262144&u[0]&&(n.transition={duration:250,x:e[18].nColumns>1?0:e[18].width}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function Qa(e){let t,u;return t=new Ta({props:{conversation:e[1],transition:{duration:250,x:e[18].nColumns>1?0:e[18].width}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};2&u[0]&&(n.conversation=e[1]),262144&u[0]&&(n.transition={duration:250,x:e[18].nColumns>1?0:e[18].width}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function Xa(e){let t,u,n,r,d;const a=[to,eo],o=[];function i(e,u){return(null==t||32&u[0])&&(t=!!e[5].is("private")),t?0:e[5].frozen?-1:1}return~(u=i(e,[-1,-1]))&&(n=o[u]=a[u](e)),{c(){n&&n.c(),r=Q()},m(e,t){~u&&o[u].m(e,t),K(e,r,t),d=!0},p(e,t){let d=u;u=i(e,t),u===d?~u&&o[u].p(e,t):(n&&(Ue(),qe(o[d],1,1,(()=>{o[d]=null})),ze()),~u?(n=o[u],n?n.p(e,t):(n=o[u]=a[u](e),n.c()),He(n,1),n.m(r.parentNode,r)):n=null)},i(e){d||(He(n),d=!0)},o(e){qe(n),d=!1},d(e){~u&&o[u].d(e),e&&W(r)}}}function eo(e){let t,u,n,r,d,a,o,i,c,s=e[20](e[5].topic?"Topic for %1 is: %2":"No topic is set for %1.",e[5].name,e[5].topic)+"";function l(e,t){return 1==e[21].length?no:uo}u=new ct({props:{name:"info-circle"}}),o=new ct({props:{name:"info-circle"}});let f=l(e),p=f(e);return{c(){t=Z("p"),Je(u.$$.fragment),n=J(),r=new se,d=J(),a=Z("p"),Je(o.$$.fragment),i=J(),p.c(),r.a=null},m(e,l){K(e,t,l),Qe(u,t,null),H(t,n),r.m(s,t),K(e,d,l),K(e,a,l),Qe(o,a,null),H(a,i),p.m(a,null),c=!0},p(e,t){(!c||1048608&t[0])&&s!==(s=e[20](e[5].topic?"Topic for %1 is: %2":"No topic is set for %1.",e[5].name,e[5].topic)+"")&&r.p(s),f===(f=l(e))&&p?p.p(e,t):(p.d(1),p=f(e),p&&(p.c(),p.m(a,null)))},i(e){c||(He(u.$$.fragment,e),He(o.$$.fragment,e),c=!0)},o(e){qe(u.$$.fragment,e),qe(o.$$.fragment,e),c=!1},d(e){e&&W(t),Xe(u),e&&W(d),e&&W(a),Xe(o),p.d()}}}function to(e){let t,u,n,r,d,a=e[20]('This is a private conversation with "%1".',e[5].name)+"";return u=new ct({props:{name:"info-circle"}}),{c(){t=Z("p"),Je(u.$$.fragment),n=J(),r=new se,r.a=null},m(e,o){K(e,t,o),Qe(u,t,null),H(t,n),r.m(a,t),d=!0},p(e,t){(!d||1048608&t[0])&&a!==(a=e[20]('This is a private conversation with "%1".',e[5].name)+"")&&r.p(a)},i(e){d||(He(u.$$.fragment,e),d=!0)},o(e){qe(u.$$.fragment,e),d=!1},d(e){e&&W(t),Xe(u)}}}function uo(e){let t,u,n=e[20]("There are %1 participants in this conversation.",e[21].length)+"";return{c(){t=new se,u=Q(),t.a=u},m(e,r){t.m(n,e,r),K(e,u,r)},p(e,u){3145728&u[0]&&n!==(n=e[20]("There are %1 participants in this conversation.",e[21].length)+"")&&t.p(n)},d(e){e&&W(u),e&&t.d()}}}function no(e){let t,u=e[15]("You are the only participant in this conversation.")+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){32768&n[0]&&u!==(u=e[15]("You are the only participant in this conversation.")+"")&&ne(t,u)},d(e){e&&W(t)}}}function ro(e){let t,u,n,r,d,a,o,i=e[15]("Loading...")+"";return n=new ct({props:{name:"spinner",animation:"spin"}}),{c(){t=Z("div"),u=Z("span"),Je(n.$$.fragment),r=J(),d=Z("i"),a=V(i),te(t,"class","message__status-line for-loading has-pos-top")},m(e,i){K(e,t,i),H(t,u),Qe(n,u,null),H(u,r),H(u,d),H(d,a),o=!0},p(e,t){(!o||32768&t[0])&&i!==(i=e[15]("Loading...")+"")&&ne(a,i)},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&W(t),Xe(n)}}}function ao(e){let t,u,n,r,d,a,o,i=e[15]("Started chatting on %1",e[5].historyStartAt.getHumanDate())+"";return n=new ct({props:{name:"calendar-alt"}}),{c(){t=Z("div"),u=Z("span"),Je(n.$$.fragment),r=J(),d=Z("i"),a=V(i),te(t,"class","message__status-line for-start-of-history")},m(e,i){K(e,t,i),H(t,u),Qe(n,u,null),H(u,r),H(u,d),H(d,a),o=!0},p(e,t){(!o||32800&t[0])&&i!==(i=e[15]("Started chatting on %1",e[5].historyStartAt.getHumanDate())+"")&&ne(a,i)},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&W(t),Xe(n)}}}function oo(e){let t,u,n,r,d,a,o,i=e[43].ts.getHumanDate()+"";return n=new ct({props:{name:"calendar-alt"}}),{c(){t=Z("div"),u=Z("span"),Je(n.$$.fragment),r=J(),d=Z("i"),a=V(i),te(t,"class","message__status-line for-day-changed")},m(e,i){K(e,t,i),H(t,u),Qe(n,u,null),H(u,r),H(u,d),H(d,a),o=!0},p(e,t){(!o||524288&t[0])&&i!==(i=e[43].ts.getHumanDate()+"")&&ne(a,i)},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&W(t),Xe(n)}}}function io(e){let t,u,n,r,d,a,o=e[15]("New messages")+"";return n=new ct({props:{name:"comments"}}),{c(){t=Z("div"),u=Z("span"),Je(n.$$.fragment),r=J(),d=V(o),te(t,"class","message__status-line for-last-read")},m(e,o){K(e,t,o),H(t,u),Qe(n,u,null),H(u,r),H(u,d),a=!0},p(e,t){(!a||32768&t[0])&&o!==(o=e[15]("New messages")+"")&&ne(d,o)},i(e){a||(He(n.$$.fragment,e),a=!0)},o(e){qe(n.$$.fragment,e),a=!1},d(e){e&&W(t),Xe(n)}}}function co(e){let t,u,n,r;return u=new ct({props:{name:e[43].showDetails?"caret-square-up":"caret-square-down"}}),{c(){t=Z("a"),Je(u.$$.fragment),te(t,"href",n="#action:details:"+e[43].index)},m(e,n){K(e,t,n),Qe(u,t,null),r=!0},p(e,d){const a={};524288&d[0]&&(a.name=e[43].showDetails?"caret-square-up":"caret-square-down"),u.$set(a),(!r||524288&d[0]&&n!==(n="#action:details:"+e[43].index))&&te(t,"href",n)},i(e){r||(He(u.$$.fragment,e),r=!0)},o(e){qe(u.$$.fragment,e),r=!1},d(e){e&&W(t),Xe(u)}}}function so(e){let t,u,n,r,d,a,o,i;return u=new ct({props:{name:"times-circle"}}),a=new ct({props:{name:"sync-alt"}}),{c(){t=Z("a"),Je(u.$$.fragment),r=J(),d=Z("a"),Je(a.$$.fragment),te(t,"href","#action:remove"),te(t,"class","pull-right has-tooltip"),te(t,"data-tooltip",n=e[15]("Remove")),te(d,"href","#action:resend"),te(d,"class","pull-right has-tooltip "),te(d,"data-tooltip",o=e[15]("Resend"))},m(e,n){K(e,t,n),Qe(u,t,null),K(e,r,n),K(e,d,n),Qe(a,d,null),i=!0},p(e,u){(!i||32768&u[0]&&n!==(n=e[15]("Remove")))&&te(t,"data-tooltip",n),(!i||32768&u[0]&&o!==(o=e[15]("Resend")))&&te(d,"data-tooltip",o)},i(e){i||(He(u.$$.fragment,e),He(a.$$.fragment,e),i=!0)},o(e){qe(u.$$.fragment,e),qe(a.$$.fragment,e),i=!1},d(e){e&&W(t),Xe(u),e&&W(r),e&&W(d),Xe(a)}}}function lo(e){return{c:v,m:v,p:v,d:v}}function fo(e){let t,u,n,r,d;return{c(){t=Z("div"),te(t,"class",u="embed "+e[49].className)},m(u,a){K(u,t,a),r||(d=R(n=cr.call(null,t,e[49])),r=!0)},p(r,d){e=r,524288&d[0]&&u!==(u="embed "+e[49].className)&&te(t,"class",u),n&&F(n.update)&&524288&d[0]&&n.update.call(null,e[49])},d(e){e&&W(t),r=!1,d()}}}function po(e){return{c:v,m:v,p:v,d:v}}function mo(e){let t,u,n={ctx:e,current:null,token:null,hasCatch:!1,pending:po,then:fo,catch:lo,value:49};return We(u=e[46],n),{c(){t=Q(),n.block.c()},m(e,u){K(e,t,u),n.block.m(e,n.anchor=u),n.mount=()=>t.parentNode,n.anchor=t},p(t,r){e=t,n.ctx=e,524288&r[0]&&u!==(u=e[46])&&We(u,n)||Ye(n,e,r)},d(e){e&&W(t),n.block.d(e),n.token=null,n=null}}}function ho(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E=e[15]("Mention")+"",F=e[15]("Chat")+"",w=e[15]("Whois")+"";return n=new ct({props:{name:"quote-left"}}),c=new ct({props:{name:"comments"}}),h=new ct({props:{name:"address-card"}}),{c(){t=Z("div"),u=Z("a"),Je(n.$$.fragment),r=J(),d=V(E),o=J(),i=Z("a"),Je(c.$$.fragment),s=J(),l=V(F),p=J(),m=Z("a"),Je(h.$$.fragment),g=J(),D=V(w),te(u,"href",a="#action:mention:"+e[43].from),te(u,"class","on-hover"),te(i,"href",f="#action:join:"+e[43].from),te(i,"class","on-hover"),te(m,"href",b="#action:whois:"+e[43].from),te(m,"class","on-hover"),te(t,"class","popover")},m(a,f){K(a,t,f),H(t,u),Qe(n,u,null),H(u,r),H(u,d),H(t,o),H(t,i),Qe(c,i,null),H(i,s),H(i,l),H(t,p),H(t,m),Qe(h,m,null),H(m,g),H(m,D),v=!0,y||(C=[X(t,"blur",e[26]),X(t,"mouseout",e[26])],y=!0)},p(e,t){(!v||32768&t[0])&&E!==(E=e[15]("Mention")+"")&&ne(d,E),(!v||524288&t[0]&&a!==(a="#action:mention:"+e[43].from))&&te(u,"href",a),(!v||32768&t[0])&&F!==(F=e[15]("Chat")+"")&&ne(l,F),(!v||524288&t[0]&&f!==(f="#action:join:"+e[43].from))&&te(i,"href",f),(!v||32768&t[0])&&w!==(w=e[15]("Whois")+"")&&ne(D,w),(!v||524288&t[0]&&b!==(b="#action:whois:"+e[43].from))&&te(m,"href",b)},i(e){v||(He(n.$$.fragment,e),He(c.$$.fragment,e),He(h.$$.fragment,e),Se((()=>{$||($=Ke(t,pr,{duration:200},!0)),$.run(1)})),v=!0)},o(e){qe(n.$$.fragment,e),qe(c.$$.fragment,e),qe(h.$$.fragment,e),$||($=Ke(t,pr,{duration:200},!1)),$.run(0),v=!1},d(e){e&&W(t),Xe(n),Xe(c),Xe(h),e&&$&&$.end(),y=!1,A(C)}}}function go(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E,w,_,x,k,B,S=e[43].ts.toLocaleString()+"",O=e[43].from+"",N=e[43].markdown+"",j=e[43].dayChanged&&oo(e),T=e[45]&&e[45]==e[19].length-e[5].unread&&io(e);r=new ct({props:{name:"pick:"+e[43].from,color:e[43].color}});const R=[so,co],L=[];function P(e,t){return!1===e[43].waitingForResponse?0:!e[43].waitingForResponse&&e[43].details?1:-1}~(g=P(e))&&(D=L[g]=R[g](e));let M=e[43].embeds,I=[];for(let t=0;t<M.length;t+=1)I[t]=mo(Wa(e,M,t));let U=e[14]==e[43].id&&ho(e);return{c(){j&&j.c(),t=J(),T&&T.c(),u=J(),n=Z("div"),Je(r.$$.fragment),d=J(),a=Z("div"),o=Z("div"),i=V(S),s=J(),l=Z("a"),f=V(O),m=J(),h=Z("div"),D&&D.c(),b=J(),$=new se,v=J();for(let e=0;e<I.length;e+=1)I[e].c();y=J(),U&&U.c(),C=J(),te(a,"class","message__ts has-tooltip"),te(a,"data-content",c=e[43].ts.format("%H:%M")),te(l,"href",p="#popover:"+e[43].id),te(l,"class","message__from"),de(l,"color",e[43].color),te(l,"tabindex","-1"),$.a=null,te(h,"class","message__text"),te(n,"class",E=e[43].className),te(n,"data-index",w=e[45]),te(n,"data-ts",_=e[43].ts.toISOString()),oe(n,"is-not-present",!e[21].get(e[43].from)),oe(n,"show-details",!!e[43].showDetails)},m(c,p){j&&j.m(c,p),K(c,t,p),T&&T.m(c,p),K(c,u,p),K(c,n,p),Qe(r,n,null),H(n,d),H(n,a),H(a,o),H(o,i),H(n,s),H(n,l),H(l,f),H(n,m),H(n,h),~g&&L[g].m(h,null),H(h,b),$.m(N,h),H(n,v);for(let e=0;e<I.length;e+=1)I[e].m(n,null);H(n,y),U&&U.m(n,null),H(n,C),x=!0,k||(B=[X(l,"blur",e[26]),X(l,"focus",e[26]),X(l,"mouseover",e[26]),X(l,"mouseout",e[26]),X(n,"click",(function(){F(e[11])&&e[11].apply(this,arguments)}))],k=!0)},p(d,o){(e=d)[43].dayChanged?j?(j.p(e,o),524288&o[0]&&He(j,1)):(j=oo(e),j.c(),He(j,1),j.m(t.parentNode,t)):j&&(Ue(),qe(j,1,1,(()=>{j=null})),ze()),e[45]&&e[45]==e[19].length-e[5].unread?T?(T.p(e,o),524320&o[0]&&He(T,1)):(T=io(e),T.c(),He(T,1),T.m(u.parentNode,u)):T&&(Ue(),qe(T,1,1,(()=>{T=null})),ze());const s={};524288&o[0]&&(s.name="pick:"+e[43].from),524288&o[0]&&(s.color=e[43].color),r.$set(s),(!x||524288&o[0])&&S!==(S=e[43].ts.toLocaleString()+"")&&ne(i,S),(!x||524288&o[0]&&c!==(c=e[43].ts.format("%H:%M")))&&te(a,"data-content",c),(!x||524288&o[0])&&O!==(O=e[43].from+"")&&ne(f,O),(!x||524288&o[0]&&p!==(p="#popover:"+e[43].id))&&te(l,"href",p),(!x||524288&o[0])&&de(l,"color",e[43].color);let m=g;if(g=P(e),g===m?~g&&L[g].p(e,o):(D&&(Ue(),qe(L[m],1,1,(()=>{L[m]=null})),ze()),~g?(D=L[g],D?D.p(e,o):(D=L[g]=R[g](e),D.c()),He(D,1),D.m(h,b)):D=null),(!x||524288&o[0])&&N!==(N=e[43].markdown+"")&&$.p(N),524288&o[0]){let t;for(M=e[43].embeds,t=0;t<M.length;t+=1){const u=Wa(e,M,t);I[t]?I[t].p(u,o):(I[t]=mo(u),I[t].c(),I[t].m(n,y))}for(;t<I.length;t+=1)I[t].d(1);I.length=M.length}e[14]==e[43].id?U?(U.p(e,o),540672&o[0]&&He(U,1)):(U=ho(e),U.c(),He(U,1),U.m(n,C)):U&&(Ue(),qe(U,1,1,(()=>{U=null})),ze()),(!x||524288&o[0]&&E!==(E=e[43].className))&&te(n,"class",E),(!x||524288&o[0]&&_!==(_=e[43].ts.toISOString()))&&te(n,"data-ts",_),2621440&o[0]&&oe(n,"is-not-present",!e[21].get(e[43].from)),524288&o[0]&&oe(n,"show-details",!!e[43].showDetails)},i(e){x||(He(j),He(T),He(r.$$.fragment,e),He(D),He(U),x=!0)},o(e){qe(j),qe(T),qe(r.$$.fragment,e),qe(D),qe(U),x=!1},d(e){j&&j.d(e),e&&W(t),T&&T.d(e),e&&W(u),e&&W(n),Xe(r),~g&&L[g].d(),Y(I,e),U&&U.d(),k=!1,A(B)}}}function Do(e){let t,u,n,r,d,a,o=sr(e[16],e[5])+"";return n=new ct({props:{name:"exclamation-triangle"}}),{c(){t=Z("div"),u=Z("div"),Je(n.$$.fragment),r=J(),d=V(o),te(u,"class","message__text"),te(t,"class","message is-highlighted")},m(e,o){K(e,t,o),H(t,u),Qe(n,u,null),H(u,r),H(u,d),a=!0},p(e,t){(!a||65568&t[0])&&o!==(o=sr(e[16],e[5])+"")&&ne(d,o)},i(e){a||(He(n.$$.fragment,e),a=!0)},o(e){qe(n.$$.fragment,e),a=!1},d(e){e&&W(t),Xe(n)}}}function bo(e){let t,u,n,r,d,a,o,i,c,s,l,f=e[15]("You are invited to join %1.",e[1].name)+"",p=e[15]("Do you want to join?")+"";return i=new da({props:{href:"#action:join",class:"btn",$$slots:{default:[Co]},$$scope:{ctx:e}}}),i.$on("click",(function(){F(e[11])&&e[11].apply(this,arguments)})),s=new da({props:{href:"#action:close",class:"btn is-secondary",$$slots:{default:[Eo]},$$scope:{ctx:e}}}),s.$on("click",(function(){F(e[11])&&e[11].apply(this,arguments)})),{c(){t=Z("h2"),u=V(f),n=J(),r=Z("p"),d=V(p),a=J(),o=Z("p"),Je(i.$$.fragment),c=J(),Je(s.$$.fragment)},m(e,f){K(e,t,f),H(t,u),K(e,n,f),K(e,r,f),H(r,d),K(e,a,f),K(e,o,f),Qe(i,o,null),H(o,c),Qe(s,o,null),l=!0},p(t,n){e=t,(!l||32770&n[0])&&f!==(f=e[15]("You are invited to join %1.",e[1].name)+"")&&ne(u,f),(!l||32768&n[0])&&p!==(p=e[15]("Do you want to join?")+"")&&ne(d,p);const r={};32768&n[0]|524288&n[1]&&(r.$$scope={dirty:n,ctx:e}),i.$set(r);const a={};32768&n[0]|524288&n[1]&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){l||(He(i.$$.fragment,e),He(s.$$.fragment,e),l=!0)},o(e){qe(i.$$.fragment,e),qe(s.$$.fragment,e),l=!1},d(e){e&&W(t),e&&W(n),e&&W(r),e&&W(a),e&&W(o),Xe(i),Xe(s)}}}function $o(e){let t,u,n,r,d,a,o,i,c=e[20]("Disconnected. Your connection %1 can be edited in [settings](%2).",e[16].name,"/chat/"+e[16].connection_id+"#settings")+"";return n=new ct({props:{name:"exclamation-triangle"}}),{c(){t=Z("div"),u=Z("div"),Je(n.$$.fragment),r=J(),d=new se,d.a=null,te(u,"class","message__text"),te(t,"class","message is-highlighted")},m(e,s){K(e,t,s),H(t,u),Qe(n,u,null),H(u,r),d.m(c,u),a=!0,o||(i=X(t,"click",gt.toggle),o=!0)},p(e,t){(!a||1114112&t[0])&&c!==(c=e[20]("Disconnected. Your connection %1 can be edited in [settings](%2).",e[16].name,"/chat/"+e[16].connection_id+"#settings")+"")&&d.p(c)},i(e){a||(He(n.$$.fragment,e),a=!0)},o(e){qe(n.$$.fragment,e),a=!1},d(e){e&&W(t),Xe(n),o=!1,i()}}}function vo(e){let t,u,n,r,d,a,o,i,c,s,l,f=e[15]("You are not part of this conversation.")+"",p=e[15]('Do you want to chat with "%1"?',e[5].name)+"";return i=new da({props:{href:"#action:join:"+e[5].name,class:"btn",$$slots:{default:[Ao]},$$scope:{ctx:e}}}),i.$on("click",(function(){F(e[11])&&e[11].apply(this,arguments)})),s=new da({props:{href:"/settings/conversation",class:"btn is-secondary",$$slots:{default:[Fo]},$$scope:{ctx:e}}}),{c(){t=Z("h2"),u=V(f),n=J(),r=Z("p"),d=V(p),a=J(),o=Z("p"),Je(i.$$.fragment),c=J(),Je(s.$$.fragment)},m(e,f){K(e,t,f),H(t,u),K(e,n,f),K(e,r,f),H(r,d),K(e,a,f),K(e,o,f),Qe(i,o,null),H(o,c),Qe(s,o,null),l=!0},p(t,n){e=t,(!l||32768&n[0])&&f!==(f=e[15]("You are not part of this conversation.")+"")&&ne(u,f),(!l||32800&n[0])&&p!==(p=e[15]('Do you want to chat with "%1"?',e[5].name)+"")&&ne(d,p);const r={};32&n[0]&&(r.href="#action:join:"+e[5].name),32768&n[0]|524288&n[1]&&(r.$$scope={dirty:n,ctx:e}),i.$set(r);const a={};32768&n[0]|524288&n[1]&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){l||(He(i.$$.fragment,e),He(s.$$.fragment,e),l=!0)},o(e){qe(i.$$.fragment,e),qe(s.$$.fragment,e),l=!1},d(e){e&&W(t),e&&W(n),e&&W(r),e&&W(a),e&&W(o),Xe(i),Xe(s)}}}function yo(e){let t,u,n,r,d,a,o,i,c,s,l,f=e[15]("Connection does not exist.")+"",p=e[15]('Do you want to create the connection "%1"?',e[16].connection_id)+"";return i=new da({props:{href:"/settings/connections?uri="+encodeURIComponent(e[24](e[5])),class:"btn",$$slots:{default:[wo]},$$scope:{ctx:e}}}),s=new da({props:{href:"/settings/connections",class:"btn is-secondary",$$slots:{default:[_o]},$$scope:{ctx:e}}}),{c(){t=Z("h2"),u=V(f),n=J(),r=Z("p"),d=V(p),a=J(),o=Z("p"),Je(i.$$.fragment),c=J(),Je(s.$$.fragment)},m(e,f){K(e,t,f),H(t,u),K(e,n,f),K(e,r,f),H(r,d),K(e,a,f),K(e,o,f),Qe(i,o,null),H(o,c),Qe(s,o,null),l=!0},p(e,t){(!l||32768&t[0])&&f!==(f=e[15]("Connection does not exist.")+"")&&ne(u,f),(!l||98304&t[0])&&p!==(p=e[15]('Do you want to create the connection "%1"?',e[16].connection_id)+"")&&ne(d,p);const n={};32&t[0]&&(n.href="/settings/connections?uri="+encodeURIComponent(e[24](e[5]))),32768&t[0]|524288&t[1]&&(n.$$scope={dirty:t,ctx:e}),i.$set(n);const r={};32768&t[0]|524288&t[1]&&(r.$$scope={dirty:t,ctx:e}),s.$set(r)},i(e){l||(He(i.$$.fragment,e),He(s.$$.fragment,e),l=!0)},o(e){qe(i.$$.fragment,e),qe(s.$$.fragment,e),l=!1},d(e){e&&W(t),e&&W(n),e&&W(r),e&&W(a),e&&W(o),Xe(i),Xe(s)}}}function Co(e){let t,u,n,r,d,a=e[15]("Yes")+"";return t=new ct({props:{name:"thumbs-up"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||32768&t[0])&&a!==(a=e[15]("Yes")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function Eo(e){let t,u,n,r,d,a=e[15]("No")+"";return t=new ct({props:{name:"thumbs-down"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||32768&t[0])&&a!==(a=e[15]("No")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function Ao(e){let t,u,n,r,d,a=e[15]("Yes")+"";return t=new ct({props:{name:"thumbs-up"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||32768&t[0])&&a!==(a=e[15]("Yes")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function Fo(e){let t,u,n,r,d,a=e[15]("No")+"";return t=new ct({props:{name:"thumbs-down"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||32768&t[0])&&a!==(a=e[15]("No")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function wo(e){let t,u,n,r,d=e[15]("Yes")+"";return t=new ct({props:{name:"thumbs-up"}}),{c(){Je(t.$$.fragment),u=J(),n=V(d)},m(e,d){Qe(t,e,d),K(e,u,d),K(e,n,d),r=!0},p(e,t){(!r||32768&t[0])&&d!==(d=e[15]("Yes")+"")&&ne(n,d)},i(e){r||(He(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function _o(e){let t,u,n,r,d=e[15]("No")+"";return t=new ct({props:{name:"thumbs-down"}}),{c(){Je(t.$$.fragment),u=J(),n=V(d)},m(e,d){Qe(t,e,d),K(e,u,d),K(e,n,d),r=!0},p(e,t){(!r||32768&t[0])&&d!==(d=e[15]("No")+"")&&ne(n,d)},i(e){r||(He(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function xo(e){let t,u,n,r,d,a,o,i,c,s,l=e[15]("Uploading %1...",e[9].file.name)+"";return{c(){t=Z("div"),u=Z("div"),n=V(l),r=J(),d=Z("div"),a=Z("div"),o=V(e[10]),i=V("%"),te(a,"class","progress__bar"),de(a,"width",e[10]+"%"),te(d,"class","progress"),te(t,"class","message")},m(e,c){K(e,t,c),H(t,u),H(u,n),H(t,r),H(t,d),H(d,a),H(a,o),H(a,i),s=!0},p(e,t){(!s||33280&t[0])&&l!==(l=e[15]("Uploading %1...",e[9].file.name)+"")&&ne(n,l),(!s||1024&t[0])&&ne(o,e[10]),(!s||1024&t[0])&&de(a,"width",e[10]+"%")},i(e){s||(Se((()=>{c||(c=Ke(t,pr,{duration:200},!0)),c.run(1)})),s=!0)},o(e){c||(c=Ke(t,pr,{duration:200},!1)),c.run(0),s=!1},d(e){e&&W(t),e&&c&&c.end()}}}function ko(e){let t,u,n,r,d,a,o,i=e[15]("Loading...")+"";return n=new ct({props:{name:"spinner",animation:"spin"}}),{c(){t=Z("div"),u=Z("span"),Je(n.$$.fragment),r=J(),d=Z("i"),a=V(i),te(t,"class","message__status-line for-loading has-pos-bottom")},m(e,i){K(e,t,i),H(t,u),Qe(n,u,null),H(u,r),H(u,d),H(d,a),o=!0},p(e,t){(!o||32768&t[0])&&i!==(i=e[15]("Loading...")+"")&&ne(a,i)},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&W(t),Xe(n)}}}function Bo(e){let t,u,n,r,d,a,o,i=e[15]("Jump to %1",e[8].format("%b %e %H:%M"))+"";return n=new ct({props:{name:"external-link-alt"}}),{c(){t=Z("div"),u=Z("a"),Je(n.$$.fragment),r=J(),d=V(i),te(u,"href",a=e[1].path),te(t,"class","message__status-line for-jump-to-now")},m(e,a){K(e,t,a),H(t,u),Qe(n,u,null),H(u,r),H(u,d),o=!0},p(e,t){(!o||33024&t[0])&&i!==(i=e[15]("Jump to %1",e[8].format("%b %e %H:%M"))+"")&&ne(d,i),(!o||2&t[0]&&a!==(a=e[1].path))&&te(u,"href",a)},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&W(t),Xe(n)}}}function So(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b=e[19].length<10&&!e[5].is("not_found"),$=e[5].is("loading")&&e[19].length>10,v=e[5].historyStartAt&&!e[5].is("not_found")&&e[19].length,y=e[5].is("loading"),C=b&&Xa(e),E=$&&ro(e),A=v&&ao(e),F=e[19].render(),w=[];for(let t=0;t<F.length;t+=1)w[t]=go(Ka(e,F,t));const _=e=>qe(w[e],1,1,(()=>{w[e]=null})),x=[yo,vo,$o,bo,Do],k=[];function B(e,t){return(null==d||65536&t[0])&&(d=!!e[16].is("not_found")),d?0:((null==a||32&t[0])&&(a=!!e[5].is("not_found")),a?1:((null==o||65536&t[0])&&(o=!(e[16].is("unreachable")||!e[16].frozen)),o?2:((null==i||32&t[0])&&(i=!(!e[5].frozen||!e[5].is("pending"))),i?3:((null==c||32&t[0])&&(c=!(!e[5].frozen||e[5].is("locked"))),c?4:-1))))}~(s=B(e,[-1,-1]))&&(l=k[s]=x[s](e));let S=e[10]&&xo(e),O=null===qa.wantNotifications&&function(e){let t,u,n,r,d,a,o=e[20]('Go to "[account settings](%1)" to enable or disable notifications.',"/settings/account")+"";return n=new ct({props:{name:"info-circle"}}),{c(){t=Z("div"),u=Z("div"),Je(n.$$.fragment),r=J(),d=new se,d.a=null,te(u,"class","message__text"),te(t,"class","message is-highlighted")},m(e,i){K(e,t,i),H(t,u),Qe(n,u,null),H(u,r),d.m(o,u),a=!0},p(e,t){(!a||1048576&t[0])&&o!==(o=e[20]('Go to "[account settings](%1)" to enable or disable notifications.',"/settings/account")+"")&&d.p(o)},i(e){a||(He(n.$$.fragment,e),a=!0)},o(e){qe(n.$$.fragment,e),a=!1},d(e){e&&W(t),Xe(n)}}}(e),N=y&&ko(e),j=!e[5].historyStopAt&&e[19].length&&Bo(e);return{c(){C&&C.c(),t=J(),E&&E.c(),u=J(),A&&A.c(),n=J();for(let e=0;e<w.length;e+=1)w[e].c();r=J(),l&&l.c(),f=J(),S&&S.c(),p=J(),O&&O.c(),m=J(),N&&N.c(),h=J(),j&&j.c(),g=Q()},m(e,d){C&&C.m(e,d),K(e,t,d),E&&E.m(e,d),K(e,u,d),A&&A.m(e,d),K(e,n,d);for(let t=0;t<w.length;t+=1)w[t].m(e,d);K(e,r,d),~s&&k[s].m(e,d),K(e,f,d),S&&S.m(e,d),K(e,p,d),O&&O.m(e,d),K(e,m,d),N&&N.m(e,d),K(e,h,d),j&&j.m(e,d),K(e,g,d),D=!0},p(e,d){if(524320&d[0]&&(b=e[19].length<10&&!e[5].is("not_found")),b?C?(C.p(e,d),524320&d[0]&&He(C,1)):(C=Xa(e),C.c(),He(C,1),C.m(t.parentNode,t)):C&&(Ue(),qe(C,1,1,(()=>{C=null})),ze()),524320&d[0]&&($=e[5].is("loading")&&e[19].length>10),$?E?(E.p(e,d),524320&d[0]&&He(E,1)):(E=ro(e),E.c(),He(E,1),E.m(u.parentNode,u)):E&&(Ue(),qe(E,1,1,(()=>{E=null})),ze()),524320&d[0]&&(v=e[5].historyStartAt&&!e[5].is("not_found")&&e[19].length),v?A?(A.p(e,d),524320&d[0]&&He(A,1)):(A=ao(e),A.c(),He(A,1),A.m(n.parentNode,n)):A&&(Ue(),qe(A,1,1,(()=>{A=null})),ze()),69781536&d[0]){let t;for(F=e[19].render(),t=0;t<F.length;t+=1){const u=Ka(e,F,t);w[t]?(w[t].p(u,d),He(w[t],1)):(w[t]=go(u),w[t].c(),He(w[t],1),w[t].m(r.parentNode,r))}for(Ue(),t=F.length;t<w.length;t+=1)_(t);ze()}let a=s;s=B(e,d),s===a?~s&&k[s].p(e,d):(l&&(Ue(),qe(k[a],1,1,(()=>{k[a]=null})),ze()),~s?(l=k[s],l?l.p(e,d):(l=k[s]=x[s](e),l.c()),He(l,1),l.m(f.parentNode,f)):l=null),e[10]?S?(S.p(e,d),1024&d[0]&&He(S,1)):(S=xo(e),S.c(),He(S,1),S.m(p.parentNode,p)):S&&(Ue(),qe(S,1,1,(()=>{S=null})),ze()),null===qa.wantNotifications&&O.p(e,d),32&d[0]&&(y=e[5].is("loading")),y?N?(N.p(e,d),32&d[0]&&He(N,1)):(N=ko(e),N.c(),He(N,1),N.m(h.parentNode,h)):N&&(Ue(),qe(N,1,1,(()=>{N=null})),ze()),!e[5].historyStopAt&&e[19].length?j?(j.p(e,d),524320&d[0]&&He(j,1)):(j=Bo(e),j.c(),He(j,1),j.m(g.parentNode,g)):j&&(Ue(),qe(j,1,1,(()=>{j=null})),ze())},i(e){if(!D){He(C),He(E),He(A);for(let e=0;e<F.length;e+=1)He(w[e]);He(l),He(S),He(O),He(N),He(j),D=!0}},o(e){qe(C),qe(E),qe(A),w=w.filter(Boolean);for(let e=0;e<w.length;e+=1)qe(w[e]);qe(l),qe(S),qe(O),qe(N),qe(j),D=!1},d(e){C&&C.d(e),e&&W(t),E&&E.d(e),e&&W(u),A&&A.d(e),e&&W(n),Y(w,e),e&&W(r),~s&&k[s].d(e),e&&W(f),S&&S.d(e),e&&W(p),O&&O.d(e),e&&W(m),N&&N.d(e),e&&W(h),j&&j.d(e),e&&W(g)}}}function Oo(e){let t,u,n,r,d,a,o,i,c,s=e[15]("Participants (%1)",e[21].length)+"",l=e[5].is("private")&&e[5].info.nick,f=e[21].toArray(),p=[];for(let t=0;t<f.length;t+=1)p[t]=No(Ga(e,f,t));const m=e=>qe(p[e],1,1,(()=>{p[e]=null}));let h=l&&jo(e);return{c(){t=Z("div"),u=Z("h3"),n=V(s),r=J(),d=Z("nav");for(let e=0;e<p.length;e+=1)p[e].c();a=J(),h&&h.c(),te(d,"class","sidebar-right__nav"),te(t,"class","sidebar-right")},m(s,l){K(s,t,l),H(t,u),H(u,n),H(t,r),H(t,d);for(let e=0;e<p.length;e+=1)p[e].m(d,null);H(t,a),h&&h.m(t,null),o=!0,i||(c=X(d,"click",(function(){F(e[11])&&e[11].apply(this,arguments)})),i=!0)},p(u,r){if(e=u,(!o||2129920&r[0])&&s!==(s=e[15]("Participants (%1)",e[21].length)+"")&&ne(n,s),2097152&r[0]){let t;for(f=e[21].toArray(),t=0;t<f.length;t+=1){const u=Ga(e,f,t);p[t]?(p[t].p(u,r),He(p[t],1)):(p[t]=No(u),p[t].c(),He(p[t],1),p[t].m(d,null))}for(Ue(),t=f.length;t<p.length;t+=1)m(t);ze()}32&r[0]&&(l=e[5].is("private")&&e[5].info.nick),l?h?h.p(e,r):(h=jo(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},i(e){if(!o){for(let e=0;e<f.length;e+=1)He(p[e]);o=!0}},o(e){p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)qe(p[e]);o=!1},d(e){e&&W(t),Y(p,e),h&&h.d(),i=!1,c()}}}function No(e){let t,u,n,r,d,a,o,i,c,s=e[40].nick+"";return u=new ct({props:{name:"pick:"+e[40].id,family:"solid",color:e[40].color}}),{c(){t=Z("a"),Je(u.$$.fragment),n=J(),r=Z("span"),d=V(s),a=J(),te(t,"href",o="#action:join:"+e[40].id),te(t,"class",i="participant "+Qt(e[40].modes))},m(e,o){K(e,t,o),Qe(u,t,null),H(t,n),H(t,r),H(r,d),H(t,a),c=!0},p(e,n){const r={};2097152&n[0]&&(r.name="pick:"+e[40].id),2097152&n[0]&&(r.color=e[40].color),u.$set(r),(!c||2097152&n[0])&&s!==(s=e[40].nick+"")&&ne(d,s),(!c||2097152&n[0]&&o!==(o="#action:join:"+e[40].id))&&te(t,"href",o),(!c||2097152&n[0]&&i!==(i="participant "+Qt(e[40].modes)))&&te(t,"class",i)},i(e){c||(He(u.$$.fragment,e),c=!0)},o(e){qe(u.$$.fragment,e),c=!1},d(e){e&&W(t),Xe(u)}}}function jo(e){let t,u,n,r,d=e[15]("Information")+"",a=e[20](...tr(e[5].info))+"";return{c(){t=Z("h3"),u=V(d),n=J(),r=Z("p")},m(e,d){K(e,t,d),H(t,u),K(e,n,d),K(e,r,d),r.innerHTML=a},p(e,t){32768&t[0]&&d!==(d=e[15]("Information")+"")&&ne(u,d),1048608&t[0]&&a!==(a=e[20](...tr(e[5].info))+"")&&(r.innerHTML=a)},d(e){e&&W(t),e&&W(n),e&&W(r)}}}function To(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g=e[18].nColumns>2&&e[21].length&&!e[5].is("not_found");t=new Ct({props:{$$slots:{default:[Za]},$$scope:{ctx:e}}});let D="settings"==e[17]&&Va(e);function b(t){e[32](t)}function $(t){e[33](t)}function v(t){e[34](t)}function y(t){e[35](t)}r=new Ma({props:{class:"main is-above-chat-input",$$slots:{default:[So]},$$scope:{ctx:e}}}),r.$on("scrolled",(function(){F(e[13])&&e[13].apply(this,arguments)})),r.$on("visibility",(function(){F(e[12])&&e[12].apply(this,arguments)}));let C={conversation:e[1]};void 0!==e[4]&&(C.fillIn=e[4]),void 0!==e[3]&&(C.focus=e[3]),void 0!==e[9]&&(C.uploader=e[9]),void 0!==e[10]&&(C.uploadProgress=e[10]),a=new Fr({props:C}),Ae.push((()=>Ve(a,"fillIn",b))),Ae.push((()=>Ve(a,"focus",$))),Ae.push((()=>Ve(a,"uploader",v))),Ae.push((()=>Ve(a,"uploadProgress",y)));let E=g&&Oo(e);return{c(){Je(t.$$.fragment),u=J(),D&&D.c(),n=J(),Je(r.$$.fragment),d=J(),Je(a.$$.fragment),l=J(),E&&E.c(),f=Q()},m(o,i){Qe(t,o,i),K(o,u,i),D&&D.m(o,i),K(o,n,i),Qe(r,o,i),K(o,d,i),Qe(a,o,i),K(o,l,i),E&&E.m(o,i),K(o,f,i),p=!0,m||(h=X(window,"focus",e[25]),m=!0)},p(u,d){e=u;const l={};229410&d[0]|524288&d[1]&&(l.$$scope={dirty:d,ctx:e}),t.$set(l),"settings"==e[17]?D?(D.p(e,d),131072&d[0]&&He(D,1)):(D=Va(e),D.c(),He(D,1),D.m(n.parentNode,n)):D&&(Ue(),qe(D,1,1,(()=>{D=null})),ze());const p={};3788578&d[0]|524288&d[1]&&(p.$$scope={dirty:d,ctx:e}),r.$set(p);const m={};2&d[0]&&(m.conversation=e[1]),!o&&16&d[0]&&(o=!0,m.fillIn=e[4],Oe((()=>o=!1))),!i&&8&d[0]&&(i=!0,m.focus=e[3],Oe((()=>i=!1))),!c&&512&d[0]&&(c=!0,m.uploader=e[9],Oe((()=>c=!1))),!s&&1024&d[0]&&(s=!0,m.uploadProgress=e[10],Oe((()=>s=!1))),a.$set(m),2359328&d[0]&&(g=e[18].nColumns>2&&e[21].length&&!e[5].is("not_found")),g?E?(E.p(e,d),2359328&d[0]&&He(E,1)):(E=Oo(e),E.c(),He(E,1),E.m(f.parentNode,f)):E&&(Ue(),qe(E,1,1,(()=>{E=null})),ze())},i(e){p||(He(t.$$.fragment,e),He(D),He(r.$$.fragment,e),He(a.$$.fragment,e),He(E),p=!0)},o(e){qe(t.$$.fragment,e),qe(D),qe(r.$$.fragment,e),qe(a.$$.fragment,e),qe(E),p=!1},d(e){Xe(t,e),e&&W(u),D&&D.d(e),e&&W(n),Xe(r,e),e&&W(d),Xe(a,e),e&&W(l),E&&E.d(e),e&&W(f),m=!1,h()}}}function Ro(e,t,u){let n,r,d,a,o,i,c,s,l,f,p,m,h,g,D=v,b=()=>(D(),D=_(R,(e=>u(5,o=e))),R),$=v,y=()=>($(),$=_(j,(e=>u(16,l=e))),j),C=v,E=()=>(C(),C=_(L,(e=>u(19,m=e))),L),A=v,F=()=>(A(),A=_(P,(e=>u(21,g=e))),P);k(e,Uu,(e=>u(30,i=e))),k(e,Un,(e=>u(15,s=e))),k(e,gt,(e=>u(17,f=e))),k(e,Dt,(e=>u(18,p=e))),k(e,zn,(e=>u(20,h=e))),e.$$.on_destroy.push((()=>D())),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>A()));let{connection_id:w=""}=t,{conversation_id:x=""}=t,{title:B="Chat"}=t;const S=new Ra,O=ye("user");k(e,O,(e=>u(31,c=e)));const N=bt("chat:popoverTarget");k(e,N,(e=>u(14,a=e)));let j=O.notifications;y();let R=O.notifications;b();let L=R.messages;E();let P=R.participants;F();let M,I,U,z,H=new Xn,q="",G={};function K(e){var t;if(e.activeConversation!=R)return G.conversation&&G.conversation(),G.unread&&G.unread(),b(u(1,R=e.activeConversation)),E(u(2,L=R.messages)),F(u(7,P=R.participants)),y(u(6,j=e.findConversation({connection_id:R.connection_id})||R)),u(8,H=new Xn),G.conversation=R.subscribe((e=>{b(u(1,R=e))})),G.unread=()=>R.update({unread:0}),R.markAsRead(),u(29,(t=Uu.hash,q=!!String(t||"").match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)&&Uu.hash||"")),q?R.load({around:q}):R.historyStopAt?void 0:R.load({around:H.toISOString()})}return be((()=>{N.set(""),S.attach(document.querySelector(".main"),U)})),$e((()=>{Object.keys(G).forEach((e=>G[e]())),S.detach()})),e.$$set=e=>{"connection_id"in e&&u(28,w=e.connection_id),"conversation_id"in e&&u(0,x=e.conversation_id),"title"in e&&u(27,B=e.title)},e.$$.update=()=>{268435457&e.$$.dirty[0]&&function(e,t){R.connection_id==e&&R.conversation_id==t||(O.setActiveConversation({connection_id:e,conversation_id:t}),N.set(""))}(w,x),1&e.$$.dirty[1]&&K(c),4&e.$$.dirty[0]|1&e.$$.dirty[1]&&L.update({expandUrlToMedia:c.expandUrlToMedia}),32&e.$$.dirty[0]&&u(27,B=o.title),1073741858&e.$$.dirty[0]&&(i.hash||o.historyStopAt||R.load({})),2&e.$$.dirty[0]&&u(13,n=ur("onInfinityScrolled",{conversation:R})),536870914&e.$$.dirty[0]&&u(12,r=ur("onInfinityVisibility",{conversation:R,onLoadHash:q})),26&e.$$.dirty[0]&&u(11,d=ur("onMessageClick",{conversation:R,fillIn:I,focusChatInput:M,popoverTarget:N,user:O}))},[x,R,L,M,I,o,j,P,H,U,z,d,r,n,a,s,l,f,p,m,h,g,O,N,function(){const[e,t]=o.connection_id.split("-");return e+"://"+t+"/"+encodeURIComponent(o.conversation_id)+"?tls=1"},function(){(R.notifications||R.unread)&&R.markAsRead()},function(e){const{relatedTarget:t,target:u,type:n}=e;setTimeout((()=>{"mouseout"==n||"blur"==n?t&&t.closest(".popover")||T(N,a=null,a):a||u.click()}),250)},B,w,q,i,c,function(e){I=e,u(4,I)},function(e){M=e,u(3,M)},function(e){U=e,u(9,U)},function(e){z=e,u(10,z)}]}class Lo extends ut{constructor(e){super(),tt(this,e,Ro,To,w,{connection_id:28,conversation_id:0,title:27},null,[-1,-1])}}function Po(e){let t;const u=e[5].default,n=B(u,e,e[4],null);return{c(){n&&n.c()},m(e,u){n&&n.m(e,u),t=!0},p(e,r){n&&n.p&&(!t||16&r)&&N(n,u,e,e[4],t?O(u,e[4],r,null):j(e[4]),null)},i(e){t||(He(n,e),t=!0)},o(e){qe(n,e),t=!1},d(e){n&&n.d(e)}}}function Mo(e){let t,u=e[3]("Loading...")+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){8&n&&u!==(u=e[3]("Loading...")+"")&&ne(t,u)},i:v,o:v,d(e){e&&W(t)}}}function Io(e){let t,u,n=e[3](e[2].error())+"";return{c(){t=Z("div"),u=V(n),te(t,"class","error")},m(e,n){K(e,t,n),H(t,u)},p(e,t){12&t&&n!==(n=e[3](e[2].error())+"")&&ne(u,n)},i:v,o:v,d(e){e&&W(t)}}}function Uo(e){let t,u,n,r,d,a,o;const i=[Io,Mo,Po],c=[];function s(e,t){return(null==n||4&t)&&(n=!!e[2].is("error")),n?0:((null==r||4&t)&&(r=!!e[2].is("loading")),r?1:2)}return d=s(e,-1),a=c[d]=i[d](e),{c(){t=Z("tr"),u=Z("td"),a.c(),te(u,"colspan",e[0])},m(e,n){K(e,t,n),H(t,u),c[d].m(u,null),o=!0},p(e,[t]){let n=d;d=s(e,t),d===n?c[d].p(e,t):(Ue(),qe(c[n],1,1,(()=>{c[n]=null})),ze(),a=c[d],a?a.p(e,t):(a=c[d]=i[d](e),a.c()),He(a,1),a.m(u,null)),(!o||1&t)&&te(u,"colspan",e[0])},i(e){o||(He(a),o=!0)},o(e){qe(a),o=!1},d(e){e&&W(t),c[d].d()}}}function zo(e,t,u){let n,r,d=v,a=()=>(d(),d=_(s,(e=>u(2,n=e))),s);k(e,Un,(e=>u(3,r=e))),e.$$.on_destroy.push((()=>d()));let{$$slots:o={},$$scope:i}=t,{colspan:c=1}=t,{op:s}=t;return a(),e.$$set=e=>{"colspan"in e&&u(0,c=e.colspan),"op"in e&&a(u(1,s=e.op)),"$$scope"in e&&u(4,i=e.$$scope)},[c,s,n,r,i,o]}class Ho extends ut{constructor(e){super(),tt(this,e,zo,Uo,w,{colspan:0,op:1})}}function qo(e,t,u){const n=e.slice();return n[9]=t[u],n}function Go(e,t,u){const n=e.slice();return n[12]=t[u],n}function Ko(e){let t,u,n=e[2]("Connections")+"";return{c(){t=Z("h1"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Connections")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Wo(e){let t,u=e[12].host.replace(/:\d+$/,"")+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){1&n&&u!==(u=e[12].host.replace(/:\d+$/,"")+"")&&ne(t,u)},d(e){e&&W(t)}}}function Yo(e){let t,u,n,r,d,a,o,i,c,s,l,f=(Vt.true(e[12].tls_verify)?e[2]("Strict"):Vt.true(e[12].tls)?e[2]("Yes"):e[2]("No"))+"",p=e[12].nick+"";return n=new da({props:{href:"/settings/connection/"+e[12].connection_id,$$slots:{default:[Wo]},$$scope:{ctx:e}}}),{c(){t=Z("tr"),u=Z("td"),Je(n.$$.fragment),r=J(),d=Z("td"),a=V(f),o=J(),i=Z("td"),c=V(p),s=J()},m(e,f){K(e,t,f),H(t,u),Qe(n,u,null),H(t,r),H(t,d),H(d,a),H(t,o),H(t,i),H(i,c),H(t,s),l=!0},p(e,t){const u={};1&t&&(u.href="/settings/connection/"+e[12].connection_id),32769&t&&(u.$$scope={dirty:t,ctx:e}),n.$set(u),(!l||5&t)&&f!==(f=(Vt.true(e[12].tls_verify)?e[2]("Strict"):Vt.true(e[12].tls)?e[2]("Yes"):e[2]("No"))+"")&&ne(a,f),(!l||1&t)&&p!==(p=e[12].nick+"")&&ne(c,p)},i(e){l||(He(n.$$.fragment,e),l=!0)},o(e){qe(n.$$.fragment,e),l=!1},d(e){e&&W(t),Xe(n)}}}function Zo(e){let t,u,n;return u=new da({props:{href:"/settings/connection/add",class:"btn",$$slots:{default:[Vo]},$$scope:{ctx:e}}}),{c(){t=Z("div"),Je(u.$$.fragment),te(t,"class","form-actions")},m(e,r){K(e,t,r),Qe(u,t,null),n=!0},p(e,t){const n={};32772&t&&(n.$$scope={dirty:t,ctx:e}),u.$set(n)},i(e){n||(He(u.$$.fragment,e),n=!0)},o(e){qe(u.$$.fragment,e),n=!1},d(e){e&&W(t),Xe(u)}}}function Vo(e){let t,u,n,r,d,a=e[2]("Add")+"";return t=new ct({props:{name:"plus-circle"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||4&t)&&a!==(a=e[2]("Add")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function Jo(e){let t,u=e[9].url.host.replace(/:\d+$/,"")+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){8&n&&u!==(u=e[9].url.host.replace(/:\d+$/,"")+"")&&ne(t,u)},d(e){e&&W(t)}}}function Qo(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h=(Vt.true(e[9].tls_verify)?e[2]("Strict"):Vt.true(e[9].tls)?e[2]("Yes"):e[2]("No"))+"",g=(e[9].is_default?e[2]("Yes"):e[2]("No"))+"",D=(e[9].is_forced?e[2]("Yes"):e[2]("No"))+"";return n=new da({props:{href:"/settings/connection-profile/"+e[9].id,$$slots:{default:[Jo]},$$scope:{ctx:e}}}),{c(){t=Z("tr"),u=Z("td"),Je(n.$$.fragment),r=J(),d=Z("td"),a=V(h),o=J(),i=Z("td"),c=V(g),s=J(),l=Z("td"),f=V(D),p=J()},m(e,h){K(e,t,h),H(t,u),Qe(n,u,null),H(t,r),H(t,d),H(d,a),H(t,o),H(t,i),H(i,c),H(t,s),H(t,l),H(l,f),H(t,p),m=!0},p(e,t){const u={};8&t&&(u.href="/settings/connection-profile/"+e[9].id),32776&t&&(u.$$scope={dirty:t,ctx:e}),n.$set(u),(!m||12&t)&&h!==(h=(Vt.true(e[9].tls_verify)?e[2]("Strict"):Vt.true(e[9].tls)?e[2]("Yes"):e[2]("No"))+"")&&ne(a,h),(!m||12&t)&&g!==(g=(e[9].is_default?e[2]("Yes"):e[2]("No"))+"")&&ne(c,g),(!m||12&t)&&D!==(D=(e[9].is_forced?e[2]("Yes"):e[2]("No"))+"")&&ne(f,D)},i(e){m||(He(n.$$.fragment,e),m=!0)},o(e){qe(n.$$.fragment,e),m=!1},d(e){e&&W(t),Xe(n)}}}function Xo(e){let t,u,n;return u=new da({props:{href:"/settings/connection-profile/add",class:"btn",$$slots:{default:[ei]},$$scope:{ctx:e}}}),{c(){t=Z("div"),Je(u.$$.fragment),te(t,"class","form-actions")},m(e,r){K(e,t,r),Qe(u,t,null),n=!0},p(e,t){const n={};32772&t&&(n.$$scope={dirty:t,ctx:e}),u.$set(n)},i(e){n||(He(u.$$.fragment,e),n=!0)},o(e){qe(u.$$.fragment,e),n=!1},d(e){e&&W(t),Xe(u)}}}function ei(e){let t,u,n,r,d,a=e[2]("Add")+"";return t=new ct({props:{name:"plus-circle"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||4&t)&&a!==(a=e[2]("Add")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function ti(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E,A,F,w,_,x,k,B,S,O,N,j,T,R,L,P,M,I,U,z,q,G,Q,X,ee,ue=e[2]("Connections")+"",re=e[2]("Host")+"",de=e[2]("Secure")+"",ae=e[2]("Nick")+"",oe=e[2]("Connection profiles")+"",ie=e[2]("Connection profiles are used to set up global values for every connection that connect to the same host.")+"",ce=e[2]("Host")+"",se=e[2]("Secure")+"",le=e[2]("Default")+"",fe=e[2]("Forced")+"";t=new Ct({props:{$$slots:{default:[Ko]},$$scope:{ctx:e}}});let pe=e[0],me=[];for(let t=0;t<pe.length;t+=1)me[t]=Yo(Go(e,pe,t));const he=e=>qe(me[e],1,1,(()=>{me[e]=null}));let ge=(e[1]||!e[4].forced_connection)&&Zo(e);G=new Ho({props:{op:e[5].op}});let De=e[3].search(),be=[];for(let t=0;t<De.length;t+=1)be[t]=Qo(qo(e,De,t));const $e=e=>qe(be[e],1,1,(()=>{be[e]=null}));let ve=e[1]&&Xo(e);return{c(){Je(t.$$.fragment),u=J(),n=Z("main"),r=Z("h2"),d=V(ue),a=J(),o=Z("table"),i=Z("thead"),c=Z("tr"),s=Z("th"),l=V(re),f=J(),p=Z("th"),m=V(de),h=J(),g=Z("th"),D=V(ae),b=J(),$=Z("tbody");for(let e=0;e<me.length;e+=1)me[e].c();v=J(),ge&&ge.c(),y=J(),C=Z("h2"),E=V(oe),A=J(),F=Z("p"),w=V(ie),_=J(),x=Z("table"),k=Z("thead"),B=Z("tr"),S=Z("th"),O=V(ce),N=J(),j=Z("th"),T=V(se),R=J(),L=Z("th"),P=V(le),M=J(),I=Z("th"),U=V(fe),z=J(),q=Z("tbody"),Je(G.$$.fragment),Q=J();for(let e=0;e<be.length;e+=1)be[e].c();X=J(),ve&&ve.c(),te(n,"class","main")},m(e,W){Qe(t,e,W),K(e,u,W),K(e,n,W),H(n,r),H(r,d),H(n,a),H(n,o),H(o,i),H(i,c),H(c,s),H(s,l),H(c,f),H(c,p),H(p,m),H(c,h),H(c,g),H(g,D),H(o,b),H(o,$);for(let e=0;e<me.length;e+=1)me[e].m($,null);H(n,v),ge&&ge.m(n,null),H(n,y),H(n,C),H(C,E),H(n,A),H(n,F),H(F,w),H(n,_),H(n,x),H(x,k),H(k,B),H(B,S),H(S,O),H(B,N),H(B,j),H(j,T),H(B,R),H(B,L),H(L,P),H(B,M),H(B,I),H(I,U),H(x,z),H(x,q),Qe(G,q,null),H(q,Q);for(let e=0;e<be.length;e+=1)be[e].m(q,null);H(n,X),ve&&ve.m(n,null),ee=!0},p(e,[u]){const r={};if(32772&u&&(r.$$scope={dirty:u,ctx:e}),t.$set(r),(!ee||4&u)&&ue!==(ue=e[2]("Connections")+"")&&ne(d,ue),(!ee||4&u)&&re!==(re=e[2]("Host")+"")&&ne(l,re),(!ee||4&u)&&de!==(de=e[2]("Secure")+"")&&ne(m,de),(!ee||4&u)&&ae!==(ae=e[2]("Nick")+"")&&ne(D,ae),5&u){let t;for(pe=e[0],t=0;t<pe.length;t+=1){const n=Go(e,pe,t);me[t]?(me[t].p(n,u),He(me[t],1)):(me[t]=Yo(n),me[t].c(),He(me[t],1),me[t].m($,null))}for(Ue(),t=pe.length;t<me.length;t+=1)he(t);ze()}if(e[1]||!e[4].forced_connection?ge?(ge.p(e,u),2&u&&He(ge,1)):(ge=Zo(e),ge.c(),He(ge,1),ge.m(n,y)):ge&&(Ue(),qe(ge,1,1,(()=>{ge=null})),ze()),(!ee||4&u)&&oe!==(oe=e[2]("Connection profiles")+"")&&ne(E,oe),(!ee||4&u)&&ie!==(ie=e[2]("Connection profiles are used to set up global values for every connection that connect to the same host.")+"")&&ne(w,ie),(!ee||4&u)&&ce!==(ce=e[2]("Host")+"")&&ne(O,ce),(!ee||4&u)&&se!==(se=e[2]("Secure")+"")&&ne(T,se),(!ee||4&u)&&le!==(le=e[2]("Default")+"")&&ne(P,le),(!ee||4&u)&&fe!==(fe=e[2]("Forced")+"")&&ne(U,fe),12&u){let t;for(De=e[3].search(),t=0;t<De.length;t+=1){const n=qo(e,De,t);be[t]?(be[t].p(n,u),He(be[t],1)):(be[t]=Qo(n),be[t].c(),He(be[t],1),be[t].m(q,null))}for(Ue(),t=De.length;t<be.length;t+=1)$e(t);ze()}e[1]?ve?(ve.p(e,u),2&u&&He(ve,1)):(ve=Xo(e),ve.c(),He(ve,1),ve.m(n,null)):ve&&(Ue(),qe(ve,1,1,(()=>{ve=null})),ze())},i(e){if(!ee){He(t.$$.fragment,e);for(let e=0;e<pe.length;e+=1)He(me[e]);He(ge),He(G.$$.fragment,e);for(let e=0;e<De.length;e+=1)He(be[e]);He(ve),ee=!0}},o(e){qe(t.$$.fragment,e),me=me.filter(Boolean);for(let e=0;e<me.length;e+=1)qe(me[e]);qe(ge),qe(G.$$.fragment,e),be=be.filter(Boolean);for(let e=0;e<be.length;e+=1)qe(be[e]);qe(ve),ee=!1},d(e){Xe(t,e),e&&W(u),e&&W(n),Y(me,e),ge&&ge.d(),Xe(G),Y(be,e),ve&&ve.d()}}}function ui(e,t,u){let n,r,d,a;k(e,Un,(e=>u(2,d=e)));const o=ye("user");k(e,o,(e=>u(7,r=e)));const i=o.connectionProfiles;k(e,i,(e=>u(3,a=e)));const c=e=>e.url.toFields({connection_id:e.connection_id});let s=[];return be((()=>i.load())),e.$$.update=()=>{129&e.$$.dirty&&r.is("success")&&!s.length&&u(0,s=o.connections.toArray().map(c))},u(1,n=o.roles.has("admin")),[s,n,d,a,o,i,"Connections",r]}class ni extends ut{constructor(e){super(),tt(this,e,ui,ti,w,{title:6})}get title(){return this.$$.ctx[6]}}function ri(e){let t,u,n;return t=new ct({props:{name:"list"}}),u=new ct({props:{name:"times"}}),{c(){Je(t.$$.fragment),Je(u.$$.fragment)},m(e,r){Qe(t,e,r),Qe(u,e,r),n=!0},p:v,i(e){n||(He(t.$$.fragment,e),He(u.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),qe(u.$$.fragment,e),n=!1},d(e){Xe(t,e),Xe(u,e)}}}function di(e){let t,u,n,r,d,a=("add"==e[0]?e[2]("Add connection profile"):e[2]("Edit connection profile"))+"";return r=new da({props:{href:"/settings/connections",class:"btn-hallow is-active","data-tooltip":e[2]("See all connection profiles"),$$slots:{default:[ri]},$$scope:{ctx:e}}}),{c(){t=Z("h1"),u=V(a),n=J(),Je(r.$$.fragment)},m(e,a){K(e,t,a),H(t,u),K(e,n,a),Qe(r,e,a),d=!0},p(e,t){(!d||5&t)&&a!==(a=("add"==e[0]?e[2]("Add connection profile"):e[2]("Edit connection profile"))+"")&&ne(u,a);const n={};4&t&&(n["data-tooltip"]=e[2]("See all connection profiles")),16384&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){d||(He(r.$$.fragment,e),d=!0)},o(e){qe(r.$$.fragment,e),d=!1},d(e){e&&W(t),e&&W(n),Xe(r,e)}}}function ai(e){let t,u,n=e[2]("Host and port")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Host and port")+"")&&ne(u,n)},d(e){e&&W(t)}}}function oi(e){let t,u,n=e[2]("Will match connections on hostname.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Will match connections on hostname.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function ii(e){let t,u,n=e[2]("Secure connection (TLS)")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Secure connection (TLS)")+"")&&ne(u,n)},d(e){e&&W(t)}}}function ci(e){let t,u,n=e[2]("Verify certificate (TLS)")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Verify certificate (TLS)")+"")&&ne(u,n)},d(e){e&&W(t)}}}function si(e){let t,u,n=e[2]("Conversation name")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Conversation name")+"")&&ne(u,n)},d(e){e&&W(t)}}}function li(e){let t,u,n=e[2]("Service accounts")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Service accounts")+"")&&ne(u,n)},d(e){e&&W(t)}}}function fi(e){let t,u,n=e[2]("Messages from these nicks will be shown in the connection conversation.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Messages from these nicks will be shown in the connection conversation.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function pi(e){let t,u,n=e[2]("Default connection")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Default connection")+"")&&ne(u,n)},d(e){e&&W(t)}}}function mi(e){let t,u,n=e[2]("Force default connection")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Force default connection")+"")&&ne(u,n)},d(e){e&&W(t)}}}function hi(e){let t,u,n,r=e[2]("Tick this box if you want to prevent users from creating custom connections.")+"";return{c(){t=Z("p"),u=V(r),te(t,"class","help"),t.hidden=n=!e[3].is_default},m(e,n){K(e,t,n),H(t,u)},p(e,d){4&d&&r!==(r=e[2]("Tick this box if you want to prevent users from creating custom connections.")+"")&&ne(u,r),8&d&&n!==(n=!e[3].is_default)&&(t.hidden=n)},d(e){e&&W(t)}}}function gi(e){let t,u,n=e[2]("Advanced settings")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Advanced settings")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Di(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m=e[2]("This might result in flood ban.")+"";return u=new ad({props:{name:"max_bulk_message_size",form:e[5],type:"number",readonly:!e[1],$$slots:{help:[$i],label:[bi]},$$scope:{ctx:e}}}),r=new ad({props:{name:"max_message_length",form:e[5],type:"number",readonly:!e[1],$$slots:{help:[yi],label:[vi]},$$scope:{ctx:e}}}),a=new ad({props:{name:"webirc_password",form:e[5],type:"password",readonly:!e[1],$$slots:{label:[Ci]},$$scope:{ctx:e}}}),i=new jr({props:{name:"skip_queue",form:e[5],disabled:!e[1],$$slots:{label:[Ei]},$$scope:{ctx:e}}}),{c(){t=Z("div"),Je(u.$$.fragment),n=J(),Je(r.$$.fragment),d=J(),Je(a.$$.fragment),o=J(),Je(i.$$.fragment),c=J(),s=Z("p"),l=V(m),te(s,"class","help"),te(t,"class","form-group")},m(e,f){K(e,t,f),Qe(u,t,null),H(t,n),Qe(r,t,null),H(t,d),Qe(a,t,null),H(t,o),Qe(i,t,null),H(t,c),H(t,s),H(s,l),p=!0},p(e,t){const n={};2&t&&(n.readonly=!e[1]),16388&t&&(n.$$scope={dirty:t,ctx:e}),u.$set(n);const d={};2&t&&(d.readonly=!e[1]),16388&t&&(d.$$scope={dirty:t,ctx:e}),r.$set(d);const o={};2&t&&(o.readonly=!e[1]),16388&t&&(o.$$scope={dirty:t,ctx:e}),a.$set(o);const c={};2&t&&(c.disabled=!e[1]),16388&t&&(c.$$scope={dirty:t,ctx:e}),i.$set(c),(!p||4&t)&&m!==(m=e[2]("This might result in flood ban.")+"")&&ne(l,m)},i(e){p||(He(u.$$.fragment,e),He(r.$$.fragment,e),He(a.$$.fragment,e),He(i.$$.fragment,e),Se((()=>{f||(f=Ke(t,hr,{duration:150},!0)),f.run(1)})),p=!0)},o(e){qe(u.$$.fragment,e),qe(r.$$.fragment,e),qe(a.$$.fragment,e),qe(i.$$.fragment,e),f||(f=Ke(t,hr,{duration:150},!1)),f.run(0),p=!1},d(e){e&&W(t),Xe(u),Xe(r),Xe(a),Xe(i),e&&f&&f.end()}}}function bi(e){let t,u,n=e[2]("Max number of pasted lines")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Max number of pasted lines")+"")&&ne(u,n)},d(e){e&&W(t)}}}function $i(e){let t,u,n=e[2]("Setting this value too high might get you banned from the server.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Setting this value too high might get you banned from the server.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function vi(e){let t,u,n=e[2]("Max message length")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Max message length")+"")&&ne(u,n)},d(e){e&&W(t)}}}function yi(e){let t,u,n=e[2]("Messages longer than this will be split into multiple messages.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Messages longer than this will be split into multiple messages.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ci(e){let t,u,n=e[2]("WEBIRC password")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("WEBIRC password")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ei(e){let t,u,n=e[2]("Skip connection queue")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Skip connection queue")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ai(e){let t,u,n=e[2]("Only administrators can edit this section.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","error")},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Only administrators can edit this section.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Fi(e){let t,u;return t=new xr({props:{icon:"plus-circle",op:e[7],$$slots:{default:[_i]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};16388&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function wi(e){let t,u,n,r;return t=new xr({props:{icon:"save",op:e[7],disabled:!e[1],$$slots:{default:[xi]},$$scope:{ctx:e}}}),n=new xr({props:{icon:"trash",type:"button",op:e[6],disabled:!e[1],$$slots:{default:[ki]},$$scope:{ctx:e}}}),n.$on("click",e[8]),{c(){Je(t.$$.fragment),u=J(),Je(n.$$.fragment)},m(e,d){Qe(t,e,d),K(e,u,d),Qe(n,e,d),r=!0},p(e,u){const r={};2&u&&(r.disabled=!e[1]),16388&u&&(r.$$scope={dirty:u,ctx:e}),t.$set(r);const d={};2&u&&(d.disabled=!e[1]),16388&u&&(d.$$scope={dirty:u,ctx:e}),n.$set(d)},i(e){r||(He(t.$$.fragment,e),He(n.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),qe(n.$$.fragment,e),r=!1},d(e){Xe(t,e),e&&W(u),Xe(n,e)}}}function _i(e){let t,u,n=e[2]("Add")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Add")+"")&&ne(u,n)},d(e){e&&W(t)}}}function xi(e){let t,u,n=e[2]("Update")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Update")+"")&&ne(u,n)},d(e){e&&W(t)}}}function ki(e){let t,u,n=e[2]("Delete")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){4&t&&n!==(n=e[2]("Delete")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Bi(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E,A,F,w,_,x,k,B,S,O,N;t=new Ct({props:{$$slots:{default:[di]},$$scope:{ctx:e}}}),d=new ad({props:{name:"host",form:e[5],placeholder:e[2]("Ex: irc.libera.chat:6697"),readonly:!e[1],$$slots:{help:[oi],label:[ai]},$$scope:{ctx:e}}}),o=new jr({props:{name:"tls",form:e[5],disabled:!e[1],$$slots:{label:[ii]},$$scope:{ctx:e}}}),c=new jr({props:{name:"tls_verify",form:e[5],disabled:!e[3].tls||!e[1],hidden:!e[3].tls,$$slots:{label:[ci]},$$scope:{ctx:e}}}),l=new ad({props:{name:"conversation_id",form:e[5],placeholder:e[2]("Ex: #convos"),readonly:!e[1],$$slots:{label:[si]},$$scope:{ctx:e}}}),p=new ad({props:{name:"service_accounts",form:e[5],placeholder:e[2]("chanserv, nickserv, ..."),readonly:!e[1],$$slots:{help:[fi],label:[li]},$$scope:{ctx:e}}}),h=new jr({props:{name:"is_default",form:e[5],disabled:!e[1],$$slots:{label:[pi]},$$scope:{ctx:e}}}),D=new jr({props:{name:"is_forced",form:e[5],disabled:!e[1],hidden:!e[3].is_default,$$slots:{label:[mi]},$$scope:{ctx:e}}});let j=e[1]&&hi(e);v=new jr({props:{icon:"caret",name:"show_advanced_settings",form:e[5],$$slots:{label:[gi]},$$scope:{ctx:e}}});let T=e[3].show_advanced_settings&&Di(e),R=!e[1]&&Ai(e);const L=[wi,Fi],P=[];function M(e,t){return"add"!=e[0]?0:1}return F=M(e),w=P[F]=L[F](e),x=new Ir({props:{op:e[6],success:"Deleted."}}),B=new Ir({props:{op:e[7]}}),{c(){Je(t.$$.fragment),u=J(),n=Z("main"),r=Z("form"),Je(d.$$.fragment),a=J(),Je(o.$$.fragment),i=J(),Je(c.$$.fragment),s=J(),Je(l.$$.fragment),f=J(),Je(p.$$.fragment),m=J(),Je(h.$$.fragment),g=J(),Je(D.$$.fragment),b=J(),j&&j.c(),$=J(),Je(v.$$.fragment),y=J(),T&&T.c(),C=J(),R&&R.c(),E=J(),A=Z("div"),w.c(),_=J(),Je(x.$$.fragment),k=J(),Je(B.$$.fragment),te(A,"class","form-actions"),te(r,"method","post"),te(n,"class","main")},m(w,L){Qe(t,w,L),K(w,u,L),K(w,n,L),H(n,r),Qe(d,r,null),H(r,a),Qe(o,r,null),H(r,i),Qe(c,r,null),H(r,s),Qe(l,r,null),H(r,f),Qe(p,r,null),H(r,m),Qe(h,r,null),H(r,g),Qe(D,r,null),H(r,b),j&&j.m(r,null),H(r,$),Qe(v,r,null),H(r,y),T&&T.m(r,null),H(r,C),R&&R.m(r,null),H(r,E),H(r,A),P[F].m(A,null),H(r,_),Qe(x,r,null),H(r,k),Qe(B,r,null),S=!0,O||(N=X(r,"submit",ee(e[9])),O=!0)},p(e,[u]){const n={};16389&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n);const a={};4&u&&(a.placeholder=e[2]("Ex: irc.libera.chat:6697")),2&u&&(a.readonly=!e[1]),16388&u&&(a.$$scope={dirty:u,ctx:e}),d.$set(a);const i={};2&u&&(i.disabled=!e[1]),16388&u&&(i.$$scope={dirty:u,ctx:e}),o.$set(i);const s={};10&u&&(s.disabled=!e[3].tls||!e[1]),8&u&&(s.hidden=!e[3].tls),16388&u&&(s.$$scope={dirty:u,ctx:e}),c.$set(s);const f={};4&u&&(f.placeholder=e[2]("Ex: #convos")),2&u&&(f.readonly=!e[1]),16388&u&&(f.$$scope={dirty:u,ctx:e}),l.$set(f);const m={};4&u&&(m.placeholder=e[2]("chanserv, nickserv, ...")),2&u&&(m.readonly=!e[1]),16388&u&&(m.$$scope={dirty:u,ctx:e}),p.$set(m);const g={};2&u&&(g.disabled=!e[1]),16388&u&&(g.$$scope={dirty:u,ctx:e}),h.$set(g);const b={};2&u&&(b.disabled=!e[1]),8&u&&(b.hidden=!e[3].is_default),16388&u&&(b.$$scope={dirty:u,ctx:e}),D.$set(b),e[1]?j?j.p(e,u):(j=hi(e),j.c(),j.m(r,$)):j&&(j.d(1),j=null);const y={};16388&u&&(y.$$scope={dirty:u,ctx:e}),v.$set(y),e[3].show_advanced_settings?T?(T.p(e,u),8&u&&He(T,1)):(T=Di(e),T.c(),He(T,1),T.m(r,C)):T&&(Ue(),qe(T,1,1,(()=>{T=null})),ze()),e[1]?R&&(R.d(1),R=null):R?R.p(e,u):(R=Ai(e),R.c(),R.m(r,E));let _=F;F=M(e),F===_?P[F].p(e,u):(Ue(),qe(P[_],1,1,(()=>{P[_]=null})),ze(),w=P[F],w?w.p(e,u):(w=P[F]=L[F](e),w.c()),He(w,1),w.m(A,null))},i(e){S||(He(t.$$.fragment,e),He(d.$$.fragment,e),He(o.$$.fragment,e),He(c.$$.fragment,e),He(l.$$.fragment,e),He(p.$$.fragment,e),He(h.$$.fragment,e),He(D.$$.fragment,e),He(v.$$.fragment,e),He(T),He(w),He(x.$$.fragment,e),He(B.$$.fragment,e),S=!0)},o(e){qe(t.$$.fragment,e),qe(d.$$.fragment,e),qe(o.$$.fragment,e),qe(c.$$.fragment,e),qe(l.$$.fragment,e),qe(p.$$.fragment,e),qe(h.$$.fragment,e),qe(D.$$.fragment,e),qe(v.$$.fragment,e),qe(T),qe(w),qe(x.$$.fragment,e),qe(B.$$.fragment,e),S=!1},d(e){Xe(t,e),e&&W(u),e&&W(n),Xe(d),Xe(o),Xe(c),Xe(l),Xe(p),Xe(h),Xe(D),j&&j.d(),Xe(v),T&&T.d(),R&&R.d(),P[F].d(),Xe(x),Xe(B),O=!1,N()}}}function Si(e,t,u){let n,r,d,a;k(e,Un,(e=>u(2,d=e)));let{profile_id:o="add"}=t;const i="add"==o?"Add connection profile":"Edit connection profile",c=ye("api"),s=ye("user"),l=s.connectionProfiles;k(e,l,(e=>u(11,r=e)));const f=pd();k(e,f,(e=>u(3,a=e)));const p=c("removeConnectionProfile"),m=c("saveConnectionProfile");return be((()=>l.load())),e.$$set=e=>{"profile_id"in e&&u(0,o=e.profile_id)},e.$$.update=()=>{2049&e.$$.dirty&&f.set(r.find(o)||r.defaultProfile())},u(1,n=s.roles.has("admin")),[o,n,d,a,l,f,p,m,async function(){await p.perform({id:o}),await l.load({force:!0}),await Be(),Uu.go("/settings/connections")},async function(){const e=f.get();["is_default","is_forced","skip_queue"].forEach((t=>e[t]=!!e[t])),e.service_accounts=nu(e.service_accounts),e.url=new Tr("irc://localhost").fromFields(e).toString(),await m.perform(e),m.is("error")||(e.is_default&&s.update({default_connection:e.url,forced_connection:e.is_forced}),await l.load({force:!0}),await Be(),Uu.go("/settings/connections"))},i,r]}class Oi extends ut{constructor(e){super(),tt(this,e,Si,Bi,w,{profile_id:0,title:10})}get title(){return this.$$.ctx[10]}}function Ni(e){let t,u,n;return t=new ct({props:{name:"list"}}),u=new ct({props:{name:"times"}}),{c(){Je(t.$$.fragment),Je(u.$$.fragment)},m(e,r){Qe(t,e,r),Qe(u,e,r),n=!0},p:v,i(e){n||(He(t.$$.fragment,e),He(u.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),qe(u.$$.fragment,e),n=!1},d(e){Xe(t,e),Xe(u,e)}}}function ji(e){let t,u,n,r,d,a=("add"==e[0]?e[1]("Add connection"):e[1]("Edit connection"))+"";return r=new da({props:{href:"/settings/connections",class:"btn-hallow is-active","data-tooltip":e[1]("See all connections"),$$slots:{default:[Ni]},$$scope:{ctx:e}}}),{c(){t=Z("h1"),u=V(a),n=J(),Je(r.$$.fragment)},m(e,a){K(e,t,a),H(t,u),K(e,n,a),Qe(r,e,a),d=!0},p(e,t){(!d||3&t)&&a!==(a=("add"==e[0]?e[1]("Add connection"):e[1]("Edit connection"))+"")&&ne(u,a);const n={};2&t&&(n["data-tooltip"]=e[1]("See all connections")),8&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){d||(He(r.$$.fragment,e),d=!0)},o(e){qe(r.$$.fragment,e),d=!1},d(e){e&&W(t),e&&W(n),Xe(r,e)}}}function Ti(e){let t,u,n,r,d;return t=new Ct({props:{$$slots:{default:[ji]},$$scope:{ctx:e}}}),r=new Zd({props:{id:e[0],is_page:!0}}),{c(){Je(t.$$.fragment),u=J(),n=Z("main"),Je(r.$$.fragment),te(n,"class","main")},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),Qe(r,n,null),d=!0},p(e,[u]){const n={};11&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n);const d={};1&u&&(d.id=e[0]),r.$set(d)},i(e){d||(He(t.$$.fragment,e),He(r.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n),Xe(r)}}}function Ri(e,t,u){let n;k(e,Un,(e=>u(1,n=e)));let{connection_id:r="add"}=t;const d="add"==r?"Add connection":"Edit connection";return e.$$set=e=>{"connection_id"in e&&u(0,r=e.connection_id)},[r,n,d]}class Li extends ut{constructor(e){super(),tt(this,e,Ri,Ti,w,{connection_id:0,title:2})}get title(){return this.$$.ctx[2]}}function Pi(e,t,u){const n=e.slice();return n[14]=t[u],n}function Mi(e){let t,u,n=e[3]("Add conversation")+"";return{c(){t=Z("h1"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("Add conversation")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ii(e){let t,u,n=e[3]("Connection")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("Connection")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ui(e){let t,u,n=e[3](e[1].conversations.length?"Refresh":"Load")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){10&t&&n!==(n=e[3](e[1].conversations.length?"Refresh":"Load")+"")&&ne(u,n)},d(e){e&&W(t)}}}function zi(e){let t,u,n=e[3]("Conversation name")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("Conversation name")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Hi(e){let t,u,n=e[3]("Add")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("Add")+"")&&ne(u,n)},d(e){e&&W(t)}}}function qi(e){let t,u,n,r,d=e[0].connection_id+"",a=e[1].error+"";return{c(){t=Z("p"),u=V(d),n=V(": "),r=V(a),te(t,"class","error")},m(e,d){K(e,t,d),H(t,u),H(t,n),H(t,r)},p(e,t){1&t&&d!==(d=e[0].connection_id+"")&&ne(u,d),2&t&&a!==(a=e[1].error+"")&&ne(r,a)},d(e){e&&W(t)}}}function Gi(e){let t,u,n;function r(e,t){return e[1].done?Wi:Ki}let d=r(e),a=d(e),o=e[1].conversations,i=[];for(let t=0;t<o.length;t+=1)i[t]=Yi(Pi(e,o,t));return{c(){t=Z("p"),a.c(),u=J(),n=Z("div");for(let e=0;e<i.length;e+=1)i[e].c();te(n,"class","conversation-add-list")},m(e,r){K(e,t,r),a.m(t,null),K(e,u,r),K(e,n,r);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p(e,u){if(d===(d=r(e))&&a?a.p(e,u):(a.d(1),a=d(e),a&&(a.c(),a.m(t,null))),66&u){let t;for(o=e[1].conversations,t=0;t<o.length;t+=1){const r=Pi(e,o,t);i[t]?i[t].p(r,u):(i[t]=Yi(r),i[t].c(),i[t].m(n,null))}for(;t<i.length;t+=1)i[t].d(1);i.length=o.length}},d(e){e&&W(t),a.d(),e&&W(u),e&&W(n),Y(i,e)}}}function Ki(e){let t,u=e[3]("Showing %1 of %2 conversations, but the list is still loading.",e[1].conversations.length,e[1].n_conversations)+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){10&n&&u!==(u=e[3]("Showing %1 of %2 conversations, but the list is still loading.",e[1].conversations.length,e[1].n_conversations)+"")&&ne(t,u)},d(e){e&&W(t)}}}function Wi(e){let t,u=e[3]("Showing %1 of %2 conversations.",e[1].conversations.length,e[1].n_conversations)+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){10&n&&u!==(u=e[3]("Showing %1 of %2 conversations.",e[1].conversations.length,e[1].n_conversations)+"")&&ne(t,u)},d(e){e&&W(t)}}}function Yi(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m=e[14].n_users+"",h=e[14].name+"",g=(e[14].topic||"No topic.")+"";return{c(){t=Z("a"),u=Z("span"),n=V(m),r=J(),d=Z("b"),a=V(h),o=J(),i=Z("i"),c=V(g),s=J(),te(u,"class","conversation-add-list__n-users"),te(d,"class","conversation-add-list__name"),te(i,"class","conversation-add-list__title"),te(t,"href",l="#add:"+e[14].name)},m(l,m){K(l,t,m),H(t,u),H(u,n),H(t,r),H(t,d),H(d,a),H(t,o),H(t,i),H(i,c),H(t,s),f||(p=X(t,"click",ee(e[6])),f=!0)},p(e,u){2&u&&m!==(m=e[14].n_users+"")&&ne(n,m),2&u&&h!==(h=e[14].name+"")&&ne(a,h),2&u&&g!==(g=(e[14].topic||"No topic.")+"")&&ne(c,g),2&u&&l!==(l="#add:"+e[14].name)&&te(t,"href",l)},d(e){e&&W(t),f=!1,p()}}}function Zi(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E,A=e[3]("Enter the name of an exising conversation, or create a new conversation.")+"";t=new Ct({props:{$$slots:{default:[Mi]},$$scope:{ctx:e}}}),c=new Wr({props:{name:"connection_id",form:e[4],options:e[2],placeholder:e[3]("Select..."),$$slots:{label:[Ii]},$$scope:{ctx:e}}}),f=new xr({props:{type:"button",icon:"sync-alt",disabled:!e[0].connection_id||!1===e[1].done,$$slots:{default:[Ui]},$$scope:{ctx:e}}}),f.$on("click",e[7]),h=new ad({props:{name:"conversation_id",form:e[4],placeholder:e[3]("#room or nick"),autocomplete:"off",$$slots:{label:[zi]},$$scope:{ctx:e}}}),h.$on("keyup",e[8]),b=new xr({props:{icon:"comment",disabled:!e[0].connection_id||!e[0].conversation_id,$$slots:{default:[Hi]},$$scope:{ctx:e}}});let F=e[1].error&&qi(e),w=null!==e[1].done&&Gi(e);return{c(){Je(t.$$.fragment),u=J(),n=Z("main"),r=Z("p"),d=V(A),a=J(),o=Z("form"),i=Z("div"),Je(c.$$.fragment),s=J(),l=Z("div"),Je(f.$$.fragment),p=J(),m=Z("div"),Je(h.$$.fragment),g=J(),D=Z("div"),Je(b.$$.fragment),$=J(),F&&F.c(),v=J(),w&&w.c(),te(l,"class","flex-basis-30"),te(i,"class","inputs-side-by-side"),te(D,"class","flex-basis-30"),te(m,"class","inputs-side-by-side"),te(o,"method","post"),te(n,"class","main")},m(A,_){Qe(t,A,_),K(A,u,_),K(A,n,_),H(n,r),H(r,d),H(n,a),H(n,o),H(o,i),Qe(c,i,null),H(i,s),H(i,l),Qe(f,l,null),H(o,p),H(o,m),Qe(h,m,null),H(m,g),H(m,D),Qe(b,D,null),H(o,$),F&&F.m(o,null),H(o,v),w&&w.m(o,null),y=!0,C||(E=X(o,"submit",ee(e[6])),C=!0)},p(e,[u]){const n={};131080&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n),(!y||8&u)&&A!==(A=e[3]("Enter the name of an exising conversation, or create a new conversation.")+"")&&ne(d,A);const r={};4&u&&(r.options=e[2]),8&u&&(r.placeholder=e[3]("Select...")),131080&u&&(r.$$scope={dirty:u,ctx:e}),c.$set(r);const a={};3&u&&(a.disabled=!e[0].connection_id||!1===e[1].done),131082&u&&(a.$$scope={dirty:u,ctx:e}),f.$set(a);const i={};8&u&&(i.placeholder=e[3]("#room or nick")),131080&u&&(i.$$scope={dirty:u,ctx:e}),h.$set(i);const s={};1&u&&(s.disabled=!e[0].connection_id||!e[0].conversation_id),131080&u&&(s.$$scope={dirty:u,ctx:e}),b.$set(s),e[1].error?F?F.p(e,u):(F=qi(e),F.c(),F.m(o,v)):F&&(F.d(1),F=null),null!==e[1].done?w?w.p(e,u):(w=Gi(e),w.c(),w.m(o,null)):w&&(w.d(1),w=null)},i(e){y||(He(t.$$.fragment,e),He(c.$$.fragment,e),He(f.$$.fragment,e),He(h.$$.fragment,e),He(b.$$.fragment,e),y=!0)},o(e){qe(t.$$.fragment,e),qe(c.$$.fragment,e),qe(f.$$.fragment,e),qe(h.$$.fragment,e),qe(b.$$.fragment,e),y=!1},d(e){Xe(t,e),e&&W(u),e&&W(n),Xe(c),Xe(f),Xe(h),Xe(b),F&&F.d(),w&&w.d(),C=!1,E()}}}function Vi(e,t,u){let n,r,d,a;k(e,Un,(e=>u(3,a=e)));const o=pd();k(e,o,(e=>u(0,r=e)));const i=ye("socket"),c=ye("user");k(e,c,(e=>u(10,d=e)));let s,l={conversations:[],done:null,n_conversations:0};async function f(e){const t=o.get("conversation_id")||"";let n="/list"+(t.length?" /"+t+"/":"");"click"==e.type&&l.done&&(n+=" refresh"),s&&clearTimeout(s);const r=o.get("connection_id");i.send({connection_id:r,message:n,method:"send"},(t=>{const n=Wt(t);u(1,l=n?{conversations:[],done:!0,n_conversations:0,error:n}:t);let r=e.interval?e.interval+500:500;r>2e3&&(r=2e3),n||t.done||(s=setTimeout((()=>f({interval:r})),r))}))}const p=Kt(f,250);return e.$$.update=()=>{1024&e.$$.dirty&&u(2,n=Array.from(d.connections.keys()).map((e=>[e]))),1&e.$$.dirty&&(r.connection_id||o.set({connection_id:Uu.param("connection_id")||n[0]||"",conversation_id:Uu.param("conversation_id")||""}))},[r,l,n,a,o,c,function(e){const t=e&&e.target&&e.target.closest("a");t&&t.href&&o.set({conversation_id:t.href.replace(/.*#add:/,"")});const u=c.findConversation({connection_id:o.get("connection_id")});u&&o.get("conversation_id")&&u.send("/join "+o.get("conversation_id"))},f,p,"Add conversation",d]}class Ji extends ut{constructor(e){super(),tt(this,e,Vi,Zi,w,{title:9})}get title(){return this.$$.ctx[9]}}function Qi(e){let t,u,n,r,d,a,o,i,c=e[4]("Yikes! we are so sorry for the inconvenience. Please submit an [issue](%1), if the problem does not go away.","https://github.com/convos-chat/convos/issues")+"",s=e[2]("Go to start page")+"";return d=new ct({props:{name:"play"}}),{c(){t=Z("p"),u=J(),n=Z("p"),r=Z("a"),Je(d.$$.fragment),a=J(),o=V(s),te(r,"href",e[1]),te(r,"target","_self"),te(r,"class","btn")},m(e,s){K(e,t,s),t.innerHTML=c,K(e,u,s),K(e,n,s),H(n,r),Qe(d,r,null),H(r,a),H(r,o),i=!0},p(e,u){(!i||16&u)&&c!==(c=e[4]("Yikes! we are so sorry for the inconvenience. Please submit an [issue](%1), if the problem does not go away.","https://github.com/convos-chat/convos/issues")+"")&&(t.innerHTML=c),(!i||4&u)&&s!==(s=e[2]("Go to start page")+"")&&ne(o,s),(!i||2&u)&&te(r,"href",e[1])},i(e){i||(He(d.$$.fragment,e),i=!0)},o(e){qe(d.$$.fragment,e),i=!1},d(e){e&&W(t),e&&W(u),e&&W(n),Xe(d)}}}function Xi(e){let t,u,n,r,d,a,o,i,c,s=e[2]("The Convos Team have been searching and searching, but the requested page could not be found.")+"",l=e[2]("Go to start page")+"";return a=new ct({props:{name:"play"}}),{c(){t=Z("p"),u=V(s),n=J(),r=Z("p"),d=Z("a"),Je(a.$$.fragment),o=J(),i=V(l),te(d,"href",e[1]),te(d,"target","_self"),te(d,"class","btn")},m(e,s){K(e,t,s),H(t,u),K(e,n,s),K(e,r,s),H(r,d),Qe(a,d,null),H(d,o),H(d,i),c=!0},p(e,t){(!c||4&t)&&s!==(s=e[2]("The Convos Team have been searching and searching, but the requested page could not be found.")+"")&&ne(u,s),(!c||4&t)&&l!==(l=e[2]("Go to start page")+"")&&ne(i,l),(!c||2&t)&&te(d,"href",e[1])},i(e){c||(He(a.$$.fragment,e),c=!0)},o(e){qe(a.$$.fragment,e),c=!1},d(e){e&&W(t),e&&W(n),e&&W(r),Xe(a)}}}function ec(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y=e[2]("Downloaded Convos.")+"",C=e[2]("Started Convos.")+"",E=e[2]("Contact admin")+"";u=new ct({props:{name:"download"}}),o=new ct({props:{name:"rocket"}});const A=[uc,tc],F=[];function w(e,t){return e[3].error?0:1}l=w(e),f=F[l]=A[l](e),g=new ct({props:{name:"paper-plane"}});let _={ctx:e,current:null,token:null,hasCatch:!1,pending:dc,then:rc,catch:nc,blocks:[,,,]};return We(e[8],_),{c(){t=Z("p"),Je(u.$$.fragment),n=J(),r=V(y),d=J(),a=Z("p"),Je(o.$$.fragment),i=J(),c=V(C),s=J(),f.c(),p=J(),m=Z("p"),h=Z("a"),Je(g.$$.fragment),D=J(),b=V(E),$=J(),_.block.c(),te(h,"class","btn"),te(h,"href",tu("contact"))},m(e,f){K(e,t,f),Qe(u,t,null),H(t,n),H(t,r),K(e,d,f),K(e,a,f),Qe(o,a,null),H(a,i),H(a,c),K(e,s,f),F[l].m(e,f),K(e,p,f),K(e,m,f),H(m,h),Qe(g,h,null),H(h,D),H(h,b),H(m,$),_.block.m(m,_.anchor=null),_.mount=()=>m,_.anchor=null,v=!0},p(t,u){e=t,(!v||4&u)&&y!==(y=e[2]("Downloaded Convos.")+"")&&ne(r,y),(!v||4&u)&&C!==(C=e[2]("Started Convos.")+"")&&ne(c,C);let n=l;l=w(e),l===n?F[l].p(e,u):(Ue(),qe(F[n],1,1,(()=>{F[n]=null})),ze(),f=F[l],f?f.p(e,u):(f=F[l]=A[l](e),f.c()),He(f,1),f.m(p.parentNode,p)),(!v||4&u)&&E!==(E=e[2]("Contact admin")+"")&&ne(b,E),Ye(_,e,u)},i(e){v||(He(u.$$.fragment,e),He(o.$$.fragment,e),He(f),He(g.$$.fragment,e),He(_.block),v=!0)},o(e){qe(u.$$.fragment,e),qe(o.$$.fragment,e),qe(f),qe(g.$$.fragment,e);for(let e=0;e<3;e+=1){qe(_.blocks[e])}v=!1},d(e){e&&W(t),Xe(u),e&&W(d),e&&W(a),Xe(o),e&&W(s),F[l].d(e),e&&W(p),e&&W(m),Xe(g),_.block.d(),_.token=null,_=null}}}function tc(e){let t,u,n,r,d,a=e[2]("Loading user data...")+"";return u=new ct({props:{name:"spinner fa-spin"}}),{c(){t=Z("p"),Je(u.$$.fragment),n=J(),r=V(a)},m(e,a){K(e,t,a),Qe(u,t,null),H(t,n),H(t,r),d=!0},p(e,t){(!d||4&t)&&a!==(a=e[2]("Loading user data...")+"")&&ne(r,a)},i(e){d||(He(u.$$.fragment,e),d=!0)},o(e){qe(u.$$.fragment,e),d=!1},d(e){e&&W(t),Xe(u)}}}function uc(e){let t,u,n,r,d,a=e[2]("Loading user data failed: %1",e[2](e[3].error))+"";return u=new ct({props:{name:"exclamation-triangle"}}),{c(){t=Z("p"),Je(u.$$.fragment),n=J(),r=V(a)},m(e,a){K(e,t,a),Qe(u,t,null),H(t,n),H(t,r),d=!0},p(e,t){(!d||12&t)&&a!==(a=e[2]("Loading user data failed: %1",e[2](e[3].error))+"")&&ne(r,a)},i(e){d||(He(u.$$.fragment,e),d=!0)},o(e){qe(u.$$.fragment,e),d=!1},d(e){e&&W(t),Xe(u)}}}function nc(e){return{c:v,m:v,p:v,i:v,o:v,d:v}}function rc(e){let t,u,n,r,d,a,o=e[2]("Retry")+"";return u=new ct({props:{name:"redo"}}),{c(){t=Z("a"),Je(u.$$.fragment),n=J(),r=V(o),te(t,"href",e[1]),te(t,"target","_self"),te(t,"class","btn is-secondary")},m(e,d){K(e,t,d),Qe(u,t,null),H(t,n),H(t,r),a=!0},p(e,u){(!a||4&u)&&o!==(o=e[2]("Retry")+"")&&ne(r,o),(!a||2&u)&&te(t,"href",e[1])},i(e){a||(He(u.$$.fragment,e),Se((()=>{d||(d=Ke(t,pr,{},!0)),d.run(1)})),a=!0)},o(e){qe(u.$$.fragment,e),d||(d=Ke(t,pr,{},!1)),d.run(0),a=!1},d(e){e&&W(t),Xe(u),e&&d&&d.end()}}}function dc(e){return{c:v,m:v,p:v,i:v,o:v,d:v}}function ac(e){let t,u,n,r,d,a,o,i=e[2](e[5][e[0]])+"";const c=[ec,Xi,Qi],s=[];function l(e,t){return"loading"==e[0]?0:"not_found"==e[0]?1:2}return d=l(e),a=s[d]=c[d](e),{c(){t=Z("main"),u=Z("h2"),n=V(i),r=J(),a.c(),te(t,"class","cms-main")},m(e,a){K(e,t,a),H(t,u),H(u,n),H(t,r),s[d].m(t,null),o=!0},p(e,[u]){(!o||5&u)&&i!==(i=e[2](e[5][e[0]])+"")&&ne(n,i);let r=d;d=l(e),d===r?s[d].p(e,u):(Ue(),qe(s[r],1,1,(()=>{s[r]=null})),ze(),a=s[d],a?a.p(e,u):(a=s[d]=c[d](e),a.c()),He(a,1),a.m(t,null))},i(e){o||(He(a),o=!0)},o(e){qe(a),o=!1},d(e){e&&W(t),s[d].d()}}}function oc(e,t,u){let n,r,d,a,o,i,c;k(e,Uu,(e=>u(11,a=e))),k(e,Un,(e=>u(2,o=e))),k(e,zn,(e=>u(4,c=e)));let{title:s="Loading..."}=t;const l={loading:"Loading...",not_found:"Not Found"},f=ye("socket");k(e,f,(e=>u(3,i=e)));const p=ye("user");k(e,p,(e=>u(10,d=e)));const m=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(u,n){setTimeout((function(){"function"==typeof t?u(t()):"string"==typeof t?n(t):u(t)}),e)}))}(5e3);return e.$$set=e=>{"title"in e&&u(9,s=e.title)},e.$$.update=()=>{3072&e.$$.dirty&&u(0,n=function(e,t){const u=e.path.match(/\/err\/(\w+)/);return u?u[1]:t.is("pending")||t.is("loading")?"loading":"not_found"}(a,d)),1&e.$$.dirty&&u(9,s=l[n])},u(1,r=Uu.urlFor(p.email?"/chat":"/login")),[n,r,o,i,c,l,f,p,m,s,d,a]}class ic extends ut{constructor(e){super(),tt(this,e,oc,ac,w,{title:9})}}function cc(e,t,u){const n=e.slice();return n[5]=t[u],n}function sc(e){let t,u,n,r,d,a,o,i=e[0]("Help")+"",c=tu("version")+"";return{c(){t=Z("h1"),u=V(i),n=J(),r=Z("small"),d=Z("a"),a=V("v"),o=V(c),te(d,"href",e[2]),te(d,"target","_blank")},m(e,i){K(e,t,i),H(t,u),H(t,n),H(t,r),H(r,d),H(d,a),H(d,o)},p(e,t){1&t&&i!==(i=e[0]("Help")+"")&&ne(u,i)},d(e){e&&W(t)}}}function lc(e){let t,u,n,r,d=e[5].example+"",a=e[0](e[5].description)+"";return{c(){t=Z("dt"),u=V(d),n=Z("dd"),r=V(a)},m(e,d){K(e,t,d),H(t,u),K(e,n,d),H(n,r)},p(e,t){1&t&&a!==(a=e[0](e[5].description)+"")&&ne(r,a)},d(e){e&&W(t),e&&W(n)}}}function fc(e){let t;return{c(){t=V("Loading")},m(e,u){K(e,t,u)},d(e){e&&W(t)}}}function pc(e){let t;return{c(){t=V("Not found")},m(e,u){K(e,t,u)},d(e){e&&W(t)}}}function mc(e){let t;return{c(){t=V("Unknown")},m(e,u){K(e,t,u)},d(e){e&&W(t)}}}function hc(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,y,C,E,A,F,w,_,x,k,B,S,O,N,j,T,R,L,P,M,I,U,z,q,G,Q,X,ee,ue,re,de,ae,oe,ie,ce,le,fe,pe,me,he,ge,De,be,$e,ve,ye,Ce,Ee,Ae,Fe,we,_e,xe,ke,Be,Se,Oe,Ne,je,Te,Re,Le,Pe,Me,Ie,Ue,ze,Ge,Ke,We,Ye,Ze,Ve,et,tt,ut,nt,rt,dt,at,ot,it,ct,st,lt,ft,pt,mt,ht,gt,Dt,bt,$t,vt,yt,Et,At,Ft,wt,_t,xt=e[1]('Got any questions? Come and talk to us in the "#convos" channel on https://libera.chat.')+"",kt=e[1]("More information can also be found on https://convos.chat.")+"",Bt=e[0]("Quick search")+"",St=e[0]("Pressing `shift+enter` will shift focus between chat input and search in sidebar.")+"",Ot=e[0]("Filter conversations with unread messages.")+"",Nt=e[0]("Filter private conversations with unread messages.")+"",jt=e[0]("Filter channels with unread messages.")+"",Tt=e[0]("Any other combination")+"",Rt=e[0]("Filter channels, private conversations or search for a string.")+"",Lt=e[0]("Autocomplete")+"",Pt=e[0]("The following rules apply when typing a message:")+"",Mt=e[0]('"@" followed by a character will show matching nicks in the current conversation.')+"",It=e[0]('":" followed by a character will show matching emojis.')+"",Ut=e[0]('"/" will show the available commands.')+"",zt=e[0]('"#" will show the matching conversation names.')+"",Ht=e[0]("Text formatting")+"",qt=e[0]("Convos supports some special way of formatting text:")+"",Gt=e[0]("Will be automatically converted into emojis.")+"",Kt=e[0]("> some text")+"",Wt=e[0]('A line starting with ">" will be converted into a quote.')+"",Yt=e[0]("*some text*, **some text**, ***some text***")+"",Zt=e[1]('Using "*" around some text, will convert it into *italic*, **bold** or ***italic bold***.')+"",Vt=e[0]("`some fragment`")+"",Jt=e[1]("Using backticks around some text, will format it as a `code fragment`.")+"",Qt=e[0]("URLs will be converted to links, and might be embedded in the chat.")+"",Xt=e[0]("Available commands")+"",eu=e[1]('Any message starting with a-z is prefixed with "`/quote`", when sending from a connection conversation.')+"",uu=e[0]("Other resources")+"",nu=e[0]("Changelog for v%1",tu("version"))+"",ru=e[0]("Project homepage")+"",du=e[0]("Bug/issue tracker")+"",au=e[0]("Source code")+"",ou="Convos"!=tu("organization_name")&&"https://convos.chat"!=tu("organization_url"),iu=e[0]("Contact admin")+"",cu=e[0]("Demo error pages")+"";t=new Ct({props:{$$slots:{default:[sc]},$$scope:{ctx:e}}});let su=Hn,lu=[];for(let t=0;t<su.length;t+=1)lu[t]=lc(cc(e,su,t));let fu=ou&&function(e){let t,u,n,r,d=tu("organization_name")+"";return{c(){t=Z("li"),u=Z("a"),n=V(d),te(u,"href",r=tu("organization_url")),te(u,"target","_blank")},m(e,r){K(e,t,r),H(t,u),H(u,n)},p:v,d(e){e&&W(t)}}}();return $t=new da({props:{href:"/err/loading",$$slots:{default:[fc]},$$scope:{ctx:e}}}),Et=new da({props:{href:"/err/not_found",$$slots:{default:[pc]},$$scope:{ctx:e}}}),wt=new da({props:{href:"/err/unknown",$$slots:{default:[mc]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment),u=J(),n=Z("main"),r=Z("p"),d=new se,a=J(),o=new se,i=J(),c=Z("h2"),s=V(Bt),l=J(),f=Z("p"),p=V(St),m=J(),h=Z("dl"),g=Z("dt"),g.textContent="+",D=Z("dd"),b=V(Ot),$=Z("dt"),$.textContent="+@",y=Z("dd"),C=V(Nt),E=Z("dt"),E.textContent="+#",A=Z("dd"),F=V(jt),w=Z("dt"),_=V(Tt),x=Z("dd"),k=V(Rt),B=J(),S=Z("h2"),O=V(Lt),N=J(),j=Z("p"),T=V(Pt),R=J(),L=Z("dl"),P=Z("dt"),P.textContent="@nick",M=Z("dd"),I=V(Mt),U=Z("dt"),U.textContent=":emoji_name",z=Z("dd"),q=V(It),G=Z("dt"),G.textContent="/command",Q=Z("dd"),X=V(Ut),ee=Z("dt"),ee.textContent="#conversation",ue=Z("dd"),re=V(zt),de=J(),ae=Z("h2"),oe=V(Ht),ie=J(),ce=Z("p"),le=V(qt),fe=J(),pe=Z("dl"),me=Z("dt"),he=Z("dd"),ge=V(Gt),De=Z("dt"),be=V(Kt),$e=Z("dd"),ve=V(Wt),ye=Z("dt"),Ce=V(Yt),Ee=Z("dd"),Ae=Z("dt"),Fe=V(Vt),we=Z("dd"),_e=Z("dt"),_e.textContent="https://...",xe=Z("dd"),ke=V(Qt),Be=J(),Se=Z("h2"),Oe=V(Xt),Ne=J(),je=Z("p"),Te=J(),Re=Z("dl");for(let e=0;e<lu.length;e+=1)lu[e].c();Le=J(),Pe=Z("h2"),Me=V(uu),Ie=J(),Ue=Z("ul"),ze=Z("li"),Ge=Z("a"),Ke=V(nu),We=J(),Ye=Z("li"),Ze=Z("a"),Ve=V(ru),et=J(),tt=Z("li"),ut=Z("a"),nt=V(du),rt=J(),dt=Z("li"),at=Z("a"),ot=V(au),it=J(),fu&&fu.c(),ct=J(),st=Z("li"),lt=Z("a"),ft=V(iu),pt=J(),mt=Z("h2"),ht=V(cu),gt=J(),Dt=Z("ul"),bt=Z("li"),Je($t.$$.fragment),vt=J(),yt=Z("li"),Je(Et.$$.fragment),At=J(),Ft=Z("li"),Je(wt.$$.fragment),d.a=a,o.a=null,te(c,"id","quick-search"),te(S,"id","autocomplete"),te(ae,"id","formatting"),te(Se,"id","commands"),te(Pe,"id","resources"),te(Ge,"href",e[2]),te(Ge,"target","_blank"),te(Ze,"href","https://convos.chat"),te(Ze,"target","_blank"),te(ut,"href","https://github.com/convos-chat/convos/issues"),te(ut,"target","_blank"),te(at,"href","https://github.com/convos-chat/convos"),te(at,"target","_blank"),te(lt,"href",tu("contact")),te(lt,"target","_blank"),te(mt,"id","fallback"),te(n,"class","main")},m(v,W){Qe(t,v,W),K(v,u,W),K(v,n,W),H(n,r),d.m(xt,r),H(r,a),o.m(kt,r),H(n,i),H(n,c),H(c,s),H(n,l),H(n,f),H(f,p),H(n,m),H(n,h),H(h,g),H(h,D),H(D,b),H(h,$),H(h,y),H(y,C),H(h,E),H(h,A),H(A,F),H(h,w),H(w,_),H(h,x),H(x,k),H(n,B),H(n,S),H(S,O),H(n,N),H(n,j),H(j,T),H(n,R),H(n,L),H(L,P),H(L,M),H(M,I),H(L,U),H(L,z),H(z,q),H(L,G),H(L,Q),H(Q,X),H(L,ee),H(L,ue),H(ue,re),H(n,de),H(n,ae),H(ae,oe),H(n,ie),H(n,ce),H(ce,le),H(n,fe),H(n,pe),H(pe,me),me.innerHTML=e[3],H(pe,he),H(he,ge),H(pe,De),H(De,be),H(pe,$e),H($e,ve),H(pe,ye),H(ye,Ce),H(pe,Ee),Ee.innerHTML=Zt,H(pe,Ae),H(Ae,Fe),H(pe,we),we.innerHTML=Jt,H(pe,_e),H(pe,xe),H(xe,ke),H(n,Be),H(n,Se),H(Se,Oe),H(n,Ne),H(n,je),je.innerHTML=eu,H(n,Te),H(n,Re);for(let e=0;e<lu.length;e+=1)lu[e].m(Re,null);H(n,Le),H(n,Pe),H(Pe,Me),H(n,Ie),H(n,Ue),H(Ue,ze),H(ze,Ge),H(Ge,Ke),H(Ue,We),H(Ue,Ye),H(Ye,Ze),H(Ze,Ve),H(Ue,et),H(Ue,tt),H(tt,ut),H(ut,nt),H(Ue,rt),H(Ue,dt),H(dt,at),H(at,ot),H(Ue,it),fu&&fu.m(Ue,null),H(Ue,ct),H(Ue,st),H(st,lt),H(lt,ft),H(n,pt),H(n,mt),H(mt,ht),H(n,gt),H(n,Dt),H(Dt,bt),Qe($t,bt,null),H(Dt,vt),H(Dt,yt),Qe(Et,yt,null),H(Dt,At),H(Dt,Ft),Qe(wt,Ft,null),_t=!0},p(e,[u]){const n={};if(257&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n),(!_t||2&u)&&xt!==(xt=e[1]('Got any questions? Come and talk to us in the "#convos" channel on https://libera.chat.')+"")&&d.p(xt),(!_t||2&u)&&kt!==(kt=e[1]("More information can also be found on https://convos.chat.")+"")&&o.p(kt),(!_t||1&u)&&Bt!==(Bt=e[0]("Quick search")+"")&&ne(s,Bt),(!_t||1&u)&&St!==(St=e[0]("Pressing `shift+enter` will shift focus between chat input and search in sidebar.")+"")&&ne(p,St),(!_t||1&u)&&Ot!==(Ot=e[0]("Filter conversations with unread messages.")+"")&&ne(b,Ot),(!_t||1&u)&&Nt!==(Nt=e[0]("Filter private conversations with unread messages.")+"")&&ne(C,Nt),(!_t||1&u)&&jt!==(jt=e[0]("Filter channels with unread messages.")+"")&&ne(F,jt),(!_t||1&u)&&Tt!==(Tt=e[0]("Any other combination")+"")&&ne(_,Tt),(!_t||1&u)&&Rt!==(Rt=e[0]("Filter channels, private conversations or search for a string.")+"")&&ne(k,Rt),(!_t||1&u)&&Lt!==(Lt=e[0]("Autocomplete")+"")&&ne(O,Lt),(!_t||1&u)&&Pt!==(Pt=e[0]("The following rules apply when typing a message:")+"")&&ne(T,Pt),(!_t||1&u)&&Mt!==(Mt=e[0]('"@" followed by a character will show matching nicks in the current conversation.')+"")&&ne(I,Mt),(!_t||1&u)&&It!==(It=e[0]('":" followed by a character will show matching emojis.')+"")&&ne(q,It),(!_t||1&u)&&Ut!==(Ut=e[0]('"/" will show the available commands.')+"")&&ne(X,Ut),(!_t||1&u)&&zt!==(zt=e[0]('"#" will show the matching conversation names.')+"")&&ne(re,zt),(!_t||1&u)&&Ht!==(Ht=e[0]("Text formatting")+"")&&ne(oe,Ht),(!_t||1&u)&&qt!==(qt=e[0]("Convos supports some special way of formatting text:")+"")&&ne(le,qt),(!_t||1&u)&&Gt!==(Gt=e[0]("Will be automatically converted into emojis.")+"")&&ne(ge,Gt),(!_t||1&u)&&Kt!==(Kt=e[0]("> some text")+"")&&ne(be,Kt),(!_t||1&u)&&Wt!==(Wt=e[0]('A line starting with ">" will be converted into a quote.')+"")&&ne(ve,Wt),(!_t||1&u)&&Yt!==(Yt=e[0]("*some text*, **some text**, ***some text***")+"")&&ne(Ce,Yt),(!_t||2&u)&&Zt!==(Zt=e[1]('Using "*" around some text, will convert it into *italic*, **bold** or ***italic bold***.')+"")&&(Ee.innerHTML=Zt),(!_t||1&u)&&Vt!==(Vt=e[0]("`some fragment`")+"")&&ne(Fe,Vt),(!_t||2&u)&&Jt!==(Jt=e[1]("Using backticks around some text, will format it as a `code fragment`.")+"")&&(we.innerHTML=Jt),(!_t||1&u)&&Qt!==(Qt=e[0]("URLs will be converted to links, and might be embedded in the chat.")+"")&&ne(ke,Qt),(!_t||1&u)&&Xt!==(Xt=e[0]("Available commands")+"")&&ne(Oe,Xt),(!_t||2&u)&&eu!==(eu=e[1]('Any message starting with a-z is prefixed with "`/quote`", when sending from a connection conversation.')+"")&&(je.innerHTML=eu),1&u){let t;for(su=Hn,t=0;t<su.length;t+=1){const n=cc(e,su,t);lu[t]?lu[t].p(n,u):(lu[t]=lc(n),lu[t].c(),lu[t].m(Re,null))}for(;t<lu.length;t+=1)lu[t].d(1);lu.length=su.length}(!_t||1&u)&&uu!==(uu=e[0]("Other resources")+"")&&ne(Me,uu),(!_t||1&u)&&nu!==(nu=e[0]("Changelog for v%1",tu("version"))+"")&&ne(Ke,nu),(!_t||1&u)&&ru!==(ru=e[0]("Project homepage")+"")&&ne(Ve,ru),(!_t||1&u)&&du!==(du=e[0]("Bug/issue tracker")+"")&&ne(nt,du),(!_t||1&u)&&au!==(au=e[0]("Source code")+"")&&ne(ot,au),ou&&fu.p(e,u),(!_t||1&u)&&iu!==(iu=e[0]("Contact admin")+"")&&ne(ft,iu),(!_t||1&u)&&cu!==(cu=e[0]("Demo error pages")+"")&&ne(ht,cu);const r={};256&u&&(r.$$scope={dirty:u,ctx:e}),$t.$set(r);const a={};256&u&&(a.$$scope={dirty:u,ctx:e}),Et.$set(a);const i={};256&u&&(i.$$scope={dirty:u,ctx:e}),wt.$set(i)},i(e){_t||(He(t.$$.fragment,e),He($t.$$.fragment,e),He(Et.$$.fragment,e),He(wt.$$.fragment,e),_t=!0)},o(e){qe(t.$$.fragment,e),qe($t.$$.fragment,e),qe(Et.$$.fragment,e),qe(wt.$$.fragment,e),_t=!1},d(e){Xe(t,e),e&&W(u),e&&W(n),Y(lu,e),fu&&fu.d(),Xe($t),Xe(Et),Xe(wt)}}}function gc(e,t,u){let n,r;k(e,Un,(e=>u(0,n=e))),k(e,zn,(e=>u(1,r=e)));const d="https://github.com/convos-chat/convos/blob/v"+tu("version")+"/Changes#L3",a=Object.keys(In.emojis.aliases).sort().join(", ");return[n,r,d,a,"Help"]}class Dc extends ut{constructor(e){super(),tt(this,e,gc,hc,w,{title:4})}get title(){return this.$$.ctx[4]}}function bc(e){let t;return{c(){t=Z("input"),te(t,"type",e[2]),te(t,"id",e[1]),te(t,"name",e[0]),t.value=e[3]},m(e,u){K(e,t,u)},p(e,[u]){4&u&&te(t,"type",e[2]),2&u&&te(t,"id",e[1]),1&u&&te(t,"name",e[0]),8&u&&t.value!==e[3]&&(t.value=e[3])},i:v,o:v,d(e){e&&W(t)}}}function $c(e,t,u){let n,{form:r}=t,{name:d=""}=t,{id:a=(d?"form_"+d:ou())}=t,{type:o="hidden"}=t;const i=r.field(d);return k(e,i,(e=>u(3,n=e))),e.$$set=e=>{"form"in e&&u(5,r=e.form),"name"in e&&u(0,d=e.name),"id"in e&&u(1,a=e.id),"type"in e&&u(2,o=e.type)},[d,a,o,n,i,r]}class vc extends ut{constructor(e){super(),tt(this,e,$c,bc,w,{form:5,name:0,id:1,type:2})}}function yc(e,t,u){const n=e.slice();return n[16]=t[u],n}function Cc(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h=e[1]("Sign up")+"",g=e[1]("Please ask your Convos admin for an invite link to sign up, or sign in if you already have an account.")+"",D=e[1]("Contact admin")+"";return c=new ct({props:{name:"paper-plane"}}),p=new da({props:{href:"/login",$$slots:{default:[wc]},$$scope:{ctx:e}}}),{c(){t=Z("h2"),u=V(h),n=J(),r=Z("p"),d=V(g),a=J(),o=Z("div"),i=Z("a"),Je(c.$$.fragment),s=J(),l=V(D),f=J(),Je(p.$$.fragment),te(i,"class","btn"),te(i,"href",tu("contact")),te(o,"class","form-actions")},m(e,h){K(e,t,h),H(t,u),K(e,n,h),K(e,r,h),H(r,d),K(e,a,h),K(e,o,h),H(o,i),Qe(c,i,null),H(i,s),H(i,l),H(o,f),Qe(p,o,null),m=!0},p(e,t){(!m||2&t)&&h!==(h=e[1]("Sign up")+"")&&ne(u,h),(!m||2&t)&&g!==(g=e[1]("Please ask your Convos admin for an invite link to sign up, or sign in if you already have an account.")+"")&&ne(d,g),(!m||2&t)&&D!==(D=e[1]("Contact admin")+"")&&ne(l,D);const n={};524290&t&&(n.$$scope={dirty:t,ctx:e}),p.$set(n)},i(e){m||(He(c.$$.fragment,e),He(p.$$.fragment,e),m=!0)},o(e){qe(c.$$.fragment,e),qe(p.$$.fragment,e),m=!1},d(e){e&&W(t),e&&W(n),e&&W(r),e&&W(a),e&&W(o),Xe(c),Xe(p)}}}function Ec(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h=e[1]("Sign in")+"";return r=new ad({props:{type:"email",name:"email",form:e[4],placeholder:e[1]("Ex: john@doe.com"),$$slots:{label:[_c]},$$scope:{ctx:e}}}),a=new ad({props:{type:"password",name:"password",form:e[4],autocomplete:"current-password",$$slots:{help:[kc],label:[xc]},$$scope:{ctx:e}}}),c=new xr({props:{icon:"sign-in-alt",op:e[6],$$slots:{default:[Bc]},$$scope:{ctx:e}}}),l=new da({props:{href:"/register",$$slots:{default:[Sc]},$$scope:{ctx:e}}}),p=new Ir({props:{op:e[6],success:"Loading Convos..."}}),{c(){t=Z("h2"),u=V(h),n=J(),Je(r.$$.fragment),d=J(),Je(a.$$.fragment),o=J(),i=Z("div"),Je(c.$$.fragment),s=J(),Je(l.$$.fragment),f=J(),Je(p.$$.fragment),te(i,"class","form-actions")},m(e,h){K(e,t,h),H(t,u),K(e,n,h),Qe(r,e,h),K(e,d,h),Qe(a,e,h),K(e,o,h),K(e,i,h),Qe(c,i,null),H(i,s),Qe(l,i,null),K(e,f,h),Qe(p,e,h),m=!0},p(e,t){(!m||2&t)&&h!==(h=e[1]("Sign in")+"")&&ne(u,h);const n={};2&t&&(n.placeholder=e[1]("Ex: john@doe.com")),524290&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const d={};524294&t&&(d.$$scope={dirty:t,ctx:e}),a.$set(d);const o={};524290&t&&(o.$$scope={dirty:t,ctx:e}),c.$set(o);const i={};524290&t&&(i.$$scope={dirty:t,ctx:e}),l.$set(i)},i(e){m||(He(r.$$.fragment,e),He(a.$$.fragment,e),He(c.$$.fragment,e),He(l.$$.fragment,e),He(p.$$.fragment,e),m=!0)},o(e){qe(r.$$.fragment,e),qe(a.$$.fragment,e),qe(c.$$.fragment,e),qe(l.$$.fragment,e),qe(p.$$.fragment,e),m=!1},d(e){e&&W(t),e&&W(n),Xe(r,e),e&&W(d),Xe(a,e),e&&W(o),e&&W(i),Xe(c),Xe(l),e&&W(f),Xe(p,e)}}}function Ac(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$=("recover"==e[0]?e[1]("Recover account"):e[1]("Sign up"))+"",v=tu("first_user"),y=!tu("first_user"),C=v&&function(e){let t,u,n=e[1]('As you are the first user, you do not need any invitation link. Just fill in the form below, hit "Sign up" to start chatting.')+"";return{c(){t=Z("p"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]('As you are the first user, you do not need any invitation link. Just fill in the form below, hit "Sign up" to start chatting.')+"")&&ne(u,n)},d(e){e&&W(t)}}}(e);d=new vc({props:{name:"exp",form:e[4]}}),o=new vc({props:{name:"token",form:e[4]}}),c=new ad({props:{type:"email",name:"email",form:e[4],placeholder:e[1]("Ex: john@doe.com"),readonly:"register"!=e[0],$$slots:{help:[Nc],label:[Oc]},$$scope:{ctx:e}}}),l=new ad({props:{type:"password",name:"password",form:e[4],$$slots:{help:[Tc],label:[jc]},$$scope:{ctx:e}}}),m=new xr({props:{icon:"save",op:e[7],$$slots:{default:[Rc]},$$scope:{ctx:e}}});let E=y&&function(e){let t,u;return t=new da({props:{href:"/login",$$slots:{default:[Lc]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};524290&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}(e);return D=new Ir({props:{op:e[7],success:"Loading Convos..."}}),{c(){t=Z("h2"),u=V($),n=J(),C&&C.c(),r=J(),Je(d.$$.fragment),a=J(),Je(o.$$.fragment),i=J(),Je(c.$$.fragment),s=J(),Je(l.$$.fragment),f=J(),p=Z("div"),Je(m.$$.fragment),h=J(),E&&E.c(),g=J(),Je(D.$$.fragment),te(p,"class","form-actions")},m(e,$){K(e,t,$),H(t,u),K(e,n,$),C&&C.m(e,$),K(e,r,$),Qe(d,e,$),K(e,a,$),Qe(o,e,$),K(e,i,$),Qe(c,e,$),K(e,s,$),Qe(l,e,$),K(e,f,$),K(e,p,$),Qe(m,p,null),H(p,h),E&&E.m(p,null),K(e,g,$),Qe(D,e,$),b=!0},p(e,t){(!b||3&t)&&$!==($=("recover"==e[0]?e[1]("Recover account"):e[1]("Sign up"))+"")&&ne(u,$),v&&C.p(e,t);const n={};2&t&&(n.placeholder=e[1]("Ex: john@doe.com")),1&t&&(n.readonly="register"!=e[0]),524291&t&&(n.$$scope={dirty:t,ctx:e}),c.$set(n);const r={};524290&t&&(r.$$scope={dirty:t,ctx:e}),l.$set(r);const d={};524291&t&&(d.$$scope={dirty:t,ctx:e}),m.$set(d),y&&E.p(e,t)},i(e){b||(He(d.$$.fragment,e),He(o.$$.fragment,e),He(c.$$.fragment,e),He(l.$$.fragment,e),He(m.$$.fragment,e),He(E),He(D.$$.fragment,e),b=!0)},o(e){qe(d.$$.fragment,e),qe(o.$$.fragment,e),qe(c.$$.fragment,e),qe(l.$$.fragment,e),qe(m.$$.fragment,e),qe(E),qe(D.$$.fragment,e),b=!1},d(e){e&&W(t),e&&W(n),C&&C.d(e),e&&W(r),Xe(d,e),e&&W(a),Xe(o,e),e&&W(i),Xe(c,e),e&&W(s),Xe(l,e),e&&W(f),e&&W(p),Xe(m),E&&E.d(),e&&W(g),Xe(D,e)}}}function Fc(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g=e[1]("Invalid invite/recover URL")+"",D=e[1](410==tu("status")?"The link has expired.":"The link is invalid.")+"",b=e[1]("Please ask your Convos admin for a new link.")+"",$=e[1]("Contact admin")+"";return m=new da({props:{href:"/login",$$slots:{default:[Pc]},$$scope:{ctx:e}}}),{c(){t=Z("h2"),u=V(g),n=J(),r=Z("p"),d=V(D),a=J(),o=Z("p"),i=V(b),c=J(),s=Z("p"),l=Z("a"),f=V($),p=J(),Je(m.$$.fragment),te(l,"class","btn"),te(l,"href",tu("contact"))},m(e,g){K(e,t,g),H(t,u),K(e,n,g),K(e,r,g),H(r,d),K(e,a,g),K(e,o,g),H(o,i),K(e,c,g),K(e,s,g),H(s,l),H(l,f),H(s,p),Qe(m,s,null),h=!0},p(e,t){(!h||2&t)&&g!==(g=e[1]("Invalid invite/recover URL")+"")&&ne(u,g),(!h||2&t)&&D!==(D=e[1](410==tu("status")?"The link has expired.":"The link is invalid.")+"")&&ne(d,D),(!h||2&t)&&b!==(b=e[1]("Please ask your Convos admin for a new link.")+"")&&ne(i,b),(!h||2&t)&&$!==($=e[1]("Contact admin")+"")&&ne(f,$);const n={};524290&t&&(n.$$scope={dirty:t,ctx:e}),m.$set(n)},i(e){h||(He(m.$$.fragment,e),h=!0)},o(e){qe(m.$$.fragment,e),h=!1},d(e){e&&W(t),e&&W(n),e&&W(r),e&&W(a),e&&W(o),e&&W(c),e&&W(s),Xe(m)}}}function wc(e){let t,u=e[1]("Sign in")+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){2&n&&u!==(u=e[1]("Sign in")+"")&&ne(t,u)},d(e){e&&W(t)}}}function _c(e){let t,u,n=e[1]("Email")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Email")+"")&&ne(u,n)},d(e){e&&W(t)}}}function xc(e){let t,u,n=e[1]("Password")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Password")+"")&&ne(u,n)},d(e){e&&W(t)}}}function kc(e){let t,u=e[2]("Contact your [Convos admin](%1) if you have forgotten your password.",tu("contact"))+"";return{c(){t=Z("p"),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),t.innerHTML=u},p(e,n){4&n&&u!==(u=e[2]("Contact your [Convos admin](%1) if you have forgotten your password.",tu("contact"))+"")&&(t.innerHTML=u)},d(e){e&&W(t)}}}function Bc(e){let t,u,n=e[1]("Sign in")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Sign in")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Sc(e){let t,u=e[1]("Sign up")+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){2&n&&u!==(u=e[1]("Sign up")+"")&&ne(t,u)},d(e){e&&W(t)}}}function Oc(e){let t,u,n=e[1]("Email")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Email")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Nc(e){let t,u,n=("invitation"==e[0]?e[1]("Your email is from the invite link."):e[1]("Your email will be used if you forget your password."))+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){3&t&&n!==(n=("invitation"==e[0]?e[1]("Your email is from the invite link."):e[1]("Your email will be used if you forget your password."))+"")&&ne(u,n)},d(e){e&&W(t)}}}function jc(e){let t,u,n=e[1]("Password")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Password")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Tc(e){let t,u,n=e[1]("Hint: Use a phrase from a book.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Hint: Use a phrase from a book.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Rc(e){let t,u,n=("recover"==e[0]?e[1]("Set new password"):e[1]("Sign up"))+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){3&t&&n!==(n=("recover"==e[0]?e[1]("Set new password"):e[1]("Sign up"))+"")&&ne(u,n)},d(e){e&&W(t)}}}function Lc(e){let t,u=e[1]("Sign in")+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){2&n&&u!==(u=e[1]("Sign in")+"")&&ne(t,u)},d(e){e&&W(t)}}}function Pc(e){let t,u=e[1]("Sign in")+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){2&n&&u!==(u=e[1]("Sign in")+"")&&ne(t,u)},d(e){e&&W(t)}}}function Mc(e){let t,u,n,r,d,a=e[16][1]+"";function o(){return e[12](e[16])}return{c(){t=Z("a"),u=V(a),te(t,"href",n="#"+e[16][0])},m(e,n){K(e,t,n),H(t,u),r||(d=X(t,"click",o),r=!0)},p(r,d){e=r,8&d&&a!==(a=e[16][1]+"")&&ne(u,a),8&d&&n!==(n="#"+e[16][0])&&te(t,"href",n)},d(e){e&&W(t),r=!1,d()}}}function Ic(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h;n=new vc({props:{name:"mode",form:e[4]}});const g=[Fc,Ac,Ec,Cc],D=[];function b(e,t){return"invalid_invitation"==e[0]?0:((null==d||1&t)&&(d=!(-1==["recover","invitation","register"].indexOf(e[0]))),d?1:"login"==e[0]?2:3)}a=b(e,-1),o=D[a]=g[a](e),l=new ct({props:{name:"globe"}});let $=e[3].languageOptions,v=[];for(let t=0;t<$.length;t+=1)v[t]=Mc(yc(e,$,t));return{c(){t=Z("main"),u=Z("form"),Je(n.$$.fragment),r=J(),o.c(),i=J(),c=Z("div"),s=Z("footer"),Je(l.$$.fragment),f=J();for(let e=0;e<v.length;e+=1)v[e].c();te(u,"method","post"),te(t,"class","cms-main"),te(s,"class","footer language-selector"),te(c,"class","footer--wrapper is-small")},m(d,o){K(d,t,o),H(t,u),Qe(n,u,null),H(u,r),D[a].m(u,null),K(d,i,o),K(d,c,o),H(c,s),Qe(l,s,null),H(s,f);for(let e=0;e<v.length;e+=1)v[e].m(s,null);p=!0,m||(h=X(u,"submit",ee(e[8])),m=!0)},p(e,[t]){let n=a;if(a=b(e,t),a===n?D[a].p(e,t):(Ue(),qe(D[n],1,1,(()=>{D[n]=null})),ze(),o=D[a],o?o.p(e,t):(o=D[a]=g[a](e),o.c()),He(o,1),o.m(u,null)),8&t){let u;for($=e[3].languageOptions,u=0;u<$.length;u+=1){const n=yc(e,$,u);v[u]?v[u].p(n,t):(v[u]=Mc(n),v[u].c(),v[u].m(s,null))}for(;u<v.length;u+=1)v[u].d(1);v.length=$.length}},i(e){p||(He(n.$$.fragment,e),He(o),He(l.$$.fragment,e),p=!0)},o(e){qe(n.$$.fragment,e),qe(o),qe(l.$$.fragment,e),p=!1},d(e){e&&W(t),Xe(n),D[a].d(),e&&W(i),e&&W(c),Xe(l),Y(v,e),m=!1,h()}}}function Uc(e,t,u){let n,r,d,a,o,i;k(e,Uu,(e=>u(10,r=e))),k(e,Un,(e=>u(1,a=e))),k(e,zn,(e=>u(2,o=e))),k(e,In,(e=>u(3,i=e)));let{title:c="Sign in"}=t;const s=ye("api"),l=pd(),f=ye("user");k(e,f,(e=>u(11,d=e)));const p=s("loginUser"),m=s("registerUser");return e.$$set=e=>{"title"in e&&u(9,c=e.title)},e.$$.update=()=>{2048&e.$$.dirty&&function(e){if(e.is("loading")||!e.email)return;const t=e.conversations()[0],u=e.lastUrl?e.lastUrl:t?t.path:"/settings/connections";Uu.go(u,{replace:!0})}(d),1024&e.$$.dirty&&u(0,n=function(e){const t=-1!=e.path.indexOf("register"),n=!l.get("mode")&&tu("status")>=400?"invalid_invitation":e.param("email")&&tu("existing_user")?"recover":e.param("email")?"invitation":tu("first_user")||t&&tu("open_to_public")?"register":t?"invalid":"login";return l.set({email:e.param("email")||l.get("email")||"",exp:e.param("exp")||"",mode:n,token:e.param("token")||""}),u(9,c="login"==n?"Sign in":"Sign up"),"ontouchstart"in window||setTimeout((()=>Xt(document,".text-field input").reverse().map((e=>e.readOnly||e.focus()))),1),n}(r))},[n,a,o,i,l,f,p,m,async function(){const e="login"==n?p:m;await e.perform(l.get()),"login"!=n&&Uu.update({lastUrl:""}),e.error()||await f.load()},c,r,d,e=>i.load(e[0])]}class zc extends ut{constructor(e){super(),tt(this,e,Uc,Ic,w,{title:9})}}function Hc(e,t,u){const n=e.slice();return n[8]=t[u],n[10]=u,n}function qc(e){let t,u,n;return t=new ct({props:{name:"user-cog"}}),u=new ct({props:{name:"times"}}),{c(){Je(t.$$.fragment),Je(u.$$.fragment)},m(e,r){Qe(t,e,r),Qe(u,e,r),n=!0},p:v,i(e){n||(He(t.$$.fragment,e),He(u.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),qe(u.$$.fragment,e),n=!1},d(e){Xe(t,e),Xe(u,e)}}}function Gc(e){let t,u,n,r,d,a=e[3]("Notifications")+"";return r=new da({props:{href:"/settings/account",class:"btn-hallow",$$slots:{default:[qc]},$$scope:{ctx:e}}}),{c(){t=Z("h1"),u=V(a),n=J(),Je(r.$$.fragment)},m(e,a){K(e,t,a),H(t,u),K(e,n,a),Qe(r,e,a),d=!0},p(e,t){(!d||8&t)&&a!==(a=e[3]("Notifications")+"")&&ne(u,a);const n={};2048&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){d||(He(r.$$.fragment,e),d=!0)},o(e){qe(r.$$.fragment,e),d=!1},d(e){e&&W(t),e&&W(n),Xe(r,e)}}}function Kc(e){let t,u,n=e[3]("No notifications.")+"";return{c(){t=Z("h2"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("No notifications.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Wc(e){let t,u,n,r,d,a,o,i=e[8].ts.getHumanDate()+"";return n=new ct({props:{name:"calendar-alt"}}),{c(){t=Z("div"),u=Z("span"),Je(n.$$.fragment),r=J(),d=Z("i"),a=V(i),te(t,"class","message__status-line for-day-changed")},m(e,i){K(e,t,i),H(t,u),Qe(n,u,null),H(u,r),H(u,d),H(d,a),o=!0},p(e,t){(!o||16&t)&&i!==(i=e[8].ts.getHumanDate()+"")&&ne(a,i)},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&W(t),Xe(n)}}}function Yc(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$=e[8].ts.toLocaleString()+"",v=e[3]("%1 in %2",e[8].from,e[8].conversation_id)+"",y=e[8].markdown+"",C=(!e[10]||e[8].dayChanged)&&Wc(e);return n=new ct({props:{name:"pick:"+e[8].from,color:e[8].color}}),{c(){C&&C.c(),t=J(),u=Z("div"),Je(n.$$.fragment),r=J(),d=Z("div"),a=Z("div"),o=V($),c=J(),s=Z("a"),l=V(v),p=J(),m=Z("div"),te(d,"class","message__ts has-tooltip"),te(d,"data-content",i=e[8].ts.format("%H:%M")),te(s,"href",f=nr(e[8])),te(s,"class","message__from"),de(s,"color",e[8].color),te(m,"class","message__text"),te(u,"class",h=e[8].className)},m(e,i){C&&C.m(e,i),K(e,t,i),K(e,u,i),Qe(n,u,null),H(u,r),H(u,d),H(d,a),H(a,o),H(u,c),H(u,s),H(s,l),H(u,p),H(u,m),m.innerHTML=y,g=!0,D||(b=X(u,"click",rr),D=!0)},p(e,r){!e[10]||e[8].dayChanged?C?(C.p(e,r),16&r&&He(C,1)):(C=Wc(e),C.c(),He(C,1),C.m(t.parentNode,t)):C&&(Ue(),qe(C,1,1,(()=>{C=null})),ze());const a={};16&r&&(a.name="pick:"+e[8].from),16&r&&(a.color=e[8].color),n.$set(a),(!g||16&r)&&$!==($=e[8].ts.toLocaleString()+"")&&ne(o,$),(!g||16&r&&i!==(i=e[8].ts.format("%H:%M")))&&te(d,"data-content",i),(!g||24&r)&&v!==(v=e[3]("%1 in %2",e[8].from,e[8].conversation_id)+"")&&ne(l,v),(!g||16&r&&f!==(f=nr(e[8])))&&te(s,"href",f),(!g||16&r)&&de(s,"color",e[8].color),(!g||16&r)&&y!==(y=e[8].markdown+"")&&(m.innerHTML=y),(!g||16&r&&h!==(h=e[8].className))&&te(u,"class",h)},i(e){g||(He(C),He(n.$$.fragment,e),g=!0)},o(e){qe(C),qe(n.$$.fragment,e),g=!1},d(e){C&&C.d(e),e&&W(t),e&&W(u),Xe(n),D=!1,b()}}}function Zc(e){let t,u,n,r,d,a,o,i=e[3]("Loading...")+"";return n=new ct({props:{name:"spinner",animation:"spin"}}),{c(){t=Z("div"),u=Z("span"),Je(n.$$.fragment),r=J(),d=Z("i"),a=V(i),te(t,"class","message__status-line for-loading")},m(e,i){K(e,t,i),H(t,u),Qe(n,u,null),H(u,r),H(u,d),H(d,a),o=!0},p(e,t){(!o||8&t)&&i!==(i=e[3]("Loading...")+"")&&ne(a,i)},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&W(t),Xe(n)}}}function Vc(e){let t,u,n,r,d=0==e[4].length&&!e[5].is("loading"),a=e[1].is("loading"),o=d&&Kc(e),i=e[4].render(),c=[];for(let t=0;t<i.length;t+=1)c[t]=Yc(Hc(e,i,t));const s=e=>qe(c[e],1,1,(()=>{c[e]=null}));let l=a&&Zc(e);return{c(){o&&o.c(),t=J();for(let e=0;e<c.length;e+=1)c[e].c();u=J(),l&&l.c(),n=Q()},m(e,d){o&&o.m(e,d),K(e,t,d);for(let t=0;t<c.length;t+=1)c[t].m(e,d);K(e,u,d),l&&l.m(e,d),K(e,n,d),r=!0},p(e,r){if(16&r&&(d=0==e[4].length&&!e[5].is("loading")),d?o?o.p(e,r):(o=Kc(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),24&r){let t;for(i=e[4].render(),t=0;t<i.length;t+=1){const n=Hc(e,i,t);c[t]?(c[t].p(n,r),He(c[t],1)):(c[t]=Yc(n),c[t].c(),He(c[t],1),c[t].m(u.parentNode,u))}for(Ue(),t=i.length;t<c.length;t+=1)s(t);ze()}2&r&&(a=e[1].is("loading")),a?l?(l.p(e,r),2&r&&He(l,1)):(l=Zc(e),l.c(),He(l,1),l.m(n.parentNode,n)):l&&(Ue(),qe(l,1,1,(()=>{l=null})),ze())},i(e){if(!r){for(let e=0;e<i.length;e+=1)He(c[e]);He(l),r=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)qe(c[e]);qe(l),r=!1},d(e){o&&o.d(e),e&&W(t),Y(c,e),e&&W(u),l&&l.d(e),e&&W(n)}}}function Jc(e){let t,u,n,r;return t=new Ct({props:{$$slots:{default:[Gc]},$$scope:{ctx:e}}}),n=new Ma({props:{class:e[2].join(" "),$$slots:{default:[Vc]},$$scope:{ctx:e}}}),n.$on("rendered",Qc),{c(){Je(t.$$.fragment),u=J(),Je(n.$$.fragment)},m(e,d){Qe(t,e,d),K(e,u,d),Qe(n,e,d),r=!0},p(e,[u]){const r={};2056&u&&(r.$$scope={dirty:u,ctx:e}),t.$set(r);const d={};4&u&&(d.class=e[2].join(" ")),2074&u&&(d.$$scope={dirty:u,ctx:e}),n.$set(d)},i(e){r||(He(t.$$.fragment,e),He(n.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),qe(n.$$.fragment,e),r=!1},d(e){Xe(t,e),e&&W(u),Xe(n,e)}}}const Qc=e=>e.detail.scrollTo(-1);function Xc(e,t,u){let n,r,d,a,o,i=v;k(e,Un,(e=>u(3,a=e))),e.$$.on_destroy.push((()=>i()));const c=ye("user").notifications;return k(e,c,(e=>u(1,d=e))),be((async()=>{await c.load(),await c.markAsRead()})),e.$$.update=()=>{2&e.$$.dirty&&(u(0,r=d.messages),i(),i=_(r,(e=>u(4,o=e)))),1&e.$$.dirty&&u(2,n=["main",r.length&&"has-results"].filter((e=>e)))},[r,d,n,a,o,c,"Notifications"]}class es extends ut{constructor(e){super(),tt(this,e,Xc,Jc,w,{title:6})}get title(){return this.$$.ctx[6]}}function ts(e,t,u){const n=e.slice();return n[13]=t[u],n[15]=u,n}function us(e){let t,u,n;return t=new ct({props:{name:"search"}}),u=new ct({props:{name:"times"}}),{c(){Je(t.$$.fragment),Je(u.$$.fragment)},m(e,r){Qe(t,e,r),Qe(u,e,r),n=!0},p:v,i(e){n||(He(t.$$.fragment,e),He(u.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),qe(u.$$.fragment,e),n=!1},d(e){Xe(t,e),Xe(u,e)}}}function ns(e){let t,u,n,r,d,a=e[6](e[8].name)+"";return r=new da({props:{href:"/search",class:"btn-hallow "+(e[4]?"is-active":""),$$slots:{default:[us]},$$scope:{ctx:e}}}),r.$on("click",e[9]),{c(){t=Z("h1"),u=V(a),n=J(),Je(r.$$.fragment)},m(e,a){K(e,t,a),H(t,u),K(e,n,a),Qe(r,e,a),d=!0},p(e,t){(!d||64&t)&&a!==(a=e[6](e[8].name)+"")&&ne(u,a);const n={};16&t&&(n.class="btn-hallow "+(e[4]?"is-active":"")),65536&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){d||(He(r.$$.fragment,e),d=!0)},o(e){qe(r.$$.fragment,e),d=!1},d(e){e&&W(t),e&&W(n),Xe(r,e)}}}function rs(e){let t,u,n,r,d;const a=[as,ds],o=[];function i(e,u){return(null==t||4&u)&&(t=!!e[2].param("q")),t?0:1}return u=i(e,-1),n=o[u]=a[u](e),{c(){n.c(),r=Q()},m(e,t){o[u].m(e,t),K(e,r,t),d=!0},p(e,t){let d=u;u=i(e,t),u===d?o[u].p(e,t):(Ue(),qe(o[d],1,1,(()=>{o[d]=null})),ze(),n=o[u],n?n.p(e,t):(n=o[u]=a[u](e),n.c()),He(n,1),n.m(r.parentNode,r))},i(e){d||(He(n),d=!0)},o(e){qe(n),d=!1},d(e){o[u].d(e),e&&W(r)}}}function ds(e){let t,u,n,r,d,a=e[7]("You can enter a channel name like #cool_beans to narrow down the search, or enter @some_nick to filter messages sent by a given user.")+"";return u=new ct({props:{name:"info-circle"}}),{c(){t=Z("p"),Je(u.$$.fragment),n=J(),r=new se,r.a=null},m(e,o){K(e,t,o),Qe(u,t,null),H(t,n),r.m(a,t),d=!0},p(e,t){(!d||128&t)&&a!==(a=e[7]("You can enter a channel name like #cool_beans to narrow down the search, or enter @some_nick to filter messages sent by a given user.")+"")&&r.p(a)},i(e){d||(He(u.$$.fragment,e),d=!0)},o(e){qe(u.$$.fragment,e),d=!1},d(e){e&&W(t),Xe(u)}}}function as(e){let t,u,n,r,d,a=e[6]('No search results for "%1".',e[2].param("q"))+"";return u=new ct({props:{name:"info-circle"}}),{c(){t=Z("p"),Je(u.$$.fragment),n=J(),r=V(a)},m(e,a){K(e,t,a),Qe(u,t,null),H(t,n),H(t,r),d=!0},p(e,t){(!d||68&t)&&a!==(a=e[6]('No search results for "%1".',e[2].param("q"))+"")&&ne(r,a)},i(e){d||(He(u.$$.fragment,e),d=!0)},o(e){qe(u.$$.fragment,e),d=!1},d(e){e&&W(t),Xe(u)}}}function os(e){let t,u,n,r,d,a,o,i=e[13].ts.getHumanDate()+"";return n=new ct({props:{name:"calendar-alt"}}),{c(){t=Z("div"),u=Z("span"),Je(n.$$.fragment),r=J(),d=Z("i"),a=V(i),te(t,"class","message__status-line for-day-changed")},m(e,i){K(e,t,i),H(t,u),Qe(n,u,null),H(u,r),H(u,d),H(d,a),o=!0},p(e,t){(!o||2&t)&&i!==(i=e[13].ts.getHumanDate()+"")&&ne(a,i)},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&W(t),Xe(n)}}}function is(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v=e[13].ts.toLocaleString()+"",y=e[6]("%1 in %2",e[13].from,e[13].conversation_id)+"",C=e[13].markdown+"",E=(!e[15]||e[13].dayChanged)&&os(e);return n=new ct({props:{name:"pick:"+e[13].from,color:e[13].color}}),{c(){E&&E.c(),t=J(),u=Z("div"),Je(n.$$.fragment),r=J(),d=Z("div"),a=Z("div"),o=V(v),c=J(),s=Z("a"),l=V(y),p=J(),m=Z("div"),h=J(),te(d,"class","message__ts has-tooltip"),te(d,"data-content",i=e[13].ts.format("%H:%M")),te(s,"href",f=nr(e[13])),te(s,"class","message__from"),de(s,"color",e[13].color),te(m,"class","message__text"),te(u,"class",g=e[13].className)},m(e,i){E&&E.m(e,i),K(e,t,i),K(e,u,i),Qe(n,u,null),H(u,r),H(u,d),H(d,a),H(a,o),H(u,c),H(u,s),H(s,l),H(u,p),H(u,m),m.innerHTML=C,H(u,h),D=!0,b||($=X(u,"click",rr),b=!0)},p(e,r){!e[15]||e[13].dayChanged?E?(E.p(e,r),2&r&&He(E,1)):(E=os(e),E.c(),He(E,1),E.m(t.parentNode,t)):E&&(Ue(),qe(E,1,1,(()=>{E=null})),ze());const a={};2&r&&(a.name="pick:"+e[13].from),2&r&&(a.color=e[13].color),n.$set(a),(!D||2&r)&&v!==(v=e[13].ts.toLocaleString()+"")&&ne(o,v),(!D||2&r&&i!==(i=e[13].ts.format("%H:%M")))&&te(d,"data-content",i),(!D||66&r)&&y!==(y=e[6]("%1 in %2",e[13].from,e[13].conversation_id)+"")&&ne(l,y),(!D||2&r&&f!==(f=nr(e[13])))&&te(s,"href",f),(!D||2&r)&&de(s,"color",e[13].color),(!D||2&r)&&C!==(C=e[13].markdown+"")&&(m.innerHTML=C),(!D||2&r&&g!==(g=e[13].className))&&te(u,"class",g)},i(e){D||(He(E),He(n.$$.fragment,e),D=!0)},o(e){qe(E),qe(n.$$.fragment,e),D=!1},d(e){E&&E.d(e),e&&W(t),e&&W(u),Xe(n),b=!1,$()}}}function cs(e){let t,u,n,r,d,a,o,i=e[6]("Loading...")+"";return n=new ct({props:{name:"spinner",animation:"spin"}}),{c(){t=Z("div"),u=Z("span"),Je(n.$$.fragment),r=J(),d=Z("i"),a=V(i),te(t,"class","message__status-line for-loading")},m(e,i){K(e,t,i),H(t,u),Qe(n,u,null),H(u,r),H(u,d),H(d,a),o=!0},p(e,t){(!o||64&t)&&i!==(i=e[6]("Loading...")+"")&&ne(a,i)},i(e){o||(He(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&W(t),Xe(n)}}}function ss(e){let t,u,n,r,d=0==e[1].length&&!e[8].is("loading"),a=e[3].is("loading"),o=d&&rs(e),i=e[1].render(),c=[];for(let t=0;t<i.length;t+=1)c[t]=is(ts(e,i,t));const s=e=>qe(c[e],1,1,(()=>{c[e]=null}));let l=a&&cs(e);return{c(){o&&o.c(),t=J();for(let e=0;e<c.length;e+=1)c[e].c();u=J(),l&&l.c(),n=Q()},m(e,d){o&&o.m(e,d),K(e,t,d);for(let t=0;t<c.length;t+=1)c[t].m(e,d);K(e,u,d),l&&l.m(e,d),K(e,n,d),r=!0},p(e,r){if(2&r&&(d=0==e[1].length&&!e[8].is("loading")),d?o?(o.p(e,r),2&r&&He(o,1)):(o=rs(e),o.c(),He(o,1),o.m(t.parentNode,t)):o&&(Ue(),qe(o,1,1,(()=>{o=null})),ze()),66&r){let t;for(i=e[1].render(),t=0;t<i.length;t+=1){const n=ts(e,i,t);c[t]?(c[t].p(n,r),He(c[t],1)):(c[t]=is(n),c[t].c(),He(c[t],1),c[t].m(u.parentNode,u))}for(Ue(),t=i.length;t<c.length;t+=1)s(t);ze()}8&r&&(a=e[3].is("loading")),a?l?(l.p(e,r),8&r&&He(l,1)):(l=cs(e),l.c(),He(l,1),l.m(n.parentNode,n)):l&&(Ue(),qe(l,1,1,(()=>{l=null})),ze())},i(e){if(!r){He(o);for(let e=0;e<i.length;e+=1)He(c[e]);He(l),r=!0}},o(e){qe(o),c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)qe(c[e]);qe(l),r=!1},d(e){o&&o.d(e),e&&W(t),Y(c,e),e&&W(u),l&&l.d(e),e&&W(n)}}}function ls(e){let t,u,n,r,d,a,o=e[8].is("search");t=new Ct({props:{$$slots:{default:[ns]},$$scope:{ctx:e}}}),n=new Ma({props:{class:e[5].join(" "),$$slots:{default:[ss]},$$scope:{ctx:e}}}),n.$on("rendered",fs);let i=o&&function(e){let t,u;return t=new Fr({props:{conversation:e[8]}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p:v,i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}(e);return{c(){Je(t.$$.fragment),u=J(),Je(n.$$.fragment),r=J(),i&&i.c(),d=Q()},m(e,o){Qe(t,e,o),K(e,u,o),Qe(n,e,o),K(e,r,o),i&&i.m(e,o),K(e,d,o),a=!0},p(e,[u]){const r={};65616&u&&(r.$$scope={dirty:u,ctx:e}),t.$set(r);const d={};32&u&&(d.class=e[5].join(" ")),65742&u&&(d.$$scope={dirty:u,ctx:e}),n.$set(d),o&&i.p(e,u)},i(e){a||(He(t.$$.fragment,e),He(n.$$.fragment,e),He(i),a=!0)},o(e){qe(t.$$.fragment,e),qe(n.$$.fragment,e),qe(i),a=!1},d(e){Xe(t,e),e&&W(u),Xe(n,e),e&&W(r),i&&i.d(e),e&&W(d)}}}const fs=e=>e.detail.scrollTo(-1);function ps(e,t,u){let n,r,d,a,o,i,c,s,l=v;k(e,Uu,(e=>u(2,o=e))),k(e,Un,(e=>u(6,c=e))),k(e,zn,(e=>u(7,s=e))),e.$$.on_destroy.push((()=>l()));const f=ye("user"),p=f.search;function m(e){const t=e.message;return p.update({userInput:t}),Uu.go("/search?q="+encodeURIComponent(t),{replace:!0}),t?p.load({match:t}):n.clear()}return k(e,p,(e=>u(3,i=e))),be((()=>{f.search.on("send",m),Uu.param("q")&&m({message:Uu.param("q")})})),e.$$.update=()=>{8&e.$$.dirty&&(u(0,n=i.messages),l(),l=_(n,(e=>u(1,a=e)))),9&e.$$.dirty&&u(5,r=["main",n.length&&"has-results",i.is("search")&&"is-above-chat-input"].filter((e=>e))),6&e.$$.dirty&&u(4,d=o.param("q")||a.length)},[n,a,o,i,d,r,c,s,p,function(e){if(d)return a.clear();e.preventDefault(),document.querySelector(".is-primary-input").focus()},"Search"]}class ms extends ut{constructor(e){super(),tt(this,e,ps,ls,w,{title:10})}get title(){return this.$$.ctx[10]}}function hs(e){let t,u,n=e[1]("Account")+"";return{c(){t=Z("h1"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Account")+"")&&ne(u,n)},d(e){e&&W(t)}}}function gs(e){let t,u,n=e[1]("Email")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Email")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ds(e){let t,u,n=e[1]("Notification keywords")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Notification keywords")+"")&&ne(u,n)},d(e){e&&W(t)}}}function bs(e){let t,u,n=e[1]("Enable notifications")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Enable notifications")+"")&&ne(u,n)},d(e){e&&W(t)}}}function $s(e){let t,u,n=e[1]("Ignore join/part messages")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Ignore join/part messages")+"")&&ne(u,n)},d(e){e&&W(t)}}}function vs(e){let t,u,n=e[1]("Expand URL to media")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Expand URL to media")+"")&&ne(u,n)},d(e){e&&W(t)}}}function ys(e){let t,u,n=e[1]("Theme")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Theme")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Cs(e){let t,u,n=e[1]("Color scheme")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Color scheme")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Es(e){let t,u,n=e[1]("Enable compact message display")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Enable compact message display")+"")&&ne(u,n)},d(e){e&&W(t)}}}function As(e){let t,u,n,r,d,a=e[1]("Language")+"";return r=new ct({props:{name:"globe"}}),{c(){t=Z("span"),u=V(a),n=J(),Je(r.$$.fragment),te(t,"slot","label")},m(e,a){K(e,t,a),H(t,u),H(t,n),Qe(r,t,null),d=!0},p(e,t){(!d||2&t)&&a!==(a=e[1]("Language")+"")&&ne(u,a)},i(e){d||(He(r.$$.fragment,e),d=!0)},o(e){qe(r.$$.fragment,e),d=!1},d(e){e&&W(t),Xe(r)}}}function Fs(e){let t,u,n=e[1]("Password")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Password")+"")&&ne(u,n)},d(e){e&&W(t)}}}function ws(e){let t,u,n=e[1]("Repeat password")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Repeat password")+"")&&ne(u,n)},d(e){e&&W(t)}}}function _s(e){let t,u,n=e[1]("Save settings")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("Save settings")+"")&&ne(u,n)},d(e){e&&W(t)}}}function xs(e){let t,u,n=e[1]("irc://")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("irc://")+"")&&ne(u,n)},d(e){e&&W(t)}}}function ks(e){let t,u,n=e[1]("ircs://")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){2&t&&n!==(n=e[1]("ircs://")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Bs(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E,A,F,w,_,x,k,B,S,O,N,j,T,R,L,P,M,I=e[2]('Leave this unchecked, and hit "Save" to disable notifications.')+"",U=e[1]("Leave the password fields empty to keep the current password.")+"";t=new Ct({props:{$$slots:{default:[hs]},$$scope:{ctx:e}}}),d=new ad({props:{type:"email",name:"email",form:e[4],readonly:!0,$$slots:{label:[gs]},$$scope:{ctx:e}}}),o=new ad({props:{name:"highlightKeywords",form:e[4],placeholder:e[1]("whatever, keywords"),$$slots:{label:[Ds]},$$scope:{ctx:e}}}),c=new jr({props:{name:"wantNotifications",form:e[4],$$slots:{label:[bs]},$$scope:{ctx:e}}}),p=new jr({props:{name:"ignoreStatuses",form:e[4],$$slots:{label:[$s]},$$scope:{ctx:e}}}),h=new jr({props:{name:"expandUrlToMedia",form:e[4],$$slots:{label:[vs]},$$scope:{ctx:e}}}),D=new Wr({props:{name:"activeTheme",form:e[4],options:e[6].themeOptions,$$slots:{label:[ys]},$$scope:{ctx:e}}}),$=new Wr({props:{name:"colorScheme",form:e[4],readonly:e[0],options:e[6].colorSchemeOptions,$$slots:{label:[Cs]},$$scope:{ctx:e}}}),y=new jr({props:{name:"compactDisplay",form:e[4],$$slots:{label:[Es]},$$scope:{ctx:e}}}),E=new Wr({props:{name:"lang",form:e[4],options:e[3].languageOptions,$$slots:{label:[As]},$$scope:{ctx:e}}}),F=new ad({props:{type:"password",name:"password",form:e[4],autocomplete:"new-password",$$slots:{label:[Fs]},$$scope:{ctx:e}}}),_=new ad({props:{type:"password",name:"password_again",form:e[4],autocomplete:"new-password",$$slots:{label:[ws]},$$scope:{ctx:e}}}),N=new xr({props:{icon:"save",op:e[7],$$slots:{default:[_s]},$$scope:{ctx:e}}}),T=new Ir({props:{op:e[7]}});let z=e[5]&&function(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$=e[1]("Mark the protocols below that you want %1 to handle, and a popup should ask you for confirmation.",e[1]("Convos"))+"",v=e[1]("If you do not see any popup, then it probably means %1 already handles the protocol.",e[1]("Convos"))+"",y=e[2]("Test it by clicking on %1.","irc://localhost:6667")+"",C=e[2]("Test it by clicking on %1.","ircs://irc.libera.chat:6697/%23convos")+"";return c=new jr({props:{name:"handle_protocol_irc",form:e[4],$$slots:{label:[xs]},$$scope:{ctx:e}}}),p=new jr({props:{name:"handle_protocol_ircs",form:e[4],$$slots:{label:[ks]},$$scope:{ctx:e}}}),{c(){t=Z("form"),u=Z("h2"),u.textContent="Protocol handlers",n=J(),r=Z("p"),d=V($),a=J(),o=V(v),i=J(),Je(c.$$.fragment),s=J(),l=Z("p"),f=J(),Je(p.$$.fragment),m=J(),h=Z("p"),te(l,"class","help"),te(h,"class","help")},m($,v){K($,t,v),H(t,u),H(t,n),H(t,r),H(r,d),H(r,a),H(r,o),H(t,i),Qe(c,t,null),H(t,s),H(t,l),l.innerHTML=y,H(t,f),Qe(p,t,null),H(t,m),H(t,h),h.innerHTML=C,g=!0,D||(b=X(t,"submit",ee(e[12])),D=!0)},p(e,t){(!g||2&t)&&$!==($=e[1]("Mark the protocols below that you want %1 to handle, and a popup should ask you for confirmation.",e[1]("Convos"))+"")&&ne(d,$),(!g||2&t)&&v!==(v=e[1]("If you do not see any popup, then it probably means %1 already handles the protocol.",e[1]("Convos"))+"")&&ne(o,v);const u={};65538&t&&(u.$$scope={dirty:t,ctx:e}),c.$set(u),(!g||4&t)&&y!==(y=e[2]("Test it by clicking on %1.","irc://localhost:6667")+"")&&(l.innerHTML=y);const n={};65538&t&&(n.$$scope={dirty:t,ctx:e}),p.$set(n),(!g||4&t)&&C!==(C=e[2]("Test it by clicking on %1.","ircs://irc.libera.chat:6697/%23convos")+"")&&(h.innerHTML=C)},i(e){g||(He(c.$$.fragment,e),He(p.$$.fragment,e),g=!0)},o(e){qe(c.$$.fragment,e),qe(p.$$.fragment,e),g=!1},d(e){e&&W(t),Xe(c),Xe(p),D=!1,b()}}}(e);return{c(){Je(t.$$.fragment),u=J(),n=Z("main"),r=Z("form"),Je(d.$$.fragment),a=J(),Je(o.$$.fragment),i=J(),Je(c.$$.fragment),s=J(),l=Z("p"),f=J(),Je(p.$$.fragment),m=J(),Je(h.$$.fragment),g=J(),Je(D.$$.fragment),b=J(),Je($.$$.fragment),v=J(),Je(y.$$.fragment),C=J(),Je(E.$$.fragment),A=J(),Je(F.$$.fragment),w=J(),Je(_.$$.fragment),x=J(),k=Z("p"),B=V(U),S=J(),O=Z("div"),Je(N.$$.fragment),j=J(),Je(T.$$.fragment),R=J(),z&&z.c(),te(l,"class","help"),te(O,"class","form-actions"),te(r,"method","post"),te(n,"class","main")},m(U,q){Qe(t,U,q),K(U,u,q),K(U,n,q),H(n,r),Qe(d,r,null),H(r,a),Qe(o,r,null),H(r,i),Qe(c,r,null),H(r,s),H(r,l),l.innerHTML=I,H(r,f),Qe(p,r,null),H(r,m),Qe(h,r,null),H(r,g),Qe(D,r,null),H(r,b),Qe($,r,null),H(r,v),Qe(y,r,null),H(r,C),Qe(E,r,null),H(r,A),Qe(F,r,null),H(r,w),Qe(_,r,null),H(r,x),H(r,k),H(k,B),H(r,S),H(r,O),Qe(N,O,null),H(r,j),Qe(T,r,null),H(n,R),z&&z.m(n,null),L=!0,P||(M=X(r,"submit",ee(e[8])),P=!0)},p(e,[u]){const n={};65538&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n);const r={};65538&u&&(r.$$scope={dirty:u,ctx:e}),d.$set(r);const a={};2&u&&(a.placeholder=e[1]("whatever, keywords")),65538&u&&(a.$$scope={dirty:u,ctx:e}),o.$set(a);const i={};65538&u&&(i.$$scope={dirty:u,ctx:e}),c.$set(i),(!L||4&u)&&I!==(I=e[2]('Leave this unchecked, and hit "Save" to disable notifications.')+"")&&(l.innerHTML=I);const s={};65538&u&&(s.$$scope={dirty:u,ctx:e}),p.$set(s);const f={};65538&u&&(f.$$scope={dirty:u,ctx:e}),h.$set(f);const m={};65538&u&&(m.$$scope={dirty:u,ctx:e}),D.$set(m);const g={};1&u&&(g.readonly=e[0]),65538&u&&(g.$$scope={dirty:u,ctx:e}),$.$set(g);const b={};65538&u&&(b.$$scope={dirty:u,ctx:e}),y.$set(b);const v={};8&u&&(v.options=e[3].languageOptions),65538&u&&(v.$$scope={dirty:u,ctx:e}),E.$set(v);const C={};65538&u&&(C.$$scope={dirty:u,ctx:e}),F.$set(C);const A={};65538&u&&(A.$$scope={dirty:u,ctx:e}),_.$set(A),(!L||2&u)&&U!==(U=e[1]("Leave the password fields empty to keep the current password.")+"")&&ne(B,U);const w={};65538&u&&(w.$$scope={dirty:u,ctx:e}),N.$set(w),e[5]&&z.p(e,u)},i(e){L||(He(t.$$.fragment,e),He(d.$$.fragment,e),He(o.$$.fragment,e),He(c.$$.fragment,e),He(p.$$.fragment,e),He(h.$$.fragment,e),He(D.$$.fragment,e),He($.$$.fragment,e),He(y.$$.fragment,e),He(E.$$.fragment,e),He(F.$$.fragment,e),He(_.$$.fragment,e),He(N.$$.fragment,e),He(T.$$.fragment,e),He(z),L=!0)},o(e){qe(t.$$.fragment,e),qe(d.$$.fragment,e),qe(o.$$.fragment,e),qe(c.$$.fragment,e),qe(p.$$.fragment,e),qe(h.$$.fragment,e),qe(D.$$.fragment,e),qe($.$$.fragment,e),qe(y.$$.fragment,e),qe(E.$$.fragment,e),qe(F.$$.fragment,e),qe(_.$$.fragment,e),qe(N.$$.fragment,e),qe(T.$$.fragment,e),qe(z),L=!1},d(e){Xe(t,e),e&&W(u),e&&W(n),Xe(d),Xe(o),Xe(c),Xe(p),Xe(h),Xe(D),Xe($),Xe(y),Xe(E),Xe(F),Xe(_),Xe(N),Xe(T),z&&z.d(),P=!1,M()}}}function Ss(e,t,u){let n,r,d,a,o,i;k(e,Un,(e=>u(1,d=e))),k(e,zn,(e=>u(2,o=e))),k(e,In,(e=>u(3,i=e)));const c=ye("api"),s=pd();k(e,s,(e=>u(10,r=e)));const l="registerProtocolHandler"in navigator,f=ye("themeManager");k(e,f,(e=>u(11,a=e)));const p=ye("user"),m=c("updateUser");function h(e){navigator.registerProtocolHandler(e,Uu.urlFor("/register?uri=%s"),d("Convos %1 handler",e))}return s.set({activeTheme:f.activeTheme,colorScheme:f.colorScheme,compactDisplay:f.compactDisplay,email:p.email,expandUrlToMedia:p.expandUrlToMedia,highlightKeywords:p.highlightKeywords.join(", "),ignoreStatuses:p.ignoreStatuses,lang:In.lang,wantNotifications:qa.wantNotifications}),$e(qa.on("update",((e,t)=>{(t.wantNotifications||t.desktopAccess)&&e.wantNotifications&&e.show(d("You have enabled notifications."))}))),e.$$.update=()=>{3072&e.$$.dirty&&u(0,n=!a.hasColorScheme(r.activeTheme)),1024&e.$$.dirty&&In.load(r.lang),1024&e.$$.dirty&&r.handle_protocol_irc&&h("irc"),1024&e.$$.dirty&&r.handle_protocol_ircs&&h("ircs")},[n,d,o,i,s,l,f,m,function(){const e=[r.password,r.password_again];if(e.join("").length&&e[0]!=e[1])return m.error("Passwords does not match.");r.wantNotifications||s.set({wantNotifications:!1}),r.wantNotifications&&qa.requestDesktopAccess(),qa.update(s.get(["wantNotifications"])),n&&s.set({colorScheme:"auto"}),f.update(s.get(["activeTheme","colorScheme","compactDisplay"]));const t=nu(s.get("highlightKeywords")),u={email:p.email,highlight_keywords:t};e[0]&&(u.password=e[0]),p.update(s.get(["expandUrlToMedia","ignoreStatuses"])).update({highlightKeywords:t}),m.perform(u)},"Account",r,a,function(t){Ce.call(this,e,t)}]}class Os extends ut{constructor(e){super(),tt(this,e,Ss,Bs,w,{title:9})}get title(){return this.$$.ctx[9]}}function Ns(e){let t,u,n=e[4]("Global settings")+"";return{c(){t=Z("h1"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){16&t&&n!==(n=e[4]("Global settings")+"")&&ne(u,n)},d(e){e&&W(t)}}}function js(e){let t,u,n=e[4]("Organization name")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){16&t&&n!==(n=e[4]("Organization name")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ts(e){let t,u,n=e[4]("Can be changed if you want to add a touch of your organization.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){16&t&&n!==(n=e[4]("Can be changed if you want to add a touch of your organization.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Rs(e){let t,u,n=e[4]("Organization URL")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){16&t&&n!==(n=e[4]("Organization URL")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ls(e){let t,u,n=e[4]('Used together with "Organization name" to add a link to your organization on the login screen.')+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){16&t&&n!==(n=e[4]('Used together with "Organization name" to add a link to your organization on the login screen.')+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ps(e){let t,u,n=e[4]("Admin email")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){16&t&&n!==(n=e[4]("Admin email")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ms(e){let t,u,n=e[4]("This email can be used by users to get in touch with the Convos admin.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){16&t&&n!==(n=e[4]("This email can be used by users to get in touch with the Convos admin.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Is(e){let t,u,n=e[4]("Video service")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){16&t&&n!==(n=e[4]("Video service")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Us(e){let t,u=e[5]("This should point to a [%1](%2) instance.","https://meet.jit.si/","https://github.com/jitsi/jitsi-meet")+"";return{c(){t=Z("p"),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),t.innerHTML=u},p(e,n){32&n&&u!==(u=e[5]("This should point to a [%1](%2) instance.","https://meet.jit.si/","https://github.com/jitsi/jitsi-meet")+"")&&(t.innerHTML=u)},d(e){e&&W(t)}}}function zs(e){let t,u,n=e[4]("Registration is open to public")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){16&t&&n!==(n=e[4]("Registration is open to public")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Hs(e){let t,u,n=e[4]("Save settings")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){16&t&&n!==(n=e[4]("Save settings")+"")&&ne(u,n)},d(e){e&&W(t)}}}function qs(e){let t,u,n=e[5]("You currently have Convos v%1 installed.",tu("version"))+"";return{c(){t=Z("p"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){32&t&&n!==(n=e[5]("You currently have Convos v%1 installed.",tu("version"))+"")&&ne(u,n)},d(e){e&&W(t)}}}function Gs(e){let t,u,n=e[5](e[3]?"You have Convos v%1, which is the latest version.":"Convos v%1 is available.",e[0])+"";return{c(){t=Z("p"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){41&t&&n!==(n=e[5](e[3]?"You have Convos v%1, which is the latest version.":"Convos v%1 is available.",e[0])+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ks(e){let t,u,n=e[4](e[1].error())+"";return{c(){t=Z("div"),u=V(n),te(t,"class","error")},m(e,n){K(e,t,n),H(t,u)},p(e,t){18&t&&n!==(n=e[4](e[1].error())+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ws(e){let t,u,n=e[4]("Check for updates")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){16&t&&n!==(n=e[4]("Check for updates")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Ys(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E,A,F,w,_,x=e[4]("Disk usage")+"",k=e[2].blocks_pct+"",B=e[4]("Disk usage")+"",S=e[2].blocks_used+"",O=e[2].blocks_total+"",N=e[2].inodes_pct+"",j=e[4]("Inode usage")+"",T=e[2].inodes_used+"",R=e[2].inodes_total+"";return{c(){t=Z("div"),u=Z("h2"),n=V(x),r=J(),d=Z("div"),a=Z("div"),o=V(k),i=V("%"),c=J(),s=Z("p"),l=V(B),f=V(": "),p=V(S),m=V(" / "),h=V(O),g=J(),D=Z("div"),b=Z("div"),$=V(N),v=V("%"),y=J(),C=Z("p"),E=V(j),A=V(": "),F=V(T),w=V(" / "),_=V(R),te(a,"class","progress__bar"),de(a,"width",e[2].blocks_pct+"%"),te(d,"class","progress"),te(s,"class","help"),te(b,"class","progress__bar"),de(b,"width",e[2].inodes_pct+"%"),te(D,"class","progress"),te(C,"class","help"),te(t,"id","disk-usage")},m(e,x){K(e,t,x),H(t,u),H(u,n),H(t,r),H(t,d),H(d,a),H(a,o),H(a,i),H(t,c),H(t,s),H(s,l),H(s,f),H(s,p),H(s,m),H(s,h),H(t,g),H(t,D),H(D,b),H(b,$),H(b,v),H(t,y),H(t,C),H(C,E),H(C,A),H(C,F),H(C,w),H(C,_)},p(e,t){16&t&&x!==(x=e[4]("Disk usage")+"")&&ne(n,x),4&t&&k!==(k=e[2].blocks_pct+"")&&ne(o,k),4&t&&de(a,"width",e[2].blocks_pct+"%"),16&t&&B!==(B=e[4]("Disk usage")+"")&&ne(l,B),4&t&&S!==(S=e[2].blocks_used+"")&&ne(p,S),4&t&&O!==(O=e[2].blocks_total+"")&&ne(h,O),4&t&&N!==(N=e[2].inodes_pct+"")&&ne($,N),4&t&&de(b,"width",e[2].inodes_pct+"%"),16&t&&j!==(j=e[4]("Inode usage")+"")&&ne(E,j),4&t&&T!==(T=e[2].inodes_used+"")&&ne(F,T),4&t&&R!==(R=e[2].inodes_total+"")&&ne(_,R)},d(e){e&&W(t)}}}function Zs(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E,F,w,_,x,k,B,S,O,N,j,T,R,L,P,M,I,U=e[4]("Convos settings")+"",z=e[5]("These settings control what users experience when they visit [%1](%1).",tu("base_url"))+"",q=e[4]("Tick this box if you want users to be able to register without an invite URL.")+"",G=e[4]("Check for updates")+"";function Y(e,t){return(null==N||2&t)&&(N=!!e[1].is("error")),N?Ks:((null==j||2&t)&&(j=!!e[1].is("success")),j?Gs:qs)}t=new Ct({props:{$$slots:{default:[Ns]},$$scope:{ctx:e}}}),s=new ad({props:{name:"organization_name",form:e[6],$$slots:{help:[Ts],label:[js]},$$scope:{ctx:e}}}),f=new ad({props:{name:"organization_url",form:e[6],placeholder:e[4]("https://convos.chat"),$$slots:{help:[Ls],label:[Rs]},$$scope:{ctx:e}}}),m=new ad({props:{name:"contact",form:e[6],placeholder:e[4]("Ex: jhthorsen@cpan.org"),$$slots:{help:[Ms],label:[Ps]},$$scope:{ctx:e}}}),g=new ad({props:{name:"video_service",form:e[6],placeholder:e[4]("Ex: https://meet.jit.si/"),$$slots:{help:[Us],label:[Is]},$$scope:{ctx:e}}}),b=new jr({props:{name:"open_to_public",form:e[6],$$slots:{label:[zs]},$$scope:{ctx:e}}}),F=new xr({props:{icon:"save",op:e[8],$$slots:{default:[Hs]},$$scope:{ctx:e}}}),_=new Ir({props:{op:e[8]}});let Q=Y(e,-1),ue=Q(e);R=new xr({props:{icon:"sync-alt",op:e[7],$$slots:{default:[Ws]},$$scope:{ctx:e}}});let re=e[2]&&Ys(e);return{c(){Je(t.$$.fragment),u=J(),n=Z("main"),r=Z("form"),d=Z("h2"),a=V(U),o=J(),i=Z("p"),c=J(),Je(s.$$.fragment),l=J(),Je(f.$$.fragment),p=J(),Je(m.$$.fragment),h=J(),Je(g.$$.fragment),D=J(),Je(b.$$.fragment),$=J(),v=Z("p"),y=V(q),C=J(),E=Z("div"),Je(F.$$.fragment),w=J(),Je(_.$$.fragment),x=J(),k=Z("h2"),B=V(G),S=J(),O=Z("form"),ue.c(),T=J(),Je(R.$$.fragment),L=J(),re&&re.c(),te(v,"class","help"),te(E,"class","form-actions"),te(r,"id","convos-settings"),te(r,"method","post"),te(O,"id","convos-updates"),te(O,"method","post"),te(n,"class","main")},m(A,N){Qe(t,A,N),K(A,u,N),K(A,n,N),H(n,r),H(r,d),H(d,a),H(r,o),H(r,i),i.innerHTML=z,H(r,c),Qe(s,r,null),H(r,l),Qe(f,r,null),H(r,p),Qe(m,r,null),H(r,h),Qe(g,r,null),H(r,D),Qe(b,r,null),H(r,$),H(r,v),H(v,y),H(r,C),H(r,E),Qe(F,E,null),H(r,w),Qe(_,r,null),H(n,x),H(n,k),H(k,B),H(n,S),H(n,O),ue.m(O,null),H(O,T),Qe(R,O,null),H(n,L),re&&re.m(n,null),P=!0,M||(I=[X(r,"submit",ee(e[9])),X(O,"submit",ee(e[11]))],M=!0)},p(e,[u]){const r={};65552&u&&(r.$$scope={dirty:u,ctx:e}),t.$set(r),(!P||16&u)&&U!==(U=e[4]("Convos settings")+"")&&ne(a,U),(!P||32&u)&&z!==(z=e[5]("These settings control what users experience when they visit [%1](%1).",tu("base_url"))+"")&&(i.innerHTML=z);const d={};65552&u&&(d.$$scope={dirty:u,ctx:e}),s.$set(d);const o={};16&u&&(o.placeholder=e[4]("https://convos.chat")),65552&u&&(o.$$scope={dirty:u,ctx:e}),f.$set(o);const c={};16&u&&(c.placeholder=e[4]("Ex: jhthorsen@cpan.org")),65552&u&&(c.$$scope={dirty:u,ctx:e}),m.$set(c);const l={};16&u&&(l.placeholder=e[4]("Ex: https://meet.jit.si/")),65584&u&&(l.$$scope={dirty:u,ctx:e}),g.$set(l);const p={};65552&u&&(p.$$scope={dirty:u,ctx:e}),b.$set(p),(!P||16&u)&&q!==(q=e[4]("Tick this box if you want users to be able to register without an invite URL.")+"")&&ne(y,q);const h={};65552&u&&(h.$$scope={dirty:u,ctx:e}),F.$set(h),(!P||16&u)&&G!==(G=e[4]("Check for updates")+"")&&ne(B,G),Q===(Q=Y(e,u))&&ue?ue.p(e,u):(ue.d(1),ue=Q(e),ue&&(ue.c(),ue.m(O,T)));const D={};65552&u&&(D.$$scope={dirty:u,ctx:e}),R.$set(D),e[2]?re?re.p(e,u):(re=Ys(e),re.c(),re.m(n,null)):re&&(re.d(1),re=null)},i(e){P||(He(t.$$.fragment,e),He(s.$$.fragment,e),He(f.$$.fragment,e),He(m.$$.fragment,e),He(g.$$.fragment,e),He(b.$$.fragment,e),He(F.$$.fragment,e),He(_.$$.fragment,e),He(R.$$.fragment,e),P=!0)},o(e){qe(t.$$.fragment,e),qe(s.$$.fragment,e),qe(f.$$.fragment,e),qe(m.$$.fragment,e),qe(g.$$.fragment,e),qe(b.$$.fragment,e),qe(F.$$.fragment,e),qe(_.$$.fragment,e),qe(R.$$.fragment,e),P=!1},d(e){Xe(t,e),e&&W(u),e&&W(n),Xe(s),Xe(f),Xe(m),Xe(g),Xe(b),Xe(F),Xe(_),ue.d(),Xe(R),re&&re.d(),M=!1,A(I)}}}function Vs(e,t,u){let n,r,d,a,o;k(e,Un,(e=>u(4,a=e))),k(e,zn,(e=>u(5,o=e)));const i=ye("api"),c=pd(),s=ye("user"),l=i("checkForUpdates");k(e,l,(e=>u(1,d=e)));const f=i("getSettings"),p=i("updateSettings");let m=null;be((async()=>{await f.perform();const e=f.res.body;u(2,m=function(e){if(!e)return null;const t=e.block_size||1024;return{blocks_pct:Math.ceil(e.blocks_used/e.blocks_total*100),blocks_total:Zt(t*e.blocks_total,"B"),blocks_used:Zt(t*e.blocks_used,"B"),inodes_pct:Math.ceil(e.inodes_used/e.inodes_total*100),inodes_total:Zt(e.inodes_total),inodes_used:Zt(e.inodes_used)}}(e.disk_usage)),delete e.disk_usage,e.contact=e.contact.replace(/mailto:/,""),c.set(e)}));return e.$$.update=()=>{2&e.$$.dirty&&u(0,n=d.res.body.available),1&e.$$.dirty&&u(3,r=n==tu("version"))},[n,d,m,r,a,o,c,l,p,function(){const e=c.get();e.contact&&(e.contact="mailto:"+e.contact),tu("contact",e.contact),tu("open_to_public",e.open_to_public),tu("organization_name",e.organization_name),tu("organization_url",e.organization_url),s.update({videoService:e.video_service}),p.perform(e)},"Global settings",()=>l.perform()]}class Js extends ut{constructor(e){super(),tt(this,e,Vs,Zs,w,{title:10})}get title(){return this.$$.ctx[10]}}function Qs(e,t,u){const n=e.slice();return n[15]=t[u],n}function Xs(e){let t,u,n;return t=new ct({props:{name:"list"}}),u=new ct({props:{name:"times"}}),{c(){Je(t.$$.fragment),Je(u.$$.fragment)},m(e,r){Qe(t,e,r),Qe(u,e,r),n=!0},p:v,i(e){n||(He(t.$$.fragment,e),He(u.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),qe(u.$$.fragment,e),n=!1},d(e){Xe(t,e),Xe(u,e)}}}function el(e){let t,u,n,r,d,a=e[3](e[1].uid?"Account":"Users")+"";return r=new da({props:{href:"/settings/users",class:"btn-hallow "+(e[1].uid?"is-active":""),"data-tooltip":e[3]("See all users"),$$slots:{default:[Xs]},$$scope:{ctx:e}}}),{c(){t=Z("h1"),u=V(a),n=J(),Je(r.$$.fragment)},m(e,a){K(e,t,a),H(t,u),K(e,n,a),Qe(r,e,a),d=!0},p(e,t){(!d||10&t)&&a!==(a=e[3](e[1].uid?"Account":"Users")+"")&&ne(u,a);const n={};2&t&&(n.class="btn-hallow "+(e[1].uid?"is-active":"")),8&t&&(n["data-tooltip"]=e[3]("See all users")),16777216&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){d||(He(r.$$.fragment,e),d=!0)},o(e){qe(r.$$.fragment,e),d=!1},d(e){e&&W(t),e&&W(n),Xe(r,e)}}}function tl(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E,A,F,w,_,x,k,B,S,O,N,j,T,R,L,P,M=e[3]("Invite or recover password")+"",I=e[3]("Users")+"",U=e[0].length+"",z=e[3]("Email")+"",q=e[3]("Roles")+"",G=e[3]("Registered")+"";d=new ad({props:{type:"email",name:"email",form:e[6],placeholder:e[3]("user@example.com"),$$slots:{help:[rl],label:[nl]},$$scope:{ctx:e}}});let Q=e[2].url&&dl(e);c=new xr({props:{icon:"save",op:e[9],disabled:!e[1].email,$$slots:{default:[al]},$$scope:{ctx:e}}}),l=new Ir({props:{op:e[9],success:"Link generated."}}),j=new Ho({props:{colspan:"3",op:e[5]}});let ue=e[0],re=[];for(let t=0;t<ue.length;t+=1)re[t]=ol(Qs(e,ue,t));return{c(){t=Z("form"),u=Z("h2"),n=V(M),r=J(),Je(d.$$.fragment),a=J(),Q&&Q.c(),o=J(),i=Z("div"),Je(c.$$.fragment),s=J(),Je(l.$$.fragment),f=J(),p=Z("h2"),m=V(I),h=J(),g=Z("small"),D=V("("),b=V(U),$=V(")"),v=J(),y=Z("table"),C=Z("thead"),E=Z("tr"),A=Z("th"),F=V(z),w=J(),_=Z("th"),x=V(q),k=J(),B=Z("th"),S=V(G),O=J(),N=Z("tbody"),Je(j.$$.fragment),T=J();for(let e=0;e<re.length;e+=1)re[e].c();te(i,"class","form-actions"),te(t,"id","invite"),te(t,"method","post")},m(M,I){K(M,t,I),H(t,u),H(u,n),H(t,r),Qe(d,t,null),H(t,a),Q&&Q.m(t,null),H(t,o),H(t,i),Qe(c,i,null),H(t,s),Qe(l,t,null),K(M,f,I),K(M,p,I),H(p,m),H(p,h),H(p,g),H(g,D),H(g,b),H(g,$),K(M,v,I),K(M,y,I),H(y,C),H(C,E),H(E,A),H(A,F),H(E,w),H(E,_),H(_,x),H(E,k),H(E,B),H(B,S),H(y,O),H(y,N),Qe(j,N,null),H(N,T);for(let e=0;e<re.length;e+=1)re[e].m(N,null);R=!0,L||(P=X(t,"submit",ee(e[13])),L=!0)},p(e,u){(!R||8&u)&&M!==(M=e[3]("Invite or recover password")+"")&&ne(n,M);const r={};8&u&&(r.placeholder=e[3]("user@example.com")),16777224&u&&(r.$$scope={dirty:u,ctx:e}),d.$set(r),e[2].url?Q?Q.p(e,u):(Q=dl(e),Q.c(),Q.m(t,o)):Q&&(Q.d(1),Q=null);const a={};2&u&&(a.disabled=!e[1].email),16777224&u&&(a.$$scope={dirty:u,ctx:e}),c.$set(a),(!R||8&u)&&I!==(I=e[3]("Users")+"")&&ne(m,I),(!R||1&u)&&U!==(U=e[0].length+"")&&ne(b,U),(!R||8&u)&&z!==(z=e[3]("Email")+"")&&ne(F,z),(!R||8&u)&&q!==(q=e[3]("Roles")+"")&&ne(x,q),(!R||8&u)&&G!==(G=e[3]("Registered")+"")&&ne(S,G);const i={};if(32&u&&(i.op=e[5]),j.$set(i),1&u){let t;for(ue=e[0],t=0;t<ue.length;t+=1){const n=Qs(e,ue,t);re[t]?re[t].p(n,u):(re[t]=ol(n),re[t].c(),re[t].m(N,null))}for(;t<re.length;t+=1)re[t].d(1);re.length=ue.length}},i(e){R||(He(d.$$.fragment,e),He(c.$$.fragment,e),He(l.$$.fragment,e),He(j.$$.fragment,e),R=!0)},o(e){qe(d.$$.fragment,e),qe(c.$$.fragment,e),qe(l.$$.fragment,e),qe(j.$$.fragment,e),R=!1},d(e){e&&W(t),Xe(d),Q&&Q.d(),Xe(c),Xe(l),e&&W(f),e&&W(p),e&&W(v),e&&W(y),Xe(j),Y(re,e),L=!1,P()}}}function ul(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E,F,w,_,x,k,B,S=e[3]("This will permanently remove user settings, chat logs, uploaded files and other user related data.")+"",O=e[4]('Please confirm by entering "**%1**" before hitting **%2**.',e[1].email,e[3]("Delete user"))+"";return u=new vc({props:{name:"uid",form:e[6]}}),r=new ad({props:{name:"email",form:e[6],readonly:!0,$$slots:{label:[il]},$$scope:{ctx:e}}}),a=new ad({props:{name:"roles",form:e[6],placeholder:e[3]("admin, bot, ..."),$$slots:{help:[sl],label:[cl]},$$scope:{ctx:e}}}),c=new xr({props:{icon:"save",op:e[10],$$slots:{default:[ll]},$$scope:{ctx:e}}}),l=new Ir({props:{op:e[10]}}),y=new ad({props:{name:"confirm_email",form:e[6],$$slots:{label:[fl]},$$scope:{ctx:e}}}),F=new xr({props:{icon:"trash",op:e[7],disabled:e[1].confirm_email!=e[1].email,$$slots:{default:[pl]},$$scope:{ctx:e}}}),_=new Ir({props:{op:e[7],success:"Deleted."}}),{c(){t=Z("form"),Je(u.$$.fragment),n=J(),Je(r.$$.fragment),d=J(),Je(a.$$.fragment),o=J(),i=Z("div"),Je(c.$$.fragment),s=J(),Je(l.$$.fragment),f=J(),p=Z("h2"),p.textContent="Delete account",m=J(),h=Z("form"),g=Z("p"),D=V(S),b=J(),$=new se,v=J(),Je(y.$$.fragment),C=J(),E=Z("div"),Je(F.$$.fragment),w=J(),Je(_.$$.fragment),te(i,"class","form-actions"),te(t,"id","edit"),te(t,"method","post"),$.a=null,te(E,"class","form-actions"),te(h,"id","delete"),te(h,"method","post")},m(A,S){K(A,t,S),Qe(u,t,null),H(t,n),Qe(r,t,null),H(t,d),Qe(a,t,null),H(t,o),H(t,i),Qe(c,i,null),H(t,s),Qe(l,t,null),K(A,f,S),K(A,p,S),K(A,m,S),K(A,h,S),H(h,g),H(g,D),H(g,b),$.m(O,g),H(h,v),Qe(y,h,null),H(h,C),H(h,E),Qe(F,E,null),H(h,w),Qe(_,h,null),x=!0,k||(B=[X(t,"submit",ee(e[14])),X(h,"submit",ee(e[12]))],k=!0)},p(e,t){const u={};16777224&t&&(u.$$scope={dirty:t,ctx:e}),r.$set(u);const n={};8&t&&(n.placeholder=e[3]("admin, bot, ...")),16777224&t&&(n.$$scope={dirty:t,ctx:e}),a.$set(n);const d={};16777224&t&&(d.$$scope={dirty:t,ctx:e}),c.$set(d),(!x||8&t)&&S!==(S=e[3]("This will permanently remove user settings, chat logs, uploaded files and other user related data.")+"")&&ne(D,S),(!x||26&t)&&O!==(O=e[4]('Please confirm by entering "**%1**" before hitting **%2**.',e[1].email,e[3]("Delete user"))+"")&&$.p(O);const o={};16777224&t&&(o.$$scope={dirty:t,ctx:e}),y.$set(o);const i={};2&t&&(i.disabled=e[1].confirm_email!=e[1].email),16777224&t&&(i.$$scope={dirty:t,ctx:e}),F.$set(i)},i(e){x||(He(u.$$.fragment,e),He(r.$$.fragment,e),He(a.$$.fragment,e),He(c.$$.fragment,e),He(l.$$.fragment,e),He(y.$$.fragment,e),He(F.$$.fragment,e),He(_.$$.fragment,e),x=!0)},o(e){qe(u.$$.fragment,e),qe(r.$$.fragment,e),qe(a.$$.fragment,e),qe(c.$$.fragment,e),qe(l.$$.fragment,e),qe(y.$$.fragment,e),qe(F.$$.fragment,e),qe(_.$$.fragment,e),x=!1},d(e){e&&W(t),Xe(u),Xe(r),Xe(a),Xe(c),Xe(l),e&&W(f),e&&W(p),e&&W(m),e&&W(h),Xe(y),Xe(F),Xe(_),k=!1,A(B)}}}function nl(e){let t,u,n=e[3]("User email")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("User email")+"")&&ne(u,n)},d(e){e&&W(t)}}}function rl(e){let t,u,n=e[3]("Using this form, you can generate a forgotten password or invite link for a user.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("Using this form, you can generate a forgotten password or invite link for a user.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function dl(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b=e[3]("A link was generated")+"",$=e[4](e[2].existing?"Copy and send the link to your *existing* user.":"Copy and send the link to your *new* user.")+"",v=e[4]("The link is valid until **%1**.",new Date(e[2].expires).toLocaleString())+"",y=e[2].url+"",C=e[3]("Tip: Clicking on the link will copy it to your clipboard.")+"";return{c(){t=Z("h3"),u=V(b),n=J(),r=Z("p"),d=new se,a=J(),o=new se,i=J(),c=Z("a"),s=V(y),f=J(),p=Z("p"),m=Z("small"),h=V(C),d.a=a,o.a=null,te(c,"href",l=e[2].url)},m(l,b){K(l,t,b),H(t,u),K(l,n,b),K(l,r,b),d.m($,r),H(r,a),o.m(v,r),K(l,i,b),K(l,c,b),H(c,s),K(l,f,b),K(l,p,b),H(p,m),H(m,h),g||(D=X(c,"click",ee(e[11])),g=!0)},p(e,t){8&t&&b!==(b=e[3]("A link was generated")+"")&&ne(u,b),20&t&&$!==($=e[4](e[2].existing?"Copy and send the link to your *existing* user.":"Copy and send the link to your *new* user.")+"")&&d.p($),20&t&&v!==(v=e[4]("The link is valid until **%1**.",new Date(e[2].expires).toLocaleString())+"")&&o.p(v),4&t&&y!==(y=e[2].url+"")&&ne(s,y),4&t&&l!==(l=e[2].url)&&te(c,"href",l),8&t&&C!==(C=e[3]("Tip: Clicking on the link will copy it to your clipboard.")+"")&&ne(h,C)},d(e){e&&W(t),e&&W(n),e&&W(r),e&&W(i),e&&W(c),e&&W(f),e&&W(p),g=!1,D()}}}function al(e){let t,u,n=e[3]("Generate link")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("Generate link")+"")&&ne(u,n)},d(e){e&&W(t)}}}function ol(e){let t,u,n,r,d,a,o,i,c,s,l,f,p=e[15].email+"",m=e[15].roles.join(", ")+"",h=new Xn(e[15].registered).getHumanDate({year:!0})+"";return{c(){t=Z("tr"),u=Z("td"),n=Z("a"),r=V(p),a=J(),o=Z("td"),i=V(m),c=J(),s=Z("td"),l=V(h),f=J(),te(n,"href",d="#"+e[15].uid)},m(e,d){K(e,t,d),H(t,u),H(u,n),H(n,r),H(t,a),H(t,o),H(o,i),H(t,c),H(t,s),H(s,l),H(t,f)},p(e,t){1&t&&p!==(p=e[15].email+"")&&ne(r,p),1&t&&d!==(d="#"+e[15].uid)&&te(n,"href",d),1&t&&m!==(m=e[15].roles.join(", ")+"")&&ne(i,m),1&t&&h!==(h=new Xn(e[15].registered).getHumanDate({year:!0})+"")&&ne(l,h)},d(e){e&&W(t)}}}function il(e){let t,u,n=e[3]("Email")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("Email")+"")&&ne(u,n)},d(e){e&&W(t)}}}function cl(e){let t,u,n=e[3]("Roles")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("Roles")+"")&&ne(u,n)},d(e){e&&W(t)}}}function sl(e){let t,u,n=e[3]("Roles must be separated by comma.")+"";return{c(){t=Z("p"),u=V(n),te(t,"class","help"),te(t,"slot","help")},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("Roles must be separated by comma.")+"")&&ne(u,n)},d(e){e&&W(t)}}}function ll(e){let t,u,n=e[3]("Save user")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("Save user")+"")&&ne(u,n)},d(e){e&&W(t)}}}function fl(e){let t,u,n=e[3]("Confirm email")+"";return{c(){t=Z("span"),u=V(n),te(t,"slot","label")},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("Confirm email")+"")&&ne(u,n)},d(e){e&&W(t)}}}function pl(e){let t,u,n=e[3]("Delete user")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){8&t&&n!==(n=e[3]("Delete user")+"")&&ne(u,n)},d(e){e&&W(t)}}}function ml(e){let t,u,n,r,d,a;t=new Ct({props:{$$slots:{default:[el]},$$scope:{ctx:e}}});const o=[ul,tl],i=[];function c(e,t){return e[1].uid?0:1}return r=c(e),d=i[r]=o[r](e),{c(){Je(t.$$.fragment),u=J(),n=Z("main"),d.c(),te(n,"class","main")},m(e,d){Qe(t,e,d),K(e,u,d),K(e,n,d),i[r].m(n,null),a=!0},p(e,[u]){const a={};16777226&u&&(a.$$scope={dirty:u,ctx:e}),t.$set(a);let s=r;r=c(e),r===s?i[r].p(e,u):(Ue(),qe(i[s],1,1,(()=>{i[s]=null})),ze(),d=i[r],d?d.p(e,u):(d=i[r]=o[r](e),d.c()),He(d,1),d.m(n,null))},i(e){a||(He(t.$$.fragment,e),He(d),a=!0)},o(e){qe(t.$$.fragment,e),qe(d),a=!1},d(e){Xe(t,e),e&&W(u),e&&W(n),i[r].d()}}}function hl(e,t,u){let n,r,d,a,o,i,c;k(e,Un,(e=>u(3,r=e))),k(e,Uu,(e=>u(18,o=e))),k(e,zn,(e=>u(4,i=e)));let{title:s="Users"}=t;const l=ye("api"),f=pd();k(e,f,(e=>u(1,d=e)));const p=ye("user"),m=l("deleteUser"),h=l("getUsers");k(e,h,(e=>u(5,c=e)));const g=l("inviteUser");k(e,g,(e=>u(17,a=e)));const D=l("updateUser");let b=[];async function $(){await h.perform(),u(0,b=h.res.body.users||[]),h.reset()}return be($),e.$$set=e=>{"title"in e&&u(16,s=e.title)},e.$$.update=()=>{262145&e.$$.dirty&&function(e,t){const u=e.hash,n=u&&t.filter((e=>e.uid==u))[0];if(!n)return f.set({confirm_email:"",uid:""});f.set({confirm_email:""}).set(n)}(o,b),131072&e.$$.dirty&&u(2,n=a.res.body||{}),2&e.$$.dirty&&u(16,s=d.uid?d.email:"Users")},[b,d,n,r,i,c,f,m,h,g,D,function(e){const t=Gt(e.target);t&&qa.showInApp(t,{title:r("Invite link copied")})},async function(){m.reset(),D.reset(),f.get("confirm_email")==f.get("email")&&(await m.perform(f.get()),m.is("success")&&($(),Uu.go("/settings/users",{replace:!0})))},function(){g.perform(f.get(["email"]))},function(){m.reset(),D.perform({email:f.get("email"),roles:nu(f.get("roles"))})},p,s,a,o]}class gl extends ut{constructor(e){super(),tt(this,e,hl,ml,w,{title:16})}}function Dl(e,t,u){const n=e.slice();return n[19]=t[u],n}function bl(e){let t,u,n=e[5]("Files")+"";return{c(){t=Z("h1"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){32&t&&n!==(n=e[5]("Files")+"")&&ne(u,n)},d(e){e&&W(t)}}}function $l(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$=new Xn(e[19].saved).getHumanDate({year:!0})+"",v=e[19].name+"",y=Zt(e[19].size,"B")+"";return a=new ct({props:{name:"copy"}}),a.$on("click",e[12]),D=new jr({props:{form:e[11],id:"form_"+e[19].id,name:e[19].id}}),{c(){t=Z("tr"),u=Z("td"),n=V($),r=J(),d=Z("td"),Je(a.$$.fragment),o=J(),i=Z("td"),c=Z("a"),s=V(v),f=J(),p=Z("td"),m=V(y),h=J(),g=Z("td"),Je(D.$$.fragment),te(c,"href",l=Uu.urlFor("/file/"+e[8].id+"/"+e[19].id)),te(c,"target","convos_files_file"),te(p,"class","text-right"),te(g,"class","text-right")},m(e,l){K(e,t,l),H(t,u),H(u,n),H(t,r),H(t,d),Qe(a,d,null),H(t,o),H(t,i),H(i,c),H(c,s),H(t,f),H(t,p),H(p,m),H(t,h),H(t,g),Qe(D,g,null),b=!0},p(e,t){(!b||2&t)&&$!==($=new Xn(e[19].saved).getHumanDate({year:!0})+"")&&ne(n,$),(!b||2&t)&&v!==(v=e[19].name+"")&&ne(s,v),(!b||2&t&&l!==(l=Uu.urlFor("/file/"+e[8].id+"/"+e[19].id)))&&te(c,"href",l),(!b||2&t)&&y!==(y=Zt(e[19].size,"B")+"")&&ne(m,y);const u={};2&t&&(u.id="form_"+e[19].id),2&t&&(u.name=e[19].id),D.$set(u)},i(e){b||(He(a.$$.fragment,e),He(D.$$.fragment,e),b=!0)},o(e){qe(a.$$.fragment,e),qe(D.$$.fragment,e),b=!1},d(e){e&&W(t),Xe(a),Xe(D)}}}function vl(e){let t,u,n,r=e[5]("No files.")+"";return{c(){t=Z("tr"),u=Z("td"),n=V(r),te(u,"colspan","5")},m(e,r){K(e,t,r),H(t,u),H(u,n)},p(e,t){32&t&&r!==(r=e[5]("No files.")+"")&&ne(n,r)},d(e){e&&W(t)}}}function yl(e){let t,u;return t=new Ho({props:{colspan:"5",op:e[10],$$slots:{default:[Cl]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};4194304&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function Cl(e){let t;return{c(){t=Z("div"),t.textContent=" "},m(e,u){K(e,t,u)},d(e){e&&W(t)}}}function El(e){let t,u,n=e[5]("Previous")+"";return{c(){t=Z("span"),u=V(n),te(t,"class","disabled")},m(e,n){K(e,t,n),H(t,u)},p(e,t){32&t&&n!==(n=e[5]("Previous")+"")&&ne(u,n)},i:v,o:v,d(e){e&&W(t)}}}function Al(e){let t,u;return t=new da({props:{href:"/settings/files?after="+e[3],$$slots:{default:[Fl]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};8&u&&(n.href="/settings/files?after="+e[3]),4194336&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function Fl(e){let t,u=e[5]("Previous")+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){32&n&&u!==(u=e[5]("Previous")+"")&&ne(t,u)},d(e){e&&W(t)}}}function wl(e){let t,u,n=e[5]("Next")+"";return{c(){t=Z("span"),u=V(n),te(t,"class","disabled")},m(e,n){K(e,t,n),H(t,u)},p(e,t){32&t&&n!==(n=e[5]("Next")+"")&&ne(u,n)},i:v,o:v,d(e){e&&W(t)}}}function _l(e){let t,u;return t=new da({props:{href:"/settings/files?after="+e[2],$$slots:{default:[xl]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};4&u&&(n.href="/settings/files?after="+e[2]),4194336&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function xl(e){let t,u=e[5]("Next")+"";return{c(){t=V(u)},m(e,u){K(e,t,u)},p(e,n){32&n&&u!==(u=e[5]("Next")+"")&&ne(t,u)},d(e){e&&W(t)}}}function kl(e){let t,u,n=e[5]("Delete selected files")+"";return{c(){t=Z("span"),u=V(n)},m(e,n){K(e,t,n),H(t,u)},p(e,t){32&t&&n!==(n=e[5]("Delete selected files")+"")&&ne(u,n)},d(e){e&&W(t)}}}function Bl(e){let t,u=e[7]("By deleting the files, you and everyone with the link *should* lose access to the file: Aggressive caching in browsers or proxies between Convos and other users might keep the file around for some time.")+"";return{c(){t=Z("p")},m(e,n){K(e,t,n),t.innerHTML=u},p(e,n){128&n&&u!==(u=e[7]("By deleting the files, you and everyone with the link *should* lose access to the file: Aggressive caching in browsers or proxies between Convos and other users might keep the file around for some time.")+"")&&(t.innerHTML=u)},d(e){e&&W(t)}}}function Sl(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E,A,F,w,_,x,k,B,S,O,N,j,T,R,L,P=e[5]("Uploaded")+"",M=e[5]("Name")+"",I=e[5]("Size")+"",U=!e[6].is("loading");t=new Ct({props:{$$slots:{default:[bl]},$$scope:{ctx:e}}}),$=new jr({props:{form:e[11],name:"ALL_SELECTED"}});let z=e[1],q=[];for(let t=0;t<z.length;t+=1)q[t]=$l(Dl(e,z,t));const G=e=>qe(q[e],1,1,(()=>{q[e]=null}));let Q=0==e[1].length&&vl(e);A=new Ho({props:{colspan:"5",op:e[9]}});let X=U&&yl(e);const ee=[Al,El],ue=[];function re(e,t){return e[3]||e[0].query.after?0:1}x=re(e),k=ue[x]=ee[x](e);const de=[_l,wl],ae=[];function oe(e,t){return e[2]?0:1}S=oe(e),O=ae[S]=de[S](e),T=new xr({props:{icon:"trash",op:e[9],disabled:!e[4].length,$$slots:{default:[kl]},$$scope:{ctx:e}}}),T.$on("click",e[13]);let ie=(e[1].length||e[0].query.after)&&Bl(e);return{c(){Je(t.$$.fragment),u=J(),n=Z("main"),r=Z("table"),d=Z("thead"),a=Z("tr"),o=Z("th"),i=V(P),c=J(),s=Z("th"),s.textContent=" ",l=J(),f=Z("th"),p=V(M),m=J(),h=Z("th"),g=V(I),D=J(),b=Z("th"),Je($.$$.fragment),v=J(),y=Z("tbody");for(let e=0;e<q.length;e+=1)q[e].c();C=J(),Q&&Q.c(),E=J(),Je(A.$$.fragment),F=J(),X&&X.c(),w=J(),_=Z("div"),k.c(),B=J(),O.c(),N=J(),j=Z("div"),Je(T.$$.fragment),R=J(),ie&&ie.c(),te(h,"class","text-right"),te(b,"class","text-right"),te(_,"class","pagination"),te(j,"class","form-actions"),te(n,"class","main")},m(e,k){Qe(t,e,k),K(e,u,k),K(e,n,k),H(n,r),H(r,d),H(d,a),H(a,o),H(o,i),H(a,c),H(a,s),H(a,l),H(a,f),H(f,p),H(a,m),H(a,h),H(h,g),H(a,D),H(a,b),Qe($,b,null),H(r,v),H(r,y);for(let e=0;e<q.length;e+=1)q[e].m(y,null);H(y,C),Q&&Q.m(y,null),H(y,E),Qe(A,y,null),H(y,F),X&&X.m(y,null),H(n,w),H(n,_),ue[x].m(_,null),H(_,B),ae[S].m(_,null),H(n,N),H(n,j),Qe(T,j,null),H(n,R),ie&&ie.m(n,null),L=!0},p(e,[u]){const r={};if(4194336&u&&(r.$$scope={dirty:u,ctx:e}),t.$set(r),(!L||32&u)&&P!==(P=e[5]("Uploaded")+"")&&ne(i,P),(!L||32&u)&&M!==(M=e[5]("Name")+"")&&ne(p,M),(!L||32&u)&&I!==(I=e[5]("Size")+"")&&ne(g,I),6402&u){let t;for(z=e[1],t=0;t<z.length;t+=1){const n=Dl(e,z,t);q[t]?(q[t].p(n,u),He(q[t],1)):(q[t]=$l(n),q[t].c(),He(q[t],1),q[t].m(y,C))}for(Ue(),t=z.length;t<q.length;t+=1)G(t);ze()}0==e[1].length?Q?Q.p(e,u):(Q=vl(e),Q.c(),Q.m(y,E)):Q&&(Q.d(1),Q=null),64&u&&(U=!e[6].is("loading")),U?X?(X.p(e,u),64&u&&He(X,1)):(X=yl(e),X.c(),He(X,1),X.m(y,null)):X&&(Ue(),qe(X,1,1,(()=>{X=null})),ze());let d=x;x=re(e),x===d?ue[x].p(e,u):(Ue(),qe(ue[d],1,1,(()=>{ue[d]=null})),ze(),k=ue[x],k?k.p(e,u):(k=ue[x]=ee[x](e),k.c()),He(k,1),k.m(_,B));let a=S;S=oe(e),S===a?ae[S].p(e,u):(Ue(),qe(ae[a],1,1,(()=>{ae[a]=null})),ze(),O=ae[S],O?O.p(e,u):(O=ae[S]=de[S](e),O.c()),He(O,1),O.m(_,null));const o={};16&u&&(o.disabled=!e[4].length),4194336&u&&(o.$$scope={dirty:u,ctx:e}),T.$set(o),e[1].length||e[0].query.after?ie?ie.p(e,u):(ie=Bl(e),ie.c(),ie.m(n,null)):ie&&(ie.d(1),ie=null)},i(e){if(!L){He(t.$$.fragment,e),He($.$$.fragment,e);for(let e=0;e<z.length;e+=1)He(q[e]);He(A.$$.fragment,e),He(X),He(k),He(O),He(T.$$.fragment,e),L=!0}},o(e){qe(t.$$.fragment,e),qe($.$$.fragment,e),q=q.filter(Boolean);for(let e=0;e<q.length;e+=1)qe(q[e]);qe(A.$$.fragment,e),qe(X),qe(k),qe(O),qe(T.$$.fragment,e),L=!1},d(e){Xe(t,e),e&&W(u),e&&W(n),Xe($),Y(q,e),Q&&Q.d(),Xe(A),X&&X.d(),ue[x].d(),ae[S].d(),Xe(T),ie&&ie.d()}}}function Ol(e){return Object.keys(e).filter((e=>"ALL_SELECTED"!=e))}function Nl(e,t,u){let n,r,d,a,o,i,c;k(e,Un,(e=>u(5,d=e))),k(e,Uu,(e=>u(0,o=e))),k(e,zn,(e=>u(7,c=e)));const s=ye("api"),l=ye("user"),f=s("deleteFiles");k(e,f,(e=>u(6,i=e)));const p=s("getFiles");k(e,p,(e=>u(16,r=e)));const m=pd();k(e,m,(e=>u(15,a=e)));let h=[],g="",D="";async function b(e){const t=e.query.after||"";await p.perform({after:t,limit:20}),m.remove(Ol(m.get())),u(1,h=p.res.body.files||[]),!h.length&&t||(u(2,g=r.res.body.next&&h.slice(-1)[0].id||""),u(3,D=r.res.body.prev||"")),m.set({ALL_SELECTED:u(14,$.selected=!1,$)})}function $(e){if($.selected==e.ALL_SELECTED)return m.set({ALL_SELECTED:u(14,$.selected=!1,$)});u(14,$.selected=m.get("ALL_SELECTED"),$);const t={};Ol(m.get()).forEach((e=>t[e]=$.selected)),m.set(t)}return e.$$.update=()=>{1&e.$$.dirty&&b(o),49152&e.$$.dirty&&$(a),32768&e.$$.dirty&&u(4,n=Ol(a).filter((e=>!!a[e])))},[o,h,g,D,n,d,i,c,l,f,p,m,function(e){const t=Gt({value:e.target.closest("tr").querySelector('[target="convos_files_file"]').href});t&&qa.showInApp(t,{closeAfter:3e3,title:d("File URL copied")})},async function(){await f.perform({fid:n.join(","),uid:l.id}),m.remove(n),m.set({ALL_SELECTED:u(14,$.selected=!1,$)}),u(1,h=h.filter((e=>-1==n.indexOf(e.id)))),0==h.length&&b(Uu)},$,a]}class jl extends ut{constructor(e){super(),tt(this,e,Nl,Sl,w,{})}}function Tl(e,t,u){const n=e.slice();return n[23]=t[u],n}function Rl(e,t,u){const n=e.slice();return n[26]=t[u],n}function Ll(e){let t,u,n,r,d,a,o=df(e[8])+"";return t=new ct({props:{family:"regular",name:"bell"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("small"),r=V(o),te(n,"class","badge is-important"),n.hidden=d=!e[8].unread},m(e,d){Qe(t,e,d),K(e,u,d),K(e,n,d),H(n,r),a=!0},p(e,t){(!a||256&t)&&o!==(o=df(e[8])+"")&&ne(r,o),(!a||256&t&&d!==(d=!e[8].unread))&&(n.hidden=d)},i(e){a||(He(t.$$.fragment,e),a=!0)},o(e){qe(t.$$.fragment,e),a=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function Pl(e){let t,u;return t=new da({props:{href:"/settings/connections",$$slots:{default:[Ml]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};536871040&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function Ml(e){let t,u,n,r,d,a=e[7]("No conversations")+"";return t=new ct({props:{name:"exclamation-circle"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||128&t)&&a!==(a=e[7]("No conversations")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function Il(e){let t,u,n,r,d,a,o,i,c,s=(e[23].name||e[23].connection_id)+"",l=df(e[23])+"";return t=new ct({props:{name:"network-wired"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(s),d=J(),a=Z("b"),o=V(l),te(a,"class","badge"),a.hidden=i=!e[23].unread},m(e,i){Qe(t,e,i),K(e,u,i),K(e,n,i),H(n,r),K(e,d,i),K(e,a,i),H(a,o),c=!0},p(e,t){(!c||8&t)&&s!==(s=(e[23].name||e[23].connection_id)+"")&&ne(r,s),(!c||8&t)&&l!==(l=df(e[23])+"")&&ne(o,l),(!c||8&t&&i!==(i=!e[23].unread))&&(a.hidden=i)},i(e){c||(He(t.$$.fragment,e),c=!0)},o(e){qe(t.$$.fragment,e),c=!1},d(e){Xe(t,e),e&&W(u),e&&W(n),e&&W(d),e&&W(a)}}}function Ul(e){let t,u;return t=new ct({props:{name:e[26].is("private")?"user":"user-friends"}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};8&u&&(n.name=e[26].is("private")?"user":"user-friends"),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function zl(e){let t,u;return t=new ct({props:{name:"exclamation-triangle"}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p:v,i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function Hl(e){let t,u,n,r,d,a,o,i,c,s,l,f=e[26].name+"",p=df(e[26])+"";const m=[zl,Ul],h=[];function g(e,u){return(null==t||8&u)&&(t=!(!e[26].frozen||e[26].is("private"))),t?0:1}return u=g(e,-1),n=h[u]=m[u](e),{c(){n.c(),r=J(),d=Z("span"),a=V(f),o=J(),i=Z("b"),c=V(p),te(i,"class","badge"),i.hidden=s=!e[26].unread},m(e,t){h[u].m(e,t),K(e,r,t),K(e,d,t),H(d,a),K(e,o,t),K(e,i,t),H(i,c),l=!0},p(e,t){let d=u;u=g(e,t),u===d?h[u].p(e,t):(Ue(),qe(h[d],1,1,(()=>{h[d]=null})),ze(),n=h[u],n?n.p(e,t):(n=h[u]=m[u](e),n.c()),He(n,1),n.m(r.parentNode,r)),(!l||8&t)&&f!==(f=e[26].name+"")&&ne(a,f),(!l||8&t)&&p!==(p=df(e[26])+"")&&ne(c,p),(!l||8&t&&s!==(s=!e[26].unread))&&(i.hidden=s)},i(e){l||(He(n),l=!0)},o(e){qe(n),l=!1},d(e){h[u].d(e),e&&W(r),e&&W(d),e&&W(o),e&&W(i)}}}function ql(e){let t,u;return t=new da({props:{href:e[26].path,class:rf(e[23],e[26]),$$slots:{default:[Hl]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};8&u&&(n.href=e[26].path),8&u&&(n.class=rf(e[23],e[26])),536870920&u&&(n.$$scope={dirty:u,ctx:e}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function Gl(e){let t,u,n,r;t=new da({props:{href:e[23].path,class:rf(e[23],e[23]),$$slots:{default:[Il]},$$scope:{ctx:e}}});let d=e[23].conversations.toArray(),a=[];for(let t=0;t<d.length;t+=1)a[t]=ql(Rl(e,d,t));const o=e=>qe(a[e],1,1,(()=>{a[e]=null}));return{c(){Je(t.$$.fragment),u=J();for(let e=0;e<a.length;e+=1)a[e].c();n=Q()},m(e,d){Qe(t,e,d),K(e,u,d);for(let t=0;t<a.length;t+=1)a[t].m(e,d);K(e,n,d),r=!0},p(e,u){const r={};if(8&u&&(r.href=e[23].path),8&u&&(r.class=rf(e[23],e[23])),536870920&u&&(r.$$scope={dirty:u,ctx:e}),t.$set(r),8&u){let t;for(d=e[23].conversations.toArray(),t=0;t<d.length;t+=1){const r=Rl(e,d,t);a[t]?(a[t].p(r,u),He(a[t],1)):(a[t]=ql(r),a[t].c(),He(a[t],1),a[t].m(n.parentNode,n))}for(Ue(),t=d.length;t<a.length;t+=1)o(t);ze()}},i(e){if(!r){He(t.$$.fragment,e);for(let e=0;e<d.length;e+=1)He(a[e]);r=!0}},o(e){qe(t.$$.fragment,e),a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)qe(a[e]);r=!1},d(e){Xe(t,e),e&&W(u),Y(a,e),e&&W(n)}}}function Kl(e){let t,u,n,r,d,a,o,i,c,s=e[7]("Notifications")+"",l=df(e[8])+"";return t=new ct({props:{name:"bell"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(s),d=J(),a=Z("b"),o=V(l),te(a,"class","badge"),a.hidden=i=!e[8].unread},m(e,i){Qe(t,e,i),K(e,u,i),K(e,n,i),H(n,r),K(e,d,i),K(e,a,i),H(a,o),c=!0},p(e,t){(!c||128&t)&&s!==(s=e[7]("Notifications")+"")&&ne(r,s),(!c||256&t)&&l!==(l=df(e[8])+"")&&ne(o,l),(!c||256&t&&i!==(i=!e[8].unread))&&(a.hidden=i)},i(e){c||(He(t.$$.fragment,e),c=!0)},o(e){qe(t.$$.fragment,e),c=!1},d(e){Xe(t,e),e&&W(u),e&&W(n),e&&W(d),e&&W(a)}}}function Wl(e){let t,u,n,r,d,a=e[7]("Search")+"";return t=new ct({props:{name:"search"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||128&t)&&a!==(a=e[7]("Search")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function Yl(e){let t,u,n,r,d,a=e[7]("Add conversation")+"";return t=new ct({props:{name:"comment"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||128&t)&&a!==(a=e[7]("Add conversation")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function Zl(e){let t,u,n,r,d,a=e[7]("Connections")+"";return t=new ct({props:{name:"network-wired"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||128&t)&&a!==(a=e[7]("Connections")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function Vl(e){let t,u,n,r,d,a=e[7]("Account")+"";return t=new ct({props:{name:"user-cog"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||128&t)&&a!==(a=e[7]("Account")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function Jl(e){let t,u,n,r,d,a=e[7]("Files")+"";return t=new ct({props:{name:"folder-open"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||128&t)&&a!==(a=e[7]("Files")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function Ql(e){let t,u,n,r;return t=new da({props:{href:"/settings",$$slots:{default:[Xl]},$$scope:{ctx:e}}}),n=new da({props:{href:"/settings/users",$$slots:{default:[ef]},$$scope:{ctx:e}}}),{c(){Je(t.$$.fragment),u=J(),Je(n.$$.fragment)},m(e,d){Qe(t,e,d),K(e,u,d),Qe(n,e,d),r=!0},p(e,u){const r={};536871040&u&&(r.$$scope={dirty:u,ctx:e}),t.$set(r);const d={};536871040&u&&(d.$$scope={dirty:u,ctx:e}),n.$set(d)},i(e){r||(He(t.$$.fragment,e),He(n.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),qe(n.$$.fragment,e),r=!1},d(e){Xe(t,e),e&&W(u),Xe(n,e)}}}function Xl(e){let t,u,n,r,d,a=e[7]("Settings")+"";return t=new ct({props:{name:"tools"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||128&t)&&a!==(a=e[7]("Settings")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function ef(e){let t,u,n,r,d,a=e[7]("Users")+"";return t=new ct({props:{name:"users"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||128&t)&&a!==(a=e[7]("Users")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function tf(e){let t,u,n,r,d,a=e[7]("Help")+"";return t=new ct({props:{name:"question-circle"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||128&t)&&a!==(a=e[7]("Help")+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function uf(e){let t,u,n,r,d,a=e[7]('Search for "%1"',e[5])+"";return t=new ct({props:{name:"search"}}),{c(){Je(t.$$.fragment),u=J(),n=Z("span"),r=V(a)},m(e,a){Qe(t,e,a),K(e,u,a),K(e,n,a),H(n,r),d=!0},p(e,t){(!d||160&t)&&a!==(a=e[7]('Search for "%1"',e[5])+"")&&ne(r,a)},i(e){d||(He(t.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),d=!1},d(e){Xe(t,e),e&&W(u),e&&W(n)}}}function nf(e){let t,u,n,r,d,a,o,i,c,s,l,f,p,m,h,g,D,b,$,v,y,C,E,F,w,_,x,k,B,S,O,N,j,T,R,L,P,M,I,U,z,q,G,Q,ee,ue,de=e[7]("Conversations")+"",ae=(e[3].email||e[7]("Account"))+"",ie=e[3].is("admin"),ce=e[7]("Log out")+"";i=new ct({props:{name:"search"}}),s=new da({props:{href:"/chat",class:"btn-hallow for-notifications",$$slots:{default:[Ll]},$$scope:{ctx:e}}});let se=!e[3].connections.size&&Pl(e),le=e[3].connections.toArray(),fe=[];for(let t=0;t<le.length;t+=1)fe[t]=Gl(Tl(e,le,t));const pe=e=>qe(fe[e],1,1,(()=>{fe[e]=null}));y=new da({props:{href:"/chat",$$slots:{default:[Kl]},$$scope:{ctx:e}}}),E=new da({props:{href:"/search",$$slots:{default:[Wl]},$$scope:{ctx:e}}}),w=new da({props:{href:e[6],$$slots:{default:[Yl]},$$scope:{ctx:e}}}),x=new da({props:{href:"/settings/connections",$$slots:{default:[Zl]},$$scope:{ctx:e}}}),B=new da({props:{href:"/settings/account",$$slots:{default:[Vl]},$$scope:{ctx:e}}}),O=new da({props:{href:"/settings/files",$$slots:{default:[Jl]},$$scope:{ctx:e}}});let me=ie&&Ql(e);return T=new da({props:{href:"/help",$$slots:{default:[tf]},$$scope:{ctx:e}}}),P=new ct({props:{name:"power-off"}}),q=new da({props:{href:"/search?q="+encodeURIComponent(e[5]),class:"for-search hidden",$$slots:{default:[uf]},$$scope:{ctx:e}}}),{c(){t=Z("div"),u=Z("div"),n=Z("form"),r=Z("input"),a=J(),o=Z("label"),Je(i.$$.fragment),c=J(),Je(s.$$.fragment),l=J(),f=Z("nav"),p=Z("h3"),m=V(de),h=J(),se&&se.c(),g=J();for(let e=0;e<fe.length;e+=1)fe[e].c();D=J(),b=Z("h3"),$=V(ae),v=J(),Je(y.$$.fragment),C=J(),Je(E.$$.fragment),F=J(),Je(w.$$.fragment),_=J(),Je(x.$$.fragment),k=J(),Je(B.$$.fragment),S=J(),Je(O.$$.fragment),N=J(),me&&me.c(),j=J(),Je(T.$$.fragment),R=J(),L=Z("a"),Je(P.$$.fragment),M=J(),I=Z("span"),U=V(ce),z=J(),Je(q.$$.fragment),te(r,"type","text"),te(r,"id","search_input"),te(r,"class","is-primary-menu-item"),te(r,"placeholder",d=e[4]?e[7]("Search..."):e[7]("Convos")),te(o,"for","search_input"),te(o,"class","btn-hallow"),te(n,"class","sidebar-header"),oe(n,"has-focus",e[4]),te(u,"class","sidebar-header__wrapper"),te(L,"href",Uu.urlFor("/logout")+"?csrf="+tu("csrf")),te(L,"target","_self"),te(f,"class","sidebar-left__nav"),oe(f,"is-filtering",e[1].length>0),te(t,"class","sidebar-left")},m(d,A){K(d,t,A),H(t,u),H(u,n),H(n,r),re(r,e[1]),H(n,a),H(n,o),Qe(i,o,null),H(n,c),Qe(s,n,null),H(t,l),H(t,f),H(f,p),H(p,m),H(f,h),se&&se.m(f,null),H(f,g);for(let e=0;e<fe.length;e+=1)fe[e].m(f,null);H(f,D),H(f,b),H(b,$),H(f,v),Qe(y,f,null),H(f,C),Qe(E,f,null),H(f,F),Qe(w,f,null),H(f,_),Qe(x,f,null),H(f,k),Qe(B,f,null),H(f,S),Qe(O,f,null),H(f,N),me&&me.m(f,null),H(f,j),Qe(T,f,null),H(f,R),H(f,L),Qe(P,L,null),H(L,M),H(L,I),H(I,U),H(f,z),Qe(q,f,null),e[19](f),Q=!0,ee||(ue=[X(r,"input",e[18]),X(r,"blur",e[11]),X(r,"focus",e[12]),X(r,"keydown",e[14]),X(n,"submit",af),X(f,"click",e[13])],ee=!0)},p(t,[u]){e=t,(!Q||144&u&&d!==(d=e[4]?e[7]("Search..."):e[7]("Convos")))&&te(r,"placeholder",d),2&u&&r.value!==e[1]&&re(r,e[1]);const a={};if(536871168&u&&(a.$$scope={dirty:u,ctx:e}),s.$set(a),16&u&&oe(n,"has-focus",e[4]),(!Q||128&u)&&de!==(de=e[7]("Conversations")+"")&&ne(m,de),e[3].connections.size?se&&(Ue(),qe(se,1,1,(()=>{se=null})),ze()):se?(se.p(e,u),8&u&&He(se,1)):(se=Pl(e),se.c(),He(se,1),se.m(f,g)),8&u){let t;for(le=e[3].connections.toArray(),t=0;t<le.length;t+=1){const n=Tl(e,le,t);fe[t]?(fe[t].p(n,u),He(fe[t],1)):(fe[t]=Gl(n),fe[t].c(),He(fe[t],1),fe[t].m(f,D))}for(Ue(),t=le.length;t<fe.length;t+=1)pe(t);ze()}(!Q||136&u)&&ae!==(ae=(e[3].email||e[7]("Account"))+"")&&ne($,ae);const o={};536871296&u&&(o.$$scope={dirty:u,ctx:e}),y.$set(o);const i={};536871040&u&&(i.$$scope={dirty:u,ctx:e}),E.$set(i);const c={};64&u&&(c.href=e[6]),536871040&u&&(c.$$scope={dirty:u,ctx:e}),w.$set(c);const l={};536871040&u&&(l.$$scope={dirty:u,ctx:e}),x.$set(l);const p={};536871040&u&&(p.$$scope={dirty:u,ctx:e}),B.$set(p);const h={};536871040&u&&(h.$$scope={dirty:u,ctx:e}),O.$set(h),8&u&&(ie=e[3].is("admin")),ie?me?(me.p(e,u),8&u&&He(me,1)):(me=Ql(e),me.c(),He(me,1),me.m(f,j)):me&&(Ue(),qe(me,1,1,(()=>{me=null})),ze());const b={};536871040&u&&(b.$$scope={dirty:u,ctx:e}),T.$set(b),(!Q||128&u)&&ce!==(ce=e[7]("Log out")+"")&&ne(U,ce);const v={};32&u&&(v.href="/search?q="+encodeURIComponent(e[5])),536871072&u&&(v.$$scope={dirty:u,ctx:e}),q.$set(v),2&u&&oe(f,"is-filtering",e[1].length>0)},i(u){if(!Q){He(i.$$.fragment,u),He(s.$$.fragment,u),He(se);for(let e=0;e<le.length;e+=1)He(fe[e]);He(y.$$.fragment,u),He(E.$$.fragment,u),He(w.$$.fragment,u),He(x.$$.fragment,u),He(B.$$.fragment,u),He(O.$$.fragment,u),He(me),He(T.$$.fragment,u),He(P.$$.fragment,u),He(q.$$.fragment,u),Se((()=>{G||(G=Ke(t,mr,e[0],!0)),G.run(1)})),Q=!0}},o(u){qe(i.$$.fragment,u),qe(s.$$.fragment,u),qe(se),fe=fe.filter(Boolean);for(let e=0;e<fe.length;e+=1)qe(fe[e]);qe(y.$$.fragment,u),qe(E.$$.fragment,u),qe(w.$$.fragment,u),qe(x.$$.fragment,u),qe(B.$$.fragment,u),qe(O.$$.fragment,u),qe(me),qe(T.$$.fragment,u),qe(P.$$.fragment,u),qe(q.$$.fragment,u),G||(G=Ke(t,mr,e[0],!1)),G.run(0),Q=!1},d(u){u&&W(t),Xe(i),Xe(s),se&&se.d(),Y(fe,u),Xe(y),Xe(E),Xe(w),Xe(x),Xe(B),Xe(O),me&&me.d(),Xe(T),Xe(P),Xe(q),e[19](null),u&&G&&G.end(),ee=!1,A(ue)}}}function rf(e,t){const u=[t.conversation_id?"for-conversation":"for-connection"];return(t.frozen||"connected"!=e.state)&&u.push("is-frozen"),t.errors&&u.push("has-errors"),t.notifications&&u.push("has-notifications"),u.join(" ")}function df(e,t=60){return e.unread>t?t+"+":e.unread||0}const af=e=>e.preventDefault();function of(e,t,u){let n,r,d,a,o,i,c;k(e,gt,(e=>u(20,d=e))),k(e,Uu,(e=>u(17,a=e))),k(e,Un,(e=>u(7,i=e)));let{transition:s}=t;const l=ye("user");k(e,l,(e=>u(3,o=e)));const f=l.notifications;k(e,f,(e=>u(8,c=e)));let p,m=0,h="",g=!1,D=[];function b(){Xt(p,"a",(e=>e.classList.remove("has-focus"))),setTimeout((()=>{if(!p)return;u(1,h="");const e=document.activeElement;e&&qt(e,p)&&Xt(p,"a.has-path",(e=>e.focus()))}),100)}return e.$$set=e=>{"transition"in e&&u(0,s=e.transition)},e.$$.update=()=>{2&e.$$.dirty&&function(){if(!p)return;u(15,m=0),u(16,D=[]);const e=[h.match(/^\W+/)?"":"\\b\\W*"];e[0]&&e.push("");for(let t=0;t<e.length;t++){const n="+"==h?new RegExp(/[1-9]\d*\+?\s*$/):"+@"==h?new RegExp(/^\s*\w.*[1-9]\d*\+?\s*$/):"+#"==h?new RegExp(/^\s*#.*[1-9]\d*\+?\s*$/):new RegExp(e[t]+eu(h),"i"),r={};if(Xt(p,"a",((e,t)=>{const d=e.classList;!h.length&&d.contains("has-path")&&u(15,m=t),d.remove("has-focus");const a=!h.length||!e.href.match(/\/search$/)&&!r[e.href]&&e.textContent.match(n);a&&D.push(e),e.classList[a?"remove":"add"]("hidden"),r[e.href]=!0})),D.length)break}Xt(p,".for-connection",(e=>{let t=e;for(;(t=t.nextElementSibling)&&t.classList.contains("for-conversation");)if(!t.classList.contains("hidden"))return e.classList.remove("hidden")}));const t=p.querySelector(".for-search");t.classList[h?"remove":"add"]("hidden"),t.classList.contains("hidden")||D.push(t),Xt(p,"h3",(e=>{let t=e;for(;(t=t.nextElementSibling)&&!du(t,"h3");)if(!t.classList.contains("hidden"))return e.classList.remove("hidden");e.classList.add("hidden")}))}(),8&e.$$.dirty&&u(6,n="/settings/conversation?connection_id="+(o.activeConversation.connection_id||"")),2&e.$$.dirty&&u(5,r=h.replace(/^\//,"")),131076&e.$$.dirty&&p&&b(),98304&e.$$.dirty&&D[m]&&D[m].classList.add("has-focus")},[s,h,p,o,g,r,n,i,c,l,f,function(){u(4,g=!1),0!=h.indexOf("+")&&b()},function(){u(4,g=!0)},function(e){return(e.target.className||"").match(/(network|user)/)?setTimeout((()=>{T(gt,d="settings",d)}),50):e.target.closest("a")?setTimeout((()=>{T(gt,d="",d)}),50):void 0},function(e){if(13==e.keyCode)return e.preventDefault(),b(),void(D[m]&&Uu.go(D[m].href));const t=38==e.keyCode?-1:40==e.keyCode?1:0;t&&(e.preventDefault(),D[m]&&D[m].classList.remove("has-focus"),u(15,m+=e.ctrlKey?4*t:t)),m<0&&u(15,m=D.length-1),m>=D.length&&u(15,m=0)},m,D,a,function(){h=this.value,u(1,h)},function(e){Ae[e?"unshift":"push"]((()=>{p=e,u(2,p)}))}]}class cf extends ut{constructor(e){super(),tt(this,e,of,nf,w,{transition:0})}}function sf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var lf=function(e){p(n,e);var t=sf(n);function n(){var e;return D(this,n),(e=t.call(this)).prop("cookie","activeTheme","convos",{key:"theme"}),e.prop("cookie","colorScheme","auto"),e.prop("cookie","compactDisplay",!1),e.prop("ro","colorSchemeOptions",["Auto","Light","Dark"].map((function(e){return[e.toLowerCase(),e]}))),e.prop("ro","themeOptions",(function(){return Array.from(e._stylesheets.entries())})),e.prop("rw","osColorScheme",""),e._stylesheets=new Map([]),e}return $(n,[{key:"hasColorScheme",value:function(e){return Xt(document,'link[id$="-'+e+'"]').length>1}},{key:"start",value:function(){var e=this;Xt(document,'link[rel="alternate stylesheet"][title]',(function(t){var u=t.title.replace(/\s\([a-z]+\)$/,"");e._stylesheets.set(t.id.replace(/^theme_alt__[a-z]+-/,""),u)}));var t=this.osColorScheme;return this._matchMedia||(this._matchMedia=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):{addListener:function(){}},this._matchMedia.addListener((function(t){return e.update({osColorScheme:t.matches?"dark":"light"})})),t=this._matchMedia.matches?"dark":"light"),this.update({compactDisplay:this.compactDisplay,osColorScheme:t})}},{key:"update",value:function(e){return(e.activeTheme||e.colorScheme||e.osColorScheme)&&this._activateTheme(e),f(u(n.prototype),"update",this).call(this,e)}},{key:"_activateTheme",value:function(e){for(var t,u=e.activeTheme||this.activeTheme,n=e.colorScheme||this.colorScheme,r=e.osColorScheme||this.osColorScheme,d=["auto"==n?r:n,"normal","light"],a=0;a<d.length&&!(t=document.getElementById("theme_alt__"+d[a]+"-"+u));a++);Xt(document,'link[rel*="style"][title]',(function(e){t||(t=e),e.disabled=!0,e.disabled=e.href!=t.href,e.setAttribute("media",e==t?"":"none"),e.setAttribute("rel",e==t?"stylesheet":"alternate stylesheet")}))}}]),n}(lu);function ff(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var pf={exports:{}};function mf(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var u=e[t];"object"!=m(u)||Object.isFrozen(u)||mf(u)})),e}pf.exports=mf,pf.exports.default=mf;var hf=pf.exports,gf=function(){function e(t){D(this,e),void 0===t.data&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}return $(e,[{key:"ignoreMatch",value:function(){this.isMatchIgnored=!0}}]),e}();function Df(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function bf(e){var t=Object.create(null);for(var u in e)t[u]=e[u];for(var n=arguments.length,r=new Array(n>1?n-1:0),d=1;d<n;d++)r[d-1]=arguments[d];return r.forEach((function(e){for(var u in e)t[u]=e[u]})),t}var $f=function(e){return!!e.kind},vf=function(){function e(t,u){D(this,e),this.buffer="",this.classPrefix=u.classPrefix,t.walk(this)}return $(e,[{key:"addText",value:function(e){this.buffer+=Df(e)}},{key:"openNode",value:function(e){if($f(e)){var t=e.kind;t=e.sublanguage?"language-".concat(t):function(e,t){var u=t.prefix;if(e.includes(".")){var n=e.split(".");return["".concat(u).concat(n.shift())].concat(s(n.map((function(e,t){return"".concat(e).concat("_".repeat(t+1))})))).join(" ")}return"".concat(u).concat(e)}(t,{prefix:this.classPrefix}),this.span(t)}}},{key:"closeNode",value:function(e){$f(e)&&(this.buffer+="</span>")}},{key:"value",value:function(){return this.buffer}},{key:"span",value:function(e){this.buffer+='<span class="'.concat(e,'">')}}]),e}(),yf=function(e){p(u,e);var t=ff(u);function u(e){var n;return D(this,u),(n=t.call(this)).options=e,n}return $(u,[{key:"addKeyword",value:function(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}},{key:"addText",value:function(e){""!==e&&this.add(e)}},{key:"addSublanguage",value:function(e,t){var u=e.root;u.kind=t,u.sublanguage=!0,this.add(u)}},{key:"toHTML",value:function(){return new vf(this,this.options).value()}},{key:"finalize",value:function(){return!0}}]),u}(function(){function e(){D(this,e),this.rootNode={children:[]},this.stack=[this.rootNode]}return $(e,[{key:"top",get:function(){return this.stack[this.stack.length-1]}},{key:"root",get:function(){return this.rootNode}},{key:"add",value:function(e){this.top.children.push(e)}},{key:"openNode",value:function(e){var t={kind:e,children:[]};this.add(t),this.stack.push(t)}},{key:"closeNode",value:function(){if(this.stack.length>1)return this.stack.pop()}},{key:"closeAllNodes",value:function(){for(;this.closeNode(););}},{key:"toJSON",value:function(){return JSON.stringify(this.rootNode,null,4)}},{key:"walk",value:function(e){return this.constructor._walk(e,this.rootNode)}}],[{key:"_walk",value:function(e,t){var u=this;return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((function(t){return u._walk(e,t)})),e.closeNode(t)),e}},{key:"_collapse",value:function(t){"string"!=typeof t&&t.children&&(t.children.every((function(e){return"string"==typeof e}))?t.children=[t.children.join("")]:t.children.forEach((function(t){e._collapse(t)})))}}]),e}());function Cf(e){return e?"string"==typeof e?e:e.source:null}function Ef(e){return wf("(?=",e,")")}function Af(e){return wf("(?:",e,")*")}function Ff(e){return wf("(?:",e,")?")}function wf(){for(var e=arguments.length,t=new Array(e),u=0;u<e;u++)t[u]=arguments[u];var n=t.map((function(e){return Cf(e)})).join("");return n}function _f(e){var t=e[e.length-1];return"object"===m(t)&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function xf(){for(var e=arguments.length,t=new Array(e),u=0;u<e;u++)t[u]=arguments[u];var n=_f(t),r="("+(n.capture?"":"?:")+t.map((function(e){return Cf(e)})).join("|")+")";return r}function kf(e){return new RegExp(e.toString()+"|").exec("").length-1}var Bf=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Sf(e,t){var u=t.joinWith,n=0;return e.map((function(e){for(var t=n+=1,u=Cf(e),r="";u.length>0;){var d=Bf.exec(u);if(!d){r+=u;break}r+=u.substring(0,d.index),u=u.substring(d.index+d[0].length),"\\"===d[0][0]&&d[1]?r+="\\"+String(Number(d[1])+t):(r+=d[0],"("===d[0]&&n++)}return r})).map((function(e){return"(".concat(e,")")})).join(u)}var Of="[a-zA-Z]\\w*",Nf="[a-zA-Z_]\\w*",jf="\\b\\d+(\\.\\d+)?",Tf="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Rf="\\b(0b[01]+)",Lf={begin:"\\\\[\\s\\S]",relevance:0},Pf={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Lf]},Mf={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Lf]},If=function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=bf({scope:"comment",begin:e,end:t,contains:[]},u);n.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});var r=xf("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return n.contains.push({begin:wf(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),n},Uf=If("//","$"),zf=If("/\\*","\\*/"),Hf=If("#","$"),qf={scope:"number",begin:jf,relevance:0},Gf={scope:"number",begin:Tf,relevance:0},Kf={scope:"number",begin:Rf,relevance:0},Wf={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[Lf,{begin:/\[/,end:/\]/,relevance:0,contains:[Lf]}]}]},Yf={scope:"title",begin:Of,relevance:0},Zf={scope:"title",begin:Nf,relevance:0},Vf={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0},Jf=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:Of,UNDERSCORE_IDENT_RE:Nf,NUMBER_RE:jf,C_NUMBER_RE:Tf,BINARY_NUMBER_RE:Rf,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=/^#![ ]*\//;return e.binary&&(e.begin=wf(t,/.*\b/,e.binary,/\b.*/)),bf({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":function(e,t){0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:Lf,APOS_STRING_MODE:Pf,QUOTE_STRING_MODE:Mf,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},COMMENT:If,C_LINE_COMMENT_MODE:Uf,C_BLOCK_COMMENT_MODE:zf,HASH_COMMENT_MODE:Hf,NUMBER_MODE:qf,C_NUMBER_MODE:Gf,BINARY_NUMBER_MODE:Kf,REGEXP_MODE:Wf,TITLE_MODE:Yf,UNDERSCORE_TITLE_MODE:Zf,METHOD_GUARD:Vf,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":function(e,t){t.data._beginMatch=e[1]},"on:end":function(e,t){t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}});function Qf(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function Xf(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function ep(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Qf,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function tp(e,t){Array.isArray(e.illegal)&&(e.illegal=xf.apply(void 0,s(e.illegal)))}function up(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function np(e,t){void 0===e.relevance&&(e.relevance=1)}var rp=function(e,t){if(e.beforeMatch){if(e.starts)throw new Error("beforeMatch cannot be used with starts");var u=Object.assign({},e);Object.keys(e).forEach((function(t){delete e[t]})),e.keywords=u.keywords,e.begin=wf(u.beforeMatch,Ef(u.begin)),e.starts={relevance:0,contains:[Object.assign(u,{endsParent:!0})]},e.relevance=0,delete u.beforeMatch}},dp=["of","and","for","in","not","or","if","then","parent","list","value"],ap="keyword";function op(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ap,n=Object.create(null);return"string"==typeof e?r(u,e.split(" ")):Array.isArray(e)?r(u,e):Object.keys(e).forEach((function(u){Object.assign(n,op(e[u],t,u))})),n;function r(e,u){t&&(u=u.map((function(e){return e.toLowerCase()}))),u.forEach((function(t){var u=t.split("|");n[u[0]]=[e,ip(u[0],u[1])]}))}}function ip(e,t){return t?Number(t):function(e){return dp.includes(e.toLowerCase())}(e)?0:1}var cp={},sp=function(e){console.error(e)},lp=function(e){for(var t,u=arguments.length,n=new Array(u>1?u-1:0),r=1;r<u;r++)n[r-1]=arguments[r];(t=console).log.apply(t,["WARN: ".concat(e)].concat(n))},fp=function(e,t){cp["".concat(e,"/").concat(t)]||(console.log("Deprecated as of ".concat(e,". ").concat(t)),cp["".concat(e,"/").concat(t)]=!0)},pp=new Error;function mp(e,t,u){for(var n=u.key,r=0,d=e[n],a={},o={},i=1;i<=t.length;i++)o[i+r]=d[i],a[i+r]=!0,r+=kf(t[i-1]);e[n]=o,e[n]._emit=a,e[n]._multi=!0}function hp(e){!function(e){e.scope&&"object"===m(e.scope)&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw sp("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),pp;if("object"!==m(e.beginScope)||null===e.beginScope)throw sp("beginScope must be object"),pp;mp(e,e.begin,{key:"beginScope"}),e.begin=Sf(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw sp("skip, excludeEnd, returnEnd not compatible with endScope: {}"),pp;if("object"!==m(e.endScope)||null===e.endScope)throw sp("endScope must be object"),pp;mp(e,e.end,{key:"endScope"}),e.end=Sf(e.end,{joinWith:""})}}(e)}function gp(e){function t(t,u){return new RegExp(Cf(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(u?"g":""))}var u=function(){function e(){D(this,e),this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}return $(e,[{key:"addRule",value:function(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=kf(e)+1}},{key:"compile",value:function(){0===this.regexes.length&&(this.exec=function(){return null});var e=this.regexes.map((function(e){return e[1]}));this.matcherRe=t(Sf(e,{joinWith:"|"}),!0),this.lastIndex=0}},{key:"exec",value:function(e){this.matcherRe.lastIndex=this.lastIndex;var t=this.matcherRe.exec(e);if(!t)return null;var u=t.findIndex((function(e,t){return t>0&&void 0!==e})),n=this.matchIndexes[u];return t.splice(0,u),Object.assign(t,n)}}]),e}(),n=function(){function e(){D(this,e),this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}return $(e,[{key:"getMatcher",value:function(e){if(this.multiRegexes[e])return this.multiRegexes[e];var t=new u;return this.rules.slice(e).forEach((function(e){var u=kt(e,2),n=u[0],r=u[1];return t.addRule(n,r)})),t.compile(),this.multiRegexes[e]=t,t}},{key:"resumingScanAtSamePosition",value:function(){return 0!==this.regexIndex}},{key:"considerAll",value:function(){this.regexIndex=0}},{key:"addRule",value:function(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}},{key:"exec",value:function(e){var t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;var u=t.exec(e);if(this.resumingScanAtSamePosition())if(u&&u.index===this.lastIndex);else{var n=this.getMatcher(0);n.lastIndex=this.lastIndex+1,u=n.exec(e)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}]),e}();if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=bf(e.classNameAliases||{}),function u(r,d){var a,o=r;if(r.isCompiled)return o;[Xf,up,hp,rp].forEach((function(e){return e(r,d)})),e.compilerExtensions.forEach((function(e){return e(r,d)})),r.__beforeBegin=null,[ep,tp,np].forEach((function(e){return e(r,d)})),r.isCompiled=!0;var i=null;return"object"===m(r.keywords)&&r.keywords.$pattern&&(r.keywords=Object.assign({},r.keywords),i=r.keywords.$pattern,delete r.keywords.$pattern),i=i||/\w+/,r.keywords&&(r.keywords=op(r.keywords,e.case_insensitive)),o.keywordPatternRe=t(i,!0),d&&(r.begin||(r.begin=/\B|\b/),o.beginRe=t(o.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(o.endRe=t(o.end)),o.terminatorEnd=Cf(o.end)||"",r.endsWithParent&&d.terminatorEnd&&(o.terminatorEnd+=(r.end?"|":"")+d.terminatorEnd)),r.illegal&&(o.illegalRe=t(r.illegal)),r.contains||(r.contains=[]),r.contains=(a=[]).concat.apply(a,s(r.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return bf(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(Dp(e))return bf(e,{starts:e.starts?bf(e.starts):null});if(Object.isFrozen(e))return bf(e);return e}("self"===e?r:e)})))),r.contains.forEach((function(e){u(e,o)})),r.starts&&u(r.starts,d),o.matcher=function(e){var t=new n;return e.contains.forEach((function(e){return t.addRule(e.begin,{rule:e,type:"begin"})})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(o),o}(e)}function Dp(e){return!!e&&(e.endsWithParent||Dp(e.starts))}var bp=function(e){p(u,e);var t=ff(u);function u(e,n){var r;return D(this,u),(r=t.call(this,e)).name="HTMLInjectionError",r.html=n,r}return $(u)}(a(Error)),$p=Df,vp=bf,yp=Symbol("nomatch"),Cp=function(e){var t=Object.create(null),u=Object.create(null),n=[],r=!0,d="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]},o={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:yf};function i(e){return o.noHighlightRe.test(e)}function c(e,t,u){var n="",r="";"object"===m(t)?(n=e,u=t.ignoreIllegals,r=t.language):(fp("10.7.0","highlight(lang, code, ...args) has been deprecated."),fp("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),r=e,n=t),void 0===u&&(u=!0);var d={code:n,language:r};$("before:highlight",d);var a=d.result?d.result:s(d.language,d.code,u);return a.code=d.code,$("after:highlight",a),a}function s(e,u,n,a){var i=Object.create(null);function c(){if(A.keywords){var e=0;A.keywordPatternRe.lastIndex=0;for(var t,u=A.keywordPatternRe.exec(_),n="";u;){n+=_.substring(e,u.index);var r=y.case_insensitive?u[0].toLowerCase():u[0],d=(t=r,A.keywords[t]);if(d){var a=kt(d,2),o=a[0],c=a[1];if(w.addText(n),n="",i[r]=(i[r]||0)+1,i[r]<=7&&(x+=c),o.startsWith("_"))n+=u[0];else{var s=y.classNameAliases[o]||o;w.addKeyword(u[0],s)}}else n+=u[0];e=A.keywordPatternRe.lastIndex,u=A.keywordPatternRe.exec(_)}n+=_.substr(e),w.addText(n)}else w.addText(_)}function f(){null!=A.subLanguage?function(){if(""!==_){var e=null;if("string"==typeof A.subLanguage){if(!t[A.subLanguage])return void w.addText(_);e=s(A.subLanguage,_,!0,F[A.subLanguage]),F[A.subLanguage]=e._top}else e=l(_,A.subLanguage.length?A.subLanguage:null);A.relevance>0&&(x+=e.relevance),w.addSublanguage(e._emitter,e.language)}}():c(),_=""}function p(e,t){for(var u=1;void 0!==t[u];)if(e._emit[u]){var n=y.classNameAliases[e[u]]||e[u],r=t[u];n?w.addKeyword(r,n):(_=r,c(),_=""),u++}else u++}function m(e,t){return e.scope&&"string"==typeof e.scope&&w.openNode(y.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(w.addKeyword(_,y.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),_=""):e.beginScope._multi&&(p(e.beginScope,t),_="")),A=Object.create(e,{parent:{value:A}})}function h(e,t,u){var n=function(e,t){var u=e&&e.exec(t);return u&&0===u.index}(e.endRe,u);if(n){if(e["on:end"]){var r=new gf(e);e["on:end"](t,r),r.isMatchIgnored&&(n=!1)}if(n){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return h(e.parent,t,u)}function D(e){return 0===A.matcher.regexIndex?(_+=e[0],1):(S=!0,0)}function b(e){var t=e[0],n=u.substr(e.index),r=h(A,e,n);if(!r)return yp;var d=A;A.endScope&&A.endScope._wrap?(f(),w.addKeyword(t,A.endScope._wrap)):A.endScope&&A.endScope._multi?(f(),p(A.endScope,e)):d.skip?_+=t:(d.returnEnd||d.excludeEnd||(_+=t),f(),d.excludeEnd&&(_=t));do{A.scope&&w.closeNode(),A.skip||A.subLanguage||(x+=A.relevance),A=A.parent}while(A!==r.parent);return r.starts&&m(r.starts,e),d.returnEnd?0:t.length}var $={};function v(t,d){var a=d&&d[0];if(_+=t,null==a)return f(),0;if("begin"===$.type&&"end"===d.type&&$.index===d.index&&""===a){if(_+=u.slice(d.index,d.index+1),!r){var o=new Error("0 width match regex (".concat(e,")"));throw o.languageName=e,o.badRule=$.rule,o}return 1}if($=d,"begin"===d.type)return function(e){for(var t=e[0],u=e.rule,n=new gf(u),r=0,d=[u.__beforeBegin,u["on:begin"]];r<d.length;r++){var a=d[r];if(a&&(a(e,n),n.isMatchIgnored))return D(t)}return u.skip?_+=t:(u.excludeBegin&&(_+=t),f(),u.returnBegin||u.excludeBegin||(_=t)),m(u,e),u.returnBegin?0:t.length}(d);if("illegal"===d.type&&!n){var i=new Error('Illegal lexeme "'+a+'" for mode "'+(A.scope||"<unnamed>")+'"');throw i.mode=A,i}if("end"===d.type){var c=b(d);if(c!==yp)return c}if("illegal"===d.type&&""===a)return 1;if(B>1e5&&B>3*d.index)throw new Error("potential infinite loop, way more iterations than matches");return _+=a,a.length}var y=g(e);if(!y)throw sp(d.replace("{}",e)),new Error('Unknown language: "'+e+'"');var C=gp(y),E="",A=a||C,F={},w=new o.__emitter(o);!function(){for(var e=[],t=A;t!==y;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((function(e){return w.openNode(e)}))}();var _="",x=0,k=0,B=0,S=!1;try{for(A.matcher.considerAll();;){B++,S?S=!1:A.matcher.considerAll(),A.matcher.lastIndex=k;var O=A.matcher.exec(u);if(!O)break;var N=v(u.substring(k,O.index),O);k=O.index+N}return v(u.substr(k)),w.closeAllNodes(),w.finalize(),E=w.toHTML(),{language:e,value:E,relevance:x,illegal:!1,_emitter:w,_top:A}}catch(t){if(t.message&&t.message.includes("Illegal"))return{language:e,value:$p(u),illegal:!0,relevance:0,_illegalBy:{message:t.message,index:k,context:u.slice(k-100,k+100),mode:t.mode,resultSoFar:E},_emitter:w};if(r)return{language:e,value:$p(u),illegal:!1,relevance:0,errorRaised:t,_emitter:w,_top:A};throw t}}function l(e,u){u=u||o.languages||Object.keys(t);var n=function(e){var t={value:$p(e),illegal:!1,relevance:0,_top:a,_emitter:new o.__emitter(o)};return t._emitter.addText(e),t}(e),r=u.filter(g).filter(b).map((function(t){return s(t,e,!1)}));r.unshift(n);var d=kt(r.sort((function(e,t){if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(g(e.language).supersetOf===t.language)return 1;if(g(t.language).supersetOf===e.language)return-1}return 0})),2),i=d[0],c=d[1],l=i;return l.secondBest=c,l}function f(e){var t=function(e){var t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";var u=o.languageDetectRe.exec(t);if(u){var n=g(u[1]);return n||(lp(d.replace("{}",u[1])),lp("Falling back to no-highlight mode for this block.",e)),n?u[1]:"no-highlight"}return t.split(/\s+/).find((function(e){return i(e)||g(e)}))}(e);if(!i(t)){if($("before:highlightElement",{el:e,language:t}),e.children.length>0)if(o.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/issues/2886"),console.warn(e)),o.throwUnescapedHTML)throw new bp("One of your code blocks includes unescaped HTML.",e.innerHTML);var n=e.textContent,r=t?c(n,{language:t,ignoreIllegals:!0}):l(n);e.innerHTML=r.value,function(e,t,n){var r=t&&u[t]||n;e.classList.add("hljs"),e.classList.add("language-".concat(r))}(e,t,r.language),e.result={language:r.language,re:r.relevance,relevance:r.relevance},r.secondBest&&(e.secondBest={language:r.secondBest.language,relevance:r.secondBest.relevance}),$("after:highlightElement",{el:e,result:r,text:n})}}var p=!1;function h(){"loading"!==document.readyState?document.querySelectorAll(o.cssSelector).forEach(f):p=!0}function g(e){return e=(e||"").toLowerCase(),t[e]||t[u[e]]}function D(e,t){var n=t.languageName;"string"==typeof e&&(e=[e]),e.forEach((function(e){u[e.toLowerCase()]=n}))}function b(e){var t=g(e);return t&&!t.disableAutodetect}function $(e,t){var u=e;n.forEach((function(e){e[u]&&e[u](t)}))}for(var v in"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){p&&h()}),!1),Object.assign(e,{highlight:c,highlightAuto:l,highlightAll:h,highlightElement:f,highlightBlock:function(e){return fp("10.7.0","highlightBlock will be removed entirely in v12.0"),fp("10.7.0","Please use highlightElement now."),f(e)},configure:function(e){o=vp(o,e)},initHighlighting:function(){h(),fp("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){h(),fp("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(u,n){var d=null;try{d=n(e)}catch(e){if(sp("Language definition for '{}' could not be registered.".replace("{}",u)),!r)throw e;sp(e),d=a}d.name||(d.name=u),t[u]=d,d.rawDefinition=n.bind(null,e),d.aliases&&D(d.aliases,{languageName:u})},unregisterLanguage:function(e){delete t[e];for(var n=0,r=Object.keys(u);n<r.length;n++){var d=r[n];u[d]===e&&delete u[d]}},listLanguages:function(){return Object.keys(t)},getLanguage:g,registerAliases:D,autoDetection:b,inherit:vp,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=function(t){e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=function(t){e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),n.push(e)}}),e.debugMode=function(){r=!1},e.safeMode=function(){r=!0},e.versionString="11.3.1",e.regex={concat:wf,lookahead:Ef,either:xf,optional:Ff,anyNumberOfTimes:Af},Jf)"object"===m(Jf[v])&&hf(Jf[v]);return Object.assign(e,Jf),e}({}),Ep=Cp;Cp.HighlightJS=Cp,Cp.default=Cp;var Ap="hljs-ln",Fp="hljs-ln-line",wp="hljs-ln-code",_p="hljs-ln-numbers",xp="hljs-ln-n",kp="data-line-number",Bp=/\r\n|\r|\n/g;function Sp(e){var t=e.childNodes;for(var u in t)if(t.hasOwnProperty(u)){var n=t[u];jp(n.textContent)>0&&(n.childNodes.length>0?Sp(n):Op(n.parentNode))}}function Op(e){var t=e.className;if(/hljs-/.test(t)){for(var u=Np(e.innerHTML),n=0,r="";n<u.length;n++){var d=u[n].length>0?u[n]:" ";r+='<span class="'.concat(t,'">').concat(d,"</span>\n")}e.innerHTML=r.trim()}}function Np(e){return 0===e.length?[]:e.split(Bp)}function jp(e){return(e.trim().match(Bp)||[]).length}document.addEventListener("copy",(function(e){var t,u=window.getSelection();(function(e){for(var t=e;t;){if(t.className&&-1!==t.className.indexOf("hljs-ln-code"))return!0;t=t.parentNode}return!1})(u.anchorNode)&&(t=-1!==window.navigator.userAgent.indexOf("Edge")?function(e){for(var t=e.toString(),u=e.anchorNode;"TD"!==u.nodeName;)u=u.parentNode;for(var n=e.focusNode;"TD"!==n.nodeName;)n=n.parentNode;var r=parseInt(u.dataset.lineNumber,10),d=parseInt(n.dataset.lineNumber,10);if(r!=d){var a=u.textContent,o=n.textContent;if(r>d){var i=r;r=d,d=i,i=a,a=o,o=i}for(;0!==t.indexOf(a);)a=a.slice(1);for(;-1===t.lastIndexOf(o);)o=o.slice(0,-1);for(var c=a,s=function(e){for(var t=e;"TABLE"!==t.nodeName;)t=t.parentNode;return t}(u),l=r+1;l<d;++l){var f=".".concat(wp,"[").concat(kp,'="').concat(l,'"]');c+="\n"+s.querySelector(f).textContent}return c+"\n"+o}return t}(u):u.toString(),e.clipboardData.setData("text/plain",t),e.preventDefault())}));var Tp="[A-Za-z$_][0-9A-Za-z$_]*",Rp=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Lp=["true","false","null","undefined","NaN","Infinity"],Pp=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Mp=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Ip=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Up=["arguments","this","super","console","window","document","localStorage","module","global"],zp=[].concat(Ip,Pp,Mp);var Hp=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],qp=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Gp=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Kp=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Wp=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-height","max-width","min-height","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();var Yp,Zp=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Vp=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Jp=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Qp=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Xp=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-height","max-width","min-height","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();Ep.registerLanguage("css",(function(e){var t=e.regex,u=function(e){return{IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}}(e),n=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[u.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},u.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},u.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Jp.join("|")+")"},{begin:":(:)?("+Qp.join("|")+")"}]},u.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Xp.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[u.BLOCK_COMMENT,u.HEXCOLOR,u.IMPORTANT,u.CSS_NUMBER_MODE].concat(n,[{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},u.FUNCTION_DISPATCH])},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:Vp.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"}].concat(n,[u.CSS_NUMBER_MODE])}]},{className:"selector-tag",begin:"\\b("+Zp.join("|")+")\\b"}]}})),Ep.registerLanguage("diff",(function(e){var t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}})),Ep.registerLanguage("dockerfile",(function(e){return{name:"Dockerfile",aliases:["docker"],case_insensitive:!0,keywords:["from","maintainer","expose","env","arg","user","onbuild","stopsignal"],contains:[e.HASH_COMMENT_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{beginKeywords:"run cmd entrypoint volume add copy workdir label healthcheck shell",starts:{end:/[^\\]$/,subLanguage:"bash"}}],illegal:"</"}})),Ep.registerLanguage("go",(function(e){var t={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,illegal:/["']/}]}]}})),Ep.registerLanguage("http",(function(e){var t="HTTP/(2|1\\.[01])",u={className:"attribute",begin:e.regex.concat("^",/[A-Za-z][A-Za-z0-9-]*/,"(?=\\:\\s)"),starts:{contains:[{className:"punctuation",begin:/: /,relevance:0,starts:{end:"$",relevance:0}}]}},n=[u,{begin:"\\n\\n",starts:{subLanguage:[],endsWithParent:!0}}];return{name:"HTTP",aliases:["https"],illegal:/\S/,contains:[{begin:"^(?="+t+" \\d{3})",end:/$/,contains:[{className:"meta",begin:t},{className:"number",begin:"\\b\\d{3}\\b"}],starts:{end:/\b\B/,illegal:/\S/,contains:n}},{begin:"(?=^[A-Z]+ (.*?) "+t+"$)",end:/$/,contains:[{className:"string",begin:" ",end:" ",excludeBegin:!0,excludeEnd:!0},{className:"meta",begin:t},{className:"keyword",begin:"[A-Z]+"}],starts:{end:/\b\B/,illegal:/\S/,contains:n}},e.inherit(u,{relevance:0})]}})),Ep.registerLanguage("javascript",(function(e){var t=e.regex,u=Tp,n="<>",r="</>",d={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:function(e,t){var u,n=e[0].length+e.index,r=e.input[n];"<"!==r&&","!==r?(">"===r&&(function(e,t){var u=t.after,n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,u)}(e,{after:n})||t.ignoreMatch()),(u=e.input.substr(n).match(/^\s+extends\s+/))&&0===u.index&&t.ignoreMatch()):t.ignoreMatch()}},a={$pattern:Tp,keyword:Rp,literal:Lp,built_in:zp,"variable.language":Up},o="[0-9](_?[0-9])*",i="\\.(".concat(o,")"),c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",s={className:"number",variants:[{begin:"(\\b(".concat(c,")((").concat(i,")|\\.)?|(").concat(i,"))")+"[eE][+-]?(".concat(o,")\\b")},{begin:"\\b(".concat(c,")\\b((").concat(i,")\\b|\\.)?|(").concat(i,")\\b")},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},l={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},f={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,l],subLanguage:"xml"}},p={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,l],subLanguage:"css"}},m={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,l]},h={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:u+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},g=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,m,s];l.contains=g.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(g)});var D,b=[].concat(h,l.contains),$=b.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(b)}]),v={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:$},y={variants:[{match:[/class/,/\s+/,u,/\s+/,/extends/,/\s+/,t.concat(u,"(",t.concat(/\./,u),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,u],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]+|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+/),className:"title.class",keywords:{_:[].concat(Pp,Mp)}},E={variants:[{match:[/function/,/\s+/,u,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[v],illegal:/%/},A={match:t.concat(/\b/,(D=[].concat(Ip,["super"]),t.concat("(?!",D.join("|"),")")),u,t.lookahead(/\(/)),className:"title.function",relevance:0},F={begin:t.concat(/\./,t.lookahead(t.concat(u,/(?![0-9A-Za-z$_(])/))),end:u,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},w={match:[/get|set/,/\s+/,u,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},v]},_="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",x={match:[/const|var|let/,/\s+/,u,/\s*/,/=\s*/,t.lookahead(_)],className:{1:"keyword",3:"title.function"},contains:[v]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:$,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,m,h,s,C,{className:"attr",begin:u+t.lookahead(":"),relevance:0},x,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[h,e.REGEXP_MODE,{className:"function",begin:_,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:$}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:n,end:r},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:d.begin,"on:begin":d.isTrulyOpeningTag,end:d.end}],subLanguage:"xml",contains:[{begin:d.begin,end:d.end,skip:!0,contains:["self"]}]}]},E,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[v,e.inherit(e.TITLE_MODE,{begin:u,className:"title.function"})]},{match:/\.\.\./,relevance:0},F,{match:"\\$"+u,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[v]},A,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},y,w,{match:/\$[(.]/}]}})),Ep.registerLanguage("markdown",(function(e){var t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},u={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},n={className:"strong",contains:[],variants:[{begin:/_{2}/,end:/_{2}/},{begin:/\*{2}/,end:/\*{2}/}]},r={className:"emphasis",contains:[],variants:[{begin:/\*(?!\*)/,end:/\*/},{begin:/_(?!_)/,end:/_/,relevance:0}]};n.contains.push(r),r.contains.push(n);var d=[t,u];return n.contains=n.contains.concat(d),r.contains=r.contains.concat(d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:d=d.concat(n,r)},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:d}]}]},t,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},n,r,{className:"quote",begin:"^>\\s+",contains:d,end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},u,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}})),Ep.registerLanguage("mojolicious",(function(e){return{name:"Mojolicious",subLanguage:"xml",contains:[{className:"meta",begin:"^__(END|DATA)__$"},{begin:"^\\s*%{1,2}={0,2}",end:"$",subLanguage:"perl"},{begin:"<%{1,2}={0,2}",end:"={0,1}%>",subLanguage:"perl",excludeBegin:!0,excludeEnd:!0}]}})),Ep.registerLanguage("nginx",(function(e){var t=e.regex,u={className:"variable",variants:[{begin:/\$\d+/},{begin:/\$\{\w+\}/},{begin:t.concat(/[$@]/,e.UNDERSCORE_IDENT_RE)}]},n={endsWithParent:!0,keywords:{$pattern:/[a-z_]{2,}|\/dev\/poll/,literal:["on","off","yes","no","true","false","none","blocked","debug","info","notice","warn","error","crit","select","break","last","permanent","redirect","kqueue","rtsig","epoll","poll","/dev/poll"]},relevance:0,illegal:"=>",contains:[e.HASH_COMMENT_MODE,{className:"string",contains:[e.BACKSLASH_ESCAPE,u],variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/}]},{begin:"([a-z]+):/",end:"\\s",endsWithParent:!0,excludeEnd:!0,contains:[u]},{className:"regexp",contains:[e.BACKSLASH_ESCAPE,u],variants:[{begin:"\\s\\^",end:"\\s|\\{|;",returnEnd:!0},{begin:"~\\*?\\s+",end:"\\s|\\{|;",returnEnd:!0},{begin:"\\*(\\.[a-z\\-]+)+"},{begin:"([a-z\\-]+\\.)+\\*"}]},{className:"number",begin:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{className:"number",begin:"\\b\\d+[kKmMgGdshdwy]?\\b",relevance:0},u]};return{name:"Nginx config",aliases:["nginxconf"],contains:[e.HASH_COMMENT_MODE,{beginKeywords:"upstream location",end:/;|\{/,contains:n.contains,keywords:{section:"upstream location"}},{className:"section",begin:t.concat(e.UNDERSCORE_IDENT_RE+t.lookahead(/\s+\{/)),relevance:0},{begin:t.lookahead(e.UNDERSCORE_IDENT_RE+"\\s"),end:";|\\{",contains:[{className:"attribute",begin:e.UNDERSCORE_IDENT_RE,starts:n}],relevance:0}],illegal:"[^\\s\\}\\{]"}})),Ep.registerLanguage("perl",(function(e){var t=e.regex,u=/[dualxmsipngr]{0,12}/,n={$pattern:/[\w.]+/,keyword:["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"].join(" ")},r={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:n},d={begin:/->\{/,end:/\}/},a={variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},o=[e.BACKSLASH_ESCAPE,r,a],i=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],c=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\\1",d="\\1"===r?r:t.concat(r,n);return t.concat(t.concat("(?:",e,")"),n,/(?:\\.|[^\\\/])*?/,d,/(?:\\.|[^\\\/])*?/,r,u)},s=function(e,n,r){return t.concat(t.concat("(?:",e,")"),n,/(?:\\.|[^\\\/])*?/,r,u)},l=[a,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),d,{className:"string",contains:o,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:c("s|tr|y",t.either.apply(t,i.concat([{capture:!0}])))},{begin:c("s|tr|y","\\(","\\)")},{begin:c("s|tr|y","\\[","\\]")},{begin:c("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:s("(?:m|qr)?",/\//,/\//)},{begin:s("m|qr",t.either.apply(t,i.concat([{capture:!0}])),/\1/)},{begin:s("m|qr",/\(/,/\)/)},{begin:s("m|qr",/\[/,/\]/)},{begin:s("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return r.contains=l,d.contains=l,{name:"Perl",aliases:["pl","pm"],keywords:n,contains:l}})),Ep.registerLanguage("python",(function(e){var t=e.regex,u=/(?:[A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037B-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFC5D\uFC64-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDF9\uFE71\uFE73\uFE77\uFE79\uFE7B\uFE7D\uFE7F-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037B-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088E\u0898-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA827\uA82C\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFC5D\uFC64-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDF9\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE71\uFE73\uFE77\uFE79\uFE7B\uFE7D\uFE7F-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDF70-\uDF85\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]|\uDB40[\uDD00-\uDDEF])*/,n={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:["and","as","assert","async","await","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},r={className:"meta",begin:/^(>>>|\.\.\.) /},d={className:"subst",begin:/\{/,end:/\}/,keywords:n,illegal:/#/},a={begin:/\{\{/,relevance:0},o={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,r],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,r],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,r,a,d]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,r,a,d]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,a,d]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,a,d]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},i="[0-9](_?[0-9])*",c="(\\b(".concat(i,"))?\\.(").concat(i,")|\\b(").concat(i,")\\."),s={className:"number",relevance:0,variants:[{begin:"(\\b(".concat(i,")|(").concat(c,"))[eE][+-]?(").concat(i,")[jJ]?\\b")},{begin:"(".concat(c,")[jJ]?")},{begin:"\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?\\b"},{begin:"\\b0[bB](_?[01])+[lL]?\\b"},{begin:"\\b0[oO](_?[0-7])+[lL]?\\b"},{begin:"\\b0[xX](_?[0-9a-fA-F])+[lL]?\\b"},{begin:"\\b(".concat(i,")[jJ]\\b")}]},l={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:n,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},f={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:n,contains:["self",r,s,o,e.HASH_COMMENT_MODE]}]};return d.contains=[o,s,r],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:n,illegal:/(<\/|->|\?)|=>/,contains:[r,s,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},o,l,e.HASH_COMMENT_MODE,{match:[/def/,/\s+/,u],scope:{1:"keyword",3:"title.function"},contains:[f]},{variants:[{match:[/class/,/\s+/,u,/\s*/,/\(\s*/,u,/\s*\)/]},{match:[/class/,/\s+/,u]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[s,f,o]}]}})),Ep.registerLanguage("scss",(function(e){var t=function(e){return{IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}}(e),u=Kp,n=Gp,r="@[a-z-]+",d={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b"};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+Hp.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+n.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+u.join("|")+")"},d,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Wp.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,contains:[t.BLOCK_COMMENT,d,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT]},{begin:"@(page|font-face)",keywords:{$pattern:r,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:qp.join(" ")},contains:[{begin:r,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},d,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}})),Ep.registerLanguage("shell",(function(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}})),Ep.registerLanguage("xml",(function(e){var t=e.regex,u=t.concat(/[A-Z_]/,t.optional(/[A-Z0-9_.-]*:/),/[A-Z0-9_.-]*/),n={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},r={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},d=e.inherit(r,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),o=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),i={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[A-Za-z0-9._:-]+/,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[n]},{begin:/'/,end:/'/,contains:[n]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[r,o,a,d,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[r,d,o,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},n,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[i],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[i],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(u,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:u,relevance:0,starts:i}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(u,/>/))),contains:[{className:"name",begin:u,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}})),Ep.registerLanguage("yaml",(function(e){var t="true false yes no null",u="[\\w#;/?:@&=+$,.~*'()[\\]]+",n={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},r=e.inherit(n,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),d={className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},a={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},o={begin:/\{/,end:/\}/,contains:[a],illegal:"\\n",relevance:0},i={begin:"\\[",end:"\\]",contains:[a],illegal:"\\n",relevance:0},c=[{className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+u},{className:"type",begin:"!<"+u+">"},{className:"type",begin:"!"+u},{className:"type",begin:"!!"+u},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},d,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},o,i,n],s=[].concat(c);return s.pop(),s.push(r),a.contains=s,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:c}})),(Yp=Ep).lineNumbersBlock=function(e,t){Yp.highlightBlock(e,t),e.innerHTML=function(e,t){var u=(t=t||{singleLine:!1}).singleLine?0:1;return Sp(e),function(e,t){var u=Np(e);if(""===u[u.length-1].trim()&&u.pop(),u.length>t){for(var n="",r=0,d=u.length;r<d;r++){var a=r+1;n+="<tr>"+'<td class="'.concat(Fp," ").concat(_p,'" ').concat(kp,'="').concat(a,'">')+'<div class="'.concat(xp,'" ').concat(kp,'="').concat(a,'"></div>')+"</td>"+'<td class="'.concat(Fp," ").concat(wp,'" ').concat(kp,'="').concat(a,'">')+(u[r].length>0?u[r]:" ")+"</td></tr>"}return'<table class="'.concat(Ap,'">').concat(n,"</table>")}return e}(e.innerHTML,u)}(e,t)};var em={exports:{}};function tm(e){for(var t=document.createElement("div"),u=[[e,t]],n=[];u.length;){var r=kt(u.shift(),2),d=r[0],a=r[1],o=void 0,i=void 0,c=m(d);if(null===d||"undefined"==c?c="null":Array.isArray(d)&&(c="array"),"array"==c?(i=function(e){return e},i.len=d.length,(o=document.createElement("div")).className="json-array "+(i.len?"has-items":"is-empty")):"object"==c?function(){var e=Object.keys(d).sort();i=function(t){return e[t]},i.len=e.length,(o=document.createElement("div")).className="json-object "+(i.len?"has-items":"is-empty")}():((o=document.createElement("span")).className="json-"+c,o.textContent="null"==c?"null":"boolean"!=c?d:d?"true":"false"),i){var s=document.createElement("span");if(s.className="json-type",s.textContent=i.len?c+"["+i.len+"]":"{}",a.appendChild(s),-1!=n.indexOf(d))t.classList.add("has-recursive-items"),o.classList.add("is-seen");else{for(var l=0;l<i.len;l++){var f=i(l),p=document.createElement("div"),h=document.createElement("span");h.className="json-key",h.textContent=f,p.appendChild(h),o.appendChild(p),u.push([d[f],p])}n.push(d)}}a.className="json-item "+o.className.replace(/^json-/,"contains-"),a.appendChild(o)}return t}try{em.exports={jsonhtmlify:tm}}catch(e){window.jsonhtmlify=tm}function um(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,n)}return u}function nm(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?um(Object(u),!0).forEach((function(t){Et(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):um(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}function rm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var dm={},am=0,om=function(e){p(r,e);var t,n=rm(r);function r(){var e;return D(this,r),(e=n.call(this)).prop("ro","length",(function(){return e.messages.length})),e.prop("ro","messages",[]),e.prop("rw","expandUrlToMedia",!0),e.prop("rw","raw",!1),e.embedCache=dm,e}return $(r,[{key:"clear",value:function(){return this.messages.length=0,this.update({messages:!0})}},{key:"get",value:function(e){return e<0?this.messages.slice(e)[0]:this.messages[e]}},{key:"push",value:function(e){return[].push.apply(this.messages,this._fill(e)),this.update({messages:!0})}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(-1!=t){var u=this.get(t);return u&&!u.rendered&&(u.embeds=this._embeds(u),u.rendered=!0,this.update({messages:!0})),this.messages}var n={},r=this.raw?"lmdRaw":"lmd";return this.messages.map((function(t,u){return t.index=u,t.className||(t.dayChanged=e._dayChanged(t,n),t.className=e._className(t,n),t.embeds=[],t.markdown=In[r].apply(In,[t.message].concat(s(t.vars||[])))),n=t}))}},{key:"toArray",value:function(){return this.messages}},{key:"update",value:function(e){return e.hasOwnProperty("expandUrlToMedia")&&e.expandUrlToMedia!=this.expandUrlToMedia&&this.messages.forEach((function(e){return delete e.rendered})),e.hasOwnProperty("raw")&&e.raw!=this.raw&&this.messages.forEach((function(e){return delete e.className})),f(u(r.prototype),"update",this).call(this,e)}},{key:"unshift",value:function(e){return[].unshift.apply(this.messages,this._fill(e)),this.update({messages:!0})}},{key:"_className",value:function(e,t){var u=["message"];e.type&&u.push("is-type-"+e.type),e.highlight&&u.push("is-highlighted");var n=e.from==t.from&&e.conversation_id==t.conversation_id&&e.connection_id==t.connection_id;return u.push(!e.dayChanged&&n?"has-same-from":"has-not-same-from"),u.join(" ")}},{key:"_dayChanged",value:function(e,t){return!(!t.ts||e.ts.getDate()==t.ts.getDate())}},{key:"_embeds",value:function(e){var t=this,u=[];return this._msgDetails(e)&&u.push(Promise.resolve({className:"le-details",details:!0,nodes:[em.exports.jsonhtmlify(e.details).lastChild]})),this.expandUrlToMedia&&"notice"!=e.type?((e.message.match(/https?:\/\/(\S+)/g)||[]).forEach((function(n){n=n.replace(/(\W)?$/,""),t.embedCache[n]||(t.embedCache[n]=t._loadEmbed(e,n)),u.push(t.embedCache[n])})),u.map((function(t){return t.catch((function(t){return console.error("[Messages:embed]",e,t)}))}))):u}},{key:"_fill",value:function(e){for(var t=0;t<e.length;t++){var u=e[t];if(!u.from){var n=[!0,"Convos"];u.internal=n[0],u.from=n[1]}u.type||(u.type="notice"),u.color="Convos"==u.from?"inherit":ru(u.from.toLowerCase()),u.ts=new Xn(u.ts),u.id=++am}return e}},{key:"_loadEmbed",value:(t=hu(Du.mark((function e(t,u){var n,r,d;return Du.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jn("/api","embed",{url:u}).perform();case 2:if(n=e.sent,(r=n.res.body).nodes=[],r.provider=(r.provider_name||"").toLowerCase(),r.html){e.next=8;break}return e.abrupt("return",r);case 8:if(d=document.createRange().createContextualFragment(r.html).firstChild){e.next=11;break}return e.abrupt("return",r);case 11:return Xt(d=this._renderVideoChat(t,r,d)||this._renderPaste(t,r,d)||d,"img",["error",function(e){return e.target.style.display="none"}]),Xt(d,".le-goto-link",(function(e){return 1==e.parentNode.children.length&&e.parentNode.remove()})),delete r.html,r.className=d.className,r.nodes="iframe"==d.tagName.toLowerCase()?[d]:[].slice.call(d.childNodes,0),e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,this)}))),function(e,u){return t.apply(this,arguments)})},{key:"_msgDetails",value:function(e){if(e.hasOwnProperty("details"))return e.details;if("error"!=e.type&&"notice"!=e.type)return e.details=null;var t=nm({},e.sent||e);return["bubbles","className","command","connection_id","dispatchTo","color","dayChanged","embeds","event","fresh","highlight","id","index","internal","markdown","method","rendered","silent","stopPropagation","ts"].forEach((function(e){return delete t[e]})),"from:message:type"==Object.keys(t).sort().join(":")?e.details=null:e.details=t}},{key:"_renderPaste",value:function(e,t,u){var n=u.querySelector("pre");return n&&[u,Ep.lineNumbersBlock(n)][0]}},{key:"_renderVideoChat",value:function(e,t,u){var n=new URL(t.url).pathname.replace(/\/+$/,"").split("/");if(n.length&&(u.classList.contains("le-video-chat")||n.includes("video"))){var r=decodeURIComponent(n.slice(-1)[0]).replace(/\s-\s[\w-]+$/,"").replace(/[_.-]+/g," ").replace(/([a-z ])([A-Z])/g,(function(e,t,u){return t+" "+u.toUpperCase()})).replace(/((?:^|[ ])\w)/g,(function(e){return e.toUpperCase()})),d=In.l('Do you want to join the %1 video chat with "%2"?',t.provider_name,r);return(u=document.createElement("div")).className="le-card le-rich le-join-request le-provider-"+t.provider,u.innerHTML='<a class="le-thumbnail" href="'+t.url+'" target="convos_video"><i class="fas fa-video"></i></a><h3>'+d+'</h3><p class="le-description"><a href="'+t.url+'" target="convos_video">'+In.l("Yes, I want to join.")+"</a></p>",e.fresh&&this.emit("notify",nm(nm({},e),{},{message:d})),u}}}]),r}(lu);function im(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var cm=function(e,t){return e.name.localeCompare(t.name)},sm=function(e){p(n,e);var t=im(n);function n(){var e,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D(this,n),(e=t.call(this,u)).sorter=r.sorter||cm,e._sort(),e}return $(n,[{key:"filter",value:function(e){return Array.from(this.values()).filter(e)}},{key:"set",value:function(e,t){f(u(n.prototype),"set",this).call(this,e,t),this._sort()}},{key:"toArray",value:function(){return Array.from(this.values())}},{key:"_sort",value:function(){var e=this,t=Array.from(this.entries()),r=this.sorter;return this.clear(),t.sort((function(e,t){return r(e[1],t[1])})).forEach((function(t){var r=kt(t,2),d=r[0],a=r[1];return f(u(n.prototype),"set",e).call(e,d,a)})),t}}]),n}(a(Map));function lm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var fm=function(e){p(u,e);var t=lm(u);function u(){var e;return D(this,u),(e=t.call(this)).prop("ro","length",(function(){return e._map.size})),e.prop("ro","_map",new sm([],{sorter:function(e,t){return t.modes.operator||!1-e.modes.operator||t.modes.voice||!1-e.modes.voice||e.nick.localeCompare(t.nick)}})),e}return $(u,[{key:"clear",value:function(){var e=this.me();return this._map.clear(),this.add(e),this}},{key:"delete",value:function(e){return this._map.delete(this._id(e)),this.update({})}},{key:"get",value:function(e){return this._map.get(this._id(e))}},{key:"has",value:function(e){return this._map.has(this._id(e))}},{key:"me",value:function(){return Array.from(this._map.values()).filter((function(e){return e.me}))[0]||this._defaultParticipant()}},{key:"nicks",value:function(){return Array.from(this._map.values()).map((function(e){return e.nick}))}},{key:"rename",value:function(e,t){var u=this.get(e)||{};return delete u.id,u.nick=t,this.delete(e),this.add(u)}},{key:"add",value:function(e){var t=this;if(Array.isArray(e))return e.forEach((function(e){return t.add(e)})),this;e.id=this._id(e.nick),e.color=ru(e.id),Vt.string(e.mode)&&(e.modes=Ht(ia,e.mode));var u=this._map.get(e.id);return u&&Object.keys(u).forEach((function(t){return e[t]||(e[t]=u[t])})),e.modes||(e.modes={}),e.nick||(e.nick=e.name),this._map.set(e.id,e),this.update({length:!0})}},{key:"toArray",value:function(){return this._map.toArray()}},{key:"_defaultParticipant",value:function(){return{color:"#000000",id:"",modes:{},nick:""}}},{key:"_id",value:function(e){return e.toLowerCase()}}]),u}(lu);function pm(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return mm(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return mm(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,a=!0,o=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return a=e.done,e},e:function(e){o=!0,d=e},f:function(){try{a||null==u.return||u.return()}finally{if(o)throw d}}}}function mm(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,n=new Array(t);u<t;u++)n[u]=e[u];return n}function hm(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,n)}return u}function gm(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?hm(Object(u),!0).forEach((function(t){Et(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):hm(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}function Dm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var bm=Tt("socket"),$m=function e(t){return e.singletons[t]||(e.singletons[t]=new ym)};$m.singletons={};var vm=[];vm[WebSocket.CONNECTING]="connecting",vm[WebSocket.OPEN]="open",vm[WebSocket.CLOSING]="closing",vm[WebSocket.CLOSED]="closed";var ym=function(e){p(u,e);var t=Dm(u);function u(){var e;return D(this,u),(e=t.call(this)).prop("ro","readyState",(function(){return e.ws.readyState})),e.prop("ro","readyStateHuman",(function(){return vm[e.ws.readyState]})),e.prop("ro","waiting",new Map),e.prop("rw","closed",0),e.prop("rw","error",""),e.prop("rw","keepaliveInterval",1e4),e.prop("rw","url",""),e.id=0,e.queue=[],e.keepClosed=!0,e._resetWebSocket(),e}return $(u,[{key:"close",value:function(e,t){if("number"!=typeof e){var u=[1e3,e];e=u[0],t=u[1]}return this.ws.close&&this.ws.close(e,t),this.keepClosed=!0,this._keepAliveStop(),this._reconnectStop(),this._resetWebSocket(),this}},{key:"deflateMessage",value:function(e){return JSON.stringify(e)}},{key:"deleteWaitingMessage",value:function(e){this.waiting.delete(e),this.update({waiting:!0})}},{key:"getWaitingMessages",value:function(e){var t=this;return 0==arguments.length?Array.from(this.waiting.values()):e.map((function(e){return t.waiting.get(e)}))}},{key:"inflateMessage",value:function(e){return JSON.parse(e)}},{key:"is",value:function(e){return this.ws.readyState==WebSocket[e.toUpperCase()]}},{key:"open",value:function(){var e=this;if(this.ws.close)return this;try{if(!this.url)throw"Can't open WebSocket connection without URL.";this.ws=new WebSocket(this.url),this.ws.onclose=function(t){return e._onClose(t)},this.ws.onerror=function(t){return e._onError(t)},this.ws.onmessage=function(t){return e._onMessage(t)},this.ws.onopen=function(t){return e._onOpen(t)},this.keepClosed=!1,this._keepAliveStart(),this._reconnectStop(),this.update({error:"",readyState:!0})}catch(e){this._onError(e.message?e:{message:String(e)})}return this}},{key:"reconnectIn",value:function(e){return 1008!==e.code&&1011!==e.code&&(this.closed<=1?1e3:this.closed>5?1e4:2*this.closed*1e3)}},{key:"send",value:function(e,t){var u=e.id||String(++this.id);return this.queue.push(gm(gm({},e),{},{id:u})),this.open(),this._dequeue(),t&&this.on("message_"+u,t),this}},{key:"_dequeue",value:function(){var e=this.queue;for(e.length&&this.update({waiting:!0});e.length;){if(this.ws.readyState!=WebSocket.OPEN)return;var t=e.shift();bm.trace("<<<",t),this.ws.send(this.deflateMessage(t)),t.waitingForResponse=!0,t.ts||(t.ts=new Xn),this.waiting.set(t.id,t)}}},{key:"_keepAliveStart",value:function(){var e=this;this._keepAliveStop(),this.keepaliveTid=setInterval((function(){return e.ws.readyState==WebSocket.OPEN&&e.ws.send("{}")}),this.keepaliveInterval)}},{key:"_keepAliveStop",value:function(){this.keepaliveTid&&clearTimeout(this.keepaliveTid),delete this.keepaliveTid}},{key:"_onClose",value:function(e){bm.debug("close",e);var t,u=pm(this.waiting);try{for(u.s();!(t=u.n()).done;){var n=kt(t.value,2),r=n[0],d=n[1];Object.keys(d).length<=1&&this.waiting.delete(r),d.waitingForResponse=!1}}catch(e){u.e(e)}finally{u.f()}this._keepAliveStop(),this._resetWebSocket(),this.update({closed:this.closed+1,readyState:!0,waiting:!0}),this._reconnectStart(this.reconnectIn(e))}},{key:"_onError",value:function(e){var t=String(e.message||e);t&&0!=t.indexOf("[")||(t="Could not connect."),bm.error("error",t,e),this.update({error:t})}},{key:"_onMessage",value:function(e){var t=this.inflateMessage(e.data);if(bm.trace(">>>",t),t.bubbles=!0,t.stopPropagation=function(){t.bubbles=!1},t.id&&(this.emit("message_"+t.id,t),this.waiting.delete(t.id)),t.bubbles&&this.emit("message",t),this.update({waiting:!0}),t.errors&&!t.id){var u,n=pm(this.waiting.keys());try{for(n.s();!(u=n.n()).done;){var r=u.value;this.emit("message_"+r,t)}}catch(e){n.e(e)}finally{n.f()}this.waiting.clear()}}},{key:"_onOpen",value:function(e){bm.info("open",e),this.update({closed:0,error:"",readyState:!0}),this._dequeue()}},{key:"_reconnectStart",value:function(e){var t=this;return this._reconnectStop(),bm.info("reconnect in",e),!0===e?this.open():"number"!=typeof e?this.keepClosed=!0:void(this.reconnectTid=setTimeout((function(){return t.open()}),e))}},{key:"_reconnectStop",value:function(){this.reconnectTid&&clearTimeout(this.reconnectTid),delete this.reconnectTid}},{key:"_resetWebSocket",value:function(){this.ws={readyState:WebSocket.CLOSED}}}]),u}(lu);function Cm(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,n)}return u}function Em(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?Cm(Object(u),!0).forEach((function(t){Et(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):Cm(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}function Am(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var Fm=new RegExp("^[#&]"),wm=function(e){p(d,e);var t,n,r=Am(d);function d(e){var t;D(this,d),t=r.call(this);var u=[e.connection_id,e.conversation_id,""].filter(Vt.defined).join(":");return t.prop("persist","userInput","",{key:u+"userInput"}),t.prop("ro","color",ru(e.conversation_id||e.connection_id||"")),t.prop("ro","connection_id",e.connection_id||""),t.prop("ro","messages",new om({})),t.prop("ro","participants",new fm),t.prop("ro","path",Uu.conversationPath(e)),t.prop("rw","historyStartAt",null),t.prop("rw","historyStopAt",null),t.prop("rw","info",e.info||{}),t.prop("rw","modes",{}),t.prop("rw","name",e.name||e.conversation_id||e.connection_id||"ERR"),t.prop("rw","notifications",e.notifications||0),t.prop("rw","status","pending"),t.prop("rw","topic",e.topic||""),t.prop("rw","unread",e.unread||0),e.hasOwnProperty("conversation_id")?(t.prop("ro","conversation_id",e.conversation_id),t.prop("ro","title",(function(){return[t.name,t.connection_id.replace(/^\w+-/,"")].join(" - ")})),t.prop("rw","frozen",e.frozen||"")):(t.prop("ro","frozen",(function(){return t._calculateFrozen()})),t.prop("ro","title",(function(){return t.name}))),e.conversation_id&&t.prop("persist","wantNotifications",t.is("private"),{key:e.conversation_id+":wantNotifications"}),t.socket=e.socket||$m("/events"),t.messages.on("notify",(function(e){return t.notify(e)})),t._addOperations(),t}return $(d,[{key:"addMessages",value:function(e,t){if(!Array.isArray(e)){if(this._maybeIncreaseUnread(e),this._maybeNotify(e),!this.historyStopAt&&-1!=["action","private"].indexOf(e.type))return;e.fresh=!0,e=[e]}return this.messages[t||"push"](e),this}},{key:"is",value:function(e){return"connection"==e?!this.conversation_id:"conversation"==e?this.conversation_id&&!this.is("notifications"):"frozen"==e?this.frozen&&!0:"locked"==e?"Invalid password."==this.frozen:"not_found"==e?"Not found."==this.frozen:"notifications"!=e&&("pending"==e?this.frozen.match(/pending invitation/i):"private"==e?this.conversation_id&&!Fm.test(this.conversation_id)||!1:"search"!=e&&("unread"==e?this.unread&&!0:this.status==e))}},{key:"load",value:(n=hu(Du.mark((function e(){var t,u,n,r,d=arguments;return Du.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:{},!this._skipLoad(t)){e.next=3;break}return e.abrupt("return",this);case 3:return this.update({status:"loading"}),t.limit||(t.limit=40),u=Em(Em({},t),{},{connection_id:this.connection_id,conversation_id:this.conversation_id}),e.next=8,this.messagesOp.perform(u);case 8:return this.update({status:this.messagesOp.status}),(n=this.messagesOp.res.body).messages||(n.messages=[]),r=[],(t.around||!t.after&&!t.before)&&(r.push.apply(r,this.messages.toArray().filter((function(e){return e.internal}))),this.messages.clear()),this.addMessages(n.messages,t.before?"unshift":"push"),this.addMessages(r,"push"),this._setEndOfStream(t,n),e.abrupt("return",this);case 17:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"notify",value:function(e){if(!qa.appHasFocus){var t=e.from==this.name?e.from:In.l("%1 in %2",e.from,this.name);this.lastNotification=qa.show(e.message,{path:this.path,title:t})}}},{key:"send",value:function(e,t){return Vt.string(e)&&(e={message:e}),this.socket.send(Em({method:"send",connection_id:this.connection_id,conversation_id:this.conversation_id||""},e),t)}},{key:"markAsRead",value:(t=hu(Du.mark((function e(){return Du.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.markAsReadOp){e.next=2;break}return e.abrupt("return");case 2:return this.update({notifications:0}),e.next=5,this.markAsReadOp.perform({connection_id:this.connection_id,conversation_id:this.conversation_id});case 5:return e.abrupt("return",this);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"update",value:function(e){return this._loadInformation(),f(u(d.prototype),"update",this).call(this,e),(e.hasOwnProperty("notifications")||e.hasOwnProperty("unread"))&&this.emit("unread",e),this}},{key:"wsEventMode",value:function(e){var t=["banlist","exceptlist","invitelist","quietlist"].filter((function(t){return e[t]}))[0];if(t){var u=e[t].length,n=1==u?"entry":"entries";this.addMessages(Em(Em({},e),{},{message:"%1 has %2 "+n+" in %3.",vars:[this.name,u,In.l(t)]}))}else e.nick?(this.participants.add({nick:e.nick,mode:e.mode}),this.addMessages(Em(Em({},e),{},{message:"%1 got mode %2 from %3.",vars:[e.nick,e.mode,e.from]}))):e.mode_changed?(this.addMessages(Em(Em({},e),{},{message:"%1 received mode %2.",vars:[this.name,e.mode]})),this.update({modes:Object.assign({},this.modes,Ht(aa,e.mode))})):(this.addMessages(Em(Em({},e),{},{message:"%1 got mode %2.",vars:[this.name,e.mode]})),this.update({modes:Object.assign({},this.modes,Ht(aa,e.mode))}))}},{key:"wsEventNickChange",value:function(e){if(this.participants.has(e.old_nick)&&e.old_nick!=e.new_nick){this.participants.rename(e.old_nick,e.new_nick);var t="me"==e.type?"You (%1) changed nick to %2.":"%1 changed nick to %2.";this.addMessages({message:t,vars:[e.old_nick,e.new_nick]})}}},{key:"wsEventPart",value:function(e){var t=this.participants.get(e.nick);t&&!t.me&&(this.participants.delete(e.nick),this.update({participants:!0}),e.silent||this.addMessages(this._partMessage(e)))}},{key:"wsEventSentClear",value:function(e){e.errors||(this.messages.clear(),this.addMessages({message:"History was cleared for %1.",vars:[this.name]}))}},{key:"wsEventSentNames",value:function(e){this.participants.add(e.participants);var t=Em(Em({},e),{},{message:"Participants (%1): %2",vars:[]}),u=this.participants.nicks();u.length>1&&(t.message+=" and %3.",t.vars[2]=u.pop()),t.vars[0]=u.length,t.vars[1]=u.join(", "),this.addMessages(t)}},{key:"wsEventSentTopic",value:function(e){var t=e.topic?"Topic for %1 is: %2":"No topic is set for %1.";this.addMessages({message:t,vars:[this.name,e.topic]}),this.update({topic:e.topic})}},{key:"_addOperations",value:function(){this.prop("ro","messagesOp",jn("/api","conversationMessages")),this.prop("ro","markAsReadOp",jn("/api","markConversationAsRead"))}},{key:"_calculateFrozen",value:function(){return""}},{key:"_loadInformation",value:function(){var e=this;if(!this.participantsLoaded&&this.conversation_id&&this.messagesOp&&!this.is("frozen")&&this.messagesOp.is("success"))if(this.participantsLoaded=!0,this.is("private")){if(this.info.ts&&this.info.ts>(new Xn).toEpoch()-300)return;this.send("/whois "+this.conversation_id,(function(t){t.stopPropagation(),e.update({frozen:t.errors&&t.errors.length?t.errors[0].message:""})}))}else this.send("/names "+this.conversation_id,(function(t){t.stopPropagation(),e.participants.clear(),t.participants&&e.participants.add(t.participants)}))}},{key:"_maybeIncreaseUnread",value:function(e){return!e.from||e.yourself||-1==["action","error","private"].indexOf(e.type)?this:void this.update({unread:this.unread+1})}},{key:"_maybeNotify",value:function(e){e.from&&!e.yourself&&-1!=["action","error","private"].indexOf(e.type)&&(e.highlight||this.wantNotifications)&&this.notify(e)}},{key:"_noop",value:function(){}},{key:"_partMessage",value:function(e){var t={message:"%1 parted.",vars:[e.nick]};return e.kicker?(t.message="%1 was kicked by %2"+(e.message?": %3":""),t.vars.push(e.kicker),t.vars.push(e.message)):e.message&&(t.message+=" Reason: %2",t.vars.push(e.message)),t}},{key:"_setEndOfStream",value:function(e,t){if(!e.before&&!t.after){var u=t.messages.slice(-1)[0];this.update({historyStopAt:new Xn(u&&u.ts)})}if(!e.after&&!t.before){var n=t.messages[0];this.update({historyStartAt:new Xn(n&&n.ts)})}t.after&&this.update({historyStopAt:null}),t.before&&this.update({historyStartAt:null}),t.messages&&t.messages.length<=1&&this.update({historyStartAt:new Xn,historyStopAt:new Xn})}},{key:"_skipLoad",value:function(e){return!(this.messagesOp&&!this.is("loading"))||(this.messages.length?e.around?!!this.messages.toArray().find((function(t){return t.ts.toISOString()==e.around})):!(!e.before||!this.historyStartAt)||!(!e.after||!this.historyStopAt):this.is("success"))}}]),d}(lu);function _m(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,n)}return u}function xm(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?_m(Object(u),!0).forEach((function(t){Et(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):_m(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}function km(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var Bm=function(e,t){return e.is("private")-t.is("private")||e.name.localeCompare(t.name)},Sm=function(e){p(n,e);var t=km(n);function n(e){var u;D(this,n),(u=t.call(this,e)).prop("rw","certificate",{}),u.prop("ro","conversations",new sm([],{sorter:Bm})),u.prop("rw","on_connect_commands",e.on_connect_commands||[]),u.prop("rw","state",e.state||"disconnected"),u.prop("rw","wanted_state",e.wanted_state||"connected"),u.prop("rw","url",Vt.string(e.url)?new Tr(e.url):e.url||new Tr("irc://localhost"));var r=u.url.searchParams.get("nick")||"guest";return u.prop("rw","nick",r),u.prop("rw","real_host",u.url.hostname),u.prop("rw","server_op",!1),u.participants.add((e.service_accounts||[]).map((function(e){return{nick:e}})).concat({nick:r})),e.info&&u.wsEventInfo(e.info),u}return $(n,[{key:"ensureConversation",value:function(e){var t=this,u=this.conversations.get(e.conversation_id);return u?u.update(e):((u=new wm(xm(xm({},e),{},{connection_id:this.connection_id}))).on("message",(function(e){return t.emit("message",e)})),u.on("update",(function(){return t.update({conversations:!0})})),u.on("unread",(function(){return t.emit("unread")})),this._addDefaultParticipants(u),this.conversations.set(u.conversation_id,u),this.update({conversations:!0}),this.emit("conversationadd",u),u)}},{key:"findConversation",value:function(e){return this.conversations.get(e.conversation_id)||null}},{key:"is",value:function(e){return this.state==e||f(u(n.prototype),"is",this).call(this,e)}},{key:"removeConversation",value:function(e){var t=this.findConversation(e)||e;return this.conversations.delete(t.conversation_id),this.emit("conversationremove",t),this.update({conversations:!0})}},{key:"send",value:function(e){Vt.string(e)&&(e={message:e});var t=new RegExp("^"+this.participants.toArray().map((function(e){return eu(e.id)})).join("|")+":","i");return 0==e.message.indexOf("/")||e.message.match(t)||(e.message="/quote "+e.message),f(u(n.prototype),"send",this).call(this,e)}},{key:"update",value:function(e){return e.url&&Vt.string(e.url)&&(e.url=new Tr(e.url)),f(u(n.prototype),"update",this).call(this,e)}},{key:"wsEventSentAway",value:function(e){(this.findConversation(e)||this).addMessages({message:e.reason,sent:e,type:"notice"})}},{key:"wsEventConnection",value:function(e){this.update({state:e.state})}},{key:"wsEventFrozen",value:function(e){var t=this.findConversation(e),u=t&&t.frozen,n=this.ensureConversation(e);n.participants.add({nick:this.nick,me:!0}),u&&!e.frozen&&t.addMessages({message:"Connected.",vars:[]}),e.frozen&&n.is("pending")&&qa.show(e.frozen,{title:e.name})}},{key:"wsEventInfo",value:function(e){e.nick&&this.wsEventNickChange(e),e.server_op&&this.addMessages({message:"You are an IRC operator.",vars:[],highlight:!0}),e.real_host&&this.participants.add({nick:e.real_host}),this.update(e)}},{key:"wsEventMessage",value:function(e){return e.yourself=e.from==this.nick,e.conversation_id?this.ensureConversation(e).addMessages(e):this.addMessages(e)}},{key:"wsEventNickChange",value:function(e){var t={old_nick:e.old_nick||this.nick,new_nick:e.new_nick||e.nick,type:e.type};e.old_nick==this.nick&&(t.me=!0),f(u(n.prototype),"wsEventNickChange",this).call(this,t),this.conversations.forEach((function(e){return e.wsEventNickChange(t)}))}},{key:"wsEventError",value:function(e){var t={message:Wt(e)||e.frozen||"Unknown error from %1.",sent:e,type:"error",vars:e.command||[e.message]},u=(e.message||"").match(/^\/j(oin)? (\S+)/);if(u)return this.ensureConversation(xm(xm({},e),{},{conversation_id:u[2]}));var n=e.conversation_id&&e.frozen?this.ensureConversation(e):this.findConversation(e)||this;console.error(n.conversation_id,t),n.addMessages(t)}},{key:"wsEventJoin",value:function(e){var t=this.ensureConversation({connection_id:e.connection_id,conversation_id:e.conversation_id}),u=e.nick||this.nick;u==this.nick||e.silent||t.addMessages({message:"%1 joined.",vars:[u]}),t.participants.add({nick:u})}},{key:"wsEventPart",value:function(e){if(e.nick==this.nick)return this.removeConversation(e);e.conversation_id||this.conversations.forEach((function(t){return t.wsEventPart(e)}))}},{key:"wsEventQuit",value:function(e){this.wsEventPart(e)}},{key:"wsEventSentJoin",value:function(e){this.wsEventJoin(e)}},{key:"wsEventSentList",value:function(e){var t=e.args||"/*/";this.addMessages(e.done?{message:"Found %1 of %2 conversations from %3.",vars:[e.conversations.length,e.n_conversations,t]}:{message:"Found %1 of %2 conversations from %3, but conversations are still loading.",vars:[e.conversations.length,e.n_conversations,t]})}},{key:"wsEventSentMode",value:function(e){var t=this.findConversation(e);return t?t.wsEventMode(e):this.addMessages({message:"%1 received mode %2.",vars:[e.target,e.mode]})}},{key:"wsEventSentQuery",value:function(e){this.ensureConversation(e)}},{key:"wsEventSentWhois",value:function(e){var t,u=tr(e),n=_t(t=u)||i(t)||c(t)||xt(),r=n[0],d=n.slice(1);(this.findConversation(e)||this).addMessages({message:r,vars:d,sent:e})}},{key:"wsEventSentNames",value:function(){}},{key:"_addDefaultParticipants",value:function(e){var t=[{nick:this.nick,me:!0}];e.is("private")&&t.push({nick:e.name}),e.participants.add(t)}},{key:"_addOperations",value:function(){this.prop("ro","markAsReadOp",jn("/api","markConnectionAsRead")),this.prop("ro","messagesOp",jn("/api","connectionMessages"))}},{key:"_calculateFrozen",value:function(){switch(this.state){case"connected":return"";case"connecting":default:return"Connecting...";case"disconnected":return"Disconnected.";case"disconnecting":return"Disconnecting...";case"unreachable":return"Unreachable."}}}]),n}(wm);function Om(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var Nm=function(e){p(n,e);var t,u=Om(n);function n(e){var t;return D(this,n),(t=u.call(this,e)).prop("ro","op",jn("/api","listConnectionProfiles")),t.prop("rw","profiles",[]),t.prop("rw","status","pending"),t}return $(n,[{key:"find",value:function(e){return this.search((function(t){return t.id==e}))[0]}},{key:"defaultProfile",value:function(){return{max_bulk_message_size:3,max_message_length:512,url:new Tr("irc://0.0.0.0")}}},{key:"is",value:function(e){return this.status==e}},{key:"load",value:(t=hu(Du.mark((function e(){var t,u=this,n=arguments;return Du.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{},!this.is("loading")){e.next=3;break}return e.abrupt("return",this);case 3:if(t.force||!this.profiles.length){e.next=5;break}return e.abrupt("return",this);case 5:return this.update({status:"loading"}),e.next=8,this.op.perform();case 8:return this.update({status:this.op.status}),this.is("success")&&this.update({profiles:this.op.res.body.profiles.map((function(e){return u._expand(e)}))}),e.abrupt("return",this);case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return this.profiles.filter(e)}},{key:"_expand",value:function(e){e.url=new Tr(e.url),e.service_accounts=e.service_accounts.join(", "),e.url.toFields(e);var t=this.defaultProfile();return Object.keys(t).forEach((function(u){return e.hasOwnProperty(u)||(e[u]=t[u])})),e}}]),n}(lu);function jm(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,n)}return u}function Tm(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?jm(Object(u),!0).forEach((function(t){Et(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):jm(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}function Rm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var Lm=function(e){p(r,e);var t,n=Rm(r);function r(e){return D(this,r),n.call(this,Tm(Tm({},e),{},{connection_id:"",conversation_id:"notifications",name:"Notifications"}))}return $(r,[{key:"addMessages",value:function(e,t){return Array.isArray(e)||(e=[e]),this.messages.push(e),this}},{key:"markAsRead",value:(t=hu(Du.mark((function e(){return Du.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(u(r.prototype),"markAsRead",this).call(this);case 2:return this.emit("cleared"),e.abrupt("return",this);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"is",value:function(e){return"notifications"==e||f(u(r.prototype),"is",this).call(this,e)}},{key:"send",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Promise.resolve(e)}},{key:"_addOperations",value:function(){this.prop("ro","markAsReadOp",jn("/api","markNotificationsAsRead")),this.prop("ro","messagesOp",jn("/api","notificationMessages"))}},{key:"_skipLoad",value:function(){return!1}}]),r}(wm);function Pm(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,n)}return u}function Mm(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?Pm(Object(u),!0).forEach((function(t){Et(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):Pm(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}function Im(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var Um=function(e){p(r,e);var t,n=Im(r);function r(e){var t;return D(this,r),(t=n.call(this,Mm(Mm({},e),{},{connection_id:"",conversation_id:"search",name:"Search"}))).prop("rw","query",""),t.update({status:"success"}),t}return $(r,[{key:"is",value:function(e){return"conversation"!=e&&("search"==e||f(u(r.prototype),"is",this).call(this,e))}},{key:"load",value:(t=hu(Du.mark((function e(){var t,u,n,r=arguments;return Du.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{},!this.is("loading")){e.next=3;break}return e.abrupt("return",this);case 3:if((u=Mm({},t)).match=t.match||t.message,(u.match||"").match(/\S/)){e.next=7;break}return e.abrupt("return",this.messages.clear().push([{message:'Search query "%1" does not contain anything to search for.',vars:[t.message]}]));case 7:return this.update({query:u.match,status:"loading"}),this.messages.clear(),e.next=11,this.messagesOp.perform(u);case 11:return n=this.messagesOp.res.body,this.messages[u.before?"unshift":"push"](n.messages||[]),e.abrupt("return",this.update({status:this.messagesOp.status}));case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"send",value:function(e){return Vt.string(e)&&(e={message:e}),this.emit("send",e),Promise.resolve(e)}},{key:"_addOperations",value:function(){this.prop("ro","messagesOp",jn("/api","searchMessages")),this.prop("ro","markAsReadOp",null)}},{key:"_loadInformation",value:function(){}}]),r}(wm);function zm(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return Hm(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Hm(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,a=!0,o=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return a=e.done,e},e:function(e){o=!0,d=e},f:function(){try{a||null==u.return||u.return()}finally{if(o)throw d}}}}function Hm(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,n=new Array(t);u<t;u++)n[u]=e[u];return n}function qm(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,n)}return u}function Gm(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?qm(Object(u),!0).forEach((function(t){Et(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):qm(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}function Km(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var Wm=function(e){p(r,e);var t,n=Km(r);function r(e){var t;return D(this,r),(t=n.call(this)).prop("ro","connections",new sm),t.prop("ro","connectionProfiles",new Nm),t.prop("ro","notifications",new Lm({})),t.prop("ro","search",new Um({})),t.prop("ro","roles",new Set),t.prop("persist","expandUrlToMedia",!0),t.prop("persist","ignoreStatuses",!1),t.prop("persist","lastUrl",""),t.prop("rw","activeConversation",t.notifications),t.prop("rw","email",""),t.prop("rw","forced_connection",!1),t.prop("rw","default_connection","irc://irc.libera.chat:6697/%23convos"),t.prop("rw","highlightKeywords",[]),t.prop("rw","id",""),t.prop("rw","status","pending"),t.prop("rw","unreadIncludePrivateMessages",!1),t.prop("rw","videoService",e.videoService||""),t.socket=e.socket||$m("/events"),t.socket.on("message",(function(e){return t._dispatchMessage(e)})),t.socket.on("update",(function(e){return t._onConnectionChange(e)})),t.notifications.on("cleared",(function(){return t._calculateUnread("clear")})),t._calculateUnreadDebounced=Kt(t._calculateUnread,25),t}return $(r,[{key:"conversations",value:function(e){var t=[];return this.connections.toArray().forEach((function(u){u.conversations.toArray().forEach((function(u){e&&!e(u)||t.push(u)}))})),t}},{key:"ensureConversation",value:function(e,t){var u=this;if((e=Gm(Gm({},e),{},{videoService:this.videoService})).conversation_id){var n=this.ensureConversation({connection_id:e.connection_id},!0);return this._maybeUpgradeActiveConversation(n.ensureConversation(e))}var r=this.findConversation(e);return r?r.update(e):((r=new Sm(Gm({},e))).on("conversationadd",(function(e){return u._maybeUpgradeActiveConversation(e)})),r.on("conversationremove",(function(e){return e==u.activeConversation&&u.setActiveConversation(e)})),r.on("update",(function(){return u.update({connections:!0})})),r.on("unread",(function(){return u._calculateUnreadDebounced()})),this.connections.set(r.connection_id,r),this.update({connections:!0}),t?r:this._maybeUpgradeActiveConversation(r))}},{key:"findConversation",value:function(e){var t=this.connections.get(e.connection_id);return e.conversation_id?t&&t.findConversation(e)||null:t}},{key:"is",value:function(e){var t=this;return Array.isArray(e)?!!e.filter((function(e){return t.is(e)})).length:!!this.roles.has(e)||this.status==e}},{key:"load",value:(t=hu(Du.mark((function e(){var t,u,n,r=this;return Du.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.is("loading")){e.next=2;break}return e.abrupt("return",this);case 2:return this.roles.clear(),this.update({status:"loading"}),t=new Promise((function(e){return r.socket.send({method:"load",object:"user",params:{connections:!0,conversations:!0}},e)})),e.next=7,t;case 7:if(!(u=e.sent).errors){e.next=10;break}return e.abrupt("return",this.update({email:"",roles:!0,status:u.errors?"error":"success"}));case 10:return n=u.user||{},this.connections.clear(),(n.connections||[]).forEach((function(e){return r.ensureConversation(Gm(Gm({},e),{},{status:"pending"}))})),(n.conversations||[]).forEach((function(e){return r.ensureConversation(Gm(Gm({},e),{},{status:"pending"}))})),(n.roles||[]).forEach((function(e){return r.roles.add(e)})),this.notifications.update({unread:n.unread||0}),e.abrupt("return",this.update({email:n.email||"",default_connection:n.default_connection||"",forced_connection:n.forced_connection||!1,highlightKeywords:n.highlight_keywords||[],roles:!0,status:u.errors?"error":"success",id:n.uid||"",videoService:n.video_service||""}));case 17:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"removeConversation",value:function(e){var t=this.findConversation({connection_id:e.connection_id});if(e.conversation_id)return t&&t.removeConversation(e);this.connections.delete(e.connection_id),t==this.activeConversation&&this.setActiveConversation(t),this.update({connections:!0})}},{key:"setActiveConversation",value:function(e){var t=!e.connection_id&&!e.conversation_id&&this.notifications;if(t)return this.update({activeConversation:t});if(t=this.findConversation(e))return this.update({activeConversation:t});var u=Gm(Gm({},e),{},{connection_id:e.connection_id||"",frozen:"Not found."});return["conversation_id","name"].forEach((function(t){return e.hasOwnProperty(t)&&(u[t]=e[t])})),this.update({activeConversation:u.conversation_id?new wm(u):new Sm(u)})}},{key:"update",value:function(e){return e.videoService&&this.connections.forEach((function(t){return t.update({videoService:e.videoService})})),f(u(r.prototype),"update",this).call(this,e),e.hasOwnProperty("unreadIncludePrivateMessages")&&this._calculateUnreadDebounced(),this}},{key:"_calculateUnread",value:function(e){var t,u=0,n=0,r=zm(this.connections.toArray());try{for(r.s();!(t=r.n()).done;){var d,a=zm(t.value.conversations.toArray());try{for(a.s();!(d=a.n()).done;){var o=d.value;e&&o.update({notifications:0}),u+=o.is("private")?this.unreadIncludePrivateMessages?o.unread:0:o.notifications,n+=o.is("private")?0:o.notifications}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}e||(this.notifications.update({notifications:u,unread:n}),this.update({notifications:!0}))}},{key:"_dispatchMessage",value:function(e){e.dispatchTo=("wsEvent_"+this._getEventNameFromMessage(e)).replace(/_(\w)/g,(function(e,t){return t.toUpperCase()})),e.silent=this.ignoreStatuses,this.emit(e.dispatchTo,e);var t=this.findConversation({connection_id:e.connection_id});if(t&&(t[e.dispatchTo]&&t[e.dispatchTo](e),e.bubbles)){var u=t.findConversation(e);u&&u[e.dispatchTo]&&u[e.dispatchTo](e),e.highlight&&!u.is("private")&&(this.notifications.addMessages(e),u==this.activeConversation&&qa.appHasFocus?u.markAsRead():u.update({notifications:u.notifications+1}))}}},{key:"_getEventNameFromMessage",value:function(e){return e.errors?"error":"state"==e.event?e.type:"sent"==e.event&&e.message.match(/\/\S+/)?(e.command=e.message.split(/\s+/).filter((function(e){return e.length})),e.command[0]=e.command[0].substring(1),"sent_"+e.command[0].toLowerCase()):e.event}},{key:"_maybeUpgradeActiveConversation",value:function(e){var t=this.activeConversation;return e.conversation_id?(e.connection_id&&e.connection_id!=t.connection_id||e.conversation_id&&e.conversation_id!=t.conversation_id||this.update({activeConversation:e}),e):e}},{key:"_onConnectionChange",value:function(e){if(e.is("open")&&this.is("pending"))return this.load();e.is("closed")&&(this.connections.forEach((function(e){return e.update({state:"unreachable"})})),this.is(["error","loading"])||this.update({status:"pending"}))}}]),r}(lu);const{window:Ym}=Ze;function Zm(e){let t,u,n;function r(t){e[27](t)}let d={};return void 0!==e[1]&&(d.title=e[1]),t=new zc({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function Vm(e){let t,u,n,r,d,a,o,i,c,s,l=("nav"==e[5]||e[2].nColumns>1)&&Qm(e);const f=[fh,lh,sh,ch,ih,oh,ah,dh,rh,nh,uh,th,eh,Xm],p=[];function m(e,t){return(null==u||16&t[0])&&(u=!!e[4].path.match(/\/chat\/./)),u?0:((null==n||16&t[0])&&(n=!(0!=e[4].path.indexOf("/chat"))),n?1:"/help"==e[4].path?2:"/search"==e[4].path?3:"/settings"==e[4].path?4:"/settings/account"==e[4].path?5:"/settings/connections"==e[4].path?6:"/settings/files"==e[4].path?7:((null==r||16&t[0])&&(r=!(0!=e[4].path.indexOf("/settings/connection/"))),r?8:((null==d||16&t[0])&&(d=!(0!=e[4].path.indexOf("/settings/connection-profile/"))),d?9:"/settings/conversation"==e[4].path?10:"/settings/users"==e[4].path?11:"/login"==e[4].path||"/register"==e[4].path?12:13)))}a=m(e,[-1,-1]),o=p[a]=f[a](e);let h=e[5]&&1==e[2].nColumns&&ph(e);return{c(){l&&l.c(),t=J(),o.c(),i=J(),h&&h.c(),c=Q()},m(e,u){l&&l.m(e,u),K(e,t,u),p[a].m(e,u),K(e,i,u),h&&h.m(e,u),K(e,c,u),s=!0},p(e,u){"nav"==e[5]||e[2].nColumns>1?l?(l.p(e,u),36&u[0]&&He(l,1)):(l=Qm(e),l.c(),He(l,1),l.m(t.parentNode,t)):l&&(Ue(),qe(l,1,1,(()=>{l=null})),ze());let n=a;a=m(e,u),a===n?p[a].p(e,u):(Ue(),qe(p[n],1,1,(()=>{p[n]=null})),ze(),o=p[a],o?o.p(e,u):(o=p[a]=f[a](e),o.c()),He(o,1),o.m(i.parentNode,i)),e[5]&&1==e[2].nColumns?h?(h.p(e,u),36&u[0]&&He(h,1)):(h=ph(e),h.c(),He(h,1),h.m(c.parentNode,c)):h&&(Ue(),qe(h,1,1,(()=>{h=null})),ze())},i(e){s||(He(l),He(o),He(h),s=!0)},o(e){qe(l),qe(o),qe(h),s=!1},d(e){l&&l.d(e),e&&W(t),p[a].d(e),e&&W(i),h&&h.d(e),e&&W(c)}}}function Jm(e){let t,u;return t=new ic({}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p:v,i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function Qm(e){let t,u;return t=new cf({props:{transition:{duration:e[2].nColumns>1?0:250,x:e[0]}}}),{c(){Je(t.$$.fragment)},m(e,n){Qe(t,e,n),u=!0},p(e,u){const n={};5&u[0]&&(n.transition={duration:e[2].nColumns>1?0:250,x:e[0]}),t.$set(n)},i(e){u||(He(t.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),u=!1},d(e){Xe(t,e)}}}function Xm(e){let t,u,n;function r(t){e[25](t)}let d={};return void 0!==e[1]&&(d.title=e[1]),t=new ic({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function eh(e){let t,u,n;function r(t){e[24](t)}let d={};return void 0!==e[1]&&(d.title=e[1]),t=new zc({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function th(e){let t,u,n;function r(t){e[23](t)}let d={};return void 0!==e[1]&&(d.title=e[1]),t=new gl({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function uh(e){let t,u,n;function r(t){e[22](t)}let d={};return void 0!==e[1]&&(d.title=e[1]),t=new Ji({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function nh(e){let t,u,n;function r(t){e[21](t)}let d={profile_id:e[4].pathParts[2]};return void 0!==e[1]&&(d.title=e[1]),t=new Oi({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};16&n[0]&&(r.profile_id=e[4].pathParts[2]),!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function rh(e){let t,u,n;function r(t){e[20](t)}let d={connection_id:e[4].pathParts[2]};return void 0!==e[1]&&(d.title=e[1]),t=new Li({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};16&n[0]&&(r.connection_id=e[4].pathParts[2]),!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function dh(e){let t,u,n;function r(t){e[19](t)}let d={};return void 0!==e[1]&&(d.title=e[1]),t=new jl({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function ah(e){let t,u,n;function r(t){e[18](t)}let d={};return void 0!==e[1]&&(d.title=e[1]),t=new ni({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function oh(e){let t,u,n;function r(t){e[17](t)}let d={};return void 0!==e[1]&&(d.title=e[1]),t=new Os({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function ih(e){let t,u,n;function r(t){e[16](t)}let d={};return void 0!==e[1]&&(d.title=e[1]),t=new Js({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function ch(e){let t,u,n;function r(t){e[15](t)}let d={};return void 0!==e[1]&&(d.title=e[1]),t=new ms({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function sh(e){let t,u,n;function r(t){e[14](t)}let d={};return void 0!==e[1]&&(d.title=e[1]),t=new Dc({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function lh(e){let t,u,n;function r(t){e[13](t)}let d={};return void 0!==e[1]&&(d.title=e[1]),t=new es({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function fh(e){let t,u,n;function r(t){e[12](t)}let d={connection_id:e[4].pathParts[1],conversation_id:e[4].pathParts[2]};return void 0!==e[1]&&(d.title=e[1]),t=new Lo({props:d}),Ae.push((()=>Ve(t,"title",r))),{c(){Je(t.$$.fragment)},m(e,u){Qe(t,e,u),n=!0},p(e,n){const r={};16&n[0]&&(r.connection_id=e[4].pathParts[1]),16&n[0]&&(r.conversation_id=e[4].pathParts[2]),!u&&2&n[0]&&(u=!0,r.title=e[1],Oe((()=>u=!1))),t.$set(r)},i(e){n||(He(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){Xe(t,e)}}}function ph(e){let t,u,n,r,d;return{c(){t=Z("div"),t.textContent=" ",te(t,"class","overlay")},m(u,a){K(u,t,a),n=!0,r||(d=X(t,"click",e[26]),r=!0)},p:v,i(e){n||(Se((()=>{u||(u=Ke(t,pr,{duration:200},!0)),u.run(1)})),n=!0)},o(e){u||(u=Ke(t,pr,{duration:200},!1)),u.run(0),n=!1},d(e){e&&W(t),e&&u&&u.end(),r=!1,d()}}}function mh(e){let t,u,n,r,d,a,o;Se(e[11]);const i=[Jm,Vm,Zm],c=[];function s(e,u){return(null==t||8&u[0])&&(t=!!e[3].is(["loading","pending"])),t?0:e[3].email?1:2}return u=s(e,[-1,-1]),n=c[u]=i[u](e),{c(){n.c(),r=Q()},m(t,n){c[u].m(t,n),K(t,r,n),d=!0,a||(o=[X(Ym,"focus",e[10]),X(Ym,"resize",e[11])],a=!0)},p(e,t){let d=u;u=s(e,t),u===d?c[u].p(e,t):(Ue(),qe(c[d],1,1,(()=>{c[d]=null})),ze(),n=c[u],n?n.p(e,t):(n=c[u]=i[u](e),n.c()),He(n,1),n.m(r.parentNode,r))},i(e){d||(He(n),d=!0)},o(e){qe(n),d=!1},d(e){c[u].d(e),e&&W(r),a=!1,A(o)}}}function hh(t,u,n){let r,d,a,o,i;k(t,Dt,(e=>n(2,r=e))),k(t,Uu,(e=>n(4,a=e))),k(t,gt,(e=>n(5,i=e)));const c=$m("/events"),s=(new lf).start();k(t,s,(e=>n(9,o=e)));const l=new Wm({});k(t,l,(e=>n(3,d=e)));let f=0,p={closed:!0},m=In.l("Chat");c.update({debug:"WebSocket"}),window.convosWebSockeet=c,Uu.update({baseUrl:tu("base_url"),enabled:!0}),c.update({url:Uu.wsUrlFor("/events")}),l.on("wsEventSentJoin",(e=>Uu.go(Uu.conversationPath(e)))),async function(){if(!navigator.serviceWorker)return{};const e=await navigator.serviceWorker.register(Uu.urlFor("/sw.js")),t=await fetch(Uu.urlFor("/sw/info")),u=200==t.status&&await t.json()||{mode:"",version:"0.00"};if(u.version==tu("version"))return{};console.info("[serviceWorker.update]",tu("version"),u),e.update()}().catch((e=>console.error("[serviceWorker]",e))),ve("api",jn("/api").update({url:Uu.urlFor("/api")}).toFunction()),ve("socket",c),ve("themeManager",s),ve("user",l),qa.on("click",(e=>e.path&&Uu.go(e.path))),c.on("update",(function(e){if(e.is("open"))return p.close&&p.close();const t=!1===navigator.onLine?In.l("You seem to be offline."):e.error?In.l(e.error):e.is("connecting")?In.l("Connecting to Convos..."):In.l("Connection to Convos is %1.",In.l(e.readyStateHuman));if(p.body==t)return;p.close&&p.close();p=qa.showInApp(t,{closeAfter:-1,title:In.l("Status")})})),In.load().then((()=>l.load()));return t.$$.update=()=>{512&t.$$.dirty[0]&&e[o.compactDisplay?"add":"remove"]("compact-display"),24&t.$$.dirty[0]&&async function(t,u){u.email&&In.emojis.load(),e[u.email?"add":"remove"]("notify"),await Be();const n=u.is(["loading","pending"])||document.querySelector(".cms-main")?"cms":"app";if(document.body.className=document.body.className.replace(/for-\w+/,"for-"+n),0==t.pathParts.length){const e=u.email?u.lastUrl||"/chat":"/login";t.go(e,{replace:!0})}else u.email&&u.update({lastUrl:location.href})}(a,d),10&t.$$.dirty[0]&&function(e,t){if(!document)return;const u=tu("organization_name"),n=t.notifications.notifications?"("+t.notifications.notifications+") ":"";document.title="Convos"==u?In.l("%1 - Convos",n+In.l(e)):In.l("%1 - Convos for %2",n+In.l(e),u)}(m,d),1&t.$$.dirty[0]&&Dt.set({width:f,nColumns:f>1200?3:f>800?2:1}),4&t.$$.dirty[0]&&l.update({unreadIncludePrivateMessages:1==r.nColumns})},[f,m,r,d,a,i,c,s,l,o,()=>l.email&&c.open(),function(){n(0,f=Ym.innerWidth)},function(e){m=e,n(1,m)},function(e){m=e,n(1,m)},function(e){m=e,n(1,m)},function(e){m=e,n(1,m)},function(e){m=e,n(1,m)},function(e){m=e,n(1,m)},function(e){m=e,n(1,m)},function(e){m=e,n(1,m)},function(e){m=e,n(1,m)},function(e){m=e,n(1,m)},function(e){m=e,n(1,m)},function(e){m=e,n(1,m)},function(e){m=e,n(1,m)},function(e){m=e,n(1,m)},()=>{T(gt,i="",i)},function(e){m=e,n(1,m)}]}class gh extends ut{constructor(e){super(),tt(this,e,hh,mh,w,{},null,[-1,-1])}}function Dh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var d=u(this).constructor;n=Reflect.construct(r,arguments,d)}else n=r.apply(this,arguments);return g(this,n)}}var bh=function(e){p(r,e);var t,u,n=Dh(r);function r(e){var t;return D(this,r),(t=n.call(this)).prop("ro","domain",e.domain||"meet.jit.si"),t.prop("ro","email",e.email||""),t.prop("rw","nick",e.nick||""),t.prop("rw","roomName",e.roomName||"convos-default"),t.prop("persist","disableAudioLevels",!0,{key:"video:disableAudioLevels"}),t.prop("persist","disableH264",!0,{key:"video:disableH264"}),t.prop("persist","resolution",720,{key:"video:resolution"}),t}return $(r,[{key:"render",value:(u=hu(Du.mark((function e(t){var u,n,r=this;return Du.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=[].slice.call(t.children,0),this.targetEl=t,e.next=5,this._load();case 5:this.jitsi=e.sent,u.forEach((function(e){return e.remove()})),t.className=t.className.replace(/cms-main/,"video-chat--wrapper"),document.querySelector(".cms-navbar").classList.add("is-full-width"),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("[Jitsi]",{err:e.t0}),(n=document.querySelector(".video-error")).querySelector("span").textContent=String(e.t0).substring(0,350),n.classList.remove("hidden"),Xt(document,".cms-main .fa-spin",(function(e){return e.parentNode.classList.add("hidden")}));case 18:if(this.jitsi){e.next=20;break}return e.abrupt("return",this);case 20:return document.addEventListener("keydown",(function(e){"KeyC"==e.code&&r.jitsi.executeCommand("toggleChat"),"KeyD"==e.code&&r.jitsi.executeCommand("toggleShareScreen"),"KeyF"==e.code&&r.jitsi.executeCommand("toggleFilmStrip"),"KeyM"==e.code&&r.jitsi.executeCommand("toggleAudio"),"KeyR"==e.code&&r.jitsi.executeCommand("toggleRaiseHand"),"KeyV"==e.code&&r.jitsi.executeCommand("toggleVideo"),"KeyW"==e.code&&r.jitsi.executeCommand("toggleTileView"),"Space"==e.code&&r.jitsi.isAudioMuted().then((function(e){return e&&r.jitsi.executeCommand("toggleAudio")}))})),document.addEventListener("keyup",(function(e){"Space"==e.code&&r.jitsi.isAudioMuted().then((function(e){return e||r.jitsi.executeCommand("toggleAudio")}))})),e.abrupt("return",this);case 23:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(e){return u.apply(this,arguments)})},{key:"_configOverwrite",value:function(){return{disableAudioLevels:this.disableAudioLevels,disableH264:this.disableH264,enableWelcomePage:!this.nick,prejoinPageEnabled:!this.nick,minParticipants:1,resolution:this.resolution,analytics:{googleAnalyticsTrackingId:"",scriptURLs:[]},e2eping:{analyticsInterval:-1,pingInterval:-1}}}},{key:"_interfaceConfigOverwrite",value:function(){return{DEFAULT_BACKGROUND:window.getComputedStyle(document.querySelector(".cms-navbar--wrapper")).backgroundColor||"#222222",DISABLE_FOCUS_INDICATOR:!0,DISABLE_DOMINANT_SPEAKER_INDICATOR:!0,DISABLE_VIDEO_BACKGROUND:!0,INITIAL_TOOLBAR_TIMEOUT:1e3,SHOW_CHROME_EXTENSION_BANNER:!0,TOOLBAR_ALWAYS_VISIBLE:!1,TOOLBAR_BUTTONS:["camera","chat","closedcaptions","desktop","etherpad","fodeviceselection","fullscreen","hangup","help","microphone","mute-everyone","profile","raisehand","security","settings","sharedvideo","shortcuts","stats","tileview"],TOOLBAR_TIMEOUT:2e3,VERTICAL_FILMSTRIP:!1,VIDEO_QUALITY_LABEL_DISABLED:!0}}},{key:"_load",value:(t=hu(Du.mark((function e(){return Du.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt("https://"+this.domain+"/external_api.js");case 2:return e.abrupt("return",new JitsiMeetExternalAPI(this.domain,this._options()));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_options",value:function(){var e={};return this.email&&(e.email=this.email),this.nick&&(e.displayName=this.nick),{configOverwrite:this._configOverwrite(),interfaceConfigOverwrite:this._interfaceConfigOverwrite(),parentNode:this.targetEl,roomName:this.roomName,userInfo:e,height:"100%",width:"100%"}}}]),r}(lu);if(Xt(document,"#hamburger_checkbox_toggle",(function(e){e.checked=!1})),Xt(document,".js-close-window",(function(e){e.addEventListener("click",(function(e){window.opener&&(e.preventDefault(),setTimeout((function(){return window.close()}),1),window.opener.focus())}))})),document.querySelector('meta[name="convos:start_app"][content="chat"]'))document.querySelector(".footer--wrapper").remove(),document.querySelector(".cms-main").remove(),new gh({target:document.body});else if(document.querySelector('meta[name="convos:start_app"][content="jitsi"]')){document.querySelector(".footer--wrapper").remove();var $h=document.querySelector(".cms-main");new bh($h.dataset).render($h)}else document.addEventListener("DOMContentLoaded",(function(e){Xt(document,"pre",(function(e){return Ep.lineNumbersBlock(e)}))}));function vh(e){if(!("ontouchstart"in window)){var t=function(e){for(var t=0;t<e.length;t++){var u=document.querySelector(e[t]);if(u&&-1!=u.tabIndex)return u}return null},u=e&&t(["input.is-primary-menu-item","a.is-primary-menu-item"]),n=document.activeElement;if(du(n,["a","input","textarea"])&&u&&n!=u)return u.focus();var r=t([".is-primary-input",'main input[type="text"], article input[type="text"]',"main a, article a"]);return r?r.focus():u?u.focus():void 0}}document.addEventListener("keydown",(function(e){27==e.keyCode&&(Xt(document,".fullscreen",(function(e){return e.click()})),vh()),13==e.keyCode&&e.shiftKey&&(e.preventDefault(),vh("toggle"))}))}();
//# sourceMappingURL=convos.61ca84cb.js.map
