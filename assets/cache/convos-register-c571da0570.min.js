(function(){Vue.component("convos-register",{props:["user"],data:function(){return{invite_code:"",email:localStorage.getItem("email")||"",errors:[],password:"",passwordAgain:"",};},methods:{register:function(){var self=this;this.errors=[];localStorage.setItem("email",this.email);if(!this.password||this.password!=this.passwordAgain){return this.errors=[{message:"Passwords does not match"}];}
Convos.api.registerUser({body:{invite_code:this.invite_code,email:this.email,password:this.password}},function(err,xhr){if(err)return self.errors=err;self.user.refresh();}.bind(this));}},template:"<convos-not-logged-in :user=\"user\" @submit=\"register\" screen=\"register\">\n    <div class=\"row\">\n      <md-input :focus=\"true\" :value.sync=\"email\" id=\"form_login_email\">Email</md-input>\n    </div>\n    <div class=\"row\">\n      <md-input :value.sync=\"password\" cols=\"s6\" id=\"form_login_password\" type=\"password\">Password</md-input>\n      <md-input :value.sync=\"passwordAgain\" cols=\"s6\" id=\"form_login_password_again\" placeholder=\"Repeat password\" type=\"password\"></md-input>\n    </div>\n    <div class=\"row\" v-if=\"settings.invite_code\">\n      <md-input :value.sync=\"invite_code\" id=\"form_login_invite_code\" type=\"password\">Invite code</md-input>\n    </div>\n    <div class=\"row\" v-if=\"errors.length\">\n      <div class=\"col s12\"><div class=\"alert\">{{errors[0].message}}</div></div>\n    </div>\n  </convos-not-logged-in>\n"})})();