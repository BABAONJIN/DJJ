(function(){Vue.component("convos-dialog-chooser",{mixins:[Convos.mixin.autocomplete],data:function(){return{hasFocus:false};},computed:{filteredOptions:function(){var options=this.options||[];if(this.value){options=[{name:this.value,topic:"Click here to create/join custom dialog"}].concat(options);if(options.length==2){options[0]=options.splice(1,1,options[0])[0];}
else if(options.length>1&&options[0].name==options[1].name){options.shift();}}
return options;}},methods:{topic:function(str){if(!str)return"No topic.";if(str.length<200)return str;return str.substr(0,200).replace(/\S+$/,"")+"...";}},ready:function(){this.id=Materialize.guid();this.$els.input.focusOnDesktop();},template:"<div class=\"input-field col s12\">\n    <input :disabled=\"disabled\" :id=\"id\" @blur=\"hasFocus=false\" @focus=\"hasFocus=true\" @keydown=\"keydown\" @keyup=\"keyup\" autocomplete=\"off\" class=\"validate\" debounce=\"200\" placeholder=\"#channel_name\" spellcheck=\"false\" type=\"text\" v-el:input v-model=\"value\">\n    <label :for=\"id\" class=\"active\">Dialog name</label>\n    <div :class=\"filteredOptions.length ? &#39;&#39; : &#39;hidden&#39;\" class=\"autocomplete\">\n      <a :class=\"optionClass($index)\" @click.prevent=\"select(room)\" class=\"title\" href=\"#join:{{room.name}}\" v-for=\"room in filteredOptions\">\n          <span class=\"badge\"><i class=\"material-icons\" v-if=\"room.n_users\">person</i>{{room.n_users || &quot;new&quot;}}</span>\n          <h6>{{room.name}}</h6>\n          <p>{{topic(room.topic) | markdown}}</p>\n      </a>\n    </div>\n  </div>\n"})})();