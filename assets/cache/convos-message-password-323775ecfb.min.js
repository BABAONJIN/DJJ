(function(){Vue.component("convos-message-password",{props:["dialog","msg","user"],data:function(){return{errors:[],password:""};},methods:{join:function(){var self=this;if(!this.password.length)return;this.errors=[];this.dialog.connection().send("/join "+this.dialog.name+" "+this.password,this.dialog,function(res){self.errors=res.errors||[];if(self.errors.length)return;self.dialog.reset=true;self.dialog.load({},function(){});});}},template:"<div class=\"convos-message password-prompt\">\n    <div class=\"row\">\n      <div class=\"col m12\">\n        <h4>Password protected</h4>\n        <p>This dialog require a secret password to join.</p>\n      </div>\n    </div>\n    <div class=\"row\">\n      <md-input type=\"password\" :value.sync=\"password\" @keydown=\"errors = []\" @keyup.enter=\"join\" cols=\"s8 m9\" :focus=\"true\">Password</md-input>\n      <div class=\"col input-field s4 m3\">\n        <button @click=\"join\" class=\"btn waves-effect waves-light\" :disabled=\"!password.length\">Join</button>\n      </div>\n    </div>\n    <div class=\"row\" v-if=\"errors.length\">\n      <div class=\"col s12\"><div class=\"alert\">Invalid password. Please try again.</div></div>\n    </div>\n  </div>\n"})})();