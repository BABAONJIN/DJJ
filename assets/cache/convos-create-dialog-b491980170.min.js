(function(){Vue.component("convos-create-dialog",{props:["user"],data:function(){return{connectionId:"",dialogName:"",errors:[],};},watch:{"settings.main":function(v,o){this.updateForm();}},methods:{connection:function(){return this.user.getConnection(this.connectionId);},join:function(option){var command=this.dialogName;if(this.dialogName)this.connection().send("/join "+command);this.dialogName="";},updateForm:function(){var dialogName=this.settings.main.match(/create-dialog\/([^\/]+)/);var connection=this.user.connections[0];this.connectionId=connection?connection.connection_id:"";this.dialogName=dialogName?dialogName[1]:"";}},ready:function(){this.updateForm();},template:"<form @submit.prevent autocomplete=\"off\" class=\"convos-create-dialog\">\n    <div class=\"row\">\n      <div class=\"col s12\">\n        <h4>Join dialog</h4>\n        <p v-if=\"user.connections.length\">\n          You can create a dialog with either a single user (by nick)\n          or join a chat room (channel).\n        </p>\n      </div>\n    </div>\n    <div class=\"row\" v-if=\"user.connections.length &gt; 1\">\n      <md-select :value.sync=\"connectionId\" id=\"form_connection_id\" label=\"Select connection\">\n        <md-option :selected=\"connectionId == c.connection_id\" :value=\"c.connection_id\" v-for=\"c in user.connections\">{{c.protocol}}-{{c.name}}</md-option>\n      </md-select>\n    </div>\n    <div class=\"row\">\n      <md-input :value.sync=\"dialogName\" cols=\"s8 m9\">Room or nick</md-input>\n      <div class=\"col input-field s4 m3\">\n        <button :disabled=\"!dialogName.length\" @click=\"join\" class=\"btn waves-effect waves-light\">Chat</button>\n      </div>\n    </div>\n    <div class=\"row\" v-if=\"errors.length\">\n      <div class=\"col s12\"><div class=\"alert\">{{errors[0].message}}</div></div>\n    </div>\n  </form>\n"})})();