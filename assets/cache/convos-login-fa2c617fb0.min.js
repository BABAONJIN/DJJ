(function(){Vue.component("convos-login",{props:["user"],data:function(){return{email:localStorage.getItem("email")||"",errors:[],password:""};},methods:{login:function(){var self=this;this.errors=[];localStorage.setItem("email",this.email);Convos.api.loginUser({body:{email:this.email,password:this.password}},function(err,xhr){if(err)return self.errors=err;self.user.refresh();});}},template:"<convos-not-logged-in :user=\"user\" @submit=\"login\" screen=\"login\">\n    <div class=\"row\">\n      <md-input :focus=\"!email\" :value.sync=\"email\" id=\"form_login_email\" type=\"email\">Email</md-input>\n    </div>\n    <div class=\"row\">\n      <md-input :focus=\"!!email\" :value.sync=\"password\" id=\"form_login_password\" type=\"password\">Password</md-input>\n    </div>\n    <div class=\"row\" v-if=\"errors.length\">\n      <div class=\"col s12\"><div class=\"alert\">{{errors[0].message}}</div></div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col s12\">\n        <button class=\"btn waves-effect waves-light\" type=\"submit\">Login</button>\n        <a class=\"btn-flat waves-effect waves-light\" v-link.literal=\"#page:register\">Register</a>\n      </div>\n    </div>\n  </convos-not-logged-in>\n"})})();